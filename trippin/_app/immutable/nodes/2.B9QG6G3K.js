import{n as Et,G as To,C as jn,s as yn,p as bt,k as te,i as v,e as I,t as Re,b as ne,d as A,f as F,h as Ne,j as re,v as p,l as _,S as Ze,T as Ki,x as Vt,c as In,U as Bt,V as xe,W as Ft,X as Gr,Y as Gn,u as An,g as On,a as Mn,Z as zn,_ as Wi,$ as Lt,m as et,a0 as Il,a1 as Pe,a2 as es,o as Kn,w as Rr,E as $a,D as Zr,I as qn,r as eo,a3 as Io,a4 as ts,a5 as fi,a6 as Al,z as dr,a7 as Yi,a8 as Zi,a9 as ci,aa as to,ab as Ao,ac as ji,ad as Oo,ae as Mo,af as ri,ag as Po}from"../chunks/scheduler.C2T3kM2Z.js";import{n as Lo,l as Ro,f as No,h as Bo,t as Le,a as qe,S as Pn,i as Ln,j as Wn,b as Yt,d as Zt,m as Jt,e as Qt,g as un,c as cn,k as ns}from"../chunks/index.htq-_yDw.js";import{w as Wr,b as Fo}from"../chunks/entry.BsLRH9D8.js";import{_ as zo}from"../chunks/preload-helper.D6kgxu3v.js";import{p as Ko}from"../chunks/stores.oQgH3SK5.js";function jo(n,e,t,r){if(!e)return Et;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return Et;const{delay:o=0,duration:s=300,easing:u=To,start:f=Lo()+o,end:d=f+s,tick:h=Et,css:b}=t(n,{from:e,to:l},r);let k=!0,P=!1,S;function E(){b&&(S=No(n,0,1,s,o,u,b)),o||(P=!0)}function B(){b&&Bo(n,S),k=!1}return Ro(M=>{if(!P&&M>=f&&(P=!0),P&&M>=d&&(h(1,0),B()),!k)return!1;if(P){const O=M-f,K=0+1*u(O/s);h(K,1-K)}return!0}),E(),h(0,1),B}function Ho(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,Vo(n,l)}}function Vo(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ct(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Yr(n,e){n.d(1),e.delete(n.key)}function Uo(n,e){qe(n,1,1,()=>{e.delete(n.key)})}function qo(n,e){n.f(),Yr(n,e)}function Nr(n,e,t,r,l,o,s,u,f,d,h,b){let k=n.length,P=o.length,S=k;const E={};for(;S--;)E[n[S].key]=S;const B=[],M=new Map,O=new Map,K=[];for(S=P;S--;){const Z=b(l,o,S),Ce=t(Z);let ie=s.get(Ce);ie?K.push(()=>ie.p(Z,e)):(ie=d(Ce,Z),ie.c()),M.set(Ce,B[S]=ie),Ce in E&&O.set(Ce,Math.abs(S-E[Ce]))}const T=new Set,ae=new Set;function oe(Z){Le(Z,1),Z.m(u,h),s.set(Z.key,Z),h=Z.first,P--}for(;k&&P;){const Z=B[P-1],Ce=n[k-1],ie=Z.key,$=Ce.key;Z===Ce?(h=Z.first,k--,P--):M.has($)?!s.has(ie)||T.has(ie)?oe(Z):ae.has($)?k--:O.get(ie)>O.get($)?(ae.add(ie),oe(Z)):(T.add($),k--):(f(Ce,s),k--)}for(;k--;){const Z=n[k];M.has(Z.key)||f(Z,s)}for(;P;)oe(B[P-1]);return jn(K),B}function rs(n){let e,t,r=("00"+n[0].getHours()).slice(-2)+"",l,o,s,u=("00"+n[0].getMinutes()).slice(-2)+"",f,d,h,b,k=n[1]!=="minute"&&is(n);return{c(){e=I("div"),t=I("span"),l=Re(r),o=Re(`:
		`),s=I("span"),f=Re(u),d=ne(),k&&k.c(),this.h()},l(P){e=A(P,"DIV",{class:!0,role:!0});var S=F(e);t=A(S,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var E=F(t);l=Ne(E,r),E.forEach(v),o=Ne(S,`:
		`),s=A(S,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var B=F(s);f=Ne(B,u),B.forEach(v),d=re(S),k&&k.l(S),S.forEach(v),this.h()},h(){p(t,"role","spinbutton"),p(t,"aria-label","Hours"),p(t,"tabindex","0"),p(t,"contenteditable",""),p(t,"inputmode","numeric"),p(t,"class","svelte-mzlxg7"),p(s,"role","spinbutton"),p(s,"aria-label","Minutes"),p(s,"tabindex","0"),p(s,"contenteditable",""),p(s,"inputmode","numeric"),p(s,"class","svelte-mzlxg7"),p(e,"class","time-picker svelte-mzlxg7"),p(e,"role","none")},m(P,S){te(P,e,S),_(e,t),_(t,l),n[6](t),_(e,o),_(e,s),_(s,f),n[7](s),_(e,d),k&&k.m(e,null),h||(b=[Ze(t,"keydown",n[3]),Ze(t,"input",n[4]),Ze(t,"focus",Hi),Ze(s,"keydown",n[3]),Ze(s,"input",n[4]),Ze(s,"focus",Hi),Ze(e,"mousedown",n[10])],h=!0)},p(P,S){S&1&&r!==(r=("00"+P[0].getHours()).slice(-2)+"")&&Ki(l,r),S&1&&u!==(u=("00"+P[0].getMinutes()).slice(-2)+"")&&Ki(f,u),P[1]!=="minute"?k?k.p(P,S):(k=is(P),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(P){P&&v(e),n[6](null),n[7](null),k&&k.d(),h=!1,jn(b)}}}function is(n){let e,t,r=("00"+n[0].getSeconds()).slice(-2)+"",l,o,s,u,f,d=n[1]!=="second"&&ls(n);return{c(){e=Re(":"),t=I("span"),l=Re(r),o=ne(),d&&d.c(),s=bt(),this.h()},l(h){e=Ne(h,":"),t=A(h,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var b=F(t);l=Ne(b,r),b.forEach(v),o=re(h),d&&d.l(h),s=bt(),this.h()},h(){p(t,"role","spinbutton"),p(t,"aria-label","Seconds"),p(t,"tabindex","0"),p(t,"contenteditable",""),p(t,"inputmode","numeric"),p(t,"class","svelte-mzlxg7")},m(h,b){te(h,e,b),te(h,t,b),_(t,l),n[8](t),te(h,o,b),d&&d.m(h,b),te(h,s,b),u||(f=[Ze(t,"keydown",n[3]),Ze(t,"input",n[4]),Ze(t,"focus",Hi)],u=!0)},p(h,b){b&1&&r!==(r=("00"+h[0].getSeconds()).slice(-2)+"")&&Ki(l,r),h[1]!=="second"?d?d.p(h,b):(d=ls(h),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},d(h){h&&(v(e),v(t),v(o),v(s)),n[8](null),d&&d.d(h),u=!1,jn(f)}}}function ls(n){let e,t,r=("000"+n[0].getMilliseconds()).slice(-3)+"",l,o,s;return{c(){e=Re("."),t=I("span"),l=Re(r),this.h()},l(u){e=Ne(u,"."),t=A(u,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var f=F(t);l=Ne(f,r),f.forEach(v),this.h()},h(){p(t,"role","spinbutton"),p(t,"aria-label","Milliseconds"),p(t,"tabindex","0"),p(t,"contenteditable",""),p(t,"inputmode","numeric"),p(t,"class","svelte-mzlxg7")},m(u,f){te(u,e,f),te(u,t,f),_(t,l),n[9](t),o||(s=[Ze(t,"keydown",n[3]),Ze(t,"input",n[4]),Ze(t,"focus",Hi)],o=!0)},p(u,f){f&1&&r!==(r=("000"+u[0].getMilliseconds()).slice(-3)+"")&&Ki(l,r)},d(u){u&&(v(e),v(t)),n[9](null),o=!1,jn(s)}}}function Go(n){let e,t=n[1]&&rs(n);return{c(){t&&t.c(),e=bt()},l(r){t&&t.l(r),e=bt()},m(r,l){t&&t.m(r,l),te(r,e,l)},p(r,[l]){r[1]?t?t.p(r,l):(t=rs(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Et,o:Et,d(r){r&&v(e),t&&t.d(r)}}}function Fi(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e==null||e.removeAllRanges(),e==null||e.addRange(t)}function Wo(n,e,t){return t&&n<0?e:t&&n>e?0:Math.max(0,Math.min(e,n))}function _l(n){const e=n.getAttribute("aria-label");if(e==="Hours")return{label:e,len:2,max:23};if(e==="Minutes")return{label:e,len:2,max:59};if(e==="Seconds")return{label:e,len:2,max:59};if(e==="Milliseconds")return{label:e,len:3,max:999};throw new Error("Invalid label "+e)}function vl(n,e){return parseInt(n.replace(/[^\d]/g,"").slice(-e))}function Hi(n){Fi(n.currentTarget)}function Yo(n,e,t){let{browseDate:r}=e,{timePrecision:l}=e,{setTime:o}=e,s=[];function u(M){if(M.key==="ArrowUp"||M.key==="ArrowDown"){const O=f(M.currentTarget),K=M.key==="ArrowUp"?1:-1;h(M.currentTarget,O+K,!0),M.preventDefault(),Fi(M.currentTarget)}else if(M.key==="ArrowLeft"||M.key==="ArrowRight"||":;-,.".includes(M.key)){const O=s.indexOf(M.currentTarget),K=M.key==="ArrowLeft"?-1:1,T=s[O+K];M.preventDefault(),T&&(T.focus(),Fi(T))}}function f(M){const O=_l(M).label;return O==="Hours"?r.getHours():O==="Minutes"?r.getMinutes():O==="Seconds"?r.getSeconds():r.getMilliseconds()}function d(M){const O=("00"+M.getHours()).slice(-2),K=("00"+M.getMinutes()).slice(-2),T=("00"+M.getSeconds()).slice(-2),ae=("000"+M.getMilliseconds()).slice(-3);s[0]&&s[0].innerText!==O&&t(2,s[0].innerText=O,s),s[1]&&s[1].innerText!==K&&t(2,s[1].innerText=K,s),s[2]&&s[2].innerText!==T&&t(2,s[2].innerText=T,s),s[3]&&s[3].innerText!==ae&&t(2,s[3].innerText=ae,s)}function h(M,O,K=!1){const T=_l(M);O=Wo(O,T.max,K),T.label==="Hours"?r.setHours(O):T.label==="Minutes"?r.setMinutes(O):T.label==="Seconds"?r.setSeconds(O):T.label==="Milliseconds"&&r.setMilliseconds(O),t(0,r=o(r)),d(r)}function b(M){const O=M,K=_l(O.currentTarget);let T;if(O.inputType==="insertText"){const ae="000"+f(O.currentTarget);T=vl(ae+O.currentTarget.innerText,K.len),T>K.max&&O.data&&(T=vl(O.data,K.len))}else T=vl("000"+O.currentTarget.innerText,K.len);h(O.currentTarget,T),Fi(O.currentTarget)}function k(M){Vt[M?"unshift":"push"](()=>{s[0]=M,t(2,s)})}function P(M){Vt[M?"unshift":"push"](()=>{s[1]=M,t(2,s)})}function S(M){Vt[M?"unshift":"push"](()=>{s[2]=M,t(2,s)})}function E(M){Vt[M?"unshift":"push"](()=>{s[3]=M,t(2,s)})}const B=M=>{M.target instanceof HTMLElement&&M.target.tagName==="SPAN"&&(M.target.focus(),M.preventDefault())};return n.$$set=M=>{"browseDate"in M&&t(0,r=M.browseDate),"timePrecision"in M&&t(1,l=M.timePrecision),"setTime"in M&&t(5,o=M.setTime)},n.$$.update=()=>{n.$$.dirty&1&&d(r)},[r,l,s,u,b,o,k,P,S,E,B]}class Zo extends Pn{constructor(e){super(),Ln(this,e,Yo,Go,yn,{browseDate:0,timePrecision:1,setTime:5})}}function Jo(n){return n%4===0&&n%100!==0||n%400===0}function di(n,e){return[31,Jo(n)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function ss(n,e){let t="";if(n)for(const r of e)typeof r=="string"?t+=r:t+=r.toString(n);return t}function bl(n,e){const t=di(n,e),r=[];for(let l=0;l<t;l++)r.push({year:n,month:e,number:l+1});return r}function Qo(n,e){const t=n.getFullYear(),r=n.getMonth(),l=new Date(t,r,1).getDay();let o=[];const s=(l-e+7)%7;if(s>0){let h=r-1,b=t;h===-1&&(h=11,b=t-1),o=bl(b,h).slice(-s)}o=o.concat(bl(t,r));let u=r+1,f=t;u===12&&(u=0,f=t+1);const d=42-o.length;return o=o.concat(bl(f,u).slice(0,d)),o}function Xo(){return{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStartsOn:1}}function no(n){const e=Xo();return typeof n.weekStartsOn=="number"&&(e.weekStartsOn=n.weekStartsOn),n.months&&(e.months=n.months),n.shortMonths&&(e.shortMonths=n.shortMonths),n.weekdays&&(e.weekdays=n.weekdays),e}function as(n,e,t){const r=n.slice();return r[36]=e[t],r[38]=t,r}function os(n,e,t){const r=n.slice();return r[39]=e[t],r}function us(n,e,t){const r=n.slice();return r[36]=e[t],r[43]=t,r}function cs(n,e,t){const r=n.slice();return r[44]=e[t],r}function fs(n,e,t){const r=n.slice();return r[44]=e[t],r}function ds(n,e,t){const r=n.slice();return r[49]=e[t],r[43]=t,r}function hs(n,e,t){const r=n.slice();return r[49]=e[t],r[43]=t,r}function ms(n){let e,t=n[49]+"",r,l;return{c(){e=I("option"),r=Re(t),this.h()},l(o){e=A(o,"OPTION",{});var s=F(e);r=Ne(s,t),s.forEach(v),this.h()},h(){e.disabled=l=new Date(n[9],n[43],di(n[9],n[43]),23,59,59,999)<n[2]||new Date(n[9],n[43])>n[3],e.__value=n[43],Lt(e,e.__value)},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&32&&t!==(t=o[49]+"")&&et(r,t),s[0]&588&&l!==(l=new Date(o[9],o[43],di(o[9],o[43]),23,59,59,999)<o[2]||new Date(o[9],o[43])>o[3])&&(e.disabled=l)},d(o){o&&v(e)}}}function ps(n){let e,t=n[49]+"",r,l;return{c(){e=I("option"),r=Re(t),this.h()},l(o){e=A(o,"OPTION",{});var s=F(e);r=Ne(s,t),s.forEach(v),this.h()},h(){e.__value=n[43],Lt(e,e.__value),e.selected=l=n[43]===n[8]},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&32&&t!==(t=o[49]+"")&&et(r,t),s[0]&256&&l!==(l=o[43]===o[8])&&(e.selected=l)},d(o){o&&v(e)}}}function gs(n){let e,t=n[44]+"",r,l;return{c(){e=I("option"),r=Re(t),this.h()},l(o){e=A(o,"OPTION",{});var s=F(e);r=Ne(s,t),s.forEach(v),this.h()},h(){e.__value=l=n[44],Lt(e,e.__value)},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&64&&t!==(t=o[44]+"")&&et(r,t),s[0]&64&&l!==(l=o[44])&&(e.__value=l,Lt(e,e.__value))},d(o){o&&v(e)}}}function _s(n){let e,t=n[44]+"",r,l,o;return{c(){e=I("option"),r=Re(t),this.h()},l(s){e=A(s,"OPTION",{});var u=F(e);r=Ne(u,t),u.forEach(v),this.h()},h(){e.__value=l=n[44],Lt(e,e.__value),e.selected=o=n[44]===n[4].getFullYear()},m(s,u){te(s,e,u),_(e,r)},p(s,u){u[0]&64&&t!==(t=s[44]+"")&&et(r,t),u[0]&64&&l!==(l=s[44])&&(e.__value=l,Lt(e,e.__value)),u[0]&80&&o!==(o=s[44]===s[4].getFullYear())&&(e.selected=o)},d(s){s&&v(e)}}}function xo(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[43]-7]+"",r;return{c(){e=I("div"),r=Re(t),this.h()},l(l){e=A(l,"DIV",{class:!0});var o=F(e);r=Ne(o,t),o.forEach(v),this.h()},h(){p(e,"class","header-cell svelte-w239uu")},m(l,o){te(l,e,o),_(e,r)},p(l,o){o[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[43]-7]+"")&&et(r,t)},d(l){l&&v(e)}}}function $o(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[43]]+"",r;return{c(){e=I("div"),r=Re(t),this.h()},l(l){e=A(l,"DIV",{class:!0});var o=F(e);r=Ne(o,t),o.forEach(v),this.h()},h(){p(e,"class","header-cell svelte-w239uu")},m(l,o){te(l,e,o),_(e,r)},p(l,o){o[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[43]]+"")&&et(r,t)},d(l){l&&v(e)}}}function vs(n){let e;function t(o,s){return o[43]+o[5].weekStartsOn<7?$o:xo}let r=t(n),l=r(n);return{c(){l.c(),e=bt()},l(o){l.l(o),e=bt()},m(o,s){l.m(o,s),te(o,e,s)},p(o,s){r===(r=t(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&v(e),l.d(o)}}}function bs(n){let e,t,r=n[39].number+"",l,o,s;function u(){return n[27](n[39])}return{c(){e=I("div"),t=I("span"),l=Re(r),this.h()},l(f){e=A(f,"DIV",{class:!0});var d=F(e);t=A(d,"SPAN",{class:!0});var h=F(t);l=Ne(h,r),h.forEach(v),d.forEach(v),this.h()},h(){p(t,"class","svelte-w239uu"),p(e,"class","cell svelte-w239uu"),Pe(e,"disabled",!Ol(n[39],n[2],n[3])),Pe(e,"selected",n[0]&&n[39].year===n[0].getFullYear()&&n[39].month===n[0].getMonth()&&n[39].number===n[0].getDate()),Pe(e,"today",n[39].year===n[11].getFullYear()&&n[39].month===n[11].getMonth()&&n[39].number===n[11].getDate()),Pe(e,"other-month",n[39].month!==n[8])},m(f,d){te(f,e,d),_(e,t),_(t,l),o||(s=Ze(e,"click",u),o=!0)},p(f,d){n=f,d[0]&128&&r!==(r=n[39].number+"")&&et(l,r),d[0]&140&&Pe(e,"disabled",!Ol(n[39],n[2],n[3])),d[0]&129&&Pe(e,"selected",n[0]&&n[39].year===n[0].getFullYear()&&n[39].month===n[0].getMonth()&&n[39].number===n[0].getDate()),d[0]&2176&&Pe(e,"today",n[39].year===n[11].getFullYear()&&n[39].month===n[11].getMonth()&&n[39].number===n[11].getDate()),d[0]&384&&Pe(e,"other-month",n[39].month!==n[8])},d(f){f&&v(e),o=!1,s()}}}function ys(n){let e,t=ct(n[7].slice(n[38]*7,n[38]*7+7)),r=[];for(let l=0;l<t.length;l+=1)r[l]=bs(os(n,t,l));return{c(){e=I("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var o=F(e);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(v),this.h()},h(){p(e,"class","week svelte-w239uu")},m(l,o){te(l,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,o){if(o[0]&18829){t=ct(l[7].slice(l[38]*7,l[38]*7+7));let s;for(s=0;s<t.length;s+=1){const u=os(l,t,s);r[s]?r[s].p(u,o):(r[s]=bs(u),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&v(e),zn(r,l)}}}function eu(n){let e,t,r,l,o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z" transform="rotate(180, 12, 12)"></path></svg>',s,u,f,d,h,b,k,P,S,E,B,M,O,K,T,ae,oe,Z,Ce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"></path></svg>',ie,$,be,ve,he,me,ye,_e,ue,ce,C=ct(n[5].months),L=[];for(let x=0;x<C.length;x+=1)L[x]=ms(hs(n,C,x));let j=ct(n[5].months),fe=[];for(let x=0;x<j.length;x+=1)fe[x]=ps(ds(n,j,x));let R=ct(n[6]),W=[];for(let x=0;x<R.length;x+=1)W[x]=gs(fs(n,R,x));let le=ct(n[6]),Y=[];for(let x=0;x<le.length;x+=1)Y[x]=_s(cs(n,le,x));let Ee=ct(Array(7)),Be=[];for(let x=0;x<Ee.length;x+=1)Be[x]=vs(us(n,Ee,x));let pe=ct(Array(6)),ee=[];for(let x=0;x<pe.length;x+=1)ee[x]=ys(as(n,pe,x));function $e(x){n[28](x)}let De={timePrecision:n[1],setTime:n[10]};n[4]!==void 0&&(De.browseDate=n[4]),he=new Zo({props:De}),Vt.push(()=>Wn(he,"browseDate",$e));const Me=n[21].default,Ve=In(Me,n,n[20],null);return{c(){e=I("div"),t=I("div"),r=I("div"),l=I("button"),l.innerHTML=o,s=ne(),u=I("div"),f=I("select");for(let x=0;x<L.length;x+=1)L[x].c();d=ne(),h=I("select");for(let x=0;x<fe.length;x+=1)fe[x].c();b=ne(),k=Bt("svg"),P=Bt("path"),S=ne(),E=I("div"),B=I("select");for(let x=0;x<W.length;x+=1)W[x].c();M=ne(),O=I("select");for(let x=0;x<Y.length;x+=1)Y[x].c();K=ne(),T=Bt("svg"),ae=Bt("path"),oe=ne(),Z=I("button"),Z.innerHTML=Ce,ie=ne(),$=I("div");for(let x=0;x<Be.length;x+=1)Be[x].c();be=ne();for(let x=0;x<ee.length;x+=1)ee[x].c();ve=ne(),Yt(he.$$.fragment),ye=ne(),Ve&&Ve.c(),this.h()},l(x){e=A(x,"DIV",{class:!0,tabindex:!0});var Ge=F(e);t=A(Ge,"DIV",{class:!0,tabindex:!0});var Fe=F(t);r=A(Fe,"DIV",{class:!0});var ke=F(r);l=A(ke,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),xe(l)!=="svelte-t4cock"&&(l.innerHTML=o),s=re(ke),u=A(ke,"DIV",{class:!0});var We=F(u);f=A(We,"SELECT",{class:!0});var tt=F(f);for(let st=0;st<L.length;st+=1)L[st].l(tt);tt.forEach(v),d=re(We),h=A(We,"SELECT",{class:!0,tabindex:!0});var _t=F(h);for(let st=0;st<fe.length;st+=1)fe[st].l(_t);_t.forEach(v),b=re(We),k=Ft(We,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var dt=F(k);P=Ft(dt,"path",{d:!0,transform:!0}),F(P).forEach(v),dt.forEach(v),We.forEach(v),S=re(ke),E=A(ke,"DIV",{class:!0});var nt=F(E);B=A(nt,"SELECT",{class:!0});var it=F(B);for(let st=0;st<W.length;st+=1)W[st].l(it);it.forEach(v),M=re(nt),O=A(nt,"SELECT",{class:!0,tabindex:!0});var Je=F(O);for(let st=0;st<Y.length;st+=1)Y[st].l(Je);Je.forEach(v),K=re(nt),T=Ft(nt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var Qe=F(T);ae=Ft(Qe,"path",{d:!0,transform:!0}),F(ae).forEach(v),Qe.forEach(v),nt.forEach(v),oe=re(ke),Z=A(ke,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),xe(Z)!=="svelte-1a006lp"&&(Z.innerHTML=Ce),ke.forEach(v),ie=re(Fe),$=A(Fe,"DIV",{class:!0});var Rt=F($);for(let st=0;st<Be.length;st+=1)Be[st].l(Rt);Rt.forEach(v),be=re(Fe);for(let st=0;st<ee.length;st+=1)ee[st].l(Fe);ve=re(Fe),Zt(he.$$.fragment,Fe),ye=re(Fe),Ve&&Ve.l(Fe),Fe.forEach(v),Ge.forEach(v),this.h()},h(){p(l,"type","button"),p(l,"class","page-button svelte-w239uu"),p(l,"tabindex","-1"),p(f,"class","svelte-w239uu"),p(h,"class","dummy-select svelte-w239uu"),p(h,"tabindex","-1"),p(P,"d","M6 0l12 12-12 12z"),p(P,"transform","rotate(90, 12, 12)"),p(k,"xmlns","http://www.w3.org/2000/svg"),p(k,"width","24"),p(k,"height","24"),p(k,"viewBox","0 0 24 24"),p(k,"class","svelte-w239uu"),p(u,"class","dropdown month svelte-w239uu"),p(B,"class","svelte-w239uu"),p(O,"class","dummy-select svelte-w239uu"),p(O,"tabindex","-1"),p(ae,"d","M6 0l12 12-12 12z"),p(ae,"transform","rotate(90, 12, 12)"),p(T,"xmlns","http://www.w3.org/2000/svg"),p(T,"width","24"),p(T,"height","24"),p(T,"viewBox","0 0 24 24"),p(T,"class","svelte-w239uu"),p(E,"class","dropdown year svelte-w239uu"),p(Z,"type","button"),p(Z,"class","page-button svelte-w239uu"),p(Z,"tabindex","-1"),p(r,"class","top svelte-w239uu"),p($,"class","header svelte-w239uu"),p(t,"class","tab-container svelte-w239uu"),p(t,"tabindex","-1"),p(e,"class","date-time-picker svelte-w239uu"),p(e,"tabindex","0")},m(x,Ge){te(x,e,Ge),_(e,t),_(t,r),_(r,l),_(r,s),_(r,u),_(u,f);for(let Fe=0;Fe<L.length;Fe+=1)L[Fe]&&L[Fe].m(f,null);Gr(f,n[8]),_(u,d),_(u,h);for(let Fe=0;Fe<fe.length;Fe+=1)fe[Fe]&&fe[Fe].m(h,null);_(u,b),_(u,k),_(k,P),_(r,S),_(r,E),_(E,B);for(let Fe=0;Fe<W.length;Fe+=1)W[Fe]&&W[Fe].m(B,null);Gr(B,n[9]),_(E,M),_(E,O);for(let Fe=0;Fe<Y.length;Fe+=1)Y[Fe]&&Y[Fe].m(O,null);_(E,K),_(E,T),_(T,ae),_(r,oe),_(r,Z),_(t,ie),_(t,$);for(let Fe=0;Fe<Be.length;Fe+=1)Be[Fe]&&Be[Fe].m($,null);_(t,be);for(let Fe=0;Fe<ee.length;Fe+=1)ee[Fe]&&ee[Fe].m(t,null);_(t,ve),Jt(he,t,null),_(t,ye),Ve&&Ve.m(t,null),_e=!0,ue||(ce=[Ze(l,"click",n[23]),Ze(f,"keydown",n[16]),Ze(f,"input",n[24]),Ze(B,"input",n[25]),Ze(B,"keydown",n[15]),Ze(Z,"click",n[26]),Ze(e,"focusout",n[22]),Ze(e,"keydown",n[17])],ue=!0)},p(x,Ge){if(Ge[0]&556){C=ct(x[5].months);let ke;for(ke=0;ke<C.length;ke+=1){const We=hs(x,C,ke);L[ke]?L[ke].p(We,Ge):(L[ke]=ms(We),L[ke].c(),L[ke].m(f,null))}for(;ke<L.length;ke+=1)L[ke].d(1);L.length=C.length}if((!_e||Ge[0]&256)&&Gr(f,x[8]),Ge[0]&288){j=ct(x[5].months);let ke;for(ke=0;ke<j.length;ke+=1){const We=ds(x,j,ke);fe[ke]?fe[ke].p(We,Ge):(fe[ke]=ps(We),fe[ke].c(),fe[ke].m(h,null))}for(;ke<fe.length;ke+=1)fe[ke].d(1);fe.length=j.length}if(Ge[0]&64){R=ct(x[6]);let ke;for(ke=0;ke<R.length;ke+=1){const We=fs(x,R,ke);W[ke]?W[ke].p(We,Ge):(W[ke]=gs(We),W[ke].c(),W[ke].m(B,null))}for(;ke<W.length;ke+=1)W[ke].d(1);W.length=R.length}if((!_e||Ge[0]&576)&&Gr(B,x[9]),Ge[0]&80){le=ct(x[6]);let ke;for(ke=0;ke<le.length;ke+=1){const We=cs(x,le,ke);Y[ke]?Y[ke].p(We,Ge):(Y[ke]=_s(We),Y[ke].c(),Y[ke].m(O,null))}for(;ke<Y.length;ke+=1)Y[ke].d(1);Y.length=le.length}if(Ge[0]&32){Ee=ct(Array(7));let ke;for(ke=0;ke<Ee.length;ke+=1){const We=us(x,Ee,ke);Be[ke]?Be[ke].p(We,Ge):(Be[ke]=vs(We),Be[ke].c(),Be[ke].m($,null))}for(;ke<Be.length;ke+=1)Be[ke].d(1);Be.length=Ee.length}if(Ge[0]&18829){pe=ct(Array(6));let ke;for(ke=0;ke<pe.length;ke+=1){const We=as(x,pe,ke);ee[ke]?ee[ke].p(We,Ge):(ee[ke]=ys(We),ee[ke].c(),ee[ke].m(t,ve))}for(;ke<ee.length;ke+=1)ee[ke].d(1);ee.length=pe.length}const Fe={};Ge[0]&2&&(Fe.timePrecision=x[1]),!me&&Ge[0]&16&&(me=!0,Fe.browseDate=x[4],Gn(()=>me=!1)),he.$set(Fe),Ve&&Ve.p&&(!_e||Ge[0]&1048576)&&An(Ve,Me,x,x[20],_e?Mn(Me,x[20],Ge,null):On(x[20]),null)},i(x){_e||(Le(he.$$.fragment,x),Le(Ve,x),_e=!0)},o(x){qe(he.$$.fragment,x),qe(Ve,x),_e=!1},d(x){x&&v(e),zn(L,x),zn(fe,x),zn(W,x),zn(Y,x),zn(Be,x),zn(ee,x),Qt(he),Ve&&Ve.d(x),ue=!1,jn(ce)}}}function ar(n){return new Date(n.getTime())}function Vi(n,e,t){return n>t?ar(t):n<e?ar(e):ar(n)}function yl(n,e,t){const r=Vi(n,e,t);return r.getTime()!==n.getTime()&&(n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),n=Vi(n,e,t)),n}function ws(n,e){let t=[];for(let r=n.getFullYear();r<=e.getFullYear();r++)t.push(r);return t}function Ol(n,e,t){const r=new Date(n.year,n.month,n.number),l=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate());return r>=l&&r<=o}function tu(n,e,t){let r,l,o,s,{$$slots:u={},$$scope:f}=e;const d=Wi();let{value:h=null}=e;function b(R){R.getTime()!==(h==null?void 0:h.getTime())&&(t(4,T=Vi(R,O,K)),t(0,h=ar(T)))}function k(R){R.getTime()!==(h==null?void 0:h.getTime())&&(t(4,T=yl(R,O,K)),t(0,h=ar(T)))}function P(R){t(4,T=yl(R,O,K)),!Ce&&h&&b(T)}function S(R){return t(4,T=Vi(R,O,K)),h&&b(T),T}const E=new Date,B=new Date;let{timePrecision:M=null}=e,{min:O=new Date(B.getFullYear()-20,0,1)}=e,{max:K=new Date(B.getFullYear(),11,31,23,59,59,999)}=e,T=ar(h||yl(B,O,K));function ae(R){T.getTime()!==(R==null?void 0:R.getTime())&&t(4,T=R?ar(R):T)}let oe=ws(O,K),{locale:Z={}}=e,{browseWithoutSelecting:Ce=!1}=e;function ie(R){T.setFullYear(R),P(T)}function $(R){let W=T.getFullYear();R===12?(R=0,W++):R===-1&&(R=11,W--);const le=di(W,R),Y=Math.min(T.getDate(),le);P(new Date(W,R,Y,T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds()))}function be(R){Ol(R,O,K)&&(T.setFullYear(0),T.setMonth(0),T.setDate(1),T.setFullYear(R.year),T.setMonth(R.month),T.setDate(R.number),k(T),d("select",ar(T)))}function ve(R){if(R.shiftKey&&R.key==="ArrowUp")ie(T.getFullYear()-1);else if(R.shiftKey&&R.key==="ArrowDown")ie(T.getFullYear()+1);else if(R.shiftKey&&R.key==="ArrowLeft")$(T.getMonth()-1);else if(R.shiftKey&&R.key==="ArrowRight")$(T.getMonth()+1);else return!1;return R.preventDefault(),!0}function he(R){if(R.shiftKey||R.altKey){ve(R);return}else if(R.key==="ArrowUp")ie(T.getFullYear()-1);else if(R.key==="ArrowDown")ie(T.getFullYear()+1);else if(R.key==="ArrowLeft")$(T.getMonth()-1);else if(R.key==="ArrowRight")$(T.getMonth()+1);else{ve(R);return}R.preventDefault()}function me(R){if(R.shiftKey||R.altKey){ve(R);return}else if(R.key==="ArrowUp"||R.key==="ArrowLeft")$(T.getMonth()-1);else if(R.key==="ArrowDown"||R.key==="ArrowRight")$(T.getMonth()+1);else{ve(R);return}R.preventDefault()}function ye(R){var le,Y;let W=R.shiftKey||R.altKey;if(!(((le=R.target)==null?void 0:le.tagName)==="SELECT"||((Y=R.target)==null?void 0:Y.tagName)==="SPAN")){if(W){ve(R);return}else if(R.key==="ArrowUp")T.setDate(T.getDate()-7),k(T);else if(R.key==="ArrowDown")T.setDate(T.getDate()+7),k(T);else if(R.key==="ArrowLeft")T.setDate(T.getDate()-1),k(T);else if(R.key==="ArrowRight")T.setDate(T.getDate()+1),k(T);else if(R.key==="Enter")b(T),d("select",ar(T));else return;R.preventDefault()}}function _e(R){Il.call(this,n,R)}const ue=()=>$(T.getMonth()-1),ce=R=>$(parseInt(R.currentTarget.value)),C=R=>ie(parseInt(R.currentTarget.value)),L=()=>$(T.getMonth()+1),j=R=>be(R);function fe(R){T=R,t(4,T)}return n.$$set=R=>{"value"in R&&t(0,h=R.value),"timePrecision"in R&&t(1,M=R.timePrecision),"min"in R&&t(2,O=R.min),"max"in R&&t(3,K=R.max),"locale"in R&&t(18,Z=R.locale),"browseWithoutSelecting"in R&&t(19,Ce=R.browseWithoutSelecting),"$$scope"in R&&t(20,f=R.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&13&&(h&&h>K?b(K):h&&h<O&&b(O)),n.$$.dirty[0]&1&&ae(h),n.$$.dirty[0]&12&&t(6,oe=ws(O,K)),n.$$.dirty[0]&262144&&t(5,r=no(Z)),n.$$.dirty[0]&16&&t(9,l=T.getFullYear()),n.$$.dirty[0]&16&&t(8,o=T.getMonth()),n.$$.dirty[0]&48&&t(7,s=Qo(T,r.weekStartsOn))},[h,M,O,K,T,r,oe,s,o,l,S,E,ie,$,be,he,me,ye,Z,Ce,f,u,_e,ue,ce,C,L,j,fe]}class nu extends Pn{constructor(e){super(),Ln(this,e,tu,eu,yn,{value:0,timePrecision:1,min:2,max:3,locale:18,browseWithoutSelecting:19},null,[-1,-1])}}function ru(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function ro(n){const e=n-1;return e*e*e+1}function iu(n,{delay:e=0,duration:t=400,easing:r=ro,x:l=0,y:o=0,opacity:s=0}={}){const u=getComputedStyle(n),f=+u.opacity,d=u.transform==="none"?"":u.transform,h=f*(1-s),[b,k]=es(l),[P,S]=es(o);return{delay:e,duration:t,easing:r,css:(E,B)=>`
			transform: ${d} translate(${(1-E)*b}${k}, ${(1-E)*P}${S});
			opacity: ${f-h*B}`}}function ks(n,e,t){let r="",l=!0;t=t||new Date(2020,0,1,0,0,0,0);let o=t.getFullYear(),s=t.getMonth(),u=t.getDate(),f=t.getHours(),d=t.getMinutes(),h=t.getSeconds();const b=t.getMilliseconds();function k(M){for(let O=0;O<M.length;O++)if(n.startsWith(M[O]))n=n.slice(1);else{l=!1,n.length===0&&(r=M.slice(O));return}}function P(M,O,K){const T=n.match(M);if(T!=null&&T[0]){n=n.slice(T[0].length);const ae=parseInt(T[0]);return ae>K||ae<O?(l=!1,null):ae}else return l=!1,null}function S(M){const O=M.findIndex(K=>K.toLowerCase()===n.slice(0,K.length).toLowerCase());return O>=0?(n=n.slice(M[O].length),O):(l=!1,null)}function E(M){if(typeof M=="string")k(M);else if(M.id==="yy"){const O=P(/^[0-9]{2}/,0,99);O!==null&&(o=2e3+O)}else if(M.id==="yyyy"){const O=P(/^[0-9]{4}/,0,9999);O!==null&&(o=O)}else if(M.id==="MM"){const O=P(/^[0-9]{2}/,1,12);O!==null&&(s=O-1)}else if(M.id==="MMM"){const O=S(M.allowedValues||[]);O!==null&&(s=O)}else if(M.id==="dd"){const O=P(/^[0-9]{2}/,1,31);O!==null&&(u=O)}else if(M.id==="HH"){const O=P(/^[0-9]{2}/,0,23);O!==null&&(f=O)}else if(M.id==="mm"){const O=P(/^[0-9]{2}/,0,59);O!==null&&(d=O)}else if(M.id==="ss"){const O=P(/^[0-9]{2}/,0,59);O!==null&&(h=O)}}for(const M of e)if(E(M),!l)break;const B=di(o,s);return u>B&&(l=!1),{date:l?new Date(o,s,u,f,d,h,b):null,missingPunctuation:r}}function ii(n){return("0"+n.toString()).slice(-2)}function lu(n,e){if(n.startsWith("yyyy"))return{id:"yyyy",toString:t=>t.getFullYear().toString()};if(n.startsWith("yy"))return{id:"yy",toString:t=>t.getFullYear().toString().slice(-2)};if(n.startsWith("MMM"))return{id:"MMM",allowedValues:e.shortMonths,toString:t=>e.shortMonths[t.getMonth()]};if(n.startsWith("MM"))return{id:"MM",toString:t=>ii(t.getMonth()+1)};if(n.startsWith("dd"))return{id:"dd",toString:t=>ii(t.getDate())};if(n.startsWith("HH"))return{id:"HH",toString:t=>ii(t.getHours())};if(n.startsWith("mm"))return{id:"mm",toString:t=>ii(t.getMinutes())};if(n.startsWith("ss"))return{id:"ss",toString:t=>ii(t.getSeconds())}}function Ss(n,e={}){const t=no(e),r=[];for(;n.length>0;){const l=lu(n,t);l?(r.push(l),n=n.slice(l.id.length)):typeof r[r.length-1]=="string"?(r[r.length-1]+=n[0],n=n.slice(1)):(r.push(n[0]),n=n.slice(1))}return r}function Es(n){let e,t,r,l,o=`${n[18]}px`,s;function u(d){n[34](d)}let f={min:n[3],max:n[4],locale:n[10],browseWithoutSelecting:n[11],timePrecision:n[12],$$slots:{default:[su]},$$scope:{ctx:n}};return n[14]!==void 0&&(f.value=n[14]),t=new nu({props:f}),Vt.push(()=>Wn(t,"value",u)),t.$on("focusout",n[21]),t.$on("select",n[23]),{c(){e=I("div"),Yt(t.$$.fragment),this.h()},l(d){e=A(d,"DIV",{class:!0});var h=F(e);Zt(t.$$.fragment,h),h.forEach(v),this.h()},h(){p(e,"class","picker svelte-1vabmef"),Pe(e,"visible",n[2]),Pe(e,"above",n[17]),Rr(e,"--picker-left-position",o)},m(d,h){te(d,e,h),Jt(t,e,null),n[35](e),s=!0},p(d,h){const b={};h[0]&8&&(b.min=d[3]),h[0]&16&&(b.max=d[4]),h[0]&1024&&(b.locale=d[10]),h[0]&2048&&(b.browseWithoutSelecting=d[11]),h[0]&4096&&(b.timePrecision=d[12]),h[1]&32&&(b.$$scope={dirty:h,ctx:d}),!r&&h[0]&16384&&(r=!0,b.value=d[14],Gn(()=>r=!1)),t.$set(b),(!s||h[0]&4)&&Pe(e,"visible",d[2]),(!s||h[0]&131072)&&Pe(e,"above",d[17]),h[0]&262144&&o!==(o=`${d[18]}px`)&&Rr(e,"--picker-left-position",o)},i(d){s||(Le(t.$$.fragment,d),d&&$a(()=>{s&&(l||(l=ns(e,n[24],{},!0)),l.run(1))}),s=!0)},o(d){qe(t.$$.fragment,d),d&&(l||(l=ns(e,n[24],{},!1)),l.run(0)),s=!1},d(d){d&&v(e),Qt(t),n[35](null),d&&l&&l.end()}}}function su(n){let e;const t=n[29].default,r=In(t,n,n[36],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o[1]&32)&&An(r,t,l,l[36],e?Mn(t,l[36],o,null):On(l[36]),null)},i(l){e||(Le(r,l),e=!0)},o(l){qe(r,l),e=!1},d(l){r&&r.d(l)}}}function au(n){let e,t,r,l,o,s,u,f=n[2]&&!n[7]&&Es(n);return{c(){e=I("div"),t=I("input"),r=ne(),f&&f.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var h=F(e);t=A(h,"INPUT",{type:!0,autocomplete:!0,id:!0,placeholder:!0,class:!0}),r=re(h),f&&f.l(h),h.forEach(v),this.h()},h(){p(t,"type","text"),p(t,"autocomplete","off"),t.value=n[0],p(t,"id",n[5]),p(t,"placeholder",n[6]),t.disabled=n[7],t.required=n[8],p(t,"class","svelte-1vabmef"),Pe(t,"invalid",!n[1]),p(e,"class",l="date-time-field "+n[9]+" svelte-1vabmef")},m(d,h){te(d,e,h),_(e,t),n[30](t),_(e,r),f&&f.m(e,null),o=!0,s||(u=[Ze(t,"focus",n[31]),Ze(t,"mousedown",n[32]),Ze(t,"input",n[33]),Ze(e,"focusout",n[21]),Ze(e,"keydown",n[22])],s=!0)},p(d,h){(!o||h[0]&1&&t.value!==d[0])&&(t.value=d[0]),(!o||h[0]&32)&&p(t,"id",d[5]),(!o||h[0]&64)&&p(t,"placeholder",d[6]),(!o||h[0]&128)&&(t.disabled=d[7]),(!o||h[0]&256)&&(t.required=d[8]),(!o||h[0]&2)&&Pe(t,"invalid",!d[1]),d[2]&&!d[7]?f?(f.p(d,h),h[0]&132&&Le(f,1)):(f=Es(d),f.c(),Le(f,1),f.m(e,null)):f&&(un(),qe(f,1,1,()=>{f=null}),cn()),(!o||h[0]&512&&l!==(l="date-time-field "+d[9]+" svelte-1vabmef"))&&p(e,"class",l)},i(d){o||(Le(f),o=!0)},o(d){qe(f),o=!1},d(d){d&&v(e),n[30](null),f&&f.d(),s=!1,jn(u)}}}function ou(n,e,t){let r,l,{$$slots:o={},$$scope:s}=e;const u=Wi(),f=new Date,d=Wr(null);Kn(n,d,ee=>t(37,l=ee));const h={subscribe:d.subscribe,set:ee=>{ee==null?(d.set(null),t(25,b=ee)):ee.getTime()!==(l==null?void 0:l.getTime())&&(d.set(ee),t(25,b=ee))}};Kn(n,h,ee=>t(14,r=ee));let{value:b=null}=e,{min:k=new Date(f.getFullYear()-20,0,1)}=e,{max:P=new Date(f.getFullYear(),11,31,23,59,59,999)}=e,{id:S=null}=e,{placeholder:E="2020-12-31 23:00:00"}=e,{valid:B=!0}=e,{disabled:M=!1}=e,{required:O=!1}=e,{class:K=""}=e,{locale:T={}}=e,{format:ae="yyyy-MM-dd HH:mm:ss"}=e,oe=Ss(ae,T);function Z(ee,$e){t(0,Ce=ss(ee,$e))}let{text:Ce=ss(r,oe)}=e;function ie(ee,$e){if(ee.length){const De=ks(ee,$e,r);De.date!==null?(t(1,B=!0),h.set(De.date)):t(1,B=!1)}else t(1,B=!0),b&&(t(25,b=null),h.set(null))}let{visible:$=!1}=e,{closeOnSelection:be=!1}=e,{browseWithoutSelecting:ve=!1}=e,{timePrecision:he=null}=e;function me(ee){(ee==null?void 0:ee.currentTarget)instanceof HTMLElement&&ee.relatedTarget&&ee.relatedTarget instanceof Node&&ee.currentTarget.contains(ee.relatedTarget)||t(2,$=!1)}function ye(ee){ee.key==="Escape"&&$?(t(2,$=!1),ee.preventDefault(),ee.stopPropagation()):ee.key==="Enter"&&(t(2,$=!$),ee.preventDefault())}function _e(ee){u("select",ee.detail),be&&t(2,$=!1)}let{dynamicPositioning:ue=!1}=e,ce,C,L=!1,j=null;function fe(){if(t(17,L=!1),t(18,j=null),$&&C&&ue){const ee=ce.getBoundingClientRect(),$e=C.offsetWidth-ee.width,De=ee.bottom+C.offsetHeight+5,Me=ee.left+C.offsetWidth+5;if(De>window.innerHeight&&t(17,L=!0),Me>window.innerWidth&&(t(18,j=-$e),ee.left<$e+5)){const x=window.innerWidth/2-C.offsetWidth/2;t(18,j=x-ee.left)}}}function R(ee){return fe(),iu(ee,{duration:200,easing:ru,y:L?5:-5})}function W(ee){Vt[ee?"unshift":"push"](()=>{ce=ee,t(15,ce)})}const le=()=>t(2,$=!0),Y=()=>t(2,$=!0),Ee=ee=>{if(ee instanceof InputEvent&&ee.inputType==="insertText"&&typeof ee.data=="string"&&ee.currentTarget.value===Ce+ee.data){let $e=ks(Ce,oe,r);if($e.missingPunctuation!==""&&!$e.missingPunctuation.startsWith(ee.data)){t(0,Ce=Ce+$e.missingPunctuation+ee.data);return}}t(0,Ce=ee.currentTarget.value)};function Be(ee){r=ee,h.set(r)}function pe(ee){Vt[ee?"unshift":"push"](()=>{C=ee,t(16,C)})}return n.$$set=ee=>{"value"in ee&&t(25,b=ee.value),"min"in ee&&t(3,k=ee.min),"max"in ee&&t(4,P=ee.max),"id"in ee&&t(5,S=ee.id),"placeholder"in ee&&t(6,E=ee.placeholder),"valid"in ee&&t(1,B=ee.valid),"disabled"in ee&&t(7,M=ee.disabled),"required"in ee&&t(8,O=ee.required),"class"in ee&&t(9,K=ee.class),"locale"in ee&&t(10,T=ee.locale),"format"in ee&&t(26,ae=ee.format),"text"in ee&&t(0,Ce=ee.text),"visible"in ee&&t(2,$=ee.visible),"closeOnSelection"in ee&&t(27,be=ee.closeOnSelection),"browseWithoutSelecting"in ee&&t(11,ve=ee.browseWithoutSelecting),"timePrecision"in ee&&t(12,he=ee.timePrecision),"dynamicPositioning"in ee&&t(28,ue=ee.dynamicPositioning),"$$scope"in ee&&t(36,s=ee.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&33554432&&h.set(b),n.$$.dirty[0]&67109888&&t(13,oe=Ss(ae,T)),n.$$.dirty[0]&24576&&Z(r,oe),n.$$.dirty[0]&8193&&ie(Ce,oe)},[Ce,B,$,k,P,S,E,M,O,K,T,ve,he,oe,r,ce,C,L,j,d,h,me,ye,_e,R,b,ae,be,ue,o,W,le,Y,Ee,Be,pe,s]}class hi extends Pn{constructor(e){super(),Ln(this,e,ou,au,yn,{value:25,min:3,max:4,id:5,placeholder:6,valid:1,disabled:7,required:8,class:9,locale:10,format:26,text:0,visible:2,closeOnSelection:27,browseWithoutSelecting:11,timePrecision:12,dynamicPositioning:28},null,[-1,-1])}}var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function io(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lo={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Ds,function(){var t=function(i,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(c[g]=m[g])})(i,a)},r=function(){return(r=Object.assign||function(i){for(var a,c=1,m=arguments.length;c<m;c++)for(var g in a=arguments[c])Object.prototype.hasOwnProperty.call(a,g)&&(i[g]=a[g]);return i}).apply(this,arguments)};function l(i,a,c){for(var m,g=0,y=a.length;g<y;g++)!m&&g in a||((m=m||Array.prototype.slice.call(a,0,g))[g]=a[g]);return i.concat(m||Array.prototype.slice.call(a))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ds,s=Object.keys,u=Array.isArray;function f(i,a){return typeof a!="object"||s(a).forEach(function(c){i[c]=a[c]}),i}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var d=Object.getPrototypeOf,h={}.hasOwnProperty;function b(i,a){return h.call(i,a)}function k(i,a){typeof a=="function"&&(a=a(d(i))),(typeof Reflect>"u"?s:Reflect.ownKeys)(a).forEach(function(c){S(i,c,a[c])})}var P=Object.defineProperty;function S(i,a,c,m){P(i,a,f(c&&b(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},m))}function E(i){return{from:function(a){return i.prototype=Object.create(a.prototype),S(i.prototype,"constructor",i),{extend:k.bind(null,i.prototype)}}}}var B=Object.getOwnPropertyDescriptor,M=[].slice;function O(i,a,c){return M.call(i,a,c)}function K(i,a){return a(i)}function T(i){if(!i)throw new Error("Assertion Failed")}function ae(i){o.setImmediate?setImmediate(i):setTimeout(i,0)}function oe(i,a){if(typeof a=="string"&&b(i,a))return i[a];if(!a)return i;if(typeof a!="string"){for(var c=[],m=0,g=a.length;m<g;++m){var y=oe(i,a[m]);c.push(y)}return c}var D=a.indexOf(".");if(D!==-1){var N=i[a.substr(0,D)];return N==null?void 0:oe(N,a.substr(D+1))}}function Z(i,a,c){if(i&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof a!="string"&&"length"in a){T(typeof c!="string"&&"length"in c);for(var m=0,g=a.length;m<g;++m)Z(i,a[m],c[m])}else{var y,D,N=a.indexOf(".");N!==-1?(y=a.substr(0,N),(D=a.substr(N+1))===""?c===void 0?u(i)&&!isNaN(parseInt(y))?i.splice(y,1):delete i[y]:i[y]=c:Z(N=!(N=i[y])||!b(i,y)?i[y]={}:N,D,c)):c===void 0?u(i)&&!isNaN(parseInt(a))?i.splice(a,1):delete i[a]:i[a]=c}}function Ce(i){var a,c={};for(a in i)b(i,a)&&(c[a]=i[a]);return c}var ie=[].concat;function $(i){return ie.apply([],i)}var Fn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(a){return a+i+"Array"})}))).filter(function(i){return o[i]}),be=new Set(Fn.map(function(i){return o[i]})),ve=null;function he(i){return ve=new WeakMap,i=function a(c){if(!c||typeof c!="object")return c;var m=ve.get(c);if(m)return m;if(u(c)){m=[],ve.set(c,m);for(var g=0,y=c.length;g<y;++g)m.push(a(c[g]))}else if(be.has(c.constructor))m=c;else{var D,N=d(c);for(D in m=N===Object.prototype?{}:Object.create(N),ve.set(c,m),c)b(c,D)&&(m[D]=a(c[D]))}return m}(i),ve=null,i}var me={}.toString;function ye(i){return me.call(i).slice(8,-1)}var _e=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ue=typeof _e=="symbol"?function(i){var a;return i!=null&&(a=i[_e])&&a.apply(i)}:function(){return null};function ce(i,a){return a=i.indexOf(a),0<=a&&i.splice(a,1),0<=a}var C={};function L(i){var a,c,m,g;if(arguments.length===1){if(u(i))return i.slice();if(this===C&&typeof i=="string")return[i];if(g=ue(i)){for(c=[];!(m=g.next()).done;)c.push(m.value);return c}if(i==null)return[i];if(typeof(a=i.length)!="number")return[i];for(c=new Array(a);a--;)c[a]=i[a];return c}for(a=arguments.length,c=new Array(a);a--;)c[a]=arguments[a];return c}var j=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Je=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Qn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Je),fe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function R(i,a){this.name=i,this.message=a}function W(i,a){return i+". Errors: "+Object.keys(a).map(function(c){return a[c].toString()}).filter(function(c,m,g){return g.indexOf(c)===m}).join(`
`)}function le(i,a,c,m){this.failures=a,this.failedKeys=m,this.successCount=c,this.message=W(i,a)}function Y(i,a){this.name="BulkError",this.failures=Object.keys(a).map(function(c){return a[c]}),this.failuresByPos=a,this.message=W(i,this.failures)}E(R).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(le).from(R),E(Y).from(R);var Ee=Qn.reduce(function(i,a){return i[a]=a+"Error",i},{}),Be=R,pe=Qn.reduce(function(i,a){var c=a+"Error";function m(g,y){this.name=c,g?typeof g=="string"?(this.message="".concat(g).concat(y?`
 `+y:""),this.inner=y||null):typeof g=="object"&&(this.message="".concat(g.name," ").concat(g.message),this.inner=g):(this.message=fe[a]||c,this.inner=null)}return E(m).from(Be),i[a]=m,i},{});pe.Syntax=SyntaxError,pe.Type=TypeError,pe.Range=RangeError;var ee=Je.reduce(function(i,a){return i[a+"Error"]=pe[a],i},{}),$e=Qn.reduce(function(i,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(i[a+"Error"]=pe[a]),i},{});function De(){}function Me(i){return i}function Ve(i,a){return i==null||i===Me?a:function(c){return a(i(c))}}function x(i,a){return function(){i.apply(this,arguments),a.apply(this,arguments)}}function Ge(i,a){return i===De?a:function(){var c=i.apply(this,arguments);c!==void 0&&(arguments[0]=c);var m=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var y=a.apply(this,arguments);return m&&(this.onsuccess=this.onsuccess?x(m,this.onsuccess):m),g&&(this.onerror=this.onerror?x(g,this.onerror):g),y!==void 0?y:c}}function Fe(i,a){return i===De?a:function(){i.apply(this,arguments);var c=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?x(c,this.onsuccess):c),m&&(this.onerror=this.onerror?x(m,this.onerror):m)}}function ke(i,a){return i===De?a:function(c){var m=i.apply(this,arguments);f(c,m);var g=this.onsuccess,y=this.onerror;return this.onsuccess=null,this.onerror=null,c=a.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?x(g,this.onsuccess):g),y&&(this.onerror=this.onerror?x(y,this.onerror):y),m===void 0?c===void 0?void 0:c:f(m,c)}}function We(i,a){return i===De?a:function(){return a.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function tt(i,a){return i===De?a:function(){var c=i.apply(this,arguments);if(c&&typeof c.then=="function"){for(var m=this,g=arguments.length,y=new Array(g);g--;)y[g]=arguments[g];return c.then(function(){return a.apply(m,y)})}return a.apply(this,arguments)}}$e.ModifyError=le,$e.DexieError=R,$e.BulkError=Y;var _t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function dt(i){_t=i}var nt={},it=100,Fn=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,d(i),i];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,d(a),i]}(),Je=Fn[0],Qn=Fn[1],Fn=Fn[2],Qn=Qn&&Qn.then,Qe=Je&&Je.constructor,Rt=!!Fn,st=function(i,a){Rn.push([i,a]),tn&&(queueMicrotask(yt),tn=!1)},ln=!0,tn=!0,Dt=[],At=[],wn=Me,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:De,pgp:!1,env:{},finalize:De},Ue=Xt,Rn=[],nn=0,sn=[];function Ae(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=Ue;if(typeof i!="function"){if(i!==nt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&an(this,this._value))}this._state=null,this._value=null,++a.ref,function c(m,g){try{g(function(y){if(m._state===null){if(y===m)throw new TypeError("A promise cannot be resolved with itself.");var D=m._lib&&ft();y&&typeof y.then=="function"?c(m,function(N,U){y instanceof Ae?y._then(N,U):y.then(N,U)}):(m._state=!0,m._value=y,Mt(m)),D&&Ot()}},an.bind(null,m))}catch(y){an(m,y)}}(this,i)}var qt={get:function(){var i=Ue,a=Xe;function c(m,g){var y=this,D=!i.global&&(i!==Ue||a!==Xe),N=D&&!xt(),U=new Ae(function(H,J){Ut(y,new Hn(xn(m,i,D,N),xn(g,i,D,N),H,J,i))});return this._consoleTask&&(U._consoleTask=this._consoleTask),U}return c.prototype=nt,c},set:function(i){S(this,"then",i&&i.prototype===nt?qt:{get:function(){return i},set:qt.set})}};function Hn(i,a,c,m,g){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof a=="function"?a:null,this.resolve=c,this.reject=m,this.psd=g}function an(i,a){var c,m;At.push(a),i._state===null&&(c=i._lib&&ft(),a=wn(a),i._state=!1,i._value=a,m=i,Dt.some(function(g){return g._value===m._value})||Dt.push(m),Mt(i),c&&Ot())}function Mt(i){var a=i._listeners;i._listeners=[];for(var c=0,m=a.length;c<m;++c)Ut(i,a[c]);var g=i._PSD;--g.ref||g.finalize(),nn===0&&(++nn,st(function(){--nn==0&&fn()},[]))}function Ut(i,a){if(i._state!==null){var c=i._state?a.onFulfilled:a.onRejected;if(c===null)return(i._state?a.resolve:a.reject)(i._value);++a.psd.ref,++nn,st(vt,[c,i,a])}else i._listeners.push(a)}function vt(i,a,c){try{var m,g=a._value;!a._state&&At.length&&(At=[]),m=_t&&a._consoleTask?a._consoleTask.run(function(){return i(g)}):i(g),a._state||At.indexOf(g)!==-1||function(y){for(var D=Dt.length;D;)if(Dt[--D]._value===y._value)return Dt.splice(D,1)}(a),c.resolve(m)}catch(y){c.reject(y)}finally{--nn==0&&fn(),--c.psd.ref||c.psd.finalize()}}function yt(){jt(Xt,function(){ft()&&Ot()})}function ft(){var i=ln;return tn=ln=!1,i}function Ot(){var i,a,c;do for(;0<Rn.length;)for(i=Rn,Rn=[],c=i.length,a=0;a<c;++a){var m=i[a];m[0].apply(null,m[1])}while(0<Rn.length);tn=ln=!0}function fn(){var i=Dt;Dt=[],i.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)});for(var a=sn.slice(0),c=a.length;c;)a[--c]()}function dn(i){return new Ae(nt,!1,i)}function at(i,a){var c=Ue;return function(){var m=ft(),g=Ue;try{return hn(c,!0),i.apply(this,arguments)}catch(y){a&&a(y)}finally{hn(g,!1),m&&Ot()}}}k(Ae.prototype,{then:qt,_then:function(i,a){Ut(this,new Hn(null,null,i,a,Ue))},catch:function(i){if(arguments.length===1)return this.then(null,i);var a=i,c=arguments[1];return typeof a=="function"?this.then(null,function(m){return(m instanceof a?c:dn)(m)}):this.then(null,function(m){return(m&&m.name===a?c:dn)(m)})},finally:function(i){return this.then(function(a){return Ae.resolve(i()).then(function(){return a})},function(a){return Ae.resolve(i()).then(function(){return dn(a)})})},timeout:function(i,a){var c=this;return i<1/0?new Ae(function(m,g){var y=setTimeout(function(){return g(new pe.Timeout(a))},i);c.then(m,g).finally(clearTimeout.bind(null,y))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=Tt(),k(Ae,{all:function(){var i=L.apply(null,arguments).map(er);return new Ae(function(a,c){i.length===0&&a([]);var m=i.length;i.forEach(function(g,y){return Ae.resolve(g).then(function(D){i[y]=D,--m||a(i)},c)})})},resolve:function(i){return i instanceof Ae?i:i&&typeof i.then=="function"?new Ae(function(a,c){i.then(a,c)}):new Ae(nt,!0,i)},reject:dn,race:function(){var i=L.apply(null,arguments).map(er);return new Ae(function(a,c){i.map(function(m){return Ae.resolve(m).then(a,c)})})},PSD:{get:function(){return Ue},set:function(i){return Ue=i}},totalEchoes:{get:function(){return Xe}},newPSD:Nn,usePSD:jt,scheduler:{get:function(){return st},set:function(i){st=i}},rejectionMapper:{get:function(){return wn},set:function(i){wn=i}},follow:function(i,a){return new Ae(function(c,m){return Nn(function(g,y){var D=Ue;D.unhandleds=[],D.onunhandled=y,D.finalize=x(function(){var N,U=this;N=function(){U.unhandleds.length===0?g():y(U.unhandleds[0])},sn.push(function H(){N(),sn.splice(sn.indexOf(H),1)}),++nn,st(function(){--nn==0&&fn()},[])},D.finalize),i()},a,c,m)})}}),Qe&&(Qe.allSettled&&S(Ae,"allSettled",function(){var i=L.apply(null,arguments).map(er);return new Ae(function(a){i.length===0&&a([]);var c=i.length,m=new Array(c);i.forEach(function(g,y){return Ae.resolve(g).then(function(D){return m[y]={status:"fulfilled",value:D}},function(D){return m[y]={status:"rejected",reason:D}}).then(function(){return--c||a(m)})})})}),Qe.any&&typeof AggregateError<"u"&&S(Ae,"any",function(){var i=L.apply(null,arguments).map(er);return new Ae(function(a,c){i.length===0&&c(new AggregateError([]));var m=i.length,g=new Array(m);i.forEach(function(y,D){return Ae.resolve(y).then(function(N){return a(N)},function(N){g[D]=N,--m||c(new AggregateError(g))})})})}));var we={awaits:0,echoes:0,id:0},Ye=0,Ct=[],wt=0,Xe=0,$t=0;function Nn(i,a,c,m){var g=Ue,y=Object.create(g);return y.parent=g,y.ref=0,y.global=!1,y.id=++$t,Xt.env,y.env=Rt?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},a&&f(y,a),++g.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()},m=jt(y,i,c,m),y.ref===0&&y.finalize(),m}function kn(){return we.id||(we.id=++Ye),++we.awaits,we.echoes+=it,we.id}function xt(){return!!we.awaits&&(--we.awaits==0&&(we.id=0),we.echoes=we.awaits*it,!0)}function er(i){return we.echoes&&i&&i.constructor===Qe?(kn(),i.then(function(a){return xt(),a},function(a){return xt(),Pt(a)})):i}function ht(){var i=Ct[Ct.length-1];Ct.pop(),hn(i,!1)}function hn(i,a){var c,m=Ue;(a?!we.echoes||wt++&&i===Ue:!wt||--wt&&i===Ue)||queueMicrotask(a?(function(g){++Xe,we.echoes&&--we.echoes!=0||(we.echoes=we.awaits=we.id=0),Ct.push(Ue),hn(g,!0)}).bind(null,i):ht),i!==Ue&&(Ue=i,m===Xt&&(Xt.env=Tt()),Rt&&(c=Xt.env.Promise,a=i.env,(m.global||i.global)&&(Object.defineProperty(o,"Promise",a.PromiseProp),c.all=a.all,c.race=a.race,c.resolve=a.resolve,c.reject=a.reject,a.allSettled&&(c.allSettled=a.allSettled),a.any&&(c.any=a.any))))}function Tt(){var i=o.Promise;return Rt?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function jt(i,a,c,m,g){var y=Ue;try{return hn(i,!0),a(c,m,g)}finally{hn(y,!1)}}function xn(i,a,c,m){return typeof i!="function"?i:function(){var g=Ue;c&&kn(),hn(a,!0);try{return i.apply(this,arguments)}finally{hn(g,!1),m&&queueMicrotask(xt)}}}function tr(i){Promise===Qe&&we.echoes===0?wt===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Qn).indexOf("[native code]")===-1&&(kn=xt=De);var Pt=Ae.reject,Nt="￿",Bn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qr="String expected.",Yn=[],br="__dbnames",Zn="readonly",zt="readwrite";function mn(i,a){return i?a?function(){return i.apply(this,arguments)&&a.apply(this,arguments)}:i:a}var pn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nr(i){return typeof i!="string"||/\./.test(i)?function(a){return a}:function(a){return a[i]===void 0&&i in a&&delete(a=he(a))[i],a}}function Sn(){throw pe.Type()}function It(i,a){try{var c=_i(i),m=_i(a);if(c!==m)return c==="Array"?1:m==="Array"?-1:c==="binary"?1:m==="binary"?-1:c==="string"?1:m==="string"?-1:c==="Date"?1:m!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return a<i?1:i<a?-1:0;case"binary":return function(g,y){for(var D=g.length,N=y.length,U=D<N?D:N,H=0;H<U;++H)if(g[H]!==y[H])return g[H]<y[H]?-1:1;return D===N?0:D<N?-1:1}(Fr(i),Fr(a));case"Array":return function(g,y){for(var D=g.length,N=y.length,U=D<N?D:N,H=0;H<U;++H){var J=It(g[H],y[H]);if(J!==0)return J}return D===N?0:D<N?-1:1}(i,a)}}catch{}return NaN}function _i(i){var a=typeof i;return a!="object"?a:ArrayBuffer.isView(i)?"binary":(i=ye(i),i==="ArrayBuffer"?"binary":i)}function Fr(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var vi=(Kt.prototype._trans=function(i,a,c){var m=this._tx||Ue.trans,g=this.name,y=_t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function D(H,J,z){if(!z.schema[g])throw new pe.NotFound("Table "+g+" not part of transaction");return a(z.idbtrans,z)}var N=ft();try{var U=m&&m.db._novip===this.db._novip?m===Ue.trans?m._promise(i,D,c):Nn(function(){return m._promise(i,D,c)},{trans:m,transless:Ue.transless||Ue}):function H(J,z,Q,V){if(J.idbdb&&(J._state.openComplete||Ue.letThrough||J._vip)){var G=J._createTransaction(z,Q,J._dbSchema);try{G.create(),J._state.PR1398_maxLoop=3}catch(X){return X.name===Ee.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return H(J,z,Q,V)})):Pt(X)}return G._promise(z,function(X,q){return Nn(function(){return Ue.trans=G,V(X,q,G)})}).then(function(X){if(z==="readwrite")try{G.idbtrans.commit()}catch{}return z==="readonly"?X:G._completion.then(function(){return X})})}if(J._state.openComplete)return Pt(new pe.DatabaseClosed(J._state.dbOpenError));if(!J._state.isBeingOpened){if(!J._state.autoOpen)return Pt(new pe.DatabaseClosed);J.open().catch(De)}return J._state.dbReadyPromise.then(function(){return H(J,z,Q,V)})}(this.db,i,[this.name],D);return y&&(U._consoleTask=y,U=U.catch(function(H){return console.trace(H),Pt(H)})),U}finally{N&&Ot()}},Kt.prototype.get=function(i,a){var c=this;return i&&i.constructor===Object?this.where(i).first(a):i==null?Pt(new pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return c.core.get({trans:m,key:i}).then(function(g){return c.hook.reading.fire(g)})}).then(a)},Kt.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(u(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var a=s(i);if(a.length===1)return this.where(a[0]).equals(i[a[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&a.every(function(J){return 0<=U.keyPath.indexOf(J)})){for(var H=0;H<a.length;++H)if(a.indexOf(U.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(U,H){return U.keyPath.length-H.keyPath.length})[0];if(c&&this.db._maxKey!==Nt){var D=c.keyPath.slice(0,a.length);return this.where(D).equals(D.map(function(H){return i[H]}))}!c&&_t&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var m=this.schema.idxByName,g=this.db._deps.indexedDB;function y(U,H){return g.cmp(U,H)===0}var N=a.reduce(function(Q,H){var J=Q[0],z=Q[1],Q=m[H],V=i[H];return[J||Q,J||!Q?mn(z,Q&&Q.multi?function(G){return G=oe(G,H),u(G)&&G.some(function(X){return y(V,X)})}:function(G){return y(V,oe(G,H))}):z]},[null,null]),D=N[0],N=N[1];return D?this.where(D.name).equals(i[D.keyPath]).filter(N):c?this.filter(N):this.where(a).equals("")},Kt.prototype.filter=function(i){return this.toCollection().and(i)},Kt.prototype.count=function(i){return this.toCollection().count(i)},Kt.prototype.offset=function(i){return this.toCollection().offset(i)},Kt.prototype.limit=function(i){return this.toCollection().limit(i)},Kt.prototype.each=function(i){return this.toCollection().each(i)},Kt.prototype.toArray=function(i){return this.toCollection().toArray(i)},Kt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Kt.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,u(i)?"[".concat(i.join("+"),"]"):i))},Kt.prototype.reverse=function(){return this.toCollection().reverse()},Kt.prototype.mapToClass=function(i){var a,c=this.db,m=this.name;function g(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof Sn&&(function(U,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function J(){this.constructor=U}t(U,H),U.prototype=H===null?Object.create(H):(J.prototype=H.prototype,new J)}(g,a=i),Object.defineProperty(g.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),g.prototype.table=function(){return m},i=g);for(var y=new Set,D=i.prototype;D;D=d(D))Object.getOwnPropertyNames(D).forEach(function(U){return y.add(U)});function N(U){if(!U)return U;var H,J=Object.create(i.prototype);for(H in U)if(!y.has(H))try{J[H]=U[H]}catch{}return J}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),i},Kt.prototype.defineClass=function(){return this.mapToClass(function(i){f(this,i)})},Kt.prototype.add=function(i,a){var c=this,m=this.schema.primKey,g=m.auto,y=m.keyPath,D=i;return y&&g&&(D=nr(y)(i)),this._trans("readwrite",function(N){return c.core.mutate({trans:N,type:"add",keys:a!=null?[a]:null,values:[D]})}).then(function(N){return N.numFailures?Ae.reject(N.failures[0]):N.lastResult}).then(function(N){if(y)try{Z(i,y,N)}catch{}return N})},Kt.prototype.update=function(i,a){return typeof i!="object"||u(i)?this.where(":id").equals(i).modify(a):(i=oe(i,this.schema.primKey.keyPath),i===void 0?Pt(new pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(a))},Kt.prototype.put=function(i,a){var c=this,m=this.schema.primKey,g=m.auto,y=m.keyPath,D=i;return y&&g&&(D=nr(y)(i)),this._trans("readwrite",function(N){return c.core.mutate({trans:N,type:"put",values:[D],keys:a!=null?[a]:null})}).then(function(N){return N.numFailures?Ae.reject(N.failures[0]):N.lastResult}).then(function(N){if(y)try{Z(i,y,N)}catch{}return N})},Kt.prototype.delete=function(i){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"delete",keys:[i]})}).then(function(c){return c.numFailures?Ae.reject(c.failures[0]):void 0})},Kt.prototype.clear=function(){var i=this;return this._trans("readwrite",function(a){return i.core.mutate({trans:a,type:"deleteRange",range:pn})}).then(function(a){return a.numFailures?Ae.reject(a.failures[0]):void 0})},Kt.prototype.bulkGet=function(i){var a=this;return this._trans("readonly",function(c){return a.core.getMany({keys:i,trans:c}).then(function(m){return m.map(function(g){return a.hook.reading.fire(g)})})})},Kt.prototype.bulkAdd=function(i,a,c){var m=this,g=Array.isArray(a)?a:void 0,y=(c=c||(g?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(D){var H=m.schema.primKey,N=H.auto,H=H.keyPath;if(H&&g)throw new pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var U=i.length,H=H&&N?i.map(nr(H)):i;return m.core.mutate({trans:D,type:"add",keys:g,values:H,wantResults:y}).then(function(G){var z=G.numFailures,Q=G.results,V=G.lastResult,G=G.failures;if(z===0)return y?Q:V;throw new Y("".concat(m.name,".bulkAdd(): ").concat(z," of ").concat(U," operations failed"),G)})})},Kt.prototype.bulkPut=function(i,a,c){var m=this,g=Array.isArray(a)?a:void 0,y=(c=c||(g?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(D){var H=m.schema.primKey,N=H.auto,H=H.keyPath;if(H&&g)throw new pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var U=i.length,H=H&&N?i.map(nr(H)):i;return m.core.mutate({trans:D,type:"put",keys:g,values:H,wantResults:y}).then(function(G){var z=G.numFailures,Q=G.results,V=G.lastResult,G=G.failures;if(z===0)return y?Q:V;throw new Y("".concat(m.name,".bulkPut(): ").concat(z," of ").concat(U," operations failed"),G)})})},Kt.prototype.bulkUpdate=function(i){var a=this,c=this.core,m=i.map(function(D){return D.key}),g=i.map(function(D){return D.changes}),y=[];return this._trans("readwrite",function(D){return c.getMany({trans:D,keys:m,cache:"clone"}).then(function(N){var U=[],H=[];i.forEach(function(z,Q){var V=z.key,G=z.changes,X=N[Q];if(X){for(var q=0,se=Object.keys(G);q<se.length;q++){var de=se[q],ge=G[de];if(de===a.schema.primKey.keyPath){if(It(ge,V)!==0)throw new pe.Constraint("Cannot update primary key in bulkUpdate()")}else Z(X,de,ge)}y.push(Q),U.push(V),H.push(X)}});var J=U.length;return c.mutate({trans:D,type:"put",keys:U,values:H,updates:{keys:m,changeSpecs:g}}).then(function(z){var Q=z.numFailures,V=z.failures;if(Q===0)return J;for(var G=0,X=Object.keys(V);G<X.length;G++){var q,se=X[G],de=y[Number(se)];de!=null&&(q=V[se],delete V[se],V[de]=q)}throw new Y("".concat(a.name,".bulkUpdate(): ").concat(Q," of ").concat(J," operations failed"),V)})})})},Kt.prototype.bulkDelete=function(i){var a=this,c=i.length;return this._trans("readwrite",function(m){return a.core.mutate({trans:m,type:"delete",keys:i})}).then(function(D){var g=D.numFailures,y=D.lastResult,D=D.failures;if(g===0)return y;throw new Y("".concat(a.name,".bulkDelete(): ").concat(g," of ").concat(c," operations failed"),D)})},Kt);function Kt(){}function mr(i){function a(D,N){if(N){for(var U=arguments.length,H=new Array(U-1);--U;)H[U-1]=arguments[U];return c[D].subscribe.apply(null,H),i}if(typeof D=="string")return c[D]}var c={};a.addEventType=y;for(var m=1,g=arguments.length;m<g;++m)y(arguments[m]);return a;function y(D,N,U){if(typeof D!="object"){var H;N=N||We;var J={subscribers:[],fire:U=U||De,subscribe:function(z){J.subscribers.indexOf(z)===-1&&(J.subscribers.push(z),J.fire=N(J.fire,z))},unsubscribe:function(z){J.subscribers=J.subscribers.filter(function(Q){return Q!==z}),J.fire=J.subscribers.reduce(N,U)}};return c[D]=a[D]=J}s(H=D).forEach(function(z){var Q=H[z];if(u(Q))y(z,H[z][0],H[z][1]);else{if(Q!=="asap")throw new pe.InvalidArgument("Invalid event config");var V=y(z,Me,function(){for(var G=arguments.length,X=new Array(G);G--;)X[G]=arguments[G];V.subscribers.forEach(function(q){ae(function(){q.apply(null,X)})})})}})}}function yr(i,a){return E(a).from({prototype:i}),a}function ur(i,a){return!(i.filter||i.algorithm||i.or)&&(a?i.justLimit:!i.replayFilter)}function Xr(i,a){i.filter=mn(i.filter,a)}function cr(i,a,c){var m=i.replayFilter;i.replayFilter=m?function(){return mn(m(),a())}:a,i.justLimit=c&&!m}function zr(i,a){if(i.isPrimKey)return a.primaryKey;var c=a.getIndexByKeyPath(i.index);if(!c)throw new pe.Schema("KeyPath "+i.index+" on object store "+a.name+" is not indexed");return c}function pr(i,a,c){var m=zr(i,a.schema);return a.openCursor({trans:c,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:m,range:i.range}})}function wr(i,a,c,m){var g=i.replayFilter?mn(i.filter,i.replayFilter()):i.filter;if(i.or){var y={},D=function(N,U,H){var J,z;g&&!g(U,H,function(Q){return U.stop(Q)},function(Q){return U.fail(Q)})||((z=""+(J=U.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(J)),b(y,z)||(y[z]=!0,a(N,U,H)))};return Promise.all([i.or._iterate(D,c),Kr(pr(i,m,c),i.algorithm,D,!i.keysOnly&&i.valueMapper)])}return Kr(pr(i,m,c),mn(i.algorithm,g),a,!i.keysOnly&&i.valueMapper)}function Kr(i,a,c,m){var g=at(m?function(y,D,N){return c(m(y),D,N)}:c);return i.then(function(y){if(y)return y.start(function(){var D=function(){return y.continue()};a&&!a(y,function(N){return D=N},function(N){y.stop(N),D=De},function(N){y.fail(N),D=De})||g(y.value,y,function(N){return D=N}),D()})})}var Fn=Symbol(),kr=(gr.prototype.execute=function(i){if(this.add!==void 0){var a=this.add;if(u(a))return l(l([],u(i)?i:[],!0),a).sort();if(typeof a=="number")return(Number(i)||0)+a;if(typeof a=="bigint")try{return BigInt(i)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(this.remove!==void 0){var c=this.remove;if(u(c))return u(i)?i.filter(function(m){return!c.includes(m)}).sort():[];if(typeof c=="number")return Number(i)-c;if(typeof c=="bigint")try{return BigInt(i)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return a=(a=this.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof i=="string"&&i.startsWith(a)?this.replacePrefix[1]+i.substring(a.length):i},gr);function gr(i){Object.assign(this,i)}var Ji=(kt.prototype._read=function(i,a){var c=this._ctx;return c.error?c.table._trans(null,Pt.bind(null,c.error)):c.table._trans("readonly",i).then(a)},kt.prototype._write=function(i){var a=this._ctx;return a.error?a.table._trans(null,Pt.bind(null,a.error)):a.table._trans("readwrite",i,"locked")},kt.prototype._addAlgorithm=function(i){var a=this._ctx;a.algorithm=mn(a.algorithm,i)},kt.prototype._iterate=function(i,a){return wr(this._ctx,i,a,this._ctx.table.core)},kt.prototype.clone=function(i){var a=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return i&&f(c,i),a._ctx=c,a},kt.prototype.raw=function(){return this._ctx.valueMapper=null,this},kt.prototype.each=function(i){var a=this._ctx;return this._read(function(c){return wr(a,i,c,a.table.core)})},kt.prototype.count=function(i){var a=this;return this._read(function(c){var m=a._ctx,g=m.table.core;if(ur(m,!0))return g.count({trans:c,query:{index:zr(m,g.schema),range:m.range}}).then(function(D){return Math.min(D,m.limit)});var y=0;return wr(m,function(){return++y,!1},c,g).then(function(){return y})}).then(i)},kt.prototype.sortBy=function(i,a){var c=i.split(".").reverse(),m=c[0],g=c.length-1;function y(U,H){return H?y(U[c[H]],H-1):U[m]}var D=this._ctx.dir==="next"?1:-1;function N(U,H){return U=y(U,g),H=y(H,g),U<H?-D:H<U?D:0}return this.toArray(function(U){return U.sort(N)}).then(a)},kt.prototype.toArray=function(i){var a=this;return this._read(function(c){var m=a._ctx;if(m.dir==="next"&&ur(m,!0)&&0<m.limit){var g=m.valueMapper,y=zr(m,m.table.core.schema);return m.table.core.query({trans:c,limit:m.limit,values:!0,query:{index:y,range:m.range}}).then(function(N){return N=N.result,g?N.map(g):N})}var D=[];return wr(m,function(N){return D.push(N)},c,m.table.core).then(function(){return D})},i)},kt.prototype.offset=function(i){var a=this._ctx;return i<=0||(a.offset+=i,ur(a)?cr(a,function(){var c=i;return function(m,g){return c===0||(c===1?--c:g(function(){m.advance(c),c=0}),!1)}}):cr(a,function(){var c=i;return function(){return--c<0}})),this},kt.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),cr(this._ctx,function(){var a=i;return function(c,m,g){return--a<=0&&m(g),0<=a}},!0),this},kt.prototype.until=function(i,a){return Xr(this._ctx,function(c,m,g){return!i(c.value)||(m(g),a)}),this},kt.prototype.first=function(i){return this.limit(1).toArray(function(a){return a[0]}).then(i)},kt.prototype.last=function(i){return this.reverse().first(i)},kt.prototype.filter=function(i){var a;return Xr(this._ctx,function(c){return i(c.value)}),(a=this._ctx).isMatch=mn(a.isMatch,i),this},kt.prototype.and=function(i){return this.filter(i)},kt.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},kt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},kt.prototype.desc=function(){return this.reverse()},kt.prototype.eachKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,m){i(m.key,m)})},kt.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},kt.prototype.eachPrimaryKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,m){i(m.primaryKey,m)})},kt.prototype.keys=function(i){var a=this._ctx;a.keysOnly=!a.isMatch;var c=[];return this.each(function(m,g){c.push(g.key)}).then(function(){return c}).then(i)},kt.prototype.primaryKeys=function(i){var a=this._ctx;if(a.dir==="next"&&ur(a,!0)&&0<a.limit)return this._read(function(m){var g=zr(a,a.table.core.schema);return a.table.core.query({trans:m,values:!1,limit:a.limit,query:{index:g,range:a.range}})}).then(function(m){return m.result}).then(i);a.keysOnly=!a.isMatch;var c=[];return this.each(function(m,g){c.push(g.primaryKey)}).then(function(){return c}).then(i)},kt.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},kt.prototype.firstKey=function(i){return this.limit(1).keys(function(a){return a[0]}).then(i)},kt.prototype.lastKey=function(i){return this.reverse().firstKey(i)},kt.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var a={};return Xr(this._ctx,function(g){var m=g.primaryKey.toString(),g=b(a,m);return a[m]=!0,!g}),this},kt.prototype.modify=function(i){var a=this,c=this._ctx;return this._write(function(m){var g,y,D;D=typeof i=="function"?i:(g=s(i),y=g.length,function(q){for(var se=!1,de=0;de<y;++de){var ge=g[de],Se=i[ge],Te=oe(q,ge);Se instanceof kr?(Z(q,ge,Se.execute(Te)),se=!0):Te!==Se&&(Z(q,ge,Se),se=!0)}return se});function N(q,ge){var de=ge.failures,ge=ge.numFailures;G+=q-ge;for(var Se=0,Te=s(de);Se<Te.length;Se++){var je=Te[Se];V.push(de[je])}}var U=c.table.core,H=U.schema.primaryKey,J=H.outbound,z=H.extractKey,Q=a.db._options.modifyChunkSize||200,V=[],G=0,X=[];return a.clone().primaryKeys().then(function(q){function se(ge){var Se=Math.min(Q,q.length-ge);return U.getMany({trans:m,keys:q.slice(ge,ge+Se),cache:"immutable"}).then(function(Te){for(var je=[],Oe=[],Ke=J?[]:null,He=[],ze=0;ze<Se;++ze){var ot=Te[ze],ut={value:he(ot),primKey:q[ge+ze]};D.call(ut,ut.value,ut)!==!1&&(ut.value==null?He.push(q[ge+ze]):J||It(z(ot),z(ut.value))===0?(Oe.push(ut.value),J&&Ke.push(q[ge+ze])):(He.push(q[ge+ze]),je.push(ut.value)))}return Promise.resolve(0<je.length&&U.mutate({trans:m,type:"add",values:je}).then(function(gt){for(var mt in gt.failures)He.splice(parseInt(mt),1);N(je.length,gt)})).then(function(){return(0<Oe.length||de&&typeof i=="object")&&U.mutate({trans:m,type:"put",keys:Ke,values:Oe,criteria:de,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<ge}).then(function(gt){return N(Oe.length,gt)})}).then(function(){return(0<He.length||de&&i===xr)&&U.mutate({trans:m,type:"delete",keys:He,criteria:de,isAdditionalChunk:0<ge}).then(function(gt){return N(He.length,gt)})}).then(function(){return q.length>ge+Se&&se(ge+Q)})})}var de=ur(c)&&c.limit===1/0&&(typeof i!="function"||i===xr)&&{index:c.index,range:c.range};return se(0).then(function(){if(0<V.length)throw new le("Error modifying one or more objects",V,G,X);return q.length})})})},kt.prototype.delete=function(){var i=this._ctx,a=i.range;return ur(i)&&(i.isPrimKey||a.type===3)?this._write(function(c){var m=i.table.core.schema.primaryKey,g=a;return i.table.core.count({trans:c,query:{index:m,range:g}}).then(function(y){return i.table.core.mutate({trans:c,type:"deleteRange",range:g}).then(function(D){var N=D.failures;if(D.lastResult,D.results,D=D.numFailures,D)throw new le("Could not delete some values",Object.keys(N).map(function(U){return N[U]}),y-D);return y-D})})}):this.modify(xr)},kt);function kt(){}var xr=function(i,a){return a.value=null};function Qi(i,a){return i<a?-1:i===a?0:1}function Xi(i,a){return a<i?-1:i===a?0:1}function En(i,a,c){return i=i instanceof Sr?new i.Collection(i):i,i._ctx.error=new(c||TypeError)(a),i}function _r(i){return new i.Collection(i,function(){return bi("")}).limit(0)}function jr(i,a,c,m){var g,y,D,N,U,H,J,z=c.length;if(!c.every(function(G){return typeof G=="string"}))return En(i,Qr);function Q(G){g=G==="next"?function(q){return q.toUpperCase()}:function(q){return q.toLowerCase()},y=G==="next"?function(q){return q.toLowerCase()}:function(q){return q.toUpperCase()},D=G==="next"?Qi:Xi;var X=c.map(function(q){return{lower:y(q),upper:g(q)}}).sort(function(q,se){return D(q.lower,se.lower)});N=X.map(function(q){return q.upper}),U=X.map(function(q){return q.lower}),J=(H=G)==="next"?"":m}Q("next"),i=new i.Collection(i,function(){return rr(N[0],U[z-1]+m)}),i._ondirectionchange=function(G){Q(G)};var V=0;return i._addAlgorithm(function(G,X,q){var se=G.key;if(typeof se!="string")return!1;var de=y(se);if(a(de,U,V))return!0;for(var ge=null,Se=V;Se<z;++Se){var Te=function(je,Oe,Ke,He,ze,ot){for(var ut=Math.min(je.length,He.length),gt=-1,mt=0;mt<ut;++mt){var $n=Oe[mt];if($n!==He[mt])return ze(je[mt],Ke[mt])<0?je.substr(0,mt)+Ke[mt]+Ke.substr(mt+1):ze(je[mt],He[mt])<0?je.substr(0,mt)+He[mt]+Ke.substr(mt+1):0<=gt?je.substr(0,gt)+Oe[gt]+Ke.substr(gt+1):null;ze(je[mt],$n)<0&&(gt=mt)}return ut<He.length&&ot==="next"?je+Ke.substr(je.length):ut<je.length&&ot==="prev"?je.substr(0,Ke.length):gt<0?null:je.substr(0,gt)+He[gt]+Ke.substr(gt+1)}(se,de,N[Se],U[Se],D,H);Te===null&&ge===null?V=Se+1:(ge===null||0<D(ge,Te))&&(ge=Te)}return X(ge!==null?function(){G.continue(ge+J)}:q),!1}),i}function rr(i,a,c,m){return{type:2,lower:i,upper:a,lowerOpen:c,upperOpen:m}}function bi(i){return{type:1,lower:i,upper:i}}var Sr=(Object.defineProperty(Gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Gt.prototype.between=function(i,a,c,m){c=c!==!1,m=m===!0;try{return 0<this._cmp(i,a)||this._cmp(i,a)===0&&(c||m)&&(!c||!m)?_r(this):new this.Collection(this,function(){return rr(i,a,!c,!m)})}catch{return En(this,Bn)}},Gt.prototype.equals=function(i){return i==null?En(this,Bn):new this.Collection(this,function(){return bi(i)})},Gt.prototype.above=function(i){return i==null?En(this,Bn):new this.Collection(this,function(){return rr(i,void 0,!0)})},Gt.prototype.aboveOrEqual=function(i){return i==null?En(this,Bn):new this.Collection(this,function(){return rr(i,void 0,!1)})},Gt.prototype.below=function(i){return i==null?En(this,Bn):new this.Collection(this,function(){return rr(void 0,i,!1,!0)})},Gt.prototype.belowOrEqual=function(i){return i==null?En(this,Bn):new this.Collection(this,function(){return rr(void 0,i)})},Gt.prototype.startsWith=function(i){return typeof i!="string"?En(this,Qr):this.between(i,i+Nt,!0,!0)},Gt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):jr(this,function(a,c){return a.indexOf(c[0])===0},[i],Nt)},Gt.prototype.equalsIgnoreCase=function(i){return jr(this,function(a,c){return a===c[0]},[i],"")},Gt.prototype.anyOfIgnoreCase=function(){var i=L.apply(C,arguments);return i.length===0?_r(this):jr(this,function(a,c){return c.indexOf(a)!==-1},i,"")},Gt.prototype.startsWithAnyOfIgnoreCase=function(){var i=L.apply(C,arguments);return i.length===0?_r(this):jr(this,function(a,c){return c.some(function(m){return a.indexOf(m)===0})},i,Nt)},Gt.prototype.anyOf=function(){var i=this,a=L.apply(C,arguments),c=this._cmp;try{a.sort(c)}catch{return En(this,Bn)}if(a.length===0)return _r(this);var m=new this.Collection(this,function(){return rr(a[0],a[a.length-1])});m._ondirectionchange=function(y){c=y==="next"?i._ascending:i._descending,a.sort(c)};var g=0;return m._addAlgorithm(function(y,D,N){for(var U=y.key;0<c(U,a[g]);)if(++g===a.length)return D(N),!1;return c(U,a[g])===0||(D(function(){y.continue(a[g])}),!1)}),m},Gt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Gt.prototype.noneOf=function(){var i=L.apply(C,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return En(this,Bn)}var a=i.reduce(function(c,m){return c?c.concat([[c[c.length-1][1],m]]):[[-1/0,m]]},null);return a.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},Gt.prototype.inAnyRange=function(se,a){var c=this,m=this._cmp,g=this._ascending,y=this._descending,D=this._min,N=this._max;if(se.length===0)return _r(this);if(!se.every(function(de){return de[0]!==void 0&&de[1]!==void 0&&g(de[0],de[1])<=0}))return En(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",pe.InvalidArgument);var U=!a||a.includeLowers!==!1,H=a&&a.includeUppers===!0,J,z=g;function Q(de,ge){return z(de[0],ge[0])}try{(J=se.reduce(function(de,ge){for(var Se=0,Te=de.length;Se<Te;++Se){var je=de[Se];if(m(ge[0],je[1])<0&&0<m(ge[1],je[0])){je[0]=D(je[0],ge[0]),je[1]=N(je[1],ge[1]);break}}return Se===Te&&de.push(ge),de},[])).sort(Q)}catch{return En(this,Bn)}var V=0,G=H?function(de){return 0<g(de,J[V][1])}:function(de){return 0<=g(de,J[V][1])},X=U?function(de){return 0<y(de,J[V][0])}:function(de){return 0<=y(de,J[V][0])},q=G,se=new this.Collection(this,function(){return rr(J[0][0],J[J.length-1][1],!U,!H)});return se._ondirectionchange=function(de){z=de==="next"?(q=G,g):(q=X,y),J.sort(Q)},se._addAlgorithm(function(de,ge,Se){for(var Te,je=de.key;q(je);)if(++V===J.length)return ge(Se),!1;return!G(Te=je)&&!X(Te)||(c._cmp(je,J[V][1])===0||c._cmp(je,J[V][0])===0||ge(function(){z===g?de.continue(J[V][0]):de.continue(J[V][1])}),!1)}),se},Gt.prototype.startsWithAnyOf=function(){var i=L.apply(C,arguments);return i.every(function(a){return typeof a=="string"})?i.length===0?_r(this):this.inAnyRange(i.map(function(a){return[a,a+Nt]})):En(this,"startsWithAnyOf() only works with strings")},Gt);function Gt(){}function on(i){return at(function(a){return Er(a),i(a.target.error),!1})}function Er(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Dr="storagemutated",Cr="x-storagemutated-1",ir=mr(null,Dr),$r=(Jn.prototype._lock=function(){return T(!Ue.global),++this._reculock,this._reculock!==1||Ue.global||(Ue.lockOwnerFor=this),this},Jn.prototype._unlock=function(){if(T(!Ue.global),--this._reculock==0)for(Ue.global||(Ue.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{jt(i[1],i[0])}catch{}}return this},Jn.prototype._locked=function(){return this._reculock&&Ue.lockOwnerFor!==this},Jn.prototype.create=function(i){var a=this;if(!this.mode)return this;var c=this.db.idbdb,m=this.db._state.dbOpenError;if(T(!this.idbtrans),!i&&!c)switch(m&&m.name){case"DatabaseClosedError":throw new pe.DatabaseClosed(m);case"MissingAPIError":throw new pe.MissingAPI(m.message,m);default:throw new pe.OpenFailed(m)}if(!this.active)throw new pe.TransactionInactive;return T(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=at(function(g){Er(g),a._reject(i.error)}),i.onabort=at(function(g){Er(g),a.active&&a._reject(new pe.Abort(i.error)),a.active=!1,a.on("abort").fire(g)}),i.oncomplete=at(function(){a.active=!1,a._resolve(),"mutatedParts"in i&&ir.storagemutated.fire(i.mutatedParts)}),this},Jn.prototype._promise=function(i,a,c){var m=this;if(i==="readwrite"&&this.mode!=="readwrite")return Pt(new pe.ReadOnly("Transaction is readonly"));if(!this.active)return Pt(new pe.TransactionInactive);if(this._locked())return new Ae(function(y,D){m._blockedFuncs.push([function(){m._promise(i,a,c).then(y,D)},Ue])});if(c)return Nn(function(){var y=new Ae(function(D,N){m._lock();var U=a(D,N,m);U&&U.then&&U.then(D,N)});return y.finally(function(){return m._unlock()}),y._lib=!0,y});var g=new Ae(function(y,D){var N=a(y,D,m);N&&N.then&&N.then(y,D)});return g._lib=!0,g},Jn.prototype._root=function(){return this.parent?this.parent._root():this},Jn.prototype.waitFor=function(i){var a,c=this._root(),m=Ae.resolve(i);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return m}):(c._waitingFor=m,c._waitingQueue=[],a=c.idbtrans.objectStore(c.storeNames[0]),function y(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(a.get(-1/0).onsuccess=y)}());var g=c._waitingFor;return new Ae(function(y,D){m.then(function(N){return c._waitingQueue.push(at(y.bind(null,N)))},function(N){return c._waitingQueue.push(at(D.bind(null,N)))}).finally(function(){c._waitingFor===g&&(c._waitingFor=null)})})},Jn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new pe.Abort))},Jn.prototype.table=function(i){var a=this._memoizedTables||(this._memoizedTables={});if(b(a,i))return a[i];var c=this.schema[i];if(!c)throw new pe.NotFound("Table "+i+" not part of transaction");return c=new this.db.Table(i,c,this),c.core=this.db.core.table(i),a[i]=c},Jn);function Jn(){}function Vn(i,a,c,m,g,y,D){return{name:i,keyPath:a,unique:c,multi:m,auto:g,compound:y,src:(c&&!D?"&":"")+(m?"*":"")+(g?"++":"")+yi(a)}}function yi(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Hr(i,a,c){return{name:i,primKey:a,indexes:c,mappedClass:null,idxByName:(m=function(g){return[g.name,g]},c.reduce(function(g,y,D){return D=m(y,D),D&&(g[D[0]]=D[1]),g},{}))};var m}var Tr=function(i){try{return i.only([[]]),Tr=function(){return[[]]},[[]]}catch{return Tr=function(){return Nt},Nt}};function ei(i){return i==null?function(){}:typeof i=="string"?(a=i).split(".").length===1?function(c){return c[a]}:function(c){return oe(c,a)}:function(c){return oe(c,i)};var a}function wi(i){return[].slice.call(i)}var xi=0;function Ir(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function $i(i,a,U){function m(q){if(q.type===3)return null;if(q.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var V=q.lower,G=q.upper,X=q.lowerOpen,q=q.upperOpen;return V===void 0?G===void 0?null:a.upperBound(G,!!q):G===void 0?a.lowerBound(V,!!X):a.bound(V,G,!!X,!!q)}function g(Q){var V,G=Q.name;return{name:G,schema:Q,mutate:function(X){var q=X.trans,se=X.type,de=X.keys,ge=X.values,Se=X.range;return new Promise(function(Te,je){Te=at(Te);var Oe=q.objectStore(G),Ke=Oe.keyPath==null,He=se==="put"||se==="add";if(!He&&se!=="delete"&&se!=="deleteRange")throw new Error("Invalid operation type: "+se);var ze,ot=(de||ge||{length:1}).length;if(de&&ge&&de.length!==ge.length)throw new Error("Given keys array must have same length as given values array.");if(ot===0)return Te({numFailures:0,failures:{},results:[],lastResult:void 0});function ut(Tn){++$n,Er(Tn)}var gt=[],mt=[],$n=0;if(se==="deleteRange"){if(Se.type===4)return Te({numFailures:$n,failures:mt,results:[],lastResult:void 0});Se.type===3?gt.push(ze=Oe.clear()):gt.push(ze=Oe.delete(m(Se)))}else{var Ke=He?Ke?[ge,de]:[ge,null]:[de,null],pt=Ke[0],vn=Ke[1];if(He)for(var bn=0;bn<ot;++bn)gt.push(ze=vn&&vn[bn]!==void 0?Oe[se](pt[bn],vn[bn]):Oe[se](pt[bn])),ze.onerror=ut;else for(bn=0;bn<ot;++bn)gt.push(ze=Oe[se](pt[bn])),ze.onerror=ut}function Ai(Tn){Tn=Tn.target.result,gt.forEach(function(Mr,gl){return Mr.error!=null&&(mt[gl]=Mr.error)}),Te({numFailures:$n,failures:mt,results:se==="delete"?de:gt.map(function(Mr){return Mr.result}),lastResult:Tn})}ze.onerror=function(Tn){ut(Tn),Ai(Tn)},ze.onsuccess=Ai})},getMany:function(X){var q=X.trans,se=X.keys;return new Promise(function(de,ge){de=at(de);for(var Se,Te=q.objectStore(G),je=se.length,Oe=new Array(je),Ke=0,He=0,ze=function(gt){gt=gt.target,Oe[gt._pos]=gt.result,++He===Ke&&de(Oe)},ot=on(ge),ut=0;ut<je;++ut)se[ut]!=null&&((Se=Te.get(se[ut]))._pos=ut,Se.onsuccess=ze,Se.onerror=ot,++Ke);Ke===0&&de(Oe)})},get:function(X){var q=X.trans,se=X.key;return new Promise(function(de,ge){de=at(de);var Se=q.objectStore(G).get(se);Se.onsuccess=function(Te){return de(Te.target.result)},Se.onerror=on(ge)})},query:(V=H,function(X){return new Promise(function(q,se){q=at(q);var de,ge,Se,Ke=X.trans,Te=X.values,je=X.limit,ze=X.query,Oe=je===1/0?void 0:je,He=ze.index,ze=ze.range,Ke=Ke.objectStore(G),He=He.isPrimaryKey?Ke:Ke.index(He.name),ze=m(ze);if(je===0)return q({result:[]});V?((Oe=Te?He.getAll(ze,Oe):He.getAllKeys(ze,Oe)).onsuccess=function(ot){return q({result:ot.target.result})},Oe.onerror=on(se)):(de=0,ge=!Te&&"openKeyCursor"in He?He.openKeyCursor(ze):He.openCursor(ze),Se=[],ge.onsuccess=function(ot){var ut=ge.result;return ut?(Se.push(Te?ut.value:ut.primaryKey),++de===je?q({result:Se}):void ut.continue()):q({result:Se})},ge.onerror=on(se))})}),openCursor:function(X){var q=X.trans,se=X.values,de=X.query,ge=X.reverse,Se=X.unique;return new Promise(function(Te,je){Te=at(Te);var He=de.index,Oe=de.range,Ke=q.objectStore(G),Ke=He.isPrimaryKey?Ke:Ke.index(He.name),He=ge?Se?"prevunique":"prev":Se?"nextunique":"next",ze=!se&&"openKeyCursor"in Ke?Ke.openKeyCursor(m(Oe),He):Ke.openCursor(m(Oe),He);ze.onerror=on(je),ze.onsuccess=at(function(ot){var ut,gt,mt,$n,pt=ze.result;pt?(pt.___id=++xi,pt.done=!1,ut=pt.continue.bind(pt),gt=(gt=pt.continuePrimaryKey)&&gt.bind(pt),mt=pt.advance.bind(pt),$n=function(){throw new Error("Cursor not stopped")},pt.trans=q,pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=function(){throw new Error("Cursor not started")},pt.fail=at(je),pt.next=function(){var vn=this,bn=1;return this.start(function(){return bn--?vn.continue():vn.stop()}).then(function(){return vn})},pt.start=function(vn){function bn(){if(ze.result)try{vn()}catch(Tn){pt.fail(Tn)}else pt.done=!0,pt.start=function(){throw new Error("Cursor behind last entry")},pt.stop()}var Ai=new Promise(function(Tn,Mr){Tn=at(Tn),ze.onerror=on(Mr),pt.fail=Mr,pt.stop=function(gl){pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=$n,Tn(gl)}});return ze.onsuccess=at(function(Tn){ze.onsuccess=bn,bn()}),pt.continue=ut,pt.continuePrimaryKey=gt,pt.advance=mt,bn(),Ai},Te(pt)):Te(null)},je)})},count:function(X){var q=X.query,se=X.trans,de=q.index,ge=q.range;return new Promise(function(Se,Te){var je=se.objectStore(G),Oe=de.isPrimaryKey?je:je.index(de.name),je=m(ge),Oe=je?Oe.count(je):Oe.count();Oe.onsuccess=at(function(Ke){return Se(Ke.target.result)}),Oe.onerror=on(Te)})}}}var y,D,N,J=(D=U,N=wi((y=i).objectStoreNames),{schema:{name:y.name,tables:N.map(function(Q){return D.objectStore(Q)}).map(function(Q){var V=Q.keyPath,q=Q.autoIncrement,G=u(V),X={},q={name:Q.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:V==null,compound:G,keyPath:V,autoIncrement:q,unique:!0,extractKey:ei(V)},indexes:wi(Q.indexNames).map(function(se){return Q.index(se)}).map(function(Se){var de=Se.name,ge=Se.unique,Te=Se.multiEntry,Se=Se.keyPath,Te={name:de,compound:u(Se),keyPath:Se,unique:ge,multiEntry:Te,extractKey:ei(Se)};return X[Ir(Se)]=Te}),getIndexByKeyPath:function(se){return X[Ir(se)]}};return X[":id"]=q.primaryKey,V!=null&&(X[Ir(V)]=q.primaryKey),q})},hasGetAll:0<N.length&&"getAll"in D.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),U=J.schema,H=J.hasGetAll,J=U.tables.map(g),z={};return J.forEach(function(Q){return z[Q.name]=Q}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(Q){if(!z[Q])throw new Error("Table '".concat(Q,"' not found"));return z[Q]},MIN_KEY:-1/0,MAX_KEY:Tr(a),schema:U}}function el(i,a,c,m){var g=c.IDBKeyRange;return c.indexedDB,{dbcore:(m=$i(a,g,m),i.dbcore.reduce(function(y,D){return D=D.create,r(r({},y),D(y))},m))}}function Vr(i,m){var c=m.db,m=el(i._middlewares,c,i._deps,m);i.core=m.dbcore,i.tables.forEach(function(g){var y=g.name;i.core.schema.tables.some(function(D){return D.name===y})&&(g.core=i.core.table(y),i[y]instanceof i.Table&&(i[y].core=g.core))})}function Ur(i,a,c,m){c.forEach(function(g){var y=m[g];a.forEach(function(D){var N=function U(H,J){return B(H,J)||(H=d(H))&&U(H,J)}(D,g);(!N||"value"in N&&N.value===void 0)&&(D===i.Transaction.prototype||D instanceof i.Transaction?S(D,g,{get:function(){return this.table(g)},set:function(U){P(this,g,{value:U,writable:!0,configurable:!0,enumerable:!0})}}):D[g]=new i.Table(g,y))})})}function w(i,a){a.forEach(function(c){for(var m in c)c[m]instanceof i.Table&&delete c[m]})}function Ie(i,a){return i._cfg.version-a._cfg.version}function lt(i,a,c,m){var g=i._dbSchema;c.objectStoreNames.contains("$meta")&&!g.$meta&&(g.$meta=Hr("$meta",Vl("")[0],[]),i._storeNames.push("$meta"));var y=i._createTransaction("readwrite",i._storeNames,g);y.create(c),y._completion.catch(m);var D=y._reject.bind(y),N=Ue.transless||Ue;Nn(function(){return Ue.trans=y,Ue.transless=N,a!==0?(Vr(i,c),H=a,((U=y).storeNames.includes("$meta")?U.table("$meta").get("version").then(function(J){return J??H}):Ae.resolve(H)).then(function(J){return Q=J,V=y,G=c,X=[],J=(z=i)._versions,q=z._dbSchema=Un(0,z.idbdb,G),(J=J.filter(function(se){return se._cfg.version>=Q})).length!==0?(J.forEach(function(se){X.push(function(){var de=q,ge=se._cfg.dbschema;lr(z,de,G),lr(z,ge,G),q=z._dbSchema=ge;var Se=Ht(de,ge);Se.add.forEach(function(He){Dn(G,He[0],He[1].primKey,He[1].indexes)}),Se.change.forEach(function(He){if(He.recreate)throw new pe.Upgrade("Not yet support for changing primary key");var ze=G.objectStore(He.name);He.add.forEach(function(ot){return gn(ze,ot)}),He.change.forEach(function(ot){ze.deleteIndex(ot.name),gn(ze,ot)}),He.del.forEach(function(ot){return ze.deleteIndex(ot)})});var Te=se._cfg.contentUpgrade;if(Te&&se._cfg.version>Q){Vr(z,G),V._memoizedTables={};var je=Ce(ge);Se.del.forEach(function(He){je[He]=de[He]}),w(z,[z.Transaction.prototype]),Ur(z,[z.Transaction.prototype],s(je),je),V.schema=je;var Oe,Ke=j(Te);return Ke&&kn(),Se=Ae.follow(function(){var He;(Oe=Te(V))&&Ke&&(He=xt.bind(null,null),Oe.then(He,He))}),Oe&&typeof Oe.then=="function"?Ae.resolve(Oe):Se.then(function(){return Oe})}}),X.push(function(de){var ge,Se,Te=se._cfg.dbschema;ge=Te,Se=de,[].slice.call(Se.db.objectStoreNames).forEach(function(je){return ge[je]==null&&Se.db.deleteObjectStore(je)}),w(z,[z.Transaction.prototype]),Ur(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),V.schema=z._dbSchema}),X.push(function(de){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===se._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(ge){return ge!=="$meta"})):de.objectStore("$meta").put(se._cfg.version,"version"))})}),function se(){return X.length?Ae.resolve(X.shift()(V.idbtrans)).then(se):Ae.resolve()}().then(function(){Cn(q,G)})):Ae.resolve();var z,Q,V,G,X,q}).catch(D)):(s(g).forEach(function(J){Dn(c,J,g[J].primKey,g[J].indexes)}),Vr(i,c),void Ae.follow(function(){return i.on.populate.fire(y)}).catch(D));var U,H})}function rt(i,a){Cn(i._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var c=Un(0,i.idbdb,a);lr(i,i._dbSchema,a);for(var m=0,g=Ht(c,i._dbSchema).change;m<g.length;m++){var y=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=a.objectStore(D.name);D.add.forEach(function(U){_t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(U.src)),gn(N,U)})}(g[m]);if(typeof y=="object")return y.value}}function Ht(i,a){var c,m={del:[],add:[],change:[]};for(c in i)a[c]||m.del.push(c);for(c in a){var g=i[c],y=a[c];if(g){var D={name:c,def:y,recreate:!1,del:[],add:[],change:[]};if(""+(g.primKey.keyPath||"")!=""+(y.primKey.keyPath||"")||g.primKey.auto!==y.primKey.auto)D.recreate=!0,m.change.push(D);else{var N=g.idxByName,U=y.idxByName,H=void 0;for(H in N)U[H]||D.del.push(H);for(H in U){var J=N[H],z=U[H];J?J.src!==z.src&&D.change.push(z):D.add.push(z)}(0<D.del.length||0<D.add.length||0<D.change.length)&&m.change.push(D)}}else m.add.push([c,y])}return m}function Dn(i,a,c,m){var g=i.db.createObjectStore(a,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return m.forEach(function(y){return gn(g,y)}),g}function Cn(i,a){s(i).forEach(function(c){a.db.objectStoreNames.contains(c)||(_t&&console.debug("Dexie: Creating missing table",c),Dn(a,c,i[c].primKey,i[c].indexes))})}function gn(i,a){i.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function Un(i,a,c){var m={};return O(a.objectStoreNames,0).forEach(function(g){for(var y=c.objectStore(g),D=Vn(yi(H=y.keyPath),H||"",!0,!1,!!y.autoIncrement,H&&typeof H!="string",!0),N=[],U=0;U<y.indexNames.length;++U){var J=y.index(y.indexNames[U]),H=J.keyPath,J=Vn(J.name,H,!!J.unique,!!J.multiEntry,!1,H&&typeof H!="string",!1);N.push(J)}m[g]=Hr(g,D,N)}),m}function lr(i,a,c){for(var m=c.db.objectStoreNames,g=0;g<m.length;++g){var y=m[g],D=c.objectStore(y);i._hasGetAll="getAll"in D;for(var N=0;N<D.indexNames.length;++N){var U=D.indexNames[N],H=D.index(U).keyPath,J=typeof H=="string"?H:"["+O(H).join("+")+"]";!a[y]||(H=a[y].idxByName[J])&&(H.name=U,delete a[y].idxByName[J],a[y].idxByName[U]=H)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Vl(i){return i.split(",").map(function(a,c){var m=(a=a.trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(m)?m.match(/^\[(.*)\]$/)[1].split("+"):m;return Vn(m,g||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),u(g),c===0)})}var _o=(ki.prototype._parseStoresSpec=function(i,a){s(i).forEach(function(c){if(i[c]!==null){var m=Vl(i[c]),g=m.shift();if(g.unique=!0,g.multi)throw new pe.Schema("Primary key cannot be multi-valued");m.forEach(function(y){if(y.auto)throw new pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new pe.Schema("Index must have a name and cannot be an empty string")}),a[c]=Hr(c,g,m)}})},ki.prototype.stores=function(c){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c;var c=a._versions,m={},g={};return c.forEach(function(y){f(m,y._cfg.storesSource),g=y._cfg.dbschema={},y._parseStoresSpec(m,g)}),a._dbSchema=g,w(a,[a._allTables,a,a.Transaction.prototype]),Ur(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],s(g),g),a._storeNames=s(g),this},ki.prototype.upgrade=function(i){return this._cfg.contentUpgrade=tt(this._cfg.contentUpgrade||De,i),this},ki);function ki(){}function tl(i,a){var c=i._dbNamesDB;return c||(c=i._dbNamesDB=new fr(br,{addons:[],indexedDB:i,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function nl(i){return i&&typeof i.databases=="function"}function rl(i){return Nn(function(){return Ue.letThrough=!0,i()})}function il(i){return!("from"in i)}var _n=function(i,a){if(!this){var c=new _n;return i&&"d"in i&&f(c,i),c}f(this,arguments.length?{d:1,from:i,to:1<arguments.length?a:i}:{d:0})};function ti(i,a,c){var m=It(a,c);if(!isNaN(m)){if(0<m)throw RangeError();if(il(i))return f(i,{from:a,to:c,d:1});var g=i.l,m=i.r;if(It(c,i.from)<0)return g?ti(g,a,c):i.l={from:a,to:c,d:1,l:null,r:null},Ul(i);if(0<It(a,i.to))return m?ti(m,a,c):i.r={from:a,to:c,d:1,l:null,r:null},Ul(i);It(a,i.from)<0&&(i.from=a,i.l=null,i.d=m?m.d+1:1),0<It(c,i.to)&&(i.to=c,i.r=null,i.d=i.l?i.l.d+1:1),c=!i.r,g&&!i.l&&ni(i,g),m&&c&&ni(i,m)}}function ni(i,a){il(a)||function c(m,U){var y=U.from,D=U.to,N=U.l,U=U.r;ti(m,y,D),N&&c(m,N),U&&c(m,U)}(i,a)}function Si(i,a){var c=ll(a),m=c.next();if(m.done)return!1;for(var g=m.value,y=ll(i),D=y.next(g.from),N=D.value;!m.done&&!D.done;){if(It(N.from,g.to)<=0&&0<=It(N.to,g.from))return!0;It(g.from,N.from)<0?g=(m=c.next(N.from)).value:N=(D=y.next(g.from)).value}return!1}function ll(i){var a=il(i)?null:{s:0,n:i};return{next:function(c){for(var m=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,m)for(;a.n.l&&It(c,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!m||It(c,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function Ul(i){var a,c,m=(((a=i.r)===null||a===void 0?void 0:a.d)||0)-(((c=i.l)===null||c===void 0?void 0:c.d)||0),g=1<m?"r":m<-1?"l":"";g&&(a=g=="r"?"l":"r",c=r({},i),m=i[g],i.from=m.from,i.to=m.to,i[g]=m[g],c[g]=m[a],(i[a]=c).d=ql(c)),i.d=ql(i)}function ql(c){var a=c.r,c=c.l;return(a?c?Math.max(a.d,c.d):a.d:c?c.d:0)+1}function Ei(i,a){return s(a).forEach(function(c){i[c]?ni(i[c],a[c]):i[c]=function m(g){var y,D,N={};for(y in g)b(g,y)&&(D=g[y],N[y]=!D||typeof D!="object"||be.has(D.constructor)?D:m(D));return N}(a[c])}),i}function sl(i,a){return i.all||a.all||Object.keys(i).some(function(c){return a[c]&&Si(a[c],i[c])})}k(_n.prototype,((Qn={add:function(i){return ni(this,i),this},addKey:function(i){return ti(this,i,i),this},addKeys:function(i){var a=this;return i.forEach(function(c){return ti(a,c,c)}),this}})[_e]=function(){return ll(this)},Qn));var Ar={},al={},ol=!1;function Di(i){Ei(al,i),ol||(ol=!0,setTimeout(function(){ol=!1,ul(al,!(al={}))},0))}function ul(i,a){a===void 0&&(a=!1);var c=new Set;if(i.all)for(var m=0,g=Object.values(Ar);m<g.length;m++)Gl(D=g[m],i,c,a);else for(var y in i){var D,N=/^idb\:\/\/(.*)\/(.*)\//.exec(y);N&&(y=N[1],N=N[2],(D=Ar["idb://".concat(y,"/").concat(N)])&&Gl(D,i,c,a))}c.forEach(function(U){return U()})}function Gl(i,a,c,m){for(var g=[],y=0,D=Object.entries(i.queries.query);y<D.length;y++){for(var N=D[y],U=N[0],H=[],J=0,z=N[1];J<z.length;J++){var Q=z[J];sl(a,Q.obsSet)?Q.subscribers.forEach(function(q){return c.add(q)}):m&&H.push(Q)}m&&g.push([U,H])}if(m)for(var V=0,G=g;V<G.length;V++){var X=G[V],U=X[0],H=X[1];i.queries.query[U]=H}}function vo(i){var a=i._state,c=i._deps.indexedDB;if(a.isBeingOpened||i.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?Pt(a.dbOpenError):i});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var m=a.openCanceller,g=Math.round(10*i.verno),y=!1;function D(){if(a.openCanceller!==m)throw new pe.DatabaseClosed("db.open() was cancelled")}function N(){return new Ae(function(Q,V){if(D(),!c)throw new pe.MissingAPI;var G=i.name,X=a.autoSchema||!g?c.open(G):c.open(G,g);if(!X)throw new pe.MissingAPI;X.onerror=on(V),X.onblocked=at(i._fireOnBlocked),X.onupgradeneeded=at(function(q){var se;J=X.transaction,a.autoSchema&&!i._options.allowEmptyDB?(X.onerror=Er,J.abort(),X.result.close(),(se=c.deleteDatabase(G)).onsuccess=se.onerror=at(function(){V(new pe.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(J.onerror=on(V),q=q.oldVersion>Math.pow(2,62)?0:q.oldVersion,z=q<1,i.idbdb=X.result,y&&rt(i,J),lt(i,q/10,J,V))},V),X.onsuccess=at(function(){J=null;var q,se,de,ge,Se,Te=i.idbdb=X.result,je=O(Te.objectStoreNames);if(0<je.length)try{var Oe=Te.transaction((ge=je).length===1?ge[0]:ge,"readonly");if(a.autoSchema)se=Te,de=Oe,(q=i).verno=se.version/10,de=q._dbSchema=Un(0,se,de),q._storeNames=O(se.objectStoreNames,0),Ur(q,[q._allTables],s(de),de);else if(lr(i,i._dbSchema,Oe),((Se=Ht(Un(0,(Se=i).idbdb,Oe),Se._dbSchema)).add.length||Se.change.some(function(Ke){return Ke.add.length||Ke.change.length}))&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Te.close(),g=Te.version+1,y=!0,Q(N());Vr(i,Oe)}catch{}Yn.push(i),Te.onversionchange=at(function(Ke){a.vcFired=!0,i.on("versionchange").fire(Ke)}),Te.onclose=at(function(Ke){i.on("close").fire(Ke)}),z&&(Se=i._deps,Oe=G,Te=Se.indexedDB,Se=Se.IDBKeyRange,nl(Te)||Oe===br||tl(Te,Se).put({name:Oe}).catch(De)),Q()},V)}).catch(function(Q){switch(Q==null?void 0:Q.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<g)return g=0,N()}return Ae.reject(Q)})}var U,H=a.dbReadyResolve,J=null,z=!1;return Ae.race([m,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Q){function V(){return indexedDB.databases().finally(Q)}U=setInterval(V,100),V()}).finally(function(){return clearInterval(U)}):Promise.resolve()).then(N)]).then(function(){return D(),a.onReadyBeingFired=[],Ae.resolve(rl(function(){return i.on.ready.fire(i.vip)})).then(function Q(){if(0<a.onReadyBeingFired.length){var V=a.onReadyBeingFired.reduce(tt,De);return a.onReadyBeingFired=[],Ae.resolve(rl(function(){return V(i.vip)})).then(Q)}})}).finally(function(){a.openCanceller===m&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(Q){a.dbOpenError=Q;try{J&&J.abort()}catch{}return m===a.openCanceller&&i._close(),Pt(Q)}).finally(function(){a.openComplete=!0,H()}).then(function(){var Q;return z&&(Q={},i.tables.forEach(function(V){V.schema.indexes.forEach(function(G){G.name&&(Q["idb://".concat(i.name,"/").concat(V.name,"/").concat(G.name)]=new _n(-1/0,[[[]]]))}),Q["idb://".concat(i.name,"/").concat(V.name,"/")]=Q["idb://".concat(i.name,"/").concat(V.name,"/:dels")]=new _n(-1/0,[[[]]])}),ir(Dr).fire(Q),ul(Q,!0)),i})}function cl(i){function a(y){return i.next(y)}var c=g(a),m=g(function(y){return i.throw(y)});function g(y){return function(U){var N=y(U),U=N.value;return N.done?U:U&&typeof U.then=="function"?U.then(c,m):u(U)?Promise.all(U).then(c,m):c(U)}}return g(a)()}function Ci(i,a,c){for(var m=u(i)?i.slice():[i],g=0;g<c;++g)m.push(a);return m}var bo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(a){var c=i.table(a),m=c.schema,g={},y=[];function D(z,Q,V){var G=Ir(z),X=g[G]=g[G]||[],q=z==null?0:typeof z=="string"?1:z.length,se=0<Q,se=r(r({},V),{name:se?"".concat(G,"(virtual-from:").concat(V.name,")"):V.name,lowLevelIndex:V,isVirtual:se,keyTail:Q,keyLength:q,extractKey:ei(z),unique:!se&&V.unique});return X.push(se),se.isPrimaryKey||y.push(se),1<q&&D(q===2?z[0]:z.slice(0,q-1),Q+1,V),X.sort(function(de,ge){return de.keyTail-ge.keyTail}),se}a=D(m.primaryKey.keyPath,0,m.primaryKey),g[":id"]=[a];for(var N=0,U=m.indexes;N<U.length;N++){var H=U[N];D(H.keyPath,0,H)}function J(z){var Q,V=z.query.index;return V.isVirtual?r(r({},z),{query:{index:V.lowLevelIndex,range:(Q=z.query.range,V=V.keyTail,{type:Q.type===1?2:Q.type,lower:Ci(Q.lower,Q.lowerOpen?i.MAX_KEY:i.MIN_KEY,V),lowerOpen:!0,upper:Ci(Q.upper,Q.upperOpen?i.MIN_KEY:i.MAX_KEY,V),upperOpen:!0})}}):z}return r(r({},c),{schema:r(r({},m),{primaryKey:a,indexes:y,getIndexByKeyPath:function(z){return(z=g[Ir(z)])&&z[0]}}),count:function(z){return c.count(J(z))},query:function(z){return c.query(J(z))},openCursor:function(z){var Q=z.query.index,V=Q.keyTail,G=Q.isVirtual,X=Q.keyLength;return G?c.openCursor(J(z)).then(function(se){return se&&q(se)}):c.openCursor(z);function q(se){return Object.create(se,{continue:{value:function(de){de!=null?se.continue(Ci(de,z.reverse?i.MAX_KEY:i.MIN_KEY,V)):z.unique?se.continue(se.key.slice(0,X).concat(z.reverse?i.MIN_KEY:i.MAX_KEY,V)):se.continue()}},continuePrimaryKey:{value:function(de,ge){se.continuePrimaryKey(Ci(de,i.MAX_KEY,V),ge)}},primaryKey:{get:function(){return se.primaryKey}},key:{get:function(){var de=se.key;return X===1?de[0]:de.slice(0,X)}},value:{get:function(){return se.value}}})}}})}})}};function fl(i,a,c,m){return c=c||{},m=m||"",s(i).forEach(function(g){var y,D,N;b(a,g)?(y=i[g],D=a[g],typeof y=="object"&&typeof D=="object"&&y&&D?(N=ye(y))!==ye(D)?c[m+g]=a[g]:N==="Object"?fl(y,D,c,m+g+"."):y!==D&&(c[m+g]=a[g]):y!==D&&(c[m+g]=a[g])):c[m+g]=void 0}),s(a).forEach(function(g){b(i,g)||(c[m+g]=a[g])}),c}function dl(i,a){return a.type==="delete"?a.keys:a.keys||a.values.map(i.extractKey)}var yo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(a){var c=i.table(a),m=c.schema.primaryKey;return r(r({},c),{mutate:function(g){var y=Ue.trans,D=y.table(a).hook,N=D.deleting,U=D.creating,H=D.updating;switch(g.type){case"add":if(U.fire===De)break;return y._promise("readwrite",function(){return J(g)},!0);case"put":if(U.fire===De&&H.fire===De)break;return y._promise("readwrite",function(){return J(g)},!0);case"delete":if(N.fire===De)break;return y._promise("readwrite",function(){return J(g)},!0);case"deleteRange":if(N.fire===De)break;return y._promise("readwrite",function(){return function z(Q,V,G){return c.query({trans:Q,values:!1,query:{index:m,range:V},limit:G}).then(function(X){var q=X.result;return J({type:"delete",keys:q,trans:Q}).then(function(se){return 0<se.numFailures?Promise.reject(se.failures[0]):q.length<G?{failures:[],numFailures:0,lastResult:void 0}:z(Q,r(r({},V),{lower:q[q.length-1],lowerOpen:!0}),G)})})}(g.trans,g.range,1e4)},!0)}return c.mutate(g);function J(z){var Q,V,G,X=Ue.trans,q=z.keys||dl(m,z);if(!q)throw new Error("Keys missing");return(z=z.type==="add"||z.type==="put"?r(r({},z),{keys:q}):r({},z)).type!=="delete"&&(z.values=l([],z.values)),z.keys&&(z.keys=l([],z.keys)),Q=c,G=q,((V=z).type==="add"?Promise.resolve([]):Q.getMany({trans:V.trans,keys:G,cache:"immutable"})).then(function(se){var de=q.map(function(ge,Se){var Te,je,Oe,Ke=se[Se],He={onerror:null,onsuccess:null};return z.type==="delete"?N.fire.call(He,ge,Ke,X):z.type==="add"||Ke===void 0?(Te=U.fire.call(He,ge,z.values[Se],X),ge==null&&Te!=null&&(z.keys[Se]=ge=Te,m.outbound||Z(z.values[Se],m.keyPath,ge))):(Te=fl(Ke,z.values[Se]),(je=H.fire.call(He,Te,ge,Ke,X))&&(Oe=z.values[Se],Object.keys(je).forEach(function(ze){b(Oe,ze)?Oe[ze]=je[ze]:Z(Oe,ze,je[ze])}))),He});return c.mutate(z).then(function(ge){for(var Se=ge.failures,Te=ge.results,je=ge.numFailures,ge=ge.lastResult,Oe=0;Oe<q.length;++Oe){var Ke=(Te||q)[Oe],He=de[Oe];Ke==null?He.onerror&&He.onerror(Se[Oe]):He.onsuccess&&He.onsuccess(z.type==="put"&&se[Oe]?z.values[Oe]:Ke)}return{failures:Se,results:Te,numFailures:je,lastResult:ge}}).catch(function(ge){return de.forEach(function(Se){return Se.onerror&&Se.onerror(ge)}),Promise.reject(ge)})})}}})}})}};function Wl(i,a,c){try{if(!a||a.keys.length<i.length)return null;for(var m=[],g=0,y=0;g<a.keys.length&&y<i.length;++g)It(a.keys[g],i[y])===0&&(m.push(c?he(a.values[g]):a.values[g]),++y);return m.length===i.length?m:null}catch{return null}}var wo={stack:"dbcore",level:-1,create:function(i){return{table:function(a){var c=i.table(a);return r(r({},c),{getMany:function(m){if(!m.cache)return c.getMany(m);var g=Wl(m.keys,m.trans._cache,m.cache==="clone");return g?Ae.resolve(g):c.getMany(m).then(function(y){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?he(y):y},y})},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),c.mutate(m)}})}}}};function Yl(i,a){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function Zl(i,a){switch(i){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ko={stack:"dbcore",level:0,name:"Observability",create:function(i){var a=i.schema.name,c=new _n(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(m,g,y){if(Ue.subscr&&g!=="readonly")throw new pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ue.querier));return i.transaction(m,g,y)},table:function(m){var g=i.table(m),y=g.schema,D=y.primaryKey,z=y.indexes,N=D.extractKey,U=D.outbound,H=D.autoIncrement&&z.filter(function(V){return V.compound&&V.keyPath.includes(D.keyPath)}),J=r(r({},g),{mutate:function(V){function G(ze){return ze="idb://".concat(a,"/").concat(m,"/").concat(ze),ge[ze]||(ge[ze]=new _n)}var X,q,se,de=V.trans,ge=V.mutatedParts||(V.mutatedParts={}),Se=G(""),Te=G(":dels"),je=V.type,He=V.type==="deleteRange"?[V.range]:V.type==="delete"?[V.keys]:V.values.length<50?[dl(D,V).filter(function(ze){return ze}),V.values]:[],Oe=He[0],Ke=He[1],He=V.trans._cache;return u(Oe)?(Se.addKeys(Oe),(He=je==="delete"||Oe.length===Ke.length?Wl(Oe,He):null)||Te.addKeys(Oe),(He||Ke)&&(X=G,q=He,se=Ke,y.indexes.forEach(function(ze){var ot=X(ze.name||"");function ut(mt){return mt!=null?ze.extractKey(mt):null}function gt(mt){return ze.multiEntry&&u(mt)?mt.forEach(function($n){return ot.addKey($n)}):ot.addKey(mt)}(q||se).forEach(function(mt,vn){var pt=q&&ut(q[vn]),vn=se&&ut(se[vn]);It(pt,vn)!==0&&(pt!=null&&gt(pt),vn!=null&&gt(vn))})}))):Oe?(Ke={from:Oe.lower,to:Oe.upper},Te.add(Ke),Se.add(Ke)):(Se.add(c),Te.add(c),y.indexes.forEach(function(ze){return G(ze.name).add(c)})),g.mutate(V).then(function(ze){return!Oe||V.type!=="add"&&V.type!=="put"||(Se.addKeys(ze.results),H&&H.forEach(function(ot){var ut=V.values.map(function(mt){return ot.extractKey(mt)}),gt=ot.keyPath.findIndex(function(mt){return mt===D.keyPath});ze.results.forEach(function(mt){return ut[gt]=mt}),G(ot.name).addKeys(ut)})),de.mutatedParts=Ei(de.mutatedParts||{},ge),ze})}}),z=function(G){var X=G.query,G=X.index,X=X.range;return[G,new _n((G=X.lower)!==null&&G!==void 0?G:i.MIN_KEY,(X=X.upper)!==null&&X!==void 0?X:i.MAX_KEY)]},Q={get:function(V){return[D,new _n(V.key)]},getMany:function(V){return[D,new _n().addKeys(V.keys)]},count:z,query:z,openCursor:z};return s(Q).forEach(function(V){J[V]=function(G){var X=Ue.subscr,q=!!X,se=Yl(Ue,g)&&Zl(V,G)?G.obsSet={}:X;if(q){var de=function(Ke){return Ke="idb://".concat(a,"/").concat(m,"/").concat(Ke),se[Ke]||(se[Ke]=new _n)},ge=de(""),Se=de(":dels"),X=Q[V](G),q=X[0],X=X[1];if((V==="query"&&q.isPrimaryKey&&!G.values?Se:de(q.name||"")).add(X),!q.isPrimaryKey){if(V!=="count"){var Te=V==="query"&&U&&G.values&&g.query(r(r({},G),{values:!1}));return g[V].apply(this,arguments).then(function(Ke){if(V==="query"){if(U&&G.values)return Te.then(function(ut){return ut=ut.result,ge.addKeys(ut),Ke});var He=G.values?Ke.result.map(N):Ke.result;(G.values?ge:Se).addKeys(He)}else if(V==="openCursor"){var ze=Ke,ot=G.values;return ze&&Object.create(ze,{key:{get:function(){return Se.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var ut=ze.primaryKey;return Se.addKey(ut),ut}},value:{get:function(){return ot&&ge.addKey(ze.primaryKey),ze.value}}})}return Ke})}Se.add(c)}}return g[V].apply(this,arguments)}}),J}})}};function Jl(i,a,c){if(c.numFailures===0)return a;if(a.type==="deleteRange")return null;var m=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return c.numFailures===m?null:(a=r({},a),u(a.keys)&&(a.keys=a.keys.filter(function(g,y){return!(y in c.failures)})),"values"in a&&u(a.values)&&(a.values=a.values.filter(function(g,y){return!(y in c.failures)})),a)}function hl(i,a){return c=i,((m=a).lower===void 0||(m.lowerOpen?0<It(c,m.lower):0<=It(c,m.lower)))&&(i=i,(a=a).upper===void 0||(a.upperOpen?It(i,a.upper)<0:It(i,a.upper)<=0));var c,m}function Ql(i,a,Q,m,g,y){if(!Q||Q.length===0)return i;var D=a.query.index,N=D.multiEntry,U=a.query.range,H=m.schema.primaryKey.extractKey,J=D.extractKey,z=(D.lowLevelIndex||D).extractKey,Q=Q.reduce(function(V,G){var X=V,q=G.type==="add"||G.type==="put"?G.values.filter(function(Se){return Se=J(Se),N&&u(Se)?Se.some(function(Te){return hl(Te,U)}):hl(Se,U)}).map(function(Se){return Se=he(Se),y&&Object.freeze(Se),Se}):[];switch(G.type){case"add":X=V.concat(a.values?q:q.map(function(Te){return H(Te)}));break;case"put":var se=new _n().addKeys(G.values.map(function(Te){return H(Te)})),X=V.filter(function(Te){return Te=a.values?H(Te):Te,!Si(new _n(Te),se)}).concat(a.values?q:q.map(function(Te){return H(Te)}));break;case"delete":var de=new _n().addKeys(G.keys);X=V.filter(function(Te){return Te=a.values?H(Te):Te,!Si(new _n(Te),de)});break;case"deleteRange":var ge=G.range;X=V.filter(function(Te){return!hl(H(Te),ge)})}return X},i);return Q===i?i:(Q.sort(function(V,G){return It(z(V),z(G))||It(H(V),H(G))}),a.limit&&a.limit<1/0&&(Q.length>a.limit?Q.length=a.limit:i.length===a.limit&&Q.length<a.limit&&(g.dirty=!0)),y?Object.freeze(Q):Q)}function Xl(i,a){return It(i.lower,a.lower)===0&&It(i.upper,a.upper)===0&&!!i.lowerOpen==!!a.lowerOpen&&!!i.upperOpen==!!a.upperOpen}function So(i,a){return function(c,m,g,y){if(c===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((m=It(c,m))===0){if(g&&y)return 0;if(g)return 1;if(y)return-1}return m}(i.lower,a.lower,i.lowerOpen,a.lowerOpen)<=0&&0<=function(c,m,g,y){if(c===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((m=It(c,m))===0){if(g&&y)return 0;if(g)return-1;if(y)return 1}return m}(i.upper,a.upper,i.upperOpen,a.upperOpen)}function Eo(i,a,c,m){i.subscribers.add(c),m.addEventListener("abort",function(){var g,y;i.subscribers.delete(c),i.subscribers.size===0&&(g=i,y=a,setTimeout(function(){g.subscribers.size===0&&ce(y,g)},3e3))})}var Do={stack:"dbcore",level:0,name:"Cache",create:function(i){var a=i.schema.name;return r(r({},i),{transaction:function(c,m,g){var y,D,N=i.transaction(c,m,g);return m==="readwrite"&&(D=(y=new AbortController).signal,g=function(U){return function(){if(y.abort(),m==="readwrite"){for(var H=new Set,J=0,z=c;J<z.length;J++){var Q=z[J],V=Ar["idb://".concat(a,"/").concat(Q)];if(V){var G=i.table(Q),X=V.optimisticOps.filter(function(ot){return ot.trans===N});if(N._explicit&&U&&N.mutatedParts)for(var q=0,se=Object.values(V.queries.query);q<se.length;q++)for(var de=0,ge=(je=se[q]).slice();de<ge.length;de++)sl((Oe=ge[de]).obsSet,N.mutatedParts)&&(ce(je,Oe),Oe.subscribers.forEach(function(ot){return H.add(ot)}));else if(0<X.length){V.optimisticOps=V.optimisticOps.filter(function(ot){return ot.trans!==N});for(var Se=0,Te=Object.values(V.queries.query);Se<Te.length;Se++)for(var je,Oe,Ke,He=0,ze=(je=Te[Se]).slice();He<ze.length;He++)(Oe=ze[He]).res!=null&&N.mutatedParts&&(U&&!Oe.dirty?(Ke=Object.isFrozen(Oe.res),Ke=Ql(Oe.res,Oe.req,X,G,Oe,Ke),Oe.dirty?(ce(je,Oe),Oe.subscribers.forEach(function(ot){return H.add(ot)})):Ke!==Oe.res&&(Oe.res=Ke,Oe.promise=Ae.resolve({result:Ke}))):(Oe.dirty&&ce(je,Oe),Oe.subscribers.forEach(function(ot){return H.add(ot)})))}}}H.forEach(function(ot){return ot()})}}},N.addEventListener("abort",g(!1),{signal:D}),N.addEventListener("error",g(!1),{signal:D}),N.addEventListener("complete",g(!0),{signal:D})),N},table:function(c){var m=i.table(c),g=m.schema.primaryKey;return r(r({},m),{mutate:function(y){var D=Ue.trans;if(g.outbound||D.db._options.cache==="disabled"||D.explicit)return m.mutate(y);var N=Ar["idb://".concat(a,"/").concat(c)];return N?(D=m.mutate(y),y.type!=="add"&&y.type!=="put"||!(50<=y.values.length||dl(g,y).some(function(U){return U==null}))?(N.optimisticOps.push(y),y.mutatedParts&&Di(y.mutatedParts),D.then(function(U){0<U.numFailures&&(ce(N.optimisticOps,y),(U=Jl(0,y,U))&&N.optimisticOps.push(U),y.mutatedParts&&Di(y.mutatedParts))}),D.catch(function(){ce(N.optimisticOps,y),y.mutatedParts&&Di(y.mutatedParts)})):D.then(function(U){var H=Jl(0,r(r({},y),{values:y.values.map(function(V,z){var Q,V=(Q=g.keyPath)!==null&&Q!==void 0&&Q.includes(".")?he(V):r({},V);return Z(V,g.keyPath,U.results[z]),V})}),U);N.optimisticOps.push(H),queueMicrotask(function(){return y.mutatedParts&&Di(y.mutatedParts)})}),D):m.mutate(y)},query:function(y){if(!Yl(Ue,m)||!Zl("query",y))return m.query(y);var D=((H=Ue.trans)===null||H===void 0?void 0:H.db._options.cache)==="immutable",z=Ue,N=z.requery,U=z.signal,H=function(G,X,q,se){var de=Ar["idb://".concat(G,"/").concat(X)];if(!de)return[];if(!(X=de.queries[q]))return[null,!1,de,null];var ge=X[(se.query?se.query.index.name:null)||""];if(!ge)return[null,!1,de,null];switch(q){case"query":var Se=ge.find(function(Te){return Te.req.limit===se.limit&&Te.req.values===se.values&&Xl(Te.req.query.range,se.query.range)});return Se?[Se,!0,de,ge]:[ge.find(function(Te){return("limit"in Te.req?Te.req.limit:1/0)>=se.limit&&(!se.values||Te.req.values)&&So(Te.req.query.range,se.query.range)}),!1,de,ge];case"count":return Se=ge.find(function(Te){return Xl(Te.req.query.range,se.query.range)}),[Se,!!Se,de,ge]}}(a,c,"query",y),J=H[0],z=H[1],Q=H[2],V=H[3];return J&&z?J.obsSet=y.obsSet:(z=m.query(y).then(function(G){var X=G.result;if(J&&(J.res=X),D){for(var q=0,se=X.length;q<se;++q)Object.freeze(X[q]);Object.freeze(X)}else G.result=he(X);return G}).catch(function(G){return V&&J&&ce(V,J),Promise.reject(G)}),J={obsSet:y.obsSet,promise:z,subscribers:new Set,type:"query",req:y,dirty:!1},V?V.push(J):(V=[J],(Q=Q||(Ar["idb://".concat(a,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[y.query.index.name||""]=V)),Eo(J,V,N,U),J.promise.then(function(G){return{result:Ql(G.result,y,Q==null?void 0:Q.optimisticOps,m,J,D)}})}})}})}};function Ti(i,a){return new Proxy(i,{get:function(c,m,g){return m==="db"?a:Reflect.get(c,m,g)}})}var fr=(en.prototype.version=function(i){if(isNaN(i)||i<.1)throw new pe.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var a=this._versions,c=a.filter(function(m){return m._cfg.version===i})[0];return c||(c=new this.Version(i),a.push(c),a.sort(Ie),c.stores({}),this._state.autoSchema=!1,c)},en.prototype._whenReady=function(i){var a=this;return this.idbdb&&(this._state.openComplete||Ue.letThrough||this._vip)?i():new Ae(function(c,m){if(a._state.openComplete)return m(new pe.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void m(new pe.DatabaseClosed);a.open().catch(De)}a._state.dbReadyPromise.then(c,m)}).then(i)},en.prototype.use=function(i){var a=i.stack,c=i.create,m=i.level,g=i.name;return g&&this.unuse({stack:a,name:g}),i=this._middlewares[a]||(this._middlewares[a]=[]),i.push({stack:a,create:c,level:m??10,name:g}),i.sort(function(y,D){return y.level-D.level}),this},en.prototype.unuse=function(i){var a=i.stack,c=i.name,m=i.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(g){return m?g.create!==m:!!c&&g.name!==c})),this},en.prototype.open=function(){var i=this;return jt(Xt,function(){return vo(i)})},en.prototype._close=function(){var i=this._state,a=Yn.indexOf(this);if(0<=a&&Yn.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Ae(function(c){i.dbReadyResolve=c}),i.openCanceller=new Ae(function(c,m){i.cancelOpen=m}))},en.prototype.close=function(c){var a=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;a?(c.isBeingOpened&&c.cancelOpen(new pe.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new pe.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},en.prototype.delete=function(i){var a=this;i===void 0&&(i={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",m=this._state;return new Ae(function(g,y){function D(){a.close(i);var N=a._deps.indexedDB.deleteDatabase(a.name);N.onsuccess=at(function(){var U,H,J;U=a._deps,H=a.name,J=U.indexedDB,U=U.IDBKeyRange,nl(J)||H===br||tl(J,U).delete(H).catch(De),g()}),N.onerror=on(y),N.onblocked=a._fireOnBlocked}if(c)throw new pe.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(D):D()})},en.prototype.backendDB=function(){return this.idbdb},en.prototype.isOpen=function(){return this.idbdb!==null},en.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},en.prototype.hasFailed=function(){return this._state.dbOpenError!==null},en.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(en.prototype,"tables",{get:function(){var i=this;return s(this._allTables).map(function(a){return i._allTables[a]})},enumerable:!1,configurable:!0}),en.prototype.transaction=function(){var i=(function(a,c,m){var g=arguments.length;if(g<2)throw new pe.InvalidArgument("Too few arguments");for(var y=new Array(g-1);--g;)y[g-1]=arguments[g];return m=y.pop(),[a,$(y),m]}).apply(this,arguments);return this._transaction.apply(this,i)},en.prototype._transaction=function(i,a,c){var m=this,g=Ue.trans;g&&g.db===this&&i.indexOf("!")===-1||(g=null);var y,D,N=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(D=a.map(function(H){if(H=H instanceof m.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),i=="r"||i===Zn)y=Zn;else{if(i!="rw"&&i!=zt)throw new pe.InvalidArgument("Invalid transaction mode: "+i);y=zt}if(g){if(g.mode===Zn&&y===zt){if(!N)throw new pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g=null}g&&D.forEach(function(H){if(g&&g.storeNames.indexOf(H)===-1){if(!N)throw new pe.SubTransaction("Table "+H+" not included in parent transaction.");g=null}}),N&&g&&!g.active&&(g=null)}}catch(H){return g?g._promise(null,function(J,z){z(H)}):Pt(H)}var U=(function H(J,z,Q,V,G){return Ae.resolve().then(function(){var X=Ue.transless||Ue,q=J._createTransaction(z,Q,J._dbSchema,V);if(q.explicit=!0,X={trans:q,transless:X},V)q.idbtrans=V.idbtrans;else try{q.create(),q.idbtrans._explicit=!0,J._state.PR1398_maxLoop=3}catch(ge){return ge.name===Ee.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return H(J,z,Q,null,G)})):Pt(ge)}var se,de=j(G);return de&&kn(),X=Ae.follow(function(){var ge;(se=G.call(q,q))&&(de?(ge=xt.bind(null,null),se.then(ge,ge)):typeof se.next=="function"&&typeof se.throw=="function"&&(se=cl(se)))},X),(se&&typeof se.then=="function"?Ae.resolve(se).then(function(ge){return q.active?ge:Pt(new pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return se})).then(function(ge){return V&&q._resolve(),q._completion.then(function(){return ge})}).catch(function(ge){return q._reject(ge),Pt(ge)})})}).bind(null,this,y,D,g,c);return g?g._promise(y,U,"lock"):Ue.trans?jt(Ue.transless,function(){return m._whenReady(U)}):this._whenReady(U)},en.prototype.table=function(i){if(!b(this._allTables,i))throw new pe.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},en);function en(i,a){var c=this;this._middlewares={},this.verno=0;var m=en.dependencies;this._options=a=r({addons:en.addons,autoOpen:!0,indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},m=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var g,y,D,N,U,H={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:De,dbReadyPromise:null,cancelOpen:De,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};H.dbReadyPromise=new Ae(function(z){H.dbReadyResolve=z}),H.openCanceller=new Ae(function(z,Q){H.cancelOpen=Q}),this._state=H,this.name=i,this.on=mr(this,"populate","blocked","versionchange","close",{ready:[tt,De]}),this.on.ready.subscribe=K(this.on.ready.subscribe,function(z){return function(Q,V){en.vip(function(){var G,X=c._state;X.openComplete?(X.dbOpenError||Ae.resolve().then(Q),V&&z(Q)):X.onReadyBeingFired?(X.onReadyBeingFired.push(Q),V&&z(Q)):(z(Q),G=c,V||z(function q(){G.on.ready.unsubscribe(Q),G.on.ready.unsubscribe(q)}))})}}),this.Collection=(g=this,yr(Ji.prototype,function(se,q){this.db=g;var V=pn,G=null;if(q)try{V=q()}catch(de){G=de}var X=se._ctx,q=X.table,se=q.hook.reading.fire;this._ctx={table:q,index:X.index,isPrimKey:!X.index||q.schema.primKey.keyPath&&X.index===q.schema.primKey.name,range:V,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:X.or,valueMapper:se!==Me?se:null}})),this.Table=(y=this,yr(vi.prototype,function(z,Q,V){this.db=y,this._tx=V,this.name=z,this.schema=Q,this.hook=y._allTables[z]?y._allTables[z].hook:mr(null,{creating:[Ge,De],reading:[Ve,Me],updating:[ke,De],deleting:[Fe,De]})})),this.Transaction=(D=this,yr($r.prototype,function(z,Q,V,G,X){var q=this;this.db=D,this.mode=z,this.storeNames=Q,this.schema=V,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=mr(this,"complete","error","abort"),this.parent=X||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(se,de){q._resolve=se,q._reject=de}),this._completion.then(function(){q.active=!1,q.on.complete.fire()},function(se){var de=q.active;return q.active=!1,q.on.error.fire(se),q.parent?q.parent._reject(se):de&&q.idbtrans&&q.idbtrans.abort(),Pt(se)})})),this.Version=(N=this,yr(_o.prototype,function(z){this.db=N,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(U=this,yr(Sr.prototype,function(z,Q,V){if(this.db=U,this._ctx={table:z,index:Q===":id"?null:Q,or:V},this._cmp=this._ascending=It,this._descending=function(G,X){return It(X,G)},this._max=function(G,X){return 0<It(G,X)?G:X},this._min=function(G,X){return It(G,X)<0?G:X},this._IDBKeyRange=U._deps.IDBKeyRange,!this._IDBKeyRange)throw new pe.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=Tr(a.IDBKeyRange),this._createTransaction=function(z,Q,V,G){return new c.Transaction(z,Q,V,c._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(z){c.on("blocked").fire(z),Yn.filter(function(Q){return Q.name===c.name&&Q!==c&&!Q._state.vcFired}).map(function(Q){return Q.on("versionchange").fire(z)})},this.use(wo),this.use(Do),this.use(ko),this.use(bo),this.use(yo);var J=new Proxy(this,{get:function(z,Q,V){if(Q==="_vip")return!0;if(Q==="table")return function(X){return Ti(c.table(X),J)};var G=Reflect.get(z,Q,V);return G instanceof vi?Ti(G,J):Q==="tables"?G.map(function(X){return Ti(X,J)}):Q==="_createTransaction"?function(){return Ti(G.apply(this,arguments),J)}:G}});this.vip=J,m.forEach(function(z){return z(c)})}var Ii,Qn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Co=(ml.prototype.subscribe=function(i,a,c){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:a,complete:c})},ml.prototype[Qn]=function(){return this},ml);function ml(i){this._subscribe=i}try{Ii={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Ii={indexedDB:null,IDBKeyRange:null}}function xl(i){var a,c=!1,m=new Co(function(g){var y=j(i),D,N=!1,U={},H={},J={get closed(){return N},unsubscribe:function(){N||(N=!0,D&&D.abort(),z&&ir.storagemutated.unsubscribe(V))}};g.start&&g.start(J);var z=!1,Q=function(){return tr(G)},V=function(X){Ei(U,X),sl(H,U)&&Q()},G=function(){var X,q,se;!N&&Ii.indexedDB&&(U={},X={},D&&D.abort(),D=new AbortController,se=function(de){var ge=ft();try{y&&kn();var Se=Nn(i,de);return Se=y?Se.finally(xt):Se}finally{ge&&Ot()}}(q={subscr:X,signal:D.signal,requery:Q,querier:i,trans:null}),Promise.resolve(se).then(function(de){c=!0,a=de,N||q.signal.aborted||(U={},function(ge){for(var Se in ge)if(b(ge,Se))return;return 1}(H=X)||z||(ir(Dr,V),z=!0),tr(function(){return!N&&g.next&&g.next(de)}))},function(de){c=!1,["DatabaseClosedError","AbortError"].includes(de==null?void 0:de.name)||N||tr(function(){N||g.error&&g.error(de)})}))};return setTimeout(Q,0),J});return m.hasValue=function(){return c},m.getValue=function(){return a},m}var Or=fr;function pl(i){var a=vr;try{vr=!0,ir.storagemutated.fire(i),ul(i,!0)}finally{vr=a}}k(Or,r(r({},$e),{delete:function(i){return new Or(i,{addons:[]}).delete()},exists:function(i){return new Or(i,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return a=Or.dependencies,c=a.indexedDB,a=a.IDBKeyRange,(nl(c)?Promise.resolve(c.databases()).then(function(m){return m.map(function(g){return g.name}).filter(function(g){return g!==br})}):tl(c,a).toCollection().primaryKeys()).then(i)}catch{return Pt(new pe.MissingAPI)}var a,c},defineClass:function(){return function(i){f(this,i)}},ignoreTransaction:function(i){return Ue.trans?jt(Ue.transless,i):i()},vip:rl,async:function(i){return function(){try{var a=cl(i.apply(this,arguments));return a&&typeof a.then=="function"?a:Ae.resolve(a)}catch(c){return Pt(c)}}},spawn:function(i,a,c){try{var m=cl(i.apply(c,a||[]));return m&&typeof m.then=="function"?m:Ae.resolve(m)}catch(g){return Pt(g)}},currentTransaction:{get:function(){return Ue.trans||null}},waitFor:function(i,a){return a=Ae.resolve(typeof i=="function"?Or.ignoreTransaction(i):i).timeout(a||6e4),Ue.trans?Ue.trans.waitFor(a):a},Promise:Ae,debug:{get:function(){return _t},set:function(i){dt(i)}},derive:E,extend:f,props:k,override:K,Events:mr,on:ir,liveQuery:xl,extendObservabilitySet:Ei,getByKeyPath:oe,setByKeyPath:Z,delByKeyPath:function(i,a){typeof a=="string"?Z(i,a,void 0):"length"in a&&[].map.call(a,function(c){Z(i,c,void 0)})},shallowClone:Ce,deepClone:he,getObjectDiff:fl,cmp:It,asap:ae,minKey:-1/0,addons:[],connections:Yn,errnames:Ee,dependencies:Ii,cache:Ar,semVer:"4.0.7",version:"4.0.7".split(".").map(function(i){return parseInt(i)}).reduce(function(i,a,c){return i+a/Math.pow(10,2*c)})})),Or.maxKey=Tr(Or.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ir(Dr,function(i){vr||(i=new CustomEvent(Cr,{detail:i}),vr=!0,dispatchEvent(i),vr=!1)}),addEventListener(Cr,function(i){i=i.detail,vr||pl(i)}));var qr,vr=!1,$l=function(){};return typeof BroadcastChannel<"u"&&(($l=function(){(qr=new BroadcastChannel(Cr)).onmessage=function(i){return i.data&&pl(i.data)}})(),typeof qr.unref=="function"&&qr.unref(),ir(Dr,function(i){vr||qr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!fr.disableBfCache&&i.persisted){_t&&console.debug("Dexie: handling persisted pagehide"),qr!=null&&qr.close();for(var a=0,c=Yn;a<c.length;a++)c[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!fr.disableBfCache&&i.persisted&&(_t&&console.debug("Dexie: handling persisted pageshow"),$l(),pl({all:new _n(-1/0,[[]])}))})),Ae.rejectionMapper=function(i,a){return!i||i instanceof R||i instanceof TypeError||i instanceof SyntaxError||!i.name||!ee[i.name]?i:(a=new ee[i.name](a||i.message,i),"stack"in i&&S(a,"stack",{get:function(){return this.inner.stack}}),a)},dt(_t),r(fr,Object.freeze({__proto__:null,Dexie:fr,liveQuery:xl,Entity:Sn,cmp:It,PropModSymbol:Fn,PropModification:kr,replacePrefix:function(i,a){return new kr({replacePrefix:[i,a]})},add:function(i){return new kr({add:i})},remove:function(i){return new kr({remove:i})},default:fr,RangeSet:_n,mergeRanges:ni,rangesOverlap:Si}),{default:fr}),fr})})(lo);var uu=lo.exports;const Ml=io(uu),Cs=Symbol.for("Dexie"),Ui=globalThis[Cs]||(globalThis[Cs]=Ml);if(Ml.semVer!==Ui.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ml.semVer} and ${Ui.semVer}`);const{liveQuery:mi,mergeRanges:Gd,rangesOverlap:Wd,RangeSet:Yd,cmp:Zd,Entity:Jd,PropModSymbol:Qd,PropModification:Xd,replacePrefix:xd,add:$d,remove:eh}=Ui;var Pl=(n=>(n.Accomodation="Accomodation",n.Food="Food & Drink",n.Transport="Transport",n.Other="Other",n))(Pl||{});const Ts={Accomodation:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/></svg>',"Food & Drink":'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/><path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/></svg>',Transport:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16"> <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>',Other:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16"><path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/><path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/></svg>'},Wt=new Ui("ExpensesDatabase");Wt.version(2).stores({trips:"++id, name, defaultCurrency, startDate, endDate",receipts:"++id, description, total, receiptDate, receiptType, currency, tripId, imageData"});Wt.version(3).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("trips").toCollection().modify(e=>{e.startDateString=e.startDate.toDateString(),e.endDateString=e.endDate.toDateString()}).then(function(){n.table("receipts").toCollection().modify(e=>{e.receiptDateString=e.receiptDate.toDateString()})}));Wt.version(4).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("receipts").where("receiptType").equals("Food").modify(e=>{e.receiptType="Food & Drink"}));Wt.version(6).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"}).upgrade(n=>n.table("receipts").toCollection().modify(e=>{e.imageData=URL.createObjectURL(e.imageData)}));Wt.version(7).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString, notes",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"});function Fl(n,e){const t=Wr(e);return localStorage&&localStorage.getItem(n)&&t.set(JSON.parse(localStorage.getItem(n)!=null?localStorage.getItem(n):e)),t.subscribe(r=>{if(localStorage)try{r!==void 0?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)}catch(l){console.warn(l)}}),t}const rn={AED:{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"د.إ.‏",decimal_digits:2,rounding:0,code:"AED",name_plural:"UAE dirhams"},AFN:{symbol:"Af",name:"Afghan Afghani",symbol_native:"؋",decimal_digits:0,rounding:0,code:"AFN",name_plural:"Afghan Afghanis"},ALL:{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL",name_plural:"Albanian lekë"},AMD:{symbol:"AMD",name:"Armenian Dram",symbol_native:"դր.",decimal_digits:0,rounding:0,code:"AMD",name_plural:"Armenian drams"},ARS:{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS",name_plural:"Argentine pesos"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"},AZN:{symbol:"man.",name:"Azerbaijani Manat",symbol_native:"ман.",decimal_digits:2,rounding:0,code:"AZN",name_plural:"Azerbaijani manats"},BAM:{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM",name_plural:"Bosnia-Herzegovina convertible marks"},BDT:{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"৳",decimal_digits:2,rounding:0,code:"BDT",use_indian_numbering_system:!0,name_plural:"Bangladeshi takas"},BGN:{symbol:"BGN",name:"Bulgarian Lev",symbol_native:"лв.",decimal_digits:2,rounding:0,code:"BGN",name_plural:"Bulgarian leva"},BHD:{symbol:"BD",name:"Bahraini Dinar",symbol_native:"د.ب.‏",decimal_digits:3,rounding:0,code:"BHD",name_plural:"Bahraini dinars"},BIF:{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF",name_plural:"Burundian francs"},BND:{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND",name_plural:"Brunei dollars"},BOB:{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB",name_plural:"Bolivian bolivianos"},BRL:{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL",name_plural:"Brazilian reals"},BWP:{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP",name_plural:"Botswanan pulas"},BYN:{symbol:"Br",name:"Belarusian Ruble",symbol_native:"руб.",decimal_digits:2,rounding:0,code:"BYN",name_plural:"Belarusian rubles"},BZD:{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD",name_plural:"Belize dollars"},CAD:{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD",name_plural:"Canadian dollars"},CDF:{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF",name_plural:"Congolese francs"},CHF:{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF",name_plural:"Swiss francs"},CLP:{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP",name_plural:"Chilean pesos"},CNY:{symbol:"CN¥",name:"Chinese Yuan",symbol_native:"CN¥",decimal_digits:2,rounding:0,code:"CNY",name_plural:"Chinese yuan"},COP:{symbol:"CO$",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP",name_plural:"Colombian pesos"},CRC:{symbol:"₡",name:"Costa Rican Colón",symbol_native:"₡",decimal_digits:0,rounding:0,code:"CRC",name_plural:"Costa Rican colóns"},CVE:{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE",name_plural:"Cape Verdean escudos"},CZK:{symbol:"Kč",name:"Czech Republic Koruna",symbol_native:"Kč",decimal_digits:2,rounding:0,code:"CZK",name_plural:"Czech Republic korunas"},DJF:{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF",name_plural:"Djiboutian francs"},DKK:{symbol:"Dkr",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK",name_plural:"Danish kroner"},DOP:{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP",name_plural:"Dominican pesos"},DZD:{symbol:"DA",name:"Algerian Dinar",symbol_native:"د.ج.‏",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",symbol_native:"ج.م.‏",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},EUR:{symbol:"€",name:"Euro",symbol_native:"€",decimal_digits:2,rounding:0,code:"EUR",name_plural:"euros"},GBP:{symbol:"£",name:"British Pound Sterling",symbol_native:"£",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},GEL:{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GH₵",name:"Ghanaian Cedi",symbol_native:"GH₵",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"₪",name:"Israeli New Sheqel",symbol_native:"₪",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",name:"Indian Rupee",symbol_native:"টকা",decimal_digits:2,rounding:0,code:"INR",use_indian_numbering_system:!0,name_plural:"Indian rupees"},IQD:{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"د.ع.‏",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",name:"Iranian Rial",symbol_native:"﷼",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",name:"Icelandic Króna",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krónur"},JMD:{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",name:"Jordanian Dinar",symbol_native:"د.أ.‏",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"¥",name:"Japanese Yen",symbol_native:"￥",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",name:"Cambodian Riel",symbol_native:"៛",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"₩",name:"South Korean Won",symbol_native:"₩",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"د.ك.‏",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:"тңг.",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"L.L.",name:"Lebanese Pound",symbol_native:"ل.ل.‏",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",name:"Libyan Dinar",symbol_native:"د.ل.‏",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"د.م.‏",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"₦",name:"Nigerian Naira",symbol_native:"₦",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",name:"Nicaraguan Córdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan córdobas"},NOK:{symbol:"Nkr",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"नेरू",decimal_digits:2,rounding:0,code:"NPR",use_indian_numbering_system:!0,name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",name:"Omani Rial",symbol_native:"ر.ع.‏",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"₱",name:"Philippine Peso",symbol_native:"₱",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"₨",decimal_digits:0,rounding:0,code:"PKR",use_indian_numbering_system:!0,name_plural:"Pakistani rupees"},PLN:{symbol:"zł",name:"Polish Zloty",symbol_native:"zł",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"₲",name:"Paraguayan Guarani",symbol_native:"₲",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",name:"Qatari Rial",symbol_native:"ر.ق.‏",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",name:"Serbian Dinar",symbol_native:"дин.",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",name:"Russian Ruble",symbol_native:"₽.",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",name:"Saudi Riyal",symbol_native:"ر.س.‏",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SY£",name:"Syrian Pound",symbol_native:"ل.س.‏",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"฿",name:"Thai Baht",symbol_native:"฿",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",name:"Tunisian Dinar",symbol_native:"د.ت.‏",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",name:"Tongan Paʻanga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paʻanga"},TRY:{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"₴",name:"Ukrainian Hryvnia",symbol_native:"₴",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},UYU:{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",name:"Venezuelan Bolívar",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolívars"},VND:{symbol:"₫",name:"Vietnamese Dong",symbol_native:"₫",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",name:"Yemeni Rial",symbol_native:"ر.ي.‏",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"},ZWL:{symbol:"ZWL$",name:"Zimbabwean Dollar",symbol_native:"ZWL$",decimal_digits:0,rounding:0,code:"ZWL",name_plural:"Zimbabwean Dollar"}},Ll=Fl("defaultCurrency","GBP"),pi=Fl("favCurrencies",["GBP","USD","EUR"]),ai=Fl("theme","auto");function zl(n){let e=[],t=[];for(let r of Object.keys(rn))e.push({value:r,text:`${r} (${rn[r].symbol})`});for(let r of n)t.push({value:r,text:`${r} (${rn[r].symbol})`});return[{groupHeader:"Favourite Currencies",items:t},{groupHeader:"All Currencies",items:e}]}function cu(n){n==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",n)}var Br=function(n,e){this.items=n,this.settings=e||{diacritics:!0}};Br.prototype.tokenize=function(n,e,t){if(n=du(String(n||"").toLowerCase()),!n||!n.length)return[];var r,l,o,s,u=[],f=n.split(/ +/);for(r=0,l=f.length;r<l;r++){if(o=hu(f[r]),this.settings.diacritics)for(s in Lr)Lr.hasOwnProperty(s)&&(o=o.replace(new RegExp(s,"g"),Lr[s]));e?o="\\b"+o:t&&(o="\\b^"+o),u.push({string:f[r],regex:new RegExp(o,"i")})}return u};Br.prototype.iterator=function(n,e){var t;Array.isArray(n)?t=Array.prototype.forEach||function(r){for(var l=0,o=this.length;l<o;l++)r(this[l],l,this)}:t=function(r){for(var l in this)this.hasOwnProperty(l)&&r(this[l],l,this)},t.apply(n,[e])};Br.prototype.getScoreFunction=function(n,e){var t,r,l,o,s;t=this,n=t.prepareSearch(n,e),l=n.tokens,r=n.options.fields,o=l.length,s=n.options.nesting;var u=function(d,h){var b,k;return!d||(d=String(d||""),k=d.search(h.regex),k===-1)?0:(b=h.string.length/d.length,k===0&&(b+=.5),b)},f=function(){var d=r.length;return d?d===1?function(h,b){return u(Rl(b,r[0],s),h)}:function(h,b){for(var k=0,P=0;k<d;k++)P+=u(Rl(b,r[k],s),h);return P/d}:function(){return 0}}();return o?o===1?function(d){return f(l[0],d)}:n.options.conjunction==="and"?function(d){for(var h,b=0,k=0;b<o;b++){if(h=f(l[b],d),h<=0)return 0;k+=h}return k/o}:function(d){for(var h=0,b=0;h<o;h++)b+=f(l[h],d);return b/o}:function(){return 0}};Br.prototype.getSortFunction=function(n,e){var t,r,l,o,s,u,f,d,h,b,k;if(l=this,n=l.prepareSearch(n,e),k=!n.query&&e.sort_empty||e.sort,h=function(P,S){return P==="$score"?S.score:Rl(l.items[S.id],P,e.nesting)},s=[],k)for(t=0,r=k.length;t<r;t++)(n.query||k[t].field!=="$score")&&s.push(k[t]);if(n.query){for(b=!0,t=0,r=s.length;t<r;t++)if(s[t].field==="$score"){b=!1;break}b&&s.unshift({field:"$score",direction:"desc"})}else for(t=0,r=s.length;t<r;t++)if(s[t].field==="$score"){s.splice(t,1);break}for(d=[],t=0,r=s.length;t<r;t++)d.push(s[t].direction==="desc"?-1:1);return u=s.length,u?u===1?(o=s[0].field,f=d[0],function(P,S){return f*Is(h(o,P),h(o,S))}):function(P,S){var E,B,M;for(E=0;E<u;E++)if(M=s[E].field,B=d[E]*Is(h(M,P),h(M,S)),B)return B;return 0}:null};Br.prototype.prepareSearch=function(n,e){if(typeof n=="object")return n;e=fu({},e);var t=e.fields,r=e.sort,l=e.sort_empty;return t&&!Array.isArray(t)&&(e.fields=[t]),r&&!Array.isArray(r)&&(e.sort=[r]),l&&!Array.isArray(l)&&(e.sort_empty=[l]),{options:e,query:String(n||"").toLowerCase(),tokens:this.tokenize(n,e.wordsOnly,e.startOnly),total:0,items:[]}};Br.prototype.search=function(n,e){var t=this,r,l,o,s;return l=this.prepareSearch(n,e),e=l.options,n=l.query,s=e.score||t.getScoreFunction(l),n.length?t.iterator(t.items,function(u,f){r=s(u),(e.filter===!1||r>0)&&l.items.push({score:r,id:f})}):t.iterator(t.items,function(u,f){l.items.push({score:1,id:f})}),o=t.getSortFunction(l,e),o&&l.items.sort(o),l.total=l.items.length,typeof e.limit=="number"&&(l.items=l.items.slice(0,e.limit)),l};var Is=function(n,e){return typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=qi(String(n||"")),e=qi(String(e||"")),n>e?1:e>n?-1:0)},fu=function(n,e){var t,r,l,o;for(t=1,r=arguments.length;t<r;t++)if(o=arguments[t],!!o)for(l in o)o.hasOwnProperty(l)&&(n[l]=o[l]);return n},Rl=function(n,e,t){if(!(!n||!e)){if(!t)return n[e];for(var r=e.split(".");r.length&&(n=n[r.shift()]););return n}},du=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},hu=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Lr={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};const qi=function(){var n,e,t,r,l="",o={};for(t in Lr)if(Lr.hasOwnProperty(t))for(r=Lr[t].substring(2,Lr[t].length-1),l+=r,n=0,e=r.length;n<e;n++)o[r.charAt(n)]=t;var s=new RegExp("["+l+"]","g");return function(u){return u.replace(s,function(f){return o[f]}).toLowerCase()}}();let li;function Gi(n,e,t,r,l){const o=r(n,e,t);if(t==""||n.isSelected||l)return o;li||(li=document.createElement("div")),li.innerHTML=o;const s=qi(t);return(s.includes("|")?s.split("|").map(u=>u.trim()):s.split(" ")).filter(u=>u).forEach(u=>{so(li,u)}),li.innerHTML}function so(n,e){let t=0;if(n.nodeType===3){const l=qi(n.data);let o=l.indexOf(e);if(o-=l.substr(0,o).toUpperCase().length-l.substr(0,o).length,o>=0){const s=document.createElement("span");s.className="highlight";const u=n.splitText(o);u.splitText(e.length);const f=u.cloneNode(!0);s.appendChild(f),u.parentNode.replaceChild(s,u),t=1}}else if(n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN"))for(var r=0;r<n.childNodes.length;++r)r+=so(n.childNodes[r],e);return t}function mu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function As(){return navigator.userAgent.toLowerCase().includes("android")}function wl(n){return(n||"").replace(/\t/g," ").trim().split(" ").filter(e=>e).join(" ")}function pu(n){return`${n}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function gu(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(this,r)},e)}}function _u(n,{url:e,parentValue:t,initial:r},l){t&&(e=e.replace("[parent]",encodeURIComponent(t))),n&&(e=e.replace("[query]",encodeURIComponent(n))),Array.isArray(r)&&r.length===0&&(r=null),r&&(e=e.replace("[query]","init"));const o=e[0]==="/"?new URL(e,window.location.origin):new URL(e);if(r){const f=Array.isArray(r)?r:[r];o.searchParams.append("init",f.join(","))}const s=new AbortController,u=Object.assign({},l,{signal:s.signal});return{request:new Request(o,u),controller:s}}const St={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{aria_label:"",aria_describedby:"",aria_selected:n=>n.length?`Option${n.length>1?"s":""} ${n.join(", ")} selected.`:"",aria_listActive:(n,e,t)=>`You are currently focused on option ${n[e]}. ${t} result${t>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",empty:"No options",nomatch:"No matching options",max:n=>`Maximum items ${n} selected`,fetchBefore:"Type to start searching",fetchQuery:(n,e)=>`Type at least ${n} character${n>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:n=>`${n} selected`,createRowLabel:n=>`Add '${n}'`,emptyCreatable:"Add new by typing"},requestFactory:null};function vu(n,{from:e,to:t},r={}){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform,[s,u]=l.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*s/t.width-(t.left+s),d=e.top+e.height*u/t.height-(t.top+u),{delay:h=0,duration:b=P=>Math.sqrt(P)*120,easing:k=ro}=r;return{delay:h,duration:Zr(b)?b(Math.sqrt(f*f+d*d)):b,easing:k,css:(P,S)=>{const E=S*f,B=S*d,M=P+S*e.width/t.width,O=P+S*e.height/t.height;return`transform: ${o} translate(${E}px, ${B}px) scale(${M}, ${O});`}}}const Oi={AUTO:"auto",START:"start",CENTER:"center",END:"end"},hr={HORIZONTAL:"horizontal",VERTICAL:"vertical"},si={OBSERVED:0,REQUESTED:1},bu={[hr.VERTICAL]:"top",[hr.HORIZONTAL]:"left"},Os={[hr.VERTICAL]:"scrollTop",[hr.HORIZONTAL]:"scrollLeft"};class yu{constructor({itemSize:e,itemCount:t,estimatedItemSize:r}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:r}){t!=null&&(this.itemCount=t),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const r=this.getSize(t),l=e;e+=r,this.itemSizeAndPositionData[t]={offset:l,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let r=t.offset+t.size;for(let l=this.lastMeasuredIndex+1;l<=e;l++){const o=this.getSize(l);if(o==null||isNaN(o))throw Error(`Invalid size returned for index ${l} of value ${o}`);this.itemSizeAndPositionData[l]={offset:r,size:o},r+=o}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Oi.START,containerSize:t,currentOffset:r,targetIndex:l}){if(t<=0)return 0;const o=this.getSizeAndPositionForIndex(l),s=o.offset,u=s-t+o.size;let f;switch(e){case Oi.END:f=u;break;case Oi.CENTER:f=s-(t-o.size)/2;break;case Oi.START:f=s;break;default:f=Math.max(u,Math.min(s,r))}const d=this.getTotalSize();return Math.max(0,Math.min(d-t,f))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:r}){if(this.getTotalSize()===0)return{};const o=t+e;let s=this.findNearestItem(t);if(s===void 0)throw Error(`Invalid offset ${t} specified`);const u=this.getSizeAndPositionForIndex(s);t=u.offset+u.size;let f=s;for(;t<o&&f<this.itemCount-1;)f++,t+=this.getSizeAndPositionForIndex(f).size;return r&&(s=Math.max(0,s-r),f=Math.min(f+r,this.itemCount-1)),{start:s,stop:f}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:t,offset:r}){let l=0,o=0;for(;e<=t;){if(l=e+Math.floor((t-e)/2),o=this.getSizeAndPositionForIndex(l).offset,o===r)return l;o<r?e=l+1:o>r&&(t=l-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const wu=n=>({}),Ms=n=>({});function Ps(n,e,t){const r=n.slice();return r[37]=e[t],r}const ku=n=>({style:n[0]&4,index:n[0]&4}),Ls=n=>({style:n[37].style,index:n[37].index}),Su=n=>({}),Rs=n=>({});function Ns(n,e){let t,r;const l=e[21].item,o=In(l,e,e[20],Ls);return{key:n,first:null,c(){t=bt(),o&&o.c(),this.h()},l(s){t=bt(),o&&o.l(s),this.h()},h(){this.first=t},m(s,u){te(s,t,u),o&&o.m(s,u),r=!0},p(s,u){e=s,o&&o.p&&(!r||u[0]&1048580)&&An(o,l,e,e[20],r?Mn(l,e[20],u,ku):On(e[20]),Ls)},i(s){r||(Le(o,s),r=!0)},o(s){qe(o,s),r=!1},d(s){s&&v(t),o&&o.d(s)}}}function Eu(n){let e,t,r,l=[],o=new Map,s,u;const f=n[21].header,d=In(f,n,n[20],Rs);let h=ct(n[2]);const b=S=>S[0]?S[0](S[37].index):S[37].index;for(let S=0;S<h.length;S+=1){let E=Ps(n,h,S),B=b(E);o.set(B,l[S]=Ns(B,E))}const k=n[21].footer,P=In(k,n,n[20],Ms);return{c(){e=I("div"),d&&d.c(),t=ne(),r=I("div");for(let S=0;S<l.length;S+=1)l[S].c();s=ne(),P&&P.c(),this.h()},l(S){e=A(S,"DIV",{class:!0,style:!0});var E=F(e);d&&d.l(E),t=re(E),r=A(E,"DIV",{class:!0,style:!0});var B=F(r);for(let M=0;M<l.length;M+=1)l[M].l(B);B.forEach(v),s=re(E),P&&P.l(E),E.forEach(v),this.h()},h(){p(r,"class","virtual-list-inner svelte-dwpad5"),p(r,"style",n[4]),p(e,"class","virtual-list-wrapper svelte-dwpad5"),p(e,"style",n[3])},m(S,E){te(S,e,E),d&&d.m(e,null),_(e,t),_(e,r);for(let B=0;B<l.length;B+=1)l[B]&&l[B].m(r,null);_(e,s),P&&P.m(e,null),n[22](e),u=!0},p(S,E){d&&d.p&&(!u||E[0]&1048576)&&An(d,f,S,S[20],u?Mn(f,S[20],E,Su):On(S[20]),Rs),E[0]&1048581&&(h=ct(S[2]),un(),l=Nr(l,E,b,1,S,h,o,r,Uo,Ns,null,Ps),cn()),(!u||E[0]&16)&&p(r,"style",S[4]),P&&P.p&&(!u||E[0]&1048576)&&An(P,k,S,S[20],u?Mn(k,S[20],E,wu):On(S[20]),Ms),(!u||E[0]&8)&&p(e,"style",S[3])},i(S){if(!u){Le(d,S);for(let E=0;E<h.length;E+=1)Le(l[E]);Le(P,S),u=!0}},o(S){qe(d,S);for(let E=0;E<l.length;E+=1)qe(l[E]);qe(P,S),u=!1},d(S){S&&v(e),d&&d.d(S);for(let E=0;E<l.length;E+=1)l[E].d();P&&P.d(S),n[22](null)}}}const Du=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();function Cu(n,e,t){let{$$slots:r={},$$scope:l}=e,{height:o}=e,{width:s="100%"}=e,{itemCount:u}=e,{itemSize:f}=e,{estimatedItemSize:d=null}=e,{stickyIndices:h=null}=e,{getKey:b=null}=e,{scrollDirection:k=hr.VERTICAL}=e,{scrollOffset:P=null}=e,{scrollToIndex:S=null}=e,{scrollToAlignment:E=null}=e,{scrollToBehaviour:B="instant"}=e,{overscanCount:M=3}=e;const O=Wi(),K=new yu({itemCount:u,itemSize:f,estimatedItemSize:j()});let T=!1,ae,oe=[],Z={offset:P||S!=null&&oe.length&&ce(S)||0,scrollChangeReason:si.REQUESTED},Ce=Z,ie={scrollToIndex:S,scrollToAlignment:E,scrollOffset:P,itemCount:u,itemSize:f,estimatedItemSize:d},$={},be="",ve="";ye(),eo(()=>{t(18,T=!0),ae.addEventListener("scroll",C,Du),P!=null?_e(P):S!=null&&_e(ce(S))}),Io(()=>{T&&ae.removeEventListener("scroll",C)});function he(){if(!T)return;const W=ie.scrollToIndex!==S||ie.scrollToAlignment!==E,le=ie.itemCount!==u||ie.itemSize!==f||ie.estimatedItemSize!==d;le&&(K.updateConfig({itemSize:f,itemCount:u,estimatedItemSize:j()}),ue()),ie.scrollOffset!==P?t(19,Z={offset:P||0,scrollChangeReason:si.REQUESTED}):typeof S=="number"&&(W||le)&&t(19,Z={offset:ce(S,E,u),scrollChangeReason:si.REQUESTED}),ie={scrollToIndex:S,scrollToAlignment:E,scrollOffset:P,itemCount:u,itemSize:f,estimatedItemSize:d}}function me(){if(!T)return;const{offset:W,scrollChangeReason:le}=Z;(Ce.offset!==W||Ce.scrollChangeReason!==le)&&ye(),Ce.offset!==W&&le===si.REQUESTED&&_e(W),Ce=Z}function ye(){const{offset:W}=Z,{start:le,stop:Y}=K.getVisibleRange({containerSize:k===hr.VERTICAL?o:s,offset:W,overscanCount:M});let Ee=[];const Be=K.getTotalSize();k===hr.VERTICAL?(t(3,be=`height:${o}${typeof o=="number"?"px":""};width:${s};`),t(4,ve=`flex-direction:column;height:${Be}px;`)):(t(3,be=`height:${o};width:${s}${typeof s=="number"?"px":""}`),t(4,ve=`min-height:100%;width:${Be}px;`));const pe=h!=null&&h.length!==0;if(pe)for(let ee=0;ee<h.length;ee++){const $e=h[ee];Ee.push({index:$e,style:fe($e,!0)})}if(le!==void 0&&Y!==void 0){for(let ee=le;ee<=Y;ee++)pe&&h.includes(ee)||Ee.push({index:ee,style:fe(ee,!1)});O("itemsUpdated",{start:le,end:Y})}t(2,oe=Ee)}function _e(W){"scroll"in ae?ae.scroll({[bu[k]]:W,behavior:B}):t(1,ae[Os[k]]=W,ae)}function ue(W=0){$={},K.resetItem(W),ye()}function ce(W,le=E,Y=u){return(W<0||W>=Y)&&(W=0),K.getUpdatedOffsetForIndex({align:le,containerSize:k===hr.VERTICAL?o:s,currentOffset:Z.offset||0,targetIndex:W})}function C(W){const le=L();le<0||Z.offset===le||W.target!==ae||(t(19,Z={offset:le,scrollChangeReason:si.OBSERVED}),O("afterScroll",{offset:le,event:W}))}function L(){return ae[Os[k]]}function j(){return d||typeof f=="number"&&f||50}function fe(W,le){if($[W])return $[W];const{size:Y,offset:Ee}=K.getSizeAndPositionForIndex(W);let Be;return k===hr.VERTICAL?(Be=`left:0;width:100%;height:${Y}px;`,le?Be+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${Ee}px;margin-bottom:${-(Ee+Y)}px;`:Be+=`position:absolute;top:${Ee}px;`):(Be=`top:0;width:${Y}px;`,le?Be+=`position:sticky;z-index:1;left:0;margin-left:${Ee}px;margin-right:${-(Ee+Y)}px;`:Be+=`position:absolute;height:100%;left:${Ee}px;`),$[W]=Be}function R(W){Vt[W?"unshift":"push"](()=>{ae=W,t(1,ae)})}return n.$$set=W=>{"height"in W&&t(5,o=W.height),"width"in W&&t(6,s=W.width),"itemCount"in W&&t(7,u=W.itemCount),"itemSize"in W&&t(8,f=W.itemSize),"estimatedItemSize"in W&&t(9,d=W.estimatedItemSize),"stickyIndices"in W&&t(10,h=W.stickyIndices),"getKey"in W&&t(0,b=W.getKey),"scrollDirection"in W&&t(11,k=W.scrollDirection),"scrollOffset"in W&&t(12,P=W.scrollOffset),"scrollToIndex"in W&&t(13,S=W.scrollToIndex),"scrollToAlignment"in W&&t(14,E=W.scrollToAlignment),"scrollToBehaviour"in W&&t(15,B=W.scrollToBehaviour),"overscanCount"in W&&t(16,M=W.overscanCount),"$$scope"in W&&t(20,l=W.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&29568&&he(),n.$$.dirty[0]&524288&&me(),n.$$.dirty[0]&263264&&T&&ue(0)},[b,ae,oe,be,ve,o,s,u,f,d,h,k,P,S,E,B,M,ue,T,Z,l,r,R]}class Tu extends Pn{constructor(e){super(),Ln(this,e,Cu,Eu,yn,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get height(){return this.$$.ctx[5]}set height(e){this.$$set({height:e}),qn()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),qn()}get itemCount(){return this.$$.ctx[7]}set itemCount(e){this.$$set({itemCount:e}),qn()}get itemSize(){return this.$$.ctx[8]}set itemSize(e){this.$$set({itemSize:e}),qn()}get estimatedItemSize(){return this.$$.ctx[9]}set estimatedItemSize(e){this.$$set({estimatedItemSize:e}),qn()}get stickyIndices(){return this.$$.ctx[10]}set stickyIndices(e){this.$$set({stickyIndices:e}),qn()}get getKey(){return this.$$.ctx[0]}set getKey(e){this.$$set({getKey:e}),qn()}get scrollDirection(){return this.$$.ctx[11]}set scrollDirection(e){this.$$set({scrollDirection:e}),qn()}get scrollOffset(){return this.$$.ctx[12]}set scrollOffset(e){this.$$set({scrollOffset:e}),qn()}get scrollToIndex(){return this.$$.ctx[13]}set scrollToIndex(e){this.$$set({scrollToIndex:e}),qn()}get scrollToAlignment(){return this.$$.ctx[14]}set scrollToAlignment(e){this.$$set({scrollToAlignment:e}),qn()}get scrollToBehaviour(){return this.$$.ctx[15]}set scrollToBehaviour(e){this.$$set({scrollToBehaviour:e}),qn()}get overscanCount(){return this.$$.ctx[16]}set overscanCount(e){this.$$set({overscanCount:e}),qn()}get recomputeSizes(){return this.$$.ctx[17]}}function kl(n,e){const t=window.getComputedStyle(n);let{groups:{value:r,unit:l}}=t[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),o=parseFloat(r);if(l!=="px"){const s=l==="rem"?document.documentElement:n.parentElement.parentElement;o=parseFloat(window.getComputedStyle(s).fontSize.match(/\d+/).shift())*o}return o}function Iu(n){const e=n.parentElement.parentElement.getBoundingClientRect(),t=n.getBoundingClientRect(),r={};return r.top=e.top<0,r.left=e.left<0,r.bottom=e.bottom+t.height>(window.innerHeight||document.documentElement.clientHeight)&&e.top>t.height&&(window.innerHeight||document.documentElement.clientHeight)>t.height+50,r.right=e.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function Sl(n,e,t){if(!e||!t)return;const r=Iu(e);r.bottom&&!r.top?e.parentElement.style.bottom=e.parentElement.parentElement.clientHeight+1+"px":(!n||r.top||e.parentElement.style.bottom!=="")&&(e.parentElement.style.bottom="")}function Au(n,e,t){let r;const l=kl(e,"maxHeight")-kl(e,"paddingTop")-kl(e,"paddingBottom");e.parentElement.style.cssText="opacity: 0; display: block";const o=n.$$.ctx[1].firstElementChild.firstElementChild;if(o){o.style="";const s=o.getBoundingClientRect().height,u=n.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let f;if(u&&(u.style="",f=u.getBoundingClientRect().height),f&&s!==f){const d=t[0].$isGroupHeader?s:f,h=t[0].$isGroupHeader?f:s;r=t.map(b=>b.$isGroupHeader?d:h)}else r=s}return e.parentElement.style.cssText="",{size:r,height:l}}function Mi({container:n,scrollContainer:e,virtualList:t,center:r},l){if(t||!n)return;const o=n.querySelector(`[data-pos="${l}"]`);if(!o)return;const s=o.getBoundingClientRect(),u=e.getBoundingClientRect(),f=o.offsetHeight/3,d=r?e.offsetHeight/2:0;switch(!0){case o.offsetTop<e.scrollTop:e.scrollTop=o.offsetTop-f+d;break;case o.offsetTop+s.height>e.scrollTop+u.height:e.scrollTop=o.offsetTop+s.height-e.offsetHeight+f+d;break}}function Ou(n,e,t,r){return{optionProps:[],optionsWithGroups:!1,valueField:n,labelField:e,optLabel:t,optItems:r}}function Mu(n,e,t,r,l){if(t)return Array.isArray(e)?e:[e];const o=Array.isArray(e)?e:[e];return n.reduce((u,f,d)=>{const h=f[r]&&Array.isArray(f)?f[r]:null;if(h){const b=h.reduce((k,P)=>(o.includes(P[l])&&k.push(P),k),[]);if(b.length)return u.push(...b),u}return u},[]).sort((u,f)=>o.indexOf(u[l])<o.indexOf(f[l])?-1:1)}function Bs(n,e,t){return typeof n[0]=="object"?JSON.parse(JSON.stringify(n)):n.map(r=>({[e||"value"]:r,[t||"text"]:r}))}function Pu(n,e){const t=n.reduce((r,l,o)=>l[e.optItems]?(l[e.optItems].length===0||(e.optionsWithGroups=!0,r.push({label:l[e.optLabel],$isGroupHeader:!0}),r.push(...l[e.optItems].map(s=>(s.$isGroupItem=!0,s)))),r):(r.push(l),r),[]);return Lu(t,e),t}function Lu(n,e){n.some(t=>t.$isGroupHeader?!1:(e.optionProps=Ru(t),!0))}function Ru(n){const e=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(n).filter(t=>!e.includes(t))}function Nu(n,e,t,r,l){if(t&&(n=n.filter(d=>!t.has(d[r.valueField])).filter((d,h,b)=>!(d.$isGroupHeader&&(b[h+1]&&b[h+1].$isGroupHeader||b.length<=1||b.length-1===h)))),l.disabled||!e)return n;const o=new Br(n);(r.optionsWithGroups||l.skipSort)&&(o.getSortFunction=()=>null);let s="and";e.includes("|")&&(s="or",e=e.split("|").map(d=>d.trim()).join(" "));const u=o.search(e,{fields:l.fields||r.optionProps,sort:l.sort||Bu(r.labelField),conjunction:l.conjunction||s,nesting:l.nesting||!1,wordsOnly:l.wordsOnly||!1,startOnly:l.startOnly||!1});return r.optionsWithGroups?u.items.reduce((d,h)=>{const b=n[h.id];if(t&&b.isSelected)return d;const k=d.push(b);if(b.$isGroupItem){const P=n.slice(0,h.id);let S=null;do S=P.pop(),S&&S.$isGroupHeader&&!d.includes(S)&&d.splice(k-1,0,S);while(S&&!S.$isGroupHeader)}return d},[]):u.items.map(d=>n[d.id])}function Bu(n){return[{field:n,direction:"asc"}]}function Pi(n,e,t){const r=n==="value";let l=r?"value":"text";if(e&&e.length){const o=e[0][t]?e[0][t][0]:e[0];if(!o||typeof o=="string")return l;const s=r?0:1,u=r?["id","value","ID"]:["name","title","label"];l=Object.keys(o).filter(f=>u.includes(f)).concat([Object.keys(o)[s]]).shift()}return l}function ao(n,e){return n.bound_item=e,{destroy:()=>{}}}const Fu=n=>({isCreating:n[1]&16,inputValue:n[0]&8388608,i18n:n[0]&16777216}),Fs=n=>({isCreating:n[35],inputValue:n[23],i18n:n[24]});function zs(n,e,t){const r=n.slice();return r[164]=e[t],r[166]=t,r}const zu=n=>({item:n[0]&33554432,inputValue:n[0]&8388608}),Ks=n=>({item:n[164],inputValue:n[23]});function js(n){const e=n[25][n[163]];n[164]=e}const Ku=n=>({item:n[0]&33554432|n[5]&256,inputValue:n[0]&8388608}),Hs=n=>({item:n[164],inputValue:n[23]}),ju=n=>({}),Vs=n=>({}),Hu=n=>({}),Us=n=>({}),Vu=n=>({isOpen:n[0]&1048576}),qs=n=>({isOpen:n[20]}),Uu=n=>({selectedOptions:n[0]&524288,inputValue:n[0]&8388608}),Gs=n=>({selectedOptions:n[19],inputValue:n[23]});function Ws(n,e,t){const r=n.slice();return r[164]=e[t],r}const qu=n=>({selectedOptions:n[0]&524288}),Ys=n=>({selectedOptions:n[19],bindItem:ao}),Gu=n=>({selectedOptions:n[0]&524288,i18n:n[0]&16777216}),Zs=n=>({selectedOptions:n[19],i18n:n[24]}),Wu=n=>({}),Js=n=>({});function Qs(n,e,t){const r=n.slice();return r[164]=e[t],r}function Xs(n){let e,t,r,l,o;return{c(){e=I("span"),t=Re(n[46]),r=ne(),l=I("span"),o=Re(n[45]),this.h()},l(s){e=A(s,"SPAN",{id:!0});var u=F(e);t=Ne(u,n[46]),u.forEach(v),r=re(s),l=A(s,"SPAN",{id:!0});var f=F(l);o=Ne(f,n[45]),f.forEach(v),this.h()},h(){p(e,"id","aria-selection"),p(l,"id","aria-context")},m(s,u){te(s,e,u),_(e,t),te(s,r,u),te(s,l,u),_(l,o)},p(s,u){u[1]&32768&&et(t,s[46]),u[1]&16384&&et(o,s[45])},d(s){s&&(v(e),v(r),v(l))}}}function xs(n){let e,t=[],r=new Map,l,o,s,u=ct(n[19]);const f=d=>d[164][d[27]];for(let d=0;d<u.length;d+=1){let h=Qs(n,u,d),b=f(h);r.set(b,t[d]=$s(b,h))}return{c(){e=I("select");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=A(d,"SELECT",{name:!0,size:!0,class:!0,id:!0,tabindex:!0,"aria-hidden":!0});var h=F(e);for(let b=0;b<t.length;b+=1)t[b].l(h);h.forEach(v),this.h()},h(){p(e,"name",n[4]),e.required=n[5],e.multiple=n[0],e.disabled=n[3],p(e,"size","1"),p(e,"class","sv-hidden-element form-select"),p(e,"id",n[50]),p(e,"tabindex","-1"),p(e,"aria-hidden","true")},m(d,h){te(d,e,h);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);n[112](e),o||(s=fi(l=n[60].call(null,e,n[13])),o=!0)},p(d,h){h[0]&134742016&&(u=ct(d[19]),t=Nr(t,h,f,1,d,u,r,e,Yr,$s,null,Qs)),h[0]&16&&p(e,"name",d[4]),h[0]&32&&(e.required=d[5]),h[0]&1&&(e.multiple=d[0]),h[0]&8&&(e.disabled=d[3]),l&&Zr(l.update)&&h[0]&8192&&l.update.call(null,d[13])},d(d){d&&v(e);for(let h=0;h<t.length;h+=1)t[h].d();n[112](null),o=!1,s()}}}function $s(n,e){let t,r;return{key:n,first:null,c(){t=I("option"),this.h()},l(l){t=A(l,"OPTION",{}),F(t).forEach(v),this.h()},h(){t.__value=r=e[164][e[27]],Lt(t,t.__value),t.selected=!0,this.first=t},m(l,o){te(l,t,o)},p(l,o){e=l,o[0]&134742016&&r!==(r=e[164][e[27]])&&(t.__value=r,Lt(t,t.__value))},d(l){l&&v(t)}}}function ea(n){let e,t,r,l;const o=[Zu,Yu],s=[];function u(f,d){return f[0]&&f[33]?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=bt()},l(f){t.l(f),r=bt()},m(f,d){s[e].m(f,d),te(f,r,d),l=!0},p(f,d){let h=e;e=u(f),e===h?s[e].p(f,d):(un(),qe(s[h],1,1,()=>{s[h]=null}),cn(),t=s[e],t?t.p(f,d):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function Yu(n){let e;const t=n[109].selection,r=In(t,n,n[118],Ys),l=r||Ju(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r?r.p&&(!e||s[0]&524288|s[3]&33554432)&&An(r,t,o,o[118],e?Mn(t,o[118],s,qu):On(o[118]),Ys):l&&l.p&&(!e||s[0]&524289|s[1]&8192)&&l.p(o,e?s:[-1,-1,-1,-1,-1,-1])},i(o){e||(Le(l,o),e=!0)},o(o){qe(l,o),e=!1},d(o){l&&l.d(o)}}}function Zu(n){let e;const t=n[109].collapsedSelection,r=In(t,n,n[118],Zs),l=r||Qu(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r?r.p&&(!e||s[0]&17301504|s[3]&33554432)&&An(r,t,o,o[118],e?Mn(t,o[118],s,Gu):On(o[118]),Zs):l&&l.p&&(!e||s[0]&17301504)&&l.p(o,e?s:[-1,-1,-1,-1,-1,-1])},i(o){e||(Le(l,o),e=!0)},o(o){qe(l,o),e=!1},d(o){l&&l.d(o)}}}function ta(n){let e,t='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',r,l,o;return{c(){e=I("button"),e.innerHTML=t,this.h()},l(s){e=A(s,"BUTTON",{class:!0,tabindex:!0,type:!0,"data-action":!0,"data-svelte-h":!0}),xe(e)!=="svelte-179wtvk"&&(e.innerHTML=t),this.h()},h(){p(e,"class","sv-item--btn"),p(e,"tabindex","-1"),p(e,"type","button"),p(e,"data-action","deselect")},m(s,u){te(s,e,u),l||(o=fi(r=ao.call(null,e,n[164])),l=!0)},p(s,u){n=s,r&&Zr(r.update)&&u[0]&524288&&r.update.call(null,n[164])},d(s){s&&v(e),l=!1,o()}}}function na(n,e){let t,r,l,o,s=e[44](e[164],!0)+"",u,f,d,h=Et,b,k,P=e[0]&&ta(e);return{key:n,first:null,c(){t=I("div"),r=I("div"),l=I("div"),o=new Yi(!1),u=ne(),P&&P.c(),f=ne(),this.h()},l(S){t=A(S,"DIV",{class:!0});var E=F(t);r=A(E,"DIV",{class:!0});var B=F(r);l=A(B,"DIV",{class:!0});var M=F(l);o=Zi(M,!1),M.forEach(v),B.forEach(v),u=re(E),P&&P.l(E),f=re(E),E.forEach(v),this.h()},h(){o.a=null,p(l,"class","sv-item--content"),p(r,"class","sv-item--wrap"),Pe(r,"is-multi",e[0]),p(t,"class","sv-item--container svelte-1ghfy5j"),this.first=t},m(S,E){te(S,t,E),_(t,r),_(r,l),o.m(s,l),_(t,u),P&&P.m(t,null),_(t,f),b||(k=Ze(t,"mousedown",Al(e[111])),b=!0)},p(S,E){e=S,E[0]&524288|E[1]&8192&&s!==(s=e[44](e[164],!0)+"")&&o.p(s),E[0]&1&&Pe(r,"is-multi",e[0]),e[0]?P?P.p(e,E):(P=ta(e),P.c(),P.m(t,f)):P&&(P.d(1),P=null)},r(){d=t.getBoundingClientRect()},f(){Ho(t),h()},a(){h(),h=jo(t,d,vu,{duration:e[36]})},d(S){S&&v(t),P&&P.d(),b=!1,k()}}}function Ju(n){let e=[],t=new Map,r,l=ct(n[19]);const o=s=>s[164][s[27]];for(let s=0;s<l.length;s+=1){let u=Ws(n,l,s),f=o(u);t.set(f,e[s]=na(f,u))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=bt()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);r=bt()},m(s,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,u);te(s,r,u)},p(s,u){if(u[0]&134742017|u[1]&8192){l=ct(s[19]);for(let f=0;f<e.length;f+=1)e[f].r();e=Nr(e,u,o,1,s,l,t,r.parentNode,qo,na,r,Ws);for(let f=0;f<e.length;f+=1)e[f].a()}},d(s){s&&v(r);for(let u=0;u<e.length;u+=1)e[u].d(s)}}}function Qu(n){let e=n[24].collapsedSelection(n[19].length)+"",t;return{c(){t=Re(e)},l(r){t=Ne(r,e)},m(r,l){te(r,t,l)},p(r,l){l[0]&17301504&&e!==(e=r[24].collapsedSelection(r[19].length)+"")&&et(t,e)},d(r){r&&v(t)}}}function ra(n){let e,t;const r=n[109]["clear-icon"],l=In(r,n,n[118],Gs),o=l||Xu(n);return{c(){e=I("button"),o&&o.c(),this.h()},l(s){e=A(s,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var u=F(e);o&&o.l(u),u.forEach(v),this.h()},h(){p(e,"type","button"),p(e,"class","sv-btn-indicator svelte-1ghfy5j"),p(e,"data-action","deselect"),p(e,"tabindex","-1"),Pe(e,"sv-has-selection",n[19].length)},m(s,u){te(s,e,u),o&&o.m(e,null),t=!0},p(s,u){l?l.p&&(!t||u[0]&8912896|u[3]&33554432)&&An(l,r,s,s[118],t?Mn(r,s[118],u,Uu):On(s[118]),Gs):o&&o.p&&(!t||u[0]&524288)&&o.p(s,t?u:[-1,-1,-1,-1,-1,-1]),(!t||u[0]&524288)&&Pe(e,"sv-has-selection",s[19].length)},i(s){t||(Le(o,s),t=!0)},o(s){qe(o,s),t=!1},d(s){s&&v(e),o&&o.d(s)}}}function ia(n){let e,t;return{c(){e=Bt("svg"),t=Bt("path"),this.h()},l(r){e=Ft(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=F(e);t=Ft(l,"path",{d:!0}),F(t).forEach(v),l.forEach(v),this.h()},h(){p(t,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),p(e,"class","indicator-icon svelte-1ghfy5j"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,l){te(r,e,l),_(e,t)},d(r){r&&v(e)}}}function Xu(n){let e,t=n[19].length&&ia();return{c(){t&&t.c(),e=bt()},l(r){t&&t.l(r),e=bt()},m(r,l){t&&t.m(r,l),te(r,e,l)},p(r,l){r[19].length?t||(t=ia(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&v(e),t&&t.d(r)}}}function la(n){let e;return{c(){e=I("span"),this.h()},l(t){e=A(t,"SPAN",{class:!0}),F(e).forEach(v),this.h()},h(){p(e,"class","sv-btn-separator svelte-1ghfy5j")},m(t,r){te(t,e,r)},d(t){t&&v(e)}}}function xu(n){let e,t;return{c(){e=Bt("svg"),t=Bt("path"),this.h()},l(r){e=Ft(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=F(e);t=Ft(l,"path",{d:!0}),F(t).forEach(v),l.forEach(v),this.h()},h(){p(t,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),p(e,"class","indicator-icon svelte-1ghfy5j"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,l){te(r,e,l),_(e,t)},p:Et,d(r){r&&v(e)}}}function sa(n){let e,t,r,l,o,s,u,f;const d=n[109]["list-header"],h=In(d,n,n[118],Vs),b=[ec,$u],k=[];function P(E,B){return E[25].length?0:E[25].length===0&&(!E[14]||!E[23])||E[26]?1:-1}~(l=P(n))&&(o=k[l]=b[l](n));let S=n[14]&&n[23]&&!n[26]&&oa(n);return{c(){h&&h.c(),e=ne(),t=I("div"),r=I("div"),o&&o.c(),s=ne(),S&&S.c(),u=bt(),this.h()},l(E){h&&h.l(E),e=re(E),t=A(E,"DIV",{class:!0,tabindex:!0});var B=F(t);r=A(B,"DIV",{class:!0});var M=F(r);o&&o.l(M),M.forEach(v),B.forEach(v),s=re(E),S&&S.l(E),u=bt(),this.h()},h(){p(r,"class","sv-dropdown-content"),Pe(r,"max-reached",n[26]),p(t,"class","sv-dropdown-scroll svelte-1ghfy5j"),p(t,"tabindex","-1"),Pe(t,"has-items",n[25].length>0),Pe(t,"is-virtual",n[15])},m(E,B){h&&h.m(E,B),te(E,e,B),te(E,t,B),_(t,r),~l&&k[l].m(r,null),n[116](r),n[117](t),te(E,s,B),S&&S.m(E,B),te(E,u,B),f=!0},p(E,B){h&&h.p&&(!f||B[3]&33554432)&&An(h,d,E,E[118],f?Mn(d,E[118],B,ju):On(E[118]),Vs);let M=l;l=P(E),l===M?~l&&k[l].p(E,B):(o&&(un(),qe(k[M],1,1,()=>{k[M]=null}),cn()),~l?(o=k[l],o?o.p(E,B):(o=k[l]=b[l](E),o.c()),Le(o,1),o.m(r,null)):o=null),(!f||B[0]&67108864)&&Pe(r,"max-reached",E[26]),(!f||B[0]&33554432)&&Pe(t,"has-items",E[25].length>0),(!f||B[0]&32768)&&Pe(t,"is-virtual",E[15]),E[14]&&E[23]&&!E[26]?S?(S.p(E,B),B[0]&75513856&&Le(S,1)):(S=oa(E),S.c(),Le(S,1),S.m(u.parentNode,u)):S&&(un(),qe(S,1,1,()=>{S=null}),cn())},i(E){f||(Le(h,E),Le(o),Le(S),f=!0)},o(E){qe(h,E),qe(o),qe(S),f=!1},d(E){E&&(v(e),v(t),v(s),v(u)),h&&h.d(E),~l&&k[l].d(),n[116](null),n[117](null),S&&S.d(E)}}}function $u(n){let e,t,r,l;return{c(){e=I("div"),t=I("div"),r=I("div"),l=Re(n[42]),this.h()},l(o){e=A(o,"DIV",{class:!0});var s=F(e);t=A(s,"DIV",{class:!0});var u=F(t);r=A(u,"DIV",{class:!0});var f=F(r);l=Ne(f,n[42]),f.forEach(v),u.forEach(v),s.forEach(v),this.h()},h(){p(r,"class","sv-item--content"),p(t,"class","sv-item--wrap"),p(e,"class","is-dropdown-row svelte-1ghfy5j")},m(o,s){te(o,e,s),_(e,t),_(t,r),_(r,l)},p(o,s){s[1]&2048&&et(l,o[42])},i:Et,o:Et,d(o){o&&v(e)}}}function ec(n){let e,t,r,l;const o=[nc,tc],s=[];function u(f,d){return f[15]?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=bt()},l(f){t.l(f),r=bt()},m(f,d){s[e].m(f,d),te(f,r,d),l=!0},p(f,d){let h=e;e=u(f),e===h?s[e].p(f,d):(un(),qe(s[h],1,1,()=>{s[h]=null}),cn(),t=s[e],t?t.p(f,d):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function tc(n){let e,t,r=ct(n[25]),l=[];for(let s=0;s<r.length;s+=1)l[s]=aa(zs(n,r,s));const o=s=>qe(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=bt()},l(s){for(let u=0;u<l.length;u+=1)l[u].l(s);e=bt()},m(s,u){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);te(s,e,u),t=!0},p(s,u){if(u[0]&44041344|u[1]&8192|u[3]&33554432){r=ct(s[25]);let f;for(f=0;f<r.length;f+=1){const d=zs(s,r,f);l[f]?(l[f].p(d,u),Le(l[f],1)):(l[f]=aa(d),l[f].c(),Le(l[f],1),l[f].m(e.parentNode,e))}for(un(),f=r.length;f<l.length;f+=1)o(f);cn()}},i(s){if(!t){for(let u=0;u<r.length;u+=1)Le(l[u]);t=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)qe(l[u]);t=!1},d(s){s&&v(e),zn(l,s)}}}function nc(n){let e,t,r={width:"100%",height:n[49],itemCount:n[25].length,itemSize:n[22],scrollToAlignment:"auto",scrollToIndex:n[21],$$slots:{item:[uc,({style:l,index:o})=>({162:l,163:o}),({style:l,index:o})=>[0,0,0,0,0,(l?128:0)|(o?256:0)]]},$$scope:{ctx:n}};return e=new Tu({props:r}),n[115](e),{c(){Yt(e.$$.fragment)},l(l){Zt(e.$$.fragment,l)},m(l,o){Jt(e,l,o),t=!0},p(l,o){const s={};o[1]&262144&&(s.height=l[49]),o[0]&33554432&&(s.itemCount=l[25].length),o[0]&4194304&&(s.itemSize=l[22]),o[0]&2097152&&(s.scrollToIndex=l[21]),o[0]&44041344|o[1]&8192|o[3]&33554432|o[5]&384&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){t||(Le(e.$$.fragment,l),t=!0)},o(l){qe(e.$$.fragment,l),t=!1},d(l){n[115](null),Qt(e,l)}}}function rc(n){let e,t,r;const l=n[109].option,o=In(l,n,n[118],Ks),s=o||lc(n);return{c(){e=I("div"),s&&s.c(),t=ne(),this.h()},l(u){e=A(u,"DIV",{"data-pos":!0,class:!0});var f=F(e);s&&s.l(f),t=re(f),f.forEach(v),this.h()},h(){p(e,"data-pos",n[166]),p(e,"class","sv-item--wrap in-dropdown svelte-1ghfy5j"),Pe(e,"sv-dd-item-active",n[21]===n[166]),Pe(e,"is-selected",n[164].$selected),Pe(e,"is-disabled",n[164][n[7]])},m(u,f){te(u,e,f),s&&s.m(e,null),_(e,t),r=!0},p(u,f){o?o.p&&(!r||f[0]&41943040|f[3]&33554432)&&An(o,l,u,u[118],r?Mn(l,u[118],f,zu):On(u[118]),Ks):s&&s.p&&(!r||f[0]&41944064|f[1]&8192)&&s.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[0]&2097152)&&Pe(e,"sv-dd-item-active",u[21]===u[166]),(!r||f[0]&33554432)&&Pe(e,"is-selected",u[164].$selected),(!r||f[0]&33554560)&&Pe(e,"is-disabled",u[164][u[7]])},i(u){r||(Le(s,u),r=!0)},o(u){qe(s,u),r=!1},d(u){u&&v(e),s&&s.d(u)}}}function ic(n){let e,t,r=n[164].label+"",l;return{c(){e=I("div"),t=I("b"),l=Re(r),this.h()},l(o){e=A(o,"DIV",{class:!0});var s=F(e);t=A(s,"B",{});var u=F(t);l=Ne(u,r),u.forEach(v),s.forEach(v),this.h()},h(){p(e,"class","sv-optgroup-header")},m(o,s){te(o,e,s),_(e,t),_(t,l)},p(o,s){s[0]&33554432&&r!==(r=o[164].label+"")&&et(l,r)},i:Et,o:Et,d(o){o&&v(e)}}}function lc(n){let e,t,r=Gi(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=I("div"),t=new Yi(!1),this.h()},l(l){e=A(l,"DIV",{class:!0});var o=F(e);t=Zi(o,!1),o.forEach(v),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(l,o){te(l,e,o),t.m(r,e)},p(l,o){o[0]&41944064|o[1]&8192&&r!==(r=Gi(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&v(e)}}}function aa(n){let e,t,r,l;const o=[ic,rc],s=[];function u(f,d){return f[164].$isGroupHeader?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=bt()},l(f){t.l(f),r=bt()},m(f,d){s[e].m(f,d),te(f,r,d),l=!0},p(f,d){let h=e;e=u(f),e===h?s[e].p(f,d):(un(),qe(s[h],1,1,()=>{s[h]=null}),cn(),t=s[e],t?t.p(f,d):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function sc(n){let e,t,r;const l=n[109].option,o=In(l,n,n[118],Hs),s=o||oc(n);return{c(){e=I("div"),s&&s.c(),this.h()},l(u){e=A(u,"DIV",{"data-pos":!0,class:!0});var f=F(e);s&&s.l(f),f.forEach(v),this.h()},h(){p(e,"data-pos",t=n[163]),p(e,"class","sv-item--wrap in-dropdown svelte-1ghfy5j"),Pe(e,"sv-dd-item-active",n[21]===n[163]),Pe(e,"is-selected",n[164].$selected),Pe(e,"is-disabled",n[164][n[7]])},m(u,f){te(u,e,f),s&&s.m(e,null),r=!0},p(u,f){o?o.p&&(!r||f[0]&41943040|f[3]&33554432|f[5]&256)&&An(o,l,u,u[118],r?Mn(l,u[118],f,Ku):On(u[118]),Hs):s&&s.p&&(!r||f[0]&41944064|f[1]&8192|f[5]&256)&&s.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[5]&256&&t!==(t=u[163]))&&p(e,"data-pos",t),(!r||f[0]&2097152|f[5]&256)&&Pe(e,"sv-dd-item-active",u[21]===u[163]),(!r||f[0]&33554432|f[5]&256)&&Pe(e,"is-selected",u[164].$selected),(!r||f[0]&33554560|f[5]&256)&&Pe(e,"is-disabled",u[164][u[7]])},i(u){r||(Le(s,u),r=!0)},o(u){qe(s,u),r=!1},d(u){u&&v(e),s&&s.d(u)}}}function ac(n){let e,t,r=n[164].label+"",l;return{c(){e=I("div"),t=I("b"),l=Re(r),this.h()},l(o){e=A(o,"DIV",{class:!0});var s=F(e);t=A(s,"B",{});var u=F(t);l=Ne(u,r),u.forEach(v),s.forEach(v),this.h()},h(){p(e,"class","sv-optgroup-header")},m(o,s){te(o,e,s),_(e,t),_(t,l)},p(o,s){s[0]&33554432|s[5]&256&&r!==(r=o[164].label+"")&&et(l,r)},i:Et,o:Et,d(o){o&&v(e)}}}function oc(n){let e,t,r=Gi(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=I("div"),t=new Yi(!1),this.h()},l(l){e=A(l,"DIV",{class:!0});var o=F(e);t=Zi(o,!1),o.forEach(v),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(l,o){te(l,e,o),t.m(r,e)},p(l,o){o[0]&41944064|o[1]&8192|o[5]&256&&r!==(r=Gi(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&v(e)}}}function uc(n){js(n);let e,t,r,l,o;const s=[ac,sc],u=[];function f(d,h){return d[164].$isGroupHeader?0:1}return t=f(n),r=u[t]=s[t](n),{c(){e=I("div"),r.c(),this.h()},l(d){e=A(d,"DIV",{slot:!0,style:!0});var h=F(e);r.l(h),h.forEach(v),this.h()},h(){p(e,"slot","item"),p(e,"style",l=n[162])},m(d,h){te(d,e,h),u[t].m(e,null),o=!0},p(d,h){js(d);let b=t;t=f(d),t===b?u[t].p(d,h):(un(),qe(u[b],1,1,()=>{u[b]=null}),cn(),r=u[t],r?r.p(d,h):(r=u[t]=s[t](d),r.c()),Le(r,1),r.m(e,null)),(!o||h[5]&128&&l!==(l=d[162]))&&p(e,"style",l)},i(d){o||(Le(r),o=!0)},o(d){qe(r),o=!1},d(d){d&&v(e),u[t].d()}}}function oa(n){let e,t,r,l,o,s;const u=n[109]["create-row"],f=In(u,n,n[118],Fs),d=f||cc(n);return{c(){e=I("div"),t=I("button"),d&&d.c(),this.h()},l(h){e=A(h,"DIV",{class:!0});var b=F(e);t=A(b,"BUTTON",{type:!0,class:!0});var k=F(t);d&&d.l(k),k.forEach(v),b.forEach(v),this.h()},h(){p(t,"type","button"),p(t,"class","creatable-row svelte-1ghfy5j"),t.disabled=r=n[1](n[23]),Pe(t,"active",(n[25].length?n[25].length:0)===n[21]),Pe(t,"is-disabled",n[1](n[23])),p(e,"class","is-dropdown-row svelte-1ghfy5j")},m(h,b){te(h,e,b),_(e,t),d&&d.m(t,null),l=!0,o||(s=[Ze(t,"click",Al(n[51])),Ze(t,"mousedown",Al(n[110]))],o=!0)},p(h,b){f?f.p&&(!l||b[0]&25165824|b[1]&16|b[3]&33554432)&&An(f,u,h,h[118],l?Mn(u,h[118],b,Fu):On(h[118]),Fs):d&&d.p&&(!l||b[0]&25165824|b[1]&18)&&d.p(h,l?b:[-1,-1,-1,-1,-1,-1]),(!l||b[0]&8388610&&r!==(r=h[1](h[23])))&&(t.disabled=r),(!l||b[0]&35651584)&&Pe(t,"active",(h[25].length?h[25].length:0)===h[21]),(!l||b[0]&8388610)&&Pe(t,"is-disabled",h[1](h[23]))},i(h){l||(Le(d,h),l=!0)},o(h){qe(d,h),l=!1},d(h){h&&v(e),d&&d.d(h),o=!1,jn(s)}}}function cc(n){let e,t=n[24].createRowLabel(n[23])+"",r,l,o,s,u,f,d,h="Enter";return{c(){e=I("span"),r=Re(t),l=ne(),o=I("span"),s=I("kbd"),u=Re(n[32]),f=Re("+"),d=I("kbd"),d.textContent=h,this.h()},l(b){e=A(b,"SPAN",{class:!0});var k=F(e);r=Ne(k,t),k.forEach(v),l=re(b),o=A(b,"SPAN",{class:!0});var P=F(o);s=A(P,"KBD",{class:!0});var S=F(s);u=Ne(S,n[32]),S.forEach(v),f=Ne(P,"+"),d=A(P,"KBD",{class:!0,"data-svelte-h":!0}),xe(d)!=="svelte-eby1n8"&&(d.textContent=h),P.forEach(v),this.h()},h(){p(e,"class","svelte-1ghfy5j"),Pe(e,"is-loading",n[35]),p(s,"class","svelte-1ghfy5j"),p(d,"class","svelte-1ghfy5j"),p(o,"class","shortcut svelte-1ghfy5j")},m(b,k){te(b,e,k),_(e,r),te(b,l,k),te(b,o,k),_(o,s),_(s,u),_(o,f),_(o,d)},p(b,k){k[0]&25165824&&t!==(t=b[24].createRowLabel(b[23])+"")&&et(r,t),k[1]&16&&Pe(e,"is-loading",b[35]),k[1]&2&&et(u,b[32])},d(b){b&&(v(e),v(l),v(o))}}}function fc(n){let e,t,r,l,o,s,u,f,d,h,b,k,P,S,E,B,M,O,K,T,ae,oe,Z,Ce,ie,$,be,ve,he=n[28]&&Xs(n),me=n[4]&&!n[6]&&xs(n);const ye=n[109].icon,_e=In(ye,n,n[118],Js);let ue=n[19].length&&ea(n),ce=n[9]&&!n[3]&&ra(n),C=n[9]&&la();const L=n[109]["dropdown-toggle"],j=In(L,n,n[118],qs),fe=j||xu(),R=n[109]["control-end"],W=In(R,n,n[118],Us);let le=n[18]&&n[31]&&sa(n);return{c(){e=I("div"),t=I("span"),he&&he.c(),r=ne(),me&&me.c(),l=ne(),o=I("div"),_e&&_e.c(),s=ne(),u=I("div"),ue&&ue.c(),f=ne(),d=I("span"),h=I("input"),M=ne(),O=I("div"),ce&&ce.c(),K=ne(),C&&C.c(),T=ne(),ae=I("button"),fe&&fe.c(),oe=ne(),W&&W.c(),Z=ne(),Ce=I("div"),le&&le.c(),this.h()},l(Y){e=A(Y,"DIV",{class:!0,role:!0});var Ee=F(e);t=A(Ee,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Be=F(t);he&&he.l(Be),Be.forEach(v),r=re(Ee),me&&me.l(Ee),l=re(Ee),o=A(Ee,"DIV",{class:!0});var pe=F(o);_e&&_e.l(pe),s=re(pe),u=A(pe,"DIV",{class:!0});var ee=F(u);ue&&ue.l(ee),f=re(ee),d=A(ee,"SPAN",{class:!0,"data-value":!0});var $e=F(d);h=A($e,"INPUT",{type:!0,class:!0,size:!0,id:!0,placeholder:!0,inputmode:!0,enterkeyhint:!0,"aria-label":!0,"aria-describedby":!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,"aria-autocomplete":!0,tabindex:!0}),$e.forEach(v),ee.forEach(v),M=re(pe),O=A(pe,"DIV",{class:!0});var De=F(O);ce&&ce.l(De),K=re(De),C&&C.l(De),T=re(De),ae=A(De,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var Me=F(ae);fe&&fe.l(Me),Me.forEach(v),De.forEach(v),oe=re(pe),W&&W.l(pe),pe.forEach(v),Z=re(Ee),Ce=A(Ee,"DIV",{class:!0});var Ve=F(Ce);le&&le.l(Ve),Ve.forEach(v),Ee.forEach(v),this.h()},h(){p(t,"aria-live","polite"),p(t,"aria-atomic","false"),p(t,"aria-relevant","additions text"),p(t,"class","a11y-text svelte-1ghfy5j"),p(h,"type","text"),p(h,"class","sv-input--text svelte-1ghfy5j"),p(h,"size","1"),p(h,"id",n[2]),p(h,"placeholder",b=n[23]?"":n[47]),p(h,"inputmode",n[48]),h.readOnly=k=!n[8],p(h,"enterkeyhint",n[43]),h.disabled=n[3],p(h,"aria-label",P=n[24].aria_label),p(h,"aria-describedby",S=n[24].aria_describedby),p(h,"autocapitalize","none"),p(h,"autocomplete","off"),p(h,"autocorrect","off"),p(h,"spellcheck","false"),p(h,"aria-autocomplete","list"),p(h,"tabindex","0"),Pe(h,"keep-value",!n[11]),p(d,"class","sv-input--sizer svelte-1ghfy5j"),p(d,"data-value",E=n[23]||n[47]),p(u,"class","sv-control--selection svelte-1ghfy5j"),Pe(u,"is-single",n[0]===!1),Pe(u,"has-items",n[19].length>0),Pe(u,"has-input",n[23].length),p(ae,"type","button"),p(ae,"class","sv-btn-indicator svelte-1ghfy5j"),p(ae,"data-action","toggle"),p(ae,"tabindex","-1"),Pe(ae,"sv-dropdown-opened",n[20]),p(O,"class","sv-buttons svelte-1ghfy5j"),Pe(O,"is-loading",n[34]),p(o,"class","sv-control svelte-1ghfy5j"),p(Ce,"class","sv_dropdown svelte-1ghfy5j"),Pe(Ce,"is-open",n[30]),p(e,"class",ie=ts(`svelecte ${n[16]}`)+" svelte-1ghfy5j"),p(e,"role","none"),Pe(e,"is-required",n[5]),Pe(e,"is-empty",n[19].length===0),Pe(e,"is-invalid",n[5]&&n[19].length===0),Pe(e,"is-tainted",n[29]),Pe(e,"is-valid",n[5]?n[19].length>0:!0),Pe(e,"is-focused",n[28]),Pe(e,"is-open",n[20]),Pe(e,"is-disabled",n[3])},m(Y,Ee){te(Y,e,Ee),_(e,t),he&&he.m(t,null),_(e,r),me&&me.m(e,null),_(e,l),_(e,o),_e&&_e.m(o,null),_(o,s),_(o,u),ue&&ue.m(u,null),_(u,f),_(u,d),_(d,h),n[113](h),Lt(h,n[23]),_(o,M),_(o,O),ce&&ce.m(O,null),_(O,K),C&&C.m(O,null),_(O,T),_(O,ae),fe&&fe.m(ae,null),_(o,oe),W&&W.m(o,null),_(e,Z),_(e,Ce),le&&le.m(Ce,null),$=!0,be||(ve=[Ze(h,"input",n[114]),Ze(h,"focus",n[56]),Ze(h,"keydown",n[53]),Ze(h,"keyup",n[54]),Ze(h,"input",n[55]),Ze(h,"blur",n[57]),Ze(h,"paste",n[58]),fi(B=n[12].call(null,u,{items:n[19],flipDurationMs:n[36],type:n[2],dragDisabled:n[33]})),Ze(u,"consider",n[59]),Ze(u,"finalize",n[59]),Ze(o,"mousedown",ua),Ze(o,"click",n[52]),Ze(Ce,"mousedown",ua),Ze(Ce,"click",n[52]),fi(n[17].call(null,Ce))],be=!0)},p(Y,Ee){Y[28]?he?he.p(Y,Ee):(he=Xs(Y),he.c(),he.m(t,null)):he&&(he.d(1),he=null),Y[4]&&!Y[6]?me?me.p(Y,Ee):(me=xs(Y),me.c(),me.m(e,l)):me&&(me.d(1),me=null),_e&&_e.p&&(!$||Ee[3]&33554432)&&An(_e,ye,Y,Y[118],$?Mn(ye,Y[118],Ee,Wu):On(Y[118]),Js),Y[19].length?ue?(ue.p(Y,Ee),Ee[0]&524288&&Le(ue,1)):(ue=ea(Y),ue.c(),Le(ue,1),ue.m(u,f)):ue&&(un(),qe(ue,1,1,()=>{ue=null}),cn()),(!$||Ee[0]&4)&&p(h,"id",Y[2]),(!$||Ee[0]&8388608|Ee[1]&65536&&b!==(b=Y[23]?"":Y[47]))&&p(h,"placeholder",b),(!$||Ee[1]&131072)&&p(h,"inputmode",Y[48]),(!$||Ee[0]&256&&k!==(k=!Y[8]))&&(h.readOnly=k),(!$||Ee[1]&4096)&&p(h,"enterkeyhint",Y[43]),(!$||Ee[0]&8)&&(h.disabled=Y[3]),(!$||Ee[0]&16777216&&P!==(P=Y[24].aria_label))&&p(h,"aria-label",P),(!$||Ee[0]&16777216&&S!==(S=Y[24].aria_describedby))&&p(h,"aria-describedby",S),Ee[0]&8388608&&h.value!==Y[23]&&Lt(h,Y[23]),(!$||Ee[0]&2048)&&Pe(h,"keep-value",!Y[11]),(!$||Ee[0]&8388608|Ee[1]&65536&&E!==(E=Y[23]||Y[47]))&&p(d,"data-value",E),B&&Zr(B.update)&&Ee[0]&524292|Ee[1]&36&&B.update.call(null,{items:Y[19],flipDurationMs:Y[36],type:Y[2],dragDisabled:Y[33]}),(!$||Ee[0]&1)&&Pe(u,"is-single",Y[0]===!1),(!$||Ee[0]&524288)&&Pe(u,"has-items",Y[19].length>0),(!$||Ee[0]&8388608)&&Pe(u,"has-input",Y[23].length),Y[9]&&!Y[3]?ce?(ce.p(Y,Ee),Ee[0]&520&&Le(ce,1)):(ce=ra(Y),ce.c(),Le(ce,1),ce.m(O,K)):ce&&(un(),qe(ce,1,1,()=>{ce=null}),cn()),Y[9]?C||(C=la(),C.c(),C.m(O,T)):C&&(C.d(1),C=null),j&&j.p&&(!$||Ee[0]&1048576|Ee[3]&33554432)&&An(j,L,Y,Y[118],$?Mn(L,Y[118],Ee,Vu):On(Y[118]),qs),(!$||Ee[0]&1048576)&&Pe(ae,"sv-dropdown-opened",Y[20]),(!$||Ee[1]&8)&&Pe(O,"is-loading",Y[34]),W&&W.p&&(!$||Ee[3]&33554432)&&An(W,R,Y,Y[118],$?Mn(R,Y[118],Ee,Hu):On(Y[118]),Us),Y[18]&&Y[31]?le?(le.p(Y,Ee),Ee[0]&262144|Ee[1]&1&&Le(le,1)):(le=sa(Y),le.c(),Le(le,1),le.m(Ce,null)):le&&(un(),qe(le,1,1,()=>{le=null}),cn()),(!$||Ee[0]&1073741824)&&Pe(Ce,"is-open",Y[30]),(!$||Ee[0]&65536&&ie!==(ie=ts(`svelecte ${Y[16]}`)+" svelte-1ghfy5j"))&&p(e,"class",ie),(!$||Ee[0]&65568)&&Pe(e,"is-required",Y[5]),(!$||Ee[0]&589824)&&Pe(e,"is-empty",Y[19].length===0),(!$||Ee[0]&589856)&&Pe(e,"is-invalid",Y[5]&&Y[19].length===0),(!$||Ee[0]&536936448)&&Pe(e,"is-tainted",Y[29]),(!$||Ee[0]&589856)&&Pe(e,"is-valid",Y[5]?Y[19].length>0:!0),(!$||Ee[0]&268500992)&&Pe(e,"is-focused",Y[28]),(!$||Ee[0]&1114112)&&Pe(e,"is-open",Y[20]),(!$||Ee[0]&65544)&&Pe(e,"is-disabled",Y[3])},i(Y){$||(Le(_e,Y),Le(ue),Le(ce),Le(fe,Y),Le(W,Y),Le(le),$=!0)},o(Y){qe(_e,Y),qe(ue),qe(ce),qe(fe,Y),qe(W,Y),qe(le),$=!1},d(Y){Y&&v(e),he&&he.d(),me&&me.d(),_e&&_e.d(Y),ue&&ue.d(),n[113](null),ce&&ce.d(),C&&C.d(),fe&&fe.d(Y),W&&W.d(Y),le&&le.d(),be=!1,jn(ve)}}}St.requestFactory=_u;const Li={default(n){return pu(n[this.label])}},Ri=n=>({destroy:()=>{}}),dc=St;function ua(n){n.preventDefault()}function hc(n,e,t){let r,l,o,s,u,f,d,h,b,k,{$$slots:P={},$$scope:S}=e,{name:E="svelecte"}=e,{inputId:B=""}=e,{required:M=!1}=e,{disabled:O=!1}=e,{anchor_element:K=null}=e,{options:T=[]}=e,{optionResolver:ae=null}=e,{valueField:oe=St.valueField}=e,{labelField:Z=St.labelField}=e,{groupLabelField:Ce=St.groupLabelField}=e,{groupItemsField:ie=St.groupItemsField}=e,{disabledField:$=St.disabledField}=e,{placeholder:be=St.placeholder}=e,{searchable:ve=St.searchable}=e,{clearable:he=St.clearable}=e,{renderer:me=null}=e,{disableHighlight:ye=!1}=e,{highlightFirstItem:_e=St.highlightFirstItem}=e,{selectOnTab:ue=St.selectOnTab}=e,{resetOnBlur:ce=St.resetOnBlur}=e,{resetOnSelect:C=St.resetOnSelect}=e,{closeAfterSelect:L=St.closeAfterSelect}=e,{deselectMode:j="native"}=e,{dndzone:fe=()=>({noop:!0,destroy:()=>{}})}=e,{validatorAction:R=[]}=e,{strictMode:W=!0}=e,{multiple:le=St.multiple}=e,{max:Y=St.max}=e,{collapseSelection:Ee=St.collapseSelection}=e,{keepSelectionInList:Be=St.keepSelectionInList}=e,{creatable:pe=St.creatable}=e,{creatablePrefix:ee=St.creatablePrefix}=e,{allowEditing:$e=St.allowEditing}=e,{keepCreated:De=St.keepCreated}=e,{delimiter:Me=St.delimiter}=e,{createFilter:Ve=null}=e,{createHandler:x=null}=e,{fetch:Ge=null}=e,{fetchProps:Fe=St.fetchProps}=e,{fetchMode:ke="auto"}=e,{fetchCallback:We=St.fetchCallback}=e,{fetchResetOnBlur:tt=!0}=e,{fetchDebounceTime:_t=St.fetchDebounceTime}=e,{minQuery:dt=St.minQuery}=e,{lazyDropdown:nt=St.lazyDropdown}=e,{virtualList:it=St.virtualList}=e,{vlHeight:Je=St.vlHeight}=e,{vlItemSize:Qe=St.vlItemSize}=e,{searchProps:Rt=null}=e,{class:st="svelecte-control"}=e,{i18n:ln=null}=e,{readSelection:tn=null}=e,{value:Dt=null}=e,{valueAsObject:At=St.valueAsObject}=e,{parentValue:wn=void 0}=e,{positionResolver:Xt=Ri}=e;function Ue(){Zn.focus()}function Rn(w,Ie){Fr(w),Ie&&cr()}function nn(w){return w?Dt:tn}function sn(w){Ge&&($r({init:!0,initValue:w,storedValue:tt}),t(64,tt=!1))}const Ae=Wi(),qt=`sv-${E}-select`;Ge&&Dt&&At&&(!T||T&&T.length===0)&&(T=Array.isArray(Dt)?Dt:[Dt]),B||(B=`${qt}-input`),le=E&&!le?E.endsWith("[]"):le;let Hn=!1,an,Mt=ae?ae(T,new Set):Bs(T,oe,Z),Ut,vt=oe||Pi("value",Mt,ie),yt=Z||Pi("label",Mt,ie),ft=Dt!==null?Mu(Mt,Dt,At,ie,vt):[];const Ot=ft.reduce((w,Ie)=>(w.add(Ie[vt]),w),new Set);let fn=ft.filter(w=>w.$created),dn=!1,at=!1,we=!1,Ye=!1,Ct=!1,wt=_e?0:null,Xe=!nt,$t=null,Nn=it&&Je===null&&Qe===null,kn=Je,xt=Qe,er,ht="",hn=!1,Tt,jt=ke==="init"||Ge&&Ge.includes("[query]")===!1,xn=jt||Ge&&T.length===0?Dt:null,tr=null,Pt=Ee!==null,Nt=!1,Bn=!1,Qr=100,Yn=!1,br=!1,Zn,zt,mn,pn,nr;const Sn=Ou(vt,yt,Ce,ie);ur(ln,!0);function It(w,Ie){Hn&&(w&&vt!==w&&(t(107,Sn.valueField=t(27,vt=w),Sn),Ot.size>0&&gr()),Ie&&(t(107,Sn.labelField=t(104,yt=Ie),Sn),(me===null||me==="default")&&t(44,s=Li.default.bind({label:yt}))))}function _i(w){if(Hn){if(Mt!==w){if(w=Bs(w,vt,yt),!oe){const Ie=Pi("value",w||null,ie);!oe&&vt!==Ie&&(t(107,Sn.valueField=t(27,vt=Ie),Sn),Ot.size>0&&gr())}if(!Z){const Ie=Pi("label",w||null,ie);!Z&&yt!==Ie&&(t(107,Sn.labelField=Ie,Sn),t(104,yt=Ie),(me===null||me==="default")&&t(44,s=Li.default.bind({label:yt})))}}t(61,T=w),t(103,Mt=ae?ae(w,Ot):w)}}function Fr(w,Ie){if(!(an===w&&!(Ie!=null&&Ie.skipEqualityCheck))){if(gr(),w!==null){if((le&&!Array.isArray(w)||!le&&Array.isArray(w))&&console.warn(`Passed 'value' property should ${le?"be":"NOT be"} an array`),xn)return;const lt=Array.isArray(w)?w:[w],rt=lt.reduce((Dn,Cn)=>{if(At&&(!W||pe&&Cn.$created))return Dn.push(Cn),Dn;const gn=l.find(Un=>At?Un[vt]==Cn[vt]:Un[vt]==Cn);return gn?Dn.push(gn):!W&&Dn.push(x?x({inputValue:Cn,valueField:vt,labelField:yt,prefix:ee}):{[vt]:Cn,[yt]:Cn}),Dn},[]);if(!(rt.every(Kr)&&(le?lt.length===rt.length:rt.length>0))){console.warn('[Svelecte]: provided "value" property is invalid',w),t(63,Dt=le?[]:null),t(65,tn=Dt),Ae("invalidValue",w);return}t(65,tn=Array.isArray(w)?rt:rt.shift())}an=w}}function vi(w){if(Yn)return;const Ie=w.map(rt=>{const{$disabled:Ht,$isGroupItem:Dn,...Cn}=rt;return Cn}),lt=le?Ie:Ie.length?Ie[0]:null;At?an=lt:an=le?lt.map(rt=>rt[vt]):ft.length?lt[vt]:null,t(63,Dt=an),t(65,tn=lt),Y&&w.length===Y&&t(42,on=Tt.max(Y))}function Kt(w){if(w!==void 0&&Ut!==w||w===void 0&&Ut!==w){const Ie=w===void 0?!1:!w;gr(),an=le?[]:null,t(3,O=Ie)}Ut=w,br=w!==void 0}function mr(w){!Hn||!Xe||dr().then(()=>{if(!nr)return;const Ie=Au(nr,pn,o);t(22,xt=Ie.size),t(106,kn=Ie.height)}).then(()=>Xt===Ri&&Sl(Ye,pn,Xe))}function yr(w){Hn&&(w&&!at&&(at=!0),!Xe&&w&&t(31,Xe=!0),dr().then(()=>{Nn&&mr()}).then(()=>{Xt===Ri&&Sl(w,pn,!0),w&&(_e&&(ft.length===0||le)&&Vn(0,{asc:!0}),!le&&ft.length&&t(21,wt=l.findIndex(Ie=>Ie===ft[0])),Mi({container:mn,scrollContainer:pn,virtualList:it,center:!1},wt)),dr().then(()=>t(30,Ct=w))}),$t||($t=()=>Xt===Ri&&Sl(w,pn,!0)),document[w?"addEventListener":"removeEventListener"]("scroll",$t,{passive:!0}))}function ur(w,Ie=null){(Hn||Ie)&&t(24,Tt=Object.assign({},dc.i18n,w||{}))}function Xr(w,Ie){if(!(Ge&&!jt)){if(w){t(42,on=Tt.max(Y));return}t(42,on=Ie.length!==l.length&&ft.length!==l.length?pe?Tt.emptyCreatable:Tt.nomatch:pe?Tt.emptyCreatable:Tt.empty)}}function cr(){dr().then(()=>{Ae("change",tn),zt&&(zt.dispatchEvent(new Event("input")),zt.dispatchEvent(new Event("change")))})}function zr(w){Ae("createoption",w)}function pr(w,Ie){if(Ie=Ie||w.detail,!(O||Ie[$]||Ie.$isGroupHeader)){if(!Ie||le&&r)return!1;if(Ot.has(Ie[vt]))return!le&&j!=="toggle"?void 0:Fn(null,Ie);if(typeof Ie=="string"){if(!pe||(Ie=wl(Ie),fn.includes(Ie)||Ot.has(Ie)))return;t(35,Bn=!0),Promise.resolve().then(()=>x({inputValue:Ie,valueField:vt,labelField:yt,prefix:ee})).then(lt=>{t(35,Bn=!1),!Ge&&fn.push(Ie),lt.$created=!0,De&&t(103,Mt=[...Mt,lt]),zr(lt),Kr(lt),wr(),cr()}).catch(lt=>{t(35,Bn=!1),Ae("createFail",{input:Ie,error:lt})});return}Kr(Ie),wr(),cr()}}function wr(){(le&&C||!le)&&t(23,ht=""),(L===!0||L==="auto"&&!le)&&t(20,Ye=!1),Y&&ft.length==Y&&t(21,wt=0)}function Kr(w){if(w.$selected=!0,le)ft.push(w),t(19,ft),Ot.add(w[vt]);else{const Ie=ft.shift();Ie&&(Ie.$selected=!1),t(19,ft=[w]),Ot.clear(),Ot.add(w[vt]),dr().then(()=>{t(21,wt=l.indexOf(w))})}return ae?(t(103,Mt=ae(T,Ot)),!0):(t(108,l),t(103,Mt),t(107,Sn),!0)}function Fn(w={},Ie=null,lt){O||(Ie=Ie||w.detail,Ie?(kr(Ie,lt),Be!==!0&&dr().then(()=>Mi({scrollContainer:pn,container:mn,virtualList:it,center:!1},wt))):gr(),cr())}function kr(w,Ie){if(w.$created){if(fn.splice(fn.findIndex(rt=>rt===w[vt]),1),t(105,fn),!De){const rt=Mt.findIndex(Ht=>Ht[vt]===w[vt]);rt!==-1&&Mt.splice(rt,1),t(103,Mt)}Ie&&$e&&t(23,ht=w[yt].replace(ee,""))}w.$selected=!1;const lt=w[vt];if(Ot.delete(lt),ft.splice(ft.findIndex(rt=>rt[vt]==lt),1),t(19,ft),ae){t(103,Mt=ae(T,Ot));return}t(108,l=Ge&&!jt&&tt?[]:l)}function gr(){if(!(Ot.size===0||!le&&j==="none")){if(Ot.clear(),t(19,ft=ft.reduce((w,Ie)=>(Ie.$selected=!1,[]),[])),De||t(105,fn=[]),t(26,r=!1),ht&&t(23,ht=""),ae){t(103,Mt=ae(T,Ot));return}t(108,l=Ge&&!jt&&tt?[]:l)}}function Ji(w){fn.includes(ht)||pr(null,ht)}function kt(w){if(pe&&Me.indexOf(w.key)>-1){ht.length>0&&pr(null,ht),w.preventDefault();return}const Ie=ue&&Ye&&!w.shiftKey?"Tab":"No-tab";let lt=tr?w.metaKey:w.ctrlKey,rt=["PageUp","PageDown"].includes(w.key),Ht=!1,Dn=!1;switch(w.key){case"End":if(ht.length!==0)return;Vn(o.length,{desc:!0});case"PageDown":if(rt){const[Un,lr]=Hr();t(21,wt=Math.min(Math.ceil((lr*wt+Un)/lr),o.length))}case"ArrowUp":if(w.preventDefault(),!Ye){t(20,Ye=!0);return}Vn(wt-1,{desc:!0}),dr().then(()=>Mi({scrollContainer:pn,container:mn,virtualList:it,center:!1},wt));break;case"Home":if(Dn=!0,ht.length!==0||ht.length===0&&o.length===0)return;Vn(0,{asc:!0});case"PageUp":if(rt){const[Un,lr]=Hr();t(21,wt=Math.floor((lr*wt-Un)/lr))}case"ArrowDown":if(w.preventDefault(),!Ye){t(20,Ye=!0);return}!Dn&&Vn((wt===null?-1:wt)+1,{asc:!0}),dr().then(()=>Mi({scrollContainer:pn,container:mn,virtualList:it,center:!1},wt));break;case"Escape":Ye&&(w.preventDefault(),w.stopPropagation()),ht||t(20,Ye=!1),t(23,ht="");break;case Ie:case"Enter":if(!Ye){w.key!==Ie&&Ae("enterKey",w);return}let gn=lt?null:o[wt];if(pe&&ht){const Un=Ve(wl(ht));gn=!gn||lt?wl(ht):gn,lt=Un}if(!lt&&gn&&pr(null,gn),o.length<=wt&&Vn(o.length-1),!gn&&ft.length){t(20,Ye=!1),w.key!==Ie&&Ae("enterKey",w);return}(w.key!==Ie||w.key===Ie&&ue!=="select-navigate")&&w.preventDefault();break;case" ":!Ge&&!Ye&&(t(20,Ye=!0),w.preventDefault());break;case"Backspace":if(Ee==="always")return;Ht=!0;case"Delete":if(ht===""&&ft.length){if(!le&&j==="none")return;lt?Fn({}):Fn(null,ft[ft.length-1],Ht),w.preventDefault()}default:!lt&&!["Tab","Shift"].includes(w.key)&&!Ye&&!Nt&&t(20,Ye=!0)}}function xr(w){if(O)return;const Ie=w.target.closest("[data-action]");if(at||(at=!0),(Ie==null?void 0:Ie.dataset.action)==="default")return;w.preventDefault();const lt=w.target.closest("[data-pos]");if(!Ie&&!lt)return yi(w.target);switch((Ie==null?void 0:Ie.dataset.action)||"select"){case"deselect":let Ht=Ie.bound_item;if(!Ht){const Cn=Ie.dataset.id;Ht=ft.filter(gn=>gn[vt]==Cn).shift()}Fn({},Ht),Ht&&!dn&&Zn.focus();break;case"select":const Dn=parseInt(lt.dataset.pos);pr(null,o[Dn]);break;case"toggle":t(20,Ye=!Ye);break}}function Qi(w){if(As()&&!h&&w.key==="Enter")return!0;hn=["Enter","Escape"].includes(w.key)&&Ye,kt(w)}function Xi(w){hn&&(w.stopImmediatePropagation(),w.preventDefault()),hn=!1}function En(){ft.length}function _r(){t(28,dn=!0),t(20,Ye=at),we||t(29,we=!0),Ee==="blur"&&!Yn&&setTimeout(()=>{t(33,Pt=!1)},100),Ae("focus",Zn)}function jr(){t(28,dn=!1),t(20,Ye=!1),at=!1,ce?t(23,ht=""):Sr&&!jt&&Sr.abort("blur"),Ee==="blur"&&!Yn&&setTimeout(()=>{t(33,Pt=!0)},100),Ae("blur",Zn)}function rr(w){if(pe){w.preventDefault();const Ie=new RegExp("([^"+Me+"\\n]+)","g"),lt=w.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),rt=lt.match(Ie);rt.length===1&&lt.indexOf(",")===-1&&t(23,ht=rt.pop().trim()),rt.forEach(Ht=>pr(null,Ht.trim()))}}function bi(w){Yn=w.type==="consider",t(19,ft=w.detail.items),Yn||(cr(),Ee==="blur"&&setTimeout(()=>{t(33,Pt=!0)},200))}let Sr,Gt,on=Ge?jt?Tt.fetchInit:dt>1?Tt.fetchQuery(dt,0):Tt.fetchBefore:pe?Tt.emptyCreatable:Tt.empty;function Er(w,Ie){if(!w){Gt=null;return}(jt||xn)&&(t(34,Nt=!0),$r({init:!0})),Gt=gu($r,_t)}let Dr=Wr({control:null});const Cr=(w=null)=>Dr.update(Ie=>{var lt;return(lt=Ie.control)==null||lt.abort(),{control:w}});function ir(w){jt||r||Gt&&(Cr(),t(34,Nt=!0),ht.length<dt&&t(34,Nt=!1),tt&&t(25,o=[]),t(30,Ct=!(w.length>=dt)),t(42,on=dt<=1?Tt.fetchBefore:Tt.fetchQuery(dt,w.length)),Gt())}function $r(w={}){if(Cr(),w.init!==!0&&!ht.length||br&&!wn){t(34,Nt=!1),tt&&t(103,Mt=ae?ae(T,Ot):[]);return}if(ht&&ht.length<dt){t(34,Nt=!1);return}jt&&an&&(!le||(an==null?void 0:an.length)>0)&&(xn=an);const Ie=xn||w.initValue;jt&&t(42,on=Tt.fetchInit);const lt=St.requestFactory(ht,{parentValue:wn,url:Ge,initial:Ie},Fe);Sr=lt.controller,Cr(lt.controller),window.fetch(lt.request).then(rt=>rt.json()).then(rt=>(!Array.isArray(rt)&&(rt!=null&&rt.error)&&Ae("fetchError",rt.error),Promise.resolve(We?We(rt):rt.data||rt.items||rt.options||rt).then(Ht=>{Array.isArray(Ht)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",Ht),Ht=[]),t(103,Mt=Ht),Ae("fetch",Ht),dr().then(()=>{Ie&&(xn=null,Fr(Ie,{skipEqualityCheck:!0}),"storedValue"in w&&t(64,tt=w.storedValue))})}))).catch(rt=>{if(rt instanceof DOMException&&rt.name==="AbortError")return!0;t(103,Mt=[]),Ae("fetchError",rt),console.warn("[Svelecte] Fetch Error:",rt)}).then(rt=>{rt!==!0&&(t(42,on=jt?Tt.empty:Ie?dt>1?Tt.fetchQuery(dt,0):Tt.fetchBefore:Tt.fetchEmpty),Sr=null,t(34,Nt=!1),dn&&t(20,Ye=!0),Ye&&!Ct&&t(30,Ct=!0))})}function Jn(w){return Be?Be===!0?w?Ot:null:w||le?Ot:null:Ot}function Vn(w,Ie={},lt=0){var Ht;const rt=pe?o.length+1:o.length;if(!(lt>=2)){if(w<0&&(w=Ie.desc?rt-1:0),(wt===null&&_e||w>=rt)&&(w=0),(Ht=o[w])!=null&&Ht.$isGroupHeader){Vn(Ie.asc?w+1:w-1,Ie,++lt);return}t(21,wt=w)}}function yi(w){if(!O){if(!dn){Zn.focus();return}w.tagName==="INPUT"&&ht||t(20,Ye=!Ye)}}function Hr(){return it?[pn.offsetHeight,xt]:[pn.offsetHeight,mn.firstElementChild.offsetHeight]}const Tr=R.length?R.shift():()=>{};eo(()=>{t(18,Hn=!0),As(),tr=mu(),t(32,er=tr?"⌘":"Ctrl"),K?(t(38,zt=document.getElementById(K)),t(38,zt.className="sv-hidden-element",zt),t(38,zt.innerHTML="",zt),t(38,zt.tabIndex=-1,zt),t(38,zt.disabled=O,zt),t(38,zt.required=M,zt),t(38,zt.multiple=le,zt),!le&&zt.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),Ot.forEach(w=>{zt.insertAdjacentHTML("beforeend",`<option value=${w} selected>${w}</option>`)})):ft.length&&setTimeout(()=>{zt&&Array.from(zt.children).forEach(w=>{w.selected=!0})},200),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t(36,Qr=0)});function ei(w){Il.call(this,n,w)}function wi(w){Il.call(this,n,w)}function xi(w){Vt[w?"unshift":"push"](()=>{zt=w,t(38,zt),t(19,ft),t(27,vt)})}function Ir(w){Vt[w?"unshift":"push"](()=>{Zn=w,t(37,Zn)})}function $i(){ht=this.value,t(23,ht)}function el(w){Vt[w?"unshift":"push"](()=>{nr=w,t(41,nr)})}function Vr(w){Vt[w?"unshift":"push"](()=>{mn=w,t(39,mn)})}function Ur(w){Vt[w?"unshift":"push"](()=>{pn=w,t(40,pn)})}return n.$$set=w=>{"name"in w&&t(4,E=w.name),"inputId"in w&&t(2,B=w.inputId),"required"in w&&t(5,M=w.required),"disabled"in w&&t(3,O=w.disabled),"anchor_element"in w&&t(6,K=w.anchor_element),"options"in w&&t(61,T=w.options),"optionResolver"in w&&t(66,ae=w.optionResolver),"valueField"in w&&t(67,oe=w.valueField),"labelField"in w&&t(68,Z=w.labelField),"groupLabelField"in w&&t(69,Ce=w.groupLabelField),"groupItemsField"in w&&t(70,ie=w.groupItemsField),"disabledField"in w&&t(7,$=w.disabledField),"placeholder"in w&&t(71,be=w.placeholder),"searchable"in w&&t(8,ve=w.searchable),"clearable"in w&&t(9,he=w.clearable),"renderer"in w&&t(72,me=w.renderer),"disableHighlight"in w&&t(10,ye=w.disableHighlight),"highlightFirstItem"in w&&t(73,_e=w.highlightFirstItem),"selectOnTab"in w&&t(74,ue=w.selectOnTab),"resetOnBlur"in w&&t(11,ce=w.resetOnBlur),"resetOnSelect"in w&&t(75,C=w.resetOnSelect),"closeAfterSelect"in w&&t(76,L=w.closeAfterSelect),"deselectMode"in w&&t(77,j=w.deselectMode),"dndzone"in w&&t(12,fe=w.dndzone),"validatorAction"in w&&t(13,R=w.validatorAction),"strictMode"in w&&t(78,W=w.strictMode),"multiple"in w&&t(0,le=w.multiple),"max"in w&&t(79,Y=w.max),"collapseSelection"in w&&t(80,Ee=w.collapseSelection),"keepSelectionInList"in w&&t(81,Be=w.keepSelectionInList),"creatable"in w&&t(14,pe=w.creatable),"creatablePrefix"in w&&t(82,ee=w.creatablePrefix),"allowEditing"in w&&t(83,$e=w.allowEditing),"keepCreated"in w&&t(84,De=w.keepCreated),"delimiter"in w&&t(85,Me=w.delimiter),"createFilter"in w&&t(1,Ve=w.createFilter),"createHandler"in w&&t(62,x=w.createHandler),"fetch"in w&&t(86,Ge=w.fetch),"fetchProps"in w&&t(87,Fe=w.fetchProps),"fetchMode"in w&&t(88,ke=w.fetchMode),"fetchCallback"in w&&t(89,We=w.fetchCallback),"fetchResetOnBlur"in w&&t(64,tt=w.fetchResetOnBlur),"fetchDebounceTime"in w&&t(90,_t=w.fetchDebounceTime),"minQuery"in w&&t(91,dt=w.minQuery),"lazyDropdown"in w&&t(92,nt=w.lazyDropdown),"virtualList"in w&&t(15,it=w.virtualList),"vlHeight"in w&&t(93,Je=w.vlHeight),"vlItemSize"in w&&t(94,Qe=w.vlItemSize),"searchProps"in w&&t(95,Rt=w.searchProps),"class"in w&&t(16,st=w.class),"i18n"in w&&t(96,ln=w.i18n),"readSelection"in w&&t(65,tn=w.readSelection),"value"in w&&t(63,Dt=w.value),"valueAsObject"in w&&t(97,At=w.valueAsObject),"parentValue"in w&&t(98,wn=w.parentValue),"positionResolver"in w&&t(17,Xt=w.positionResolver),"$$scope"in w&&t(118,S=w.$$scope)},n.$$.update=()=>{n.$$.dirty[2]&96&&It(oe,Z),n.$$.dirty[0]&524288|n.$$.dirty[2]&131072&&t(26,r=Y!==0&&ft.length==Y),n.$$.dirty[1]&1073741824&&_i(T),n.$$.dirty[3]&17408&&t(108,l=Pu(Mt,Sn)),n.$$.dirty[2]&2&&Fr(Dt),n.$$.dirty[0]&75497472|n.$$.dirty[3]&49156&&t(25,o=r?[]:Nu(l,ht,Jn(ht),Sn,Rt||{})),n.$$.dirty[2]&2048&&_e&&Vn(0,{asc:!0}),n.$$.dirty[0]&35667968&&o.length<=wt&&Vn(0,{asc:!pe,desc:pe}),n.$$.dirty[0]&2|n.$$.dirty[3]&4096&&(Ve||t(1,Ve=w=>fn.includes(w))),n.$$.dirty[2]&1&&(x||t(62,x=({inputValue:w,labelField:Ie,valueField:lt,prefix:rt})=>({[lt]:w,[Ie]:`${rt}${w}`}))),n.$$.dirty[3]&8&&ur(ln),n.$$.dirty[3]&32&&Kt(wn),n.$$.dirty[0]&524288&&vi(ft),n.$$.dirty[2]&1024|n.$$.dirty[3]&2048&&t(44,s=typeof me=="function"?me:Li[me]||Li.default.bind({label:yt})),n.$$.dirty[0]&37748736|n.$$.dirty[3]&8192&&t(49,u=Math.min(kn,Array.isArray(xt)?xt.reduce((w,Ie)=>(w+=Ie,w),0):o.length*xt)),n.$$.dirty[0]&33554432&&Nn&&mr(),n.$$.dirty[0]&1048576&&yr(Ye),n.$$.dirty[0]&256&&t(48,f=ve?"text":"none"),n.$$.dirty[0]&524288|n.$$.dirty[2]&512&&t(47,d=ft.length?"":be),n.$$.dirty[0]&524289&&t(43,h=ft.length>0&&le===!1?null:"enter"),n.$$.dirty[0]&17301504|n.$$.dirty[3]&2048&&t(46,b=Tt.aria_selected(ft.map(w=>w[yt]))),n.$$.dirty[0]&61865984|n.$$.dirty[3]&2048&&t(45,k=o.length&&wt>0?Ye?Tt.aria_listActive(o[wt],yt,o.length):Tt.aria_inputFocused():ht.length?Tt.nomatch:Tt.empty),n.$$.dirty[0]&8388608&&ir(ht),n.$$.dirty[0]&262144|n.$$.dirty[2]&16777216|n.$$.dirty[3]&32&&Hn&&Er(Ge),n.$$.dirty[0]&100663296&&Xr(r,o)},[le,Ve,B,O,E,M,K,$,ve,he,ye,ce,fe,R,pe,it,st,Xt,Hn,ft,Ye,wt,xt,ht,Tt,o,r,vt,dn,we,Ct,Xe,er,Pt,Nt,Bn,Qr,Zn,zt,mn,pn,nr,on,h,s,k,b,d,f,u,qt,Ji,xr,Qi,Xi,En,_r,jr,rr,bi,Tr,T,x,Dt,tt,tn,ae,oe,Z,Ce,ie,be,me,_e,ue,C,L,j,W,Y,Ee,Be,ee,$e,De,Me,Ge,Fe,ke,We,_t,dt,nt,Je,Qe,Rt,ln,At,wn,Ue,Rn,nn,sn,Mt,yt,fn,kn,Sn,l,P,ei,wi,xi,Ir,$i,el,Vr,Ur,S]}class gi extends Pn{constructor(e){super(),Ln(this,e,hc,fc,yn,{name:4,inputId:2,required:5,disabled:3,anchor_element:6,options:61,optionResolver:66,valueField:67,labelField:68,groupLabelField:69,groupItemsField:70,disabledField:7,placeholder:71,searchable:8,clearable:9,renderer:72,disableHighlight:10,highlightFirstItem:73,selectOnTab:74,resetOnBlur:11,resetOnSelect:75,closeAfterSelect:76,deselectMode:77,dndzone:12,validatorAction:13,strictMode:78,multiple:0,max:79,collapseSelection:80,keepSelectionInList:81,creatable:14,creatablePrefix:82,allowEditing:83,keepCreated:84,delimiter:85,createFilter:1,createHandler:62,fetch:86,fetchProps:87,fetchMode:88,fetchCallback:89,fetchResetOnBlur:64,fetchDebounceTime:90,minQuery:91,lazyDropdown:92,virtualList:15,vlHeight:93,vlItemSize:94,searchProps:95,class:16,i18n:96,readSelection:65,value:63,valueAsObject:97,parentValue:98,positionResolver:17,focus:99,setSelection:100,getSelection:101,refetchWith:102},null,[-1,-1,-1,-1,-1,-1])}get focus(){return this.$$.ctx[99]}get setSelection(){return this.$$.ctx[100]}get getSelection(){return this.$$.ctx[101]}get refetchWith(){return this.$$.ctx[102]}}function mc(n){let e,t,r,l="Add New Trip",o,s,u,f="Trip Name",d,h,b,k,P,S="Trip Currency",E,B,M,O,K,T,ae="Trip Start",oe,Z,Ce,ie,$,be,ve="Trip End",he,me,ye,_e,ue,ce,C="Add Trip",L,j,fe="Cancel",R,W,le;function Y(De){n[8](De)}let Ee={options:n[4],inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[1]!==void 0&&(Ee.value=n[1]),B=new gi({props:Ee}),Vt.push(()=>Wn(B,"value",Y));function Be(De){n[9](De)}let pe={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[2]!==void 0&&(pe.value=n[2]),Z=new hi({props:pe}),Vt.push(()=>Wn(Z,"value",Be));function ee(De){n[10](De)}let $e={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[2],id:"tripEnd"};return n[3]!==void 0&&($e.value=n[3]),me=new hi({props:$e}),Vt.push(()=>Wn(me,"value",ee)),{c(){e=I("div"),t=I("form"),r=I("h1"),r.textContent=l,o=ne(),s=I("div"),u=I("label"),u.textContent=f,d=ne(),h=I("input"),b=ne(),k=I("div"),P=I("label"),P.textContent=S,E=ne(),Yt(B.$$.fragment),O=ne(),K=I("div"),T=I("label"),T.textContent=ae,oe=ne(),Yt(Z.$$.fragment),ie=ne(),$=I("div"),be=I("label"),be.textContent=ve,he=ne(),Yt(me.$$.fragment),_e=ne(),ue=I("div"),ce=I("button"),ce.textContent=C,L=ne(),j=I("a"),j.textContent=fe,this.h()},l(De){e=A(De,"DIV",{class:!0});var Me=F(e);t=A(Me,"FORM",{});var Ve=F(t);r=A(Ve,"H1",{"data-svelte-h":!0}),xe(r)!=="svelte-1x3twms"&&(r.textContent=l),o=re(Ve),s=A(Ve,"DIV",{class:!0});var x=F(s);u=A(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(u)!=="svelte-1y8z10u"&&(u.textContent=f),d=re(x),h=A(x,"INPUT",{id:!0,class:!0,type:!0}),x.forEach(v),b=re(Ve),k=A(Ve,"DIV",{class:!0});var Ge=F(k);P=A(Ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(P)!=="svelte-1fzihue"&&(P.textContent=S),E=re(Ge),Zt(B.$$.fragment,Ge),Ge.forEach(v),O=re(Ve),K=A(Ve,"DIV",{class:!0});var Fe=F(K);T=A(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(T)!=="svelte-4n7gli"&&(T.textContent=ae),oe=re(Fe),Zt(Z.$$.fragment,Fe),Fe.forEach(v),ie=re(Ve),$=A(Ve,"DIV",{class:!0});var ke=F($);be=A(ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(be)!=="svelte-1dn7717"&&(be.textContent=ve),he=re(ke),Zt(me.$$.fragment,ke),ke.forEach(v),_e=re(Ve),ue=A(Ve,"DIV",{class:!0});var We=F(ue);ce=A(We,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(ce)!=="svelte-ik7jo4"&&(ce.textContent=C),L=re(We),j=A(We,"A",{href:!0,class:!0,"data-svelte-h":!0}),xe(j)!=="svelte-wj5j6d"&&(j.textContent=fe),We.forEach(v),Ve.forEach(v),Me.forEach(v),this.h()},h(){p(u,"for","tripName"),p(u,"class","form-label"),p(h,"id","tripName"),p(h,"class","form-control"),p(h,"type","text"),p(s,"class","mb-3"),p(P,"for","tripCurrency"),p(P,"class","form-label"),p(k,"class","mb-3"),p(T,"for","tripStart"),p(T,"class","form-label"),p(K,"class","mb-3"),p(be,"for","tripStart"),p(be,"class","form-label"),p($,"class","mb-3"),p(ce,"class","btn btn-primary"),p(j,"href","#/"),p(j,"class","btn btn-outline-primary"),p(ue,"class","gap-3 d-grid d-md-block"),p(e,"class","w-100")},m(De,Me){te(De,e,Me),_(e,t),_(t,r),_(t,o),_(t,s),_(s,u),_(s,d),_(s,h),Lt(h,n[0]),_(t,b),_(t,k),_(k,P),_(k,E),Jt(B,k,null),_(t,O),_(t,K),_(K,T),_(K,oe),Jt(Z,K,null),_(t,ie),_(t,$),_($,be),_($,he),Jt(me,$,null),_(t,_e),_(t,ue),_(ue,ce),_(ue,L),_(ue,j),R=!0,W||(le=[Ze(h,"input",n[7]),Ze(ce,"click",n[5])],W=!0)},p(De,[Me]){Me&1&&h.value!==De[0]&&Lt(h,De[0]);const Ve={};Me&16&&(Ve.options=De[4]),!M&&Me&2&&(M=!0,Ve.value=De[1],Gn(()=>M=!1)),B.$set(Ve);const x={};!Ce&&Me&4&&(Ce=!0,x.value=De[2],Gn(()=>Ce=!1)),Z.$set(x);const Ge={};Me&4&&(Ge.min=De[2]),!ye&&Me&8&&(ye=!0,Ge.value=De[3],Gn(()=>ye=!1)),me.$set(Ge)},i(De){R||(Le(B.$$.fragment,De),Le(Z.$$.fragment,De),Le(me.$$.fragment,De),R=!0)},o(De){qe(B.$$.fragment,De),qe(Z.$$.fragment,De),qe(me.$$.fragment,De),R=!1},d(De){De&&v(e),Qt(B),Qt(Z),Qt(me),W=!1,jn(le)}}}function pc(n,e,t){let r,l,o;Kn(n,pi,E=>t(6,l=E)),Kn(n,Ll,E=>t(11,o=E));let s="My Trip",u=o,f=new Date,d=new Date;async function h(){try{const E=await Wt.trips.add({name:s,defaultCurrency:u,startDate:f,startDateString:f.toDateString(),endDate:d,endDateString:d.toDateString(),notes:""});window.location.href="#/trip/"+E}catch{window.location.href="#/"}}function b(){s=this.value,t(0,s)}function k(E){u=E,t(1,u)}function P(E){f=E,t(2,f)}function S(E){d=E,t(3,d)}return n.$$.update=()=>{n.$$.dirty&64&&t(4,r=zl(l))},[s,u,f,d,r,h,l,b,k,P,S]}class gc extends Pn{constructor(e){super(),Ln(this,e,pc,mc,yn,{})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function oi(n,e,t){const r=document.createElement(e);return n&&(r.className=n),t&&t.appendChild(r),r}function _c(n,e,t){let r=`translate3d(${n}px,0px,0)`;return t!==void 0&&(r+=` scale3d(${t},${t},1)`),r}function Nl(n,e,t){n.style.width=typeof e=="number"?`${e}px`:e,n.style.height=typeof t=="number"?`${t}px`:t}const Xn={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function vc(n){return"button"in n&&n.button===1||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey}function ui(n,e,t=document){let r=[];if(n instanceof Element)r=[n];else if(n instanceof NodeList||Array.isArray(n))r=Array.from(n);else{const l=typeof n=="string"?n:e;l&&(r=Array.from(t.querySelectorAll(l)))}return r}function bc(n){return typeof n=="function"&&n.prototype&&n.prototype.goTo}function ca(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class yc{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class wc{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,r=100){var l,o,s;this._filters[e]||(this._filters[e]=[]),(l=this._filters[e])===null||l===void 0||l.push({fn:t,priority:r}),(o=this._filters[e])===null||o===void 0||o.sort((u,f)=>u.priority-f.priority),(s=this.pswp)===null||s===void 0||s.addFilter(e,t,r)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(l=>{t[0]=l.fn.apply(this,t)}),t[0]}on(e,t){var r,l;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(t),(l=this.pswp)===null||l===void 0||l.on(e,t)}off(e,t){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(l=>t!==l)),(r=this.pswp)===null||r===void 0||r.off(e,t)}dispatch(e,t){var r;if(this.pswp)return this.pswp.dispatch(e,t);const l=new yc(e,t);return(r=this._listeners[e])===null||r===void 0||r.forEach(o=>{o.call(this,l)}),l}}class kc{constructor(e,t){if(this.element=oi("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(Nl(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=_c(0,0,e/250)):Nl(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class Sc{constructor(e,t,r){this.instance=t,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Xn.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{const r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new kc(r,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=oi("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=oi("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const l=this.element;this.updateSrcsetSizes(),this.data.srcset&&(l.srcset=this.data.srcset),l.src=(t=this.data.src)!==null&&t!==void 0?t:"",l.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=Xn.LOADING,l.complete?this.onLoaded():(l.onload=()=>{this.onLoaded()},l.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Xn.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Xn.LOADED||this.state===Xn.ERROR)&&this.removePlaceholder())}onError(){this.state=Xn.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Xn.LOADING,this)}isError(){return this.state===Xn.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(Nl(this.element,e,t),this.isImageContent()&&!this.isError()))){const r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Xn.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let r=oi("pswp__error-msg","div");r.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=oi("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Xn.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||ca())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!ca()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Xn.LOADED||this.state===Xn.ERROR)&&this.removePlaceholder()))}}function Ec(n,e){if(n.getViewportSizeFn){const t=n.getViewportSizeFn(n,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Ni(n,e,t,r,l){let o=0;if(e.paddingFn)o=e.paddingFn(t,r,l)[n];else if(e.padding)o=e.padding[n];else{const s="padding"+n[0].toUpperCase()+n.slice(1);e[s]&&(o=e[s])}return Number(o)||0}function Dc(n,e,t,r){return{x:e.x-Ni("left",n,e,t,r)-Ni("right",n,e,t,r),y:e.y-Ni("top",n,e,t,r)-Ni("bottom",n,e,t,r)}}const fa=4e3;class Cc{constructor(e,t,r,l){this.pswp=l,this.options=e,this.itemData=t,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,r){const l={x:e,y:t};this.elementSize=l,this.panAreaSize=r;const o=r.x/l.x,s=r.y/l.y;this.fit=Math.min(1,o<s?o:s),this.fill=Math.min(1,o>s?o:s),this.vFill=Math.min(1,s),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",r=this.options[t];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>fa&&(e=fa/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function oo(n,e,t){const r=e.createContentFromData(n,t);let l;const{options:o}=e;if(o){l=new Cc(o,n,-1);let s;e.pswp?s=e.pswp.viewportSize:s=Ec(o,e);const u=Dc(o,s,n,t);l.update(r.width,r.height,u)}return r.lazyLoad(),l&&r.setDisplayedSize(Math.ceil(r.width*l.initial),Math.ceil(r.height*l.initial)),r}function Tc(n,e){const t=e.getItemData(n);if(!e.dispatch("lazyLoadSlide",{index:n,itemData:t}).defaultPrevented)return oo(t,e,n)}class Ic extends wc{getNumItems(){var e;let t=0;const r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?t=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(t=r.items.length));const l=this.dispatch("numItems",{dataSource:r,numItems:t});return this.applyFilters("numItems",l.numItems,r)}createContentFromData(e,t){return new Sc(e,this,t)}getItemData(e){var t;const r=(t=this.options)===null||t===void 0?void 0:t.dataSource;let l={};Array.isArray(r)?l=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),l=r.items[e]);let o=l;o instanceof Element&&(o=this._domElementToItemData(o));const s=this.dispatch("itemData",{itemData:o||{},index:e});return this.applyFilters("itemData",s.itemData,e)}_getGalleryDOMElements(e){var t,r;return(t=this.options)!==null&&t!==void 0&&t.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?ui(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){t.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(t.srcset=r.dataset.pswpSrcset),t.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,t.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,r.dataset.pswpType&&(t.type=r.dataset.pswpType);const o=e.querySelector("img");if(o){var l;t.msrc=o.currentSrc||o.src,t.alt=(l=o.getAttribute("alt"))!==null&&l!==void 0?l:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,r)}lazyLoadData(e,t){return oo(e,this,t)}}class Ac extends Ic{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){ui(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(vc(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);const l={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,l,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,l=ui(this.options.children,this.options.childSelector,e.currentTarget).findIndex(o=>o===t||o.contains(t));return l!==-1?l:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,r){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const l=ui(this.options.gallery);l[0]&&(t={gallery:l[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:r}=this;t&&(r.dataSource=t);const l=[],o=typeof r.pswpModule;if(bc(r.pswpModule))l.push(Promise.resolve(r.pswpModule));else{if(o==="string")throw new Error("pswpModule as string is no longer supported");if(o==="function")l.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&l.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=Tc(e,this));const s=++this._uid;Promise.all(l).then(u=>{if(this.shouldOpen){const f=u[0];this._openPhotoswipe(f,s)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(l=>{var o;(o=this._listeners[l])===null||o===void 0||o.forEach(s=>{r.on(l,s)})}),Object.keys(this._filters).forEach(l=>{var o;(o=this._filters[l])===null||o===void 0||o.forEach(s=>{r.addFilter(l,s.fn,s.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},ui(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}function Oc(n){let e,t,r,l,o,s,u,f,d,h,b,k,P="Cancel",S,E;return{c(){e=I("dialog"),t=I("h4"),r=Re(n[1]),l=ne(),o=I("p"),s=Re(n[2]),u=ne(),f=I("div"),d=I("button"),h=Re(n[3]),b=ne(),k=I("button"),k.textContent=P,this.h()},l(B){e=A(B,"DIALOG",{class:!0});var M=F(e);t=A(M,"H4",{});var O=F(t);r=Ne(O,n[1]),O.forEach(v),l=re(M),o=A(M,"P",{class:!0});var K=F(o);s=Ne(K,n[2]),K.forEach(v),u=re(M),f=A(M,"DIV",{class:!0});var T=F(f);d=A(T,"BUTTON",{class:!0});var ae=F(d);h=Ne(ae,n[3]),ae.forEach(v),b=re(T),k=A(T,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(k)!=="svelte-h8rc8b"&&(k.textContent=P),T.forEach(v),M.forEach(v),this.h()},h(){p(o,"class","mt-3 mb-4"),p(d,"class","btn btn-primary"),p(k,"class","btn btn-outline-primary"),p(f,"class","buttons"),p(e,"class","svelte-z50xoi")},m(B,M){te(B,e,M),_(e,t),_(t,r),_(e,l),_(e,o),_(o,s),_(e,u),_(e,f),_(f,d),_(d,h),_(f,b),_(f,k),n[7](e),S||(E=[Ze(d,"click",n[4]),Ze(k,"click",n[5])],S=!0)},p(B,[M]){M&2&&et(r,B[1]),M&4&&et(s,B[2]),M&8&&et(h,B[3])},i:Et,o:Et,d(B){B&&v(e),n[7](null),S=!1,jn(E)}}}function Mc(n,e,t){let{dialogRef:r}=e,{title:l="Diaglog title"}=e,{body:o="Diaglog body"}=e,{confirmText:s="Confirm"}=e,{confirmCallback:u}=e;function f(){r==null||r.close("confirmed"),u()}function d(){r==null||r.close()}function h(b){Vt[b?"unshift":"push"](()=>{r=b,t(0,r)})}return n.$$set=b=>{"dialogRef"in b&&t(0,r=b.dialogRef),"title"in b&&t(1,l=b.title),"body"in b&&t(2,o=b.body),"confirmText"in b&&t(3,s=b.confirmText),"confirmCallback"in b&&t(6,u=b.confirmCallback)},[r,l,o,s,f,d,u,h]}class Pc extends Pn{constructor(e){super(),Ln(this,e,Mc,Oc,yn,{dialogRef:0,title:1,body:2,confirmText:3,confirmCallback:6})}}function da(n,e,t){const r=n.slice();return r[21]=e[t],r}function ha(n,e,t){const r=n.slice();return r[24]=e[t],r}function El(n){const e=n.slice(),t=Array.from(new Set(e[8].map(r=>r.currency)));return e[20]=t,e}function ma(n){let e,t,r=n[3].name+"",l,o,s,u,f,d,h,b,k,P,S='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',E,B,M=n[3].startDate.toDateString()+"",O,K,T=n[3].endDate.toDateString()+"",ae,oe,Z,Ce,ie=n[3].defaultCurrency+"",$,be,ve=rn[n[3].defaultCurrency].symbol+"",he,me,ye,_e,ue,ce,C,L,j,fe,R,W,le,Y,Ee,Be,pe,ee,$e="Notes:",De,Me,Ve,x,Ge="Receipts:",Fe,ke,We,tt;function _t(Je,Qe){return Je[6]?Lc:Rc}let dt=_t(n),nt=dt(n),it=n[8]&&pa(El(n));return{c(){e=I("h1"),t=I("span"),l=Re(r),o=ne(),s=I("span"),u=I("a"),f=Bt("svg"),d=Bt("path"),h=Bt("path"),k=ne(),P=I("button"),P.innerHTML=S,E=ne(),B=I("h4"),O=Re(M),K=Re(" - "),ae=Re(T),oe=ne(),Z=I("p"),Ce=Re("Default currency: "),$=Re(ie),be=Re(" ("),he=Re(ve),me=Re(")"),ye=ne(),_e=I("a"),ue=Re("+ Add Receipt"),C=ne(),L=I("button"),nt.c(),j=ne(),fe=I("a"),R=Bt("svg"),W=Bt("path"),le=Bt("path"),Y=Re(`
        Export/Print`),Be=ne(),pe=I("div"),ee=I("h5"),ee.textContent=$e,De=ne(),Me=I("textarea"),Ve=ne(),x=I("h5"),x.textContent=Ge,Fe=ne(),it&&it.c(),ke=bt(),this.h()},l(Je){e=A(Je,"H1",{class:!0});var Qe=F(e);t=A(Qe,"SPAN",{});var Rt=F(t);l=Ne(Rt,r),Rt.forEach(v),o=re(Qe),s=A(Qe,"SPAN",{});var st=F(s);u=A(st,"A",{href:!0,class:!0,title:!0});var ln=F(u);f=Ft(ln,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var tn=F(f);d=Ft(tn,"path",{d:!0}),F(d).forEach(v),h=Ft(tn,"path",{"fill-rule":!0,d:!0}),F(h).forEach(v),tn.forEach(v),ln.forEach(v),k=re(st),P=A(st,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),xe(P)!=="svelte-7al2bn"&&(P.innerHTML=S),st.forEach(v),Qe.forEach(v),E=re(Je),B=A(Je,"H4",{});var Dt=F(B);O=Ne(Dt,M),K=Ne(Dt," - "),ae=Ne(Dt,T),Dt.forEach(v),oe=re(Je),Z=A(Je,"P",{});var At=F(Z);Ce=Ne(At,"Default currency: "),$=Ne(At,ie),be=Ne(At," ("),he=Ne(At,ve),me=Ne(At,")"),At.forEach(v),ye=re(Je),_e=A(Je,"A",{class:!0,href:!0});var wn=F(_e);ue=Ne(wn,"+ Add Receipt"),wn.forEach(v),C=re(Je),L=A(Je,"BUTTON",{class:!0});var Xt=F(L);nt.l(Xt),Xt.forEach(v),j=re(Je),fe=A(Je,"A",{href:!0,target:!0,class:!0});var Ue=F(fe);R=Ft(Ue,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Rn=F(R);W=Ft(Rn,"path",{d:!0}),F(W).forEach(v),le=Ft(Rn,"path",{d:!0}),F(le).forEach(v),Rn.forEach(v),Y=Ne(Ue,`
        Export/Print`),Ue.forEach(v),Be=re(Je),pe=A(Je,"DIV",{class:!0});var nn=F(pe);ee=A(nn,"H5",{"data-svelte-h":!0}),xe(ee)!=="svelte-srqctx"&&(ee.textContent=$e),De=re(nn),Me=A(nn,"TEXTAREA",{style:!0,class:!0,placeholder:!0,id:!0}),F(Me).forEach(v),nn.forEach(v),Ve=re(Je),x=A(Je,"H5",{class:!0,"data-svelte-h":!0}),xe(x)!=="svelte-7onek5"&&(x.textContent=Ge),Fe=re(Je),it&&it.l(Je),ke=bt(),this.h()},h(){p(d,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(h,"fill-rule","evenodd"),p(h,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(f,"xmlns","http://www.w3.org/2000/svg"),p(f,"width","16"),p(f,"height","16"),p(f,"fill","currentColor"),p(f,"class","bi bi-pencil-square"),p(f,"viewBox","0 0 16 16"),p(u,"href",b="#/update/"+n[3].id),p(u,"class","btn btn-outline-secondary no-outline"),p(u,"title","Update Trip"),p(P,"class","btn btn-outline-secondary no-outline hover-red"),p(P,"title","Delete Trip"),p(e,"class","d-flex justify-content-between"),p(_e,"class","btn btn-primary"),p(_e,"href",ce="#/addreceipt/"+n[3].id),p(L,"class","btn"),Pe(L,"btn-outline-primary",!n[6]),Pe(L,"btn-secondary",n[6]),p(W,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(le,"d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"),p(R,"xmlns","http://www.w3.org/2000/svg"),p(R,"width","16"),p(R,"height","16"),p(R,"fill","currentColor"),p(R,"class","bi bi-download"),p(R,"viewBox","0 0 16 16"),p(fe,"href",Ee="#/print/"+n[3].id),p(fe,"target","_blank"),p(fe,"class","btn btn-outline-primary"),Rr(Me,"height","50vh"),p(Me,"class","form-control d-block"),p(Me,"placeholder","A space for notes about your trip"),p(Me,"id","tripNotes"),p(pe,"class","hide mt-3 flex-column"),Pe(pe,"show",n[6]),p(x,"class","mt-3")},m(Je,Qe){te(Je,e,Qe),_(e,t),_(t,l),_(e,o),_(e,s),_(s,u),_(u,f),_(f,d),_(f,h),_(s,k),_(s,P),te(Je,E,Qe),te(Je,B,Qe),_(B,O),_(B,K),_(B,ae),te(Je,oe,Qe),te(Je,Z,Qe),_(Z,Ce),_(Z,$),_(Z,be),_(Z,he),_(Z,me),te(Je,ye,Qe),te(Je,_e,Qe),_(_e,ue),te(Je,C,Qe),te(Je,L,Qe),nt.m(L,null),te(Je,j,Qe),te(Je,fe,Qe),_(fe,R),_(R,W),_(R,le),_(fe,Y),te(Je,Be,Qe),te(Je,pe,Qe),_(pe,ee),_(pe,De),_(pe,Me),Lt(Me,n[7]),te(Je,Ve,Qe),te(Je,x,Qe),te(Je,Fe,Qe),it&&it.m(Je,Qe),te(Je,ke,Qe),We||(tt=[Ze(P,"click",function(){Zr(n[9](n[3]))&&n[9](n[3]).apply(this,arguments)}),Ze(L,"click",n[12]),Ze(Me,"input",n[16]),Ze(Me,"input",n[11])],We=!0)},p(Je,Qe){n=Je,Qe&8&&r!==(r=n[3].name+"")&&et(l,r),Qe&8&&b!==(b="#/update/"+n[3].id)&&p(u,"href",b),Qe&8&&M!==(M=n[3].startDate.toDateString()+"")&&et(O,M),Qe&8&&T!==(T=n[3].endDate.toDateString()+"")&&et(ae,T),Qe&8&&ie!==(ie=n[3].defaultCurrency+"")&&et($,ie),Qe&8&&ve!==(ve=rn[n[3].defaultCurrency].symbol+"")&&et(he,ve),Qe&8&&ce!==(ce="#/addreceipt/"+n[3].id)&&p(_e,"href",ce),dt!==(dt=_t(n))&&(nt.d(1),nt=dt(n),nt&&(nt.c(),nt.m(L,null))),Qe&64&&Pe(L,"btn-outline-primary",!n[6]),Qe&64&&Pe(L,"btn-secondary",n[6]),Qe&8&&Ee!==(Ee="#/print/"+n[3].id)&&p(fe,"href",Ee),Qe&128&&Lt(Me,n[7]),Qe&64&&Pe(pe,"show",n[6]),n[8]?it?it.p(El(n),Qe):(it=pa(El(n)),it.c(),it.m(ke.parentNode,ke)):it&&(it.d(1),it=null)},d(Je){Je&&(v(e),v(E),v(B),v(oe),v(Z),v(ye),v(_e),v(C),v(L),v(j),v(fe),v(Be),v(pe),v(Ve),v(x),v(Fe),v(ke)),nt.d(),it&&it.d(Je),We=!1,jn(tt)}}}function Lc(n){let e,t,r,l,o;return{c(){e=Bt("svg"),t=Bt("path"),r=Bt("path"),l=Bt("path"),o=Re(`
          Hide`),this.h()},l(s){e=Ft(s,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=F(e);t=Ft(u,"path",{d:!0}),F(t).forEach(v),r=Ft(u,"path",{d:!0}),F(r).forEach(v),l=Ft(u,"path",{d:!0}),F(l).forEach(v),u.forEach(v),o=Ne(s,`
          Hide`),this.h()},h(){p(t,"d","M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"),p(r,"d","M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"),p(l,"d","M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-eye-slash"),p(e,"viewBox","0 0 16 16")},m(s,u){te(s,e,u),_(e,t),_(e,r),_(e,l),te(s,o,u)},d(s){s&&(v(e),v(o))}}}function Rc(n){let e,t,r,l,o;return{c(){e=Bt("svg"),t=Bt("path"),r=Bt("path"),l=Bt("path"),o=Re(`
          Notes`),this.h()},l(s){e=Ft(s,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=F(e);t=Ft(u,"path",{d:!0}),F(t).forEach(v),r=Ft(u,"path",{d:!0}),F(r).forEach(v),l=Ft(u,"path",{d:!0}),F(l).forEach(v),u.forEach(v),o=Ne(s,`
          Notes`),this.h()},h(){p(t,"d","M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"),p(r,"d","M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"),p(l,"d","M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-journal-text"),p(e,"viewBox","0 0 16 16")},m(s,u){te(s,e,u),_(e,t),_(e,r),_(e,l),te(s,o,u)},d(s){s&&(v(e),v(o))}}}function pa(n){let e,t,r,l="<tr><th>Description</th> <th>Date</th> <th>Type</th> <th>Total</th> <th></th></tr>",o,s,u=[],f=new Map,d,h,b,k,P,S,E,B,M="<strong>Total</strong>",O,K,T,ae,oe,Z,Ce=ct(n[8]);const ie=ve=>ve[24].id;for(let ve=0;ve<Ce.length;ve+=1){let he=ha(n,Ce,ve),me=ie(he);f.set(me,u[ve]=ga(me,he))}let $=ct(n[20]),be=[];for(let ve=0;ve<$.length;ve+=1)be[ve]=_a(da(n,$,ve));return{c(){e=I("div"),t=I("table"),r=I("thead"),r.innerHTML=l,o=ne(),s=I("tbody");for(let ve=0;ve<u.length;ve+=1)u[ve].c();d=ne(),h=I("tfoot"),b=I("tr"),k=I("td"),P=ne(),S=I("td"),E=ne(),B=I("td"),B.innerHTML=M,O=ne(),K=I("td");for(let ve=0;ve<be.length;ve+=1)be[ve].c();T=ne(),ae=I("td"),this.h()},l(ve){e=A(ve,"DIV",{class:!0});var he=F(e);t=A(he,"TABLE",{class:!0});var me=F(t);r=A(me,"THEAD",{"data-svelte-h":!0}),xe(r)!=="svelte-1vpbmbw"&&(r.innerHTML=l),o=re(me),s=A(me,"TBODY",{});var ye=F(s);for(let C=0;C<u.length;C+=1)u[C].l(ye);ye.forEach(v),d=re(me),h=A(me,"TFOOT",{class:!0});var _e=F(h);b=A(_e,"TR",{});var ue=F(b);k=A(ue,"TD",{}),F(k).forEach(v),P=re(ue),S=A(ue,"TD",{}),F(S).forEach(v),E=re(ue),B=A(ue,"TD",{class:!0,"data-svelte-h":!0}),xe(B)!=="svelte-14afisz"&&(B.innerHTML=M),O=re(ue),K=A(ue,"TD",{});var ce=F(K);for(let C=0;C<be.length;C+=1)be[C].l(ce);ce.forEach(v),T=re(ue),ae=A(ue,"TD",{}),F(ae).forEach(v),ue.forEach(v),_e.forEach(v),me.forEach(v),he.forEach(v),this.h()},h(){p(B,"class","text-end"),p(h,"class","table-group-divider"),p(t,"class","table table-striped table-hover"),p(e,"class","table-responsive")},m(ve,he){te(ve,e,he),_(e,t),_(t,r),_(t,o),_(t,s);for(let me=0;me<u.length;me+=1)u[me]&&u[me].m(s,null);_(t,d),_(t,h),_(h,b),_(b,k),_(b,P),_(b,S),_(b,E),_(b,B),_(b,O),_(b,K);for(let me=0;me<be.length;me+=1)be[me]&&be[me].m(K,null);_(b,T),_(b,ae),oe||(Z=fi(n[13].call(null,s)),oe=!0)},p(ve,he){if(he&1280&&(Ce=ct(ve[8]),u=Nr(u,he,ie,1,ve,Ce,f,s,Yr,ga,null,ha)),he&256){$=ct(ve[20]);let me;for(me=0;me<$.length;me+=1){const ye=da(ve,$,me);be[me]?be[me].p(ye,he):(be[me]=_a(ye),be[me].c(),be[me].m(K,null))}for(;me<be.length;me+=1)be[me].d(1);be.length=$.length}},d(ve){ve&&v(e);for(let he=0;he<u.length;he+=1)u[he].d();zn(be,ve),oe=!1,Z()}}}function ga(n,e){let t,r,l,o,s,u,f,d,h,b,k,P,S,E=e[24].description+"",B,M,O,K=e[24].receiptDateString+"",T,ae,oe,Z,Ce,ie=Ts[e[24].receiptType]+"",$,be,ve=e[24].receiptType+"",he,me,ye,_e=rn[e[24].currency].symbol+"",ue,ce,C=e[24].total.toFixed(2)+"",L,j,fe,R,W,le,Y,Ee,Be,pe,ee='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',$e,De,Me;return{key:n,first:null,c(){t=I("tr"),r=I("td"),l=I("div"),o=I("span"),s=I("a"),u=Bt("svg"),f=Bt("path"),d=Bt("path"),P=ne(),S=I("span"),B=Re(E),M=ne(),O=I("td"),T=Re(K),ae=ne(),oe=I("td"),Z=I("abbr"),Ce=new Yi(!1),be=I("span"),he=Re(ve),me=ne(),ye=I("td"),ue=Re(_e),ce=ne(),L=Re(C),j=ne(),fe=I("td"),R=I("a"),W=Bt("svg"),le=Bt("path"),Y=Bt("path"),Be=ne(),pe=I("button"),pe.innerHTML=ee,$e=ne(),this.h()},l(Ve){t=A(Ve,"TR",{});var x=F(t);r=A(x,"TD",{});var Ge=F(r);l=A(Ge,"DIV",{class:!0});var Fe=F(l);o=A(Fe,"SPAN",{});var ke=F(o);s=A(ke,"A",{class:!0,href:!0,"data-pswp-width":!0,"data-pswp-height":!0,target:!0,rel:!0,title:!0,style:!0});var We=F(s);u=Ft(We,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var tt=F(u);f=Ft(tt,"path",{d:!0}),F(f).forEach(v),d=Ft(tt,"path",{d:!0}),F(d).forEach(v),tt.forEach(v),We.forEach(v),ke.forEach(v),P=re(Fe),S=A(Fe,"SPAN",{});var _t=F(S);B=Ne(_t,E),_t.forEach(v),Fe.forEach(v),Ge.forEach(v),M=re(x),O=A(x,"TD",{});var dt=F(O);T=Ne(dt,K),dt.forEach(v),ae=re(x),oe=A(x,"TD",{});var nt=F(oe);Z=A(nt,"ABBR",{class:!0,title:!0});var it=F(Z);Ce=Zi(it,!1),it.forEach(v),be=A(nt,"SPAN",{class:!0});var Je=F(be);he=Ne(Je,ve),Je.forEach(v),nt.forEach(v),me=re(x),ye=A(x,"TD",{class:!0});var Qe=F(ye);ue=Ne(Qe,_e),ce=re(Qe),L=Ne(Qe,C),Qe.forEach(v),j=re(x),fe=A(x,"TD",{});var Rt=F(fe);R=A(Rt,"A",{class:!0,href:!0,title:!0});var st=F(R);W=Ft(st,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var ln=F(W);le=Ft(ln,"path",{d:!0}),F(le).forEach(v),Y=Ft(ln,"path",{"fill-rule":!0,d:!0}),F(Y).forEach(v),ln.forEach(v),st.forEach(v),Be=re(Rt),pe=A(Rt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),xe(pe)!=="svelte-j31sw3"&&(pe.innerHTML=ee),Rt.forEach(v),$e=re(x),x.forEach(v),this.h()},h(){p(f,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"),p(d,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"),p(u,"xmlns","http://www.w3.org/2000/svg"),p(u,"width","16"),p(u,"height","16"),p(u,"fill","currentColor"),p(u,"class","bi bi-image"),p(u,"viewBox","0 0 16 16"),p(s,"class","btn btn-outline-primary btn-sm rImages"),p(s,"href",h=e[24].imageData),p(s,"data-pswp-width",b=e[24].imageWidth),p(s,"data-pswp-height",k=e[24].imageHeight),p(s,"target","_blank"),p(s,"rel","noreferrer"),p(s,"title","View Image"),Rr(s,"border","none"),p(l,"class","receiptDesc"),Ce.a=null,p(Z,"class","me-2 typeIcon"),p(Z,"title",$=e[24].receiptType),p(be,"class","typeText"),p(ye,"class","text-nowrap"),p(le,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(Y,"fill-rule","evenodd"),p(Y,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(W,"xmlns","http://www.w3.org/2000/svg"),p(W,"width","16"),p(W,"height","16"),p(W,"fill","currentColor"),p(W,"class","bi bi-pencil-square"),p(W,"viewBox","0 0 16 16"),p(R,"class","btn btn-outline-secondary no-outline btn-sm"),p(R,"href",Ee="#/editreceipt/"+e[24].id),p(R,"title","Edit Receipt"),p(pe,"class","btn btn-outline-secondary no-outline btn-sm hover-red"),p(pe,"title","Delete Receipt"),this.first=t},m(Ve,x){te(Ve,t,x),_(t,r),_(r,l),_(l,o),_(o,s),_(s,u),_(u,f),_(u,d),_(l,P),_(l,S),_(S,B),_(t,M),_(t,O),_(O,T),_(t,ae),_(t,oe),_(oe,Z),Ce.m(ie,Z),_(oe,be),_(be,he),_(t,me),_(t,ye),_(ye,ue),_(ye,ce),_(ye,L),_(t,j),_(t,fe),_(fe,R),_(R,W),_(W,le),_(W,Y),_(fe,Be),_(fe,pe),_(t,$e),De||(Me=Ze(pe,"click",function(){Zr(e[10](e[24]))&&e[10](e[24]).apply(this,arguments)}),De=!0)},p(Ve,x){e=Ve,x&256&&h!==(h=e[24].imageData)&&p(s,"href",h),x&256&&b!==(b=e[24].imageWidth)&&p(s,"data-pswp-width",b),x&256&&k!==(k=e[24].imageHeight)&&p(s,"data-pswp-height",k),x&256&&E!==(E=e[24].description+"")&&et(B,E),x&256&&K!==(K=e[24].receiptDateString+"")&&et(T,K),x&256&&ie!==(ie=Ts[e[24].receiptType]+"")&&Ce.p(ie),x&256&&$!==($=e[24].receiptType)&&p(Z,"title",$),x&256&&ve!==(ve=e[24].receiptType+"")&&et(he,ve),x&256&&_e!==(_e=rn[e[24].currency].symbol+"")&&et(ue,_e),x&256&&C!==(C=e[24].total.toFixed(2)+"")&&et(L,C),x&256&&Ee!==(Ee="#/editreceipt/"+e[24].id)&&p(R,"href",Ee)},d(Ve){Ve&&v(t),De=!1,Me()}}}function _a(n){let e=rn[n[21]].symbol+"",t,r,l=n[8].filter(f).reduce(va,0).toFixed(2)+"",o,s,u;function f(...d){return n[17](n[21],...d)}return{c(){t=Re(e),r=ne(),o=Re(l),s=ne(),u=I("br")},l(d){t=Ne(d,e),r=re(d),o=Ne(d,l),s=re(d),u=A(d,"BR",{})},m(d,h){te(d,t,h),te(d,r,h),te(d,o,h),te(d,s,h),te(d,u,h)},p(d,h){n=d,h&256&&e!==(e=rn[n[21]].symbol+"")&&et(t,e),h&256&&l!==(l=n[8].filter(f).reduce(va,0).toFixed(2)+"")&&et(o,l)},d(d){d&&(v(t),v(r),v(o),v(s),v(u))}}}function Nc(n){let e,t,r,l,o;function s(d){n[15](d)}let u={title:n[0],body:n[1],confirmText:"Delete",confirmCallback:n[2]};n[4]!==void 0&&(u.dialogRef=n[4]),t=new Pc({props:u}),Vt.push(()=>Wn(t,"dialogRef",s));let f=n[3]&&ma(n);return{c(){e=I("div"),Yt(t.$$.fragment),l=ne(),f&&f.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var h=F(e);Zt(t.$$.fragment,h),l=re(h),f&&f.l(h),h.forEach(v),this.h()},h(){p(e,"class","w-100")},m(d,h){te(d,e,h),Jt(t,e,null),_(e,l),f&&f.m(e,null),o=!0},p(d,[h]){const b={};h&1&&(b.title=d[0]),h&2&&(b.body=d[1]),h&4&&(b.confirmCallback=d[2]),!r&&h&16&&(r=!0,b.dialogRef=d[4],Gn(()=>r=!1)),t.$set(b),d[3]?f?f.p(d,h):(f=ma(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){o||(Le(t.$$.fragment,d),o=!0)},o(d){qe(t.$$.fragment,d),o=!1},d(d){d&&v(e),Qt(t),f&&f.d()}}}const Bc=2e3,va=(n,e)=>n+e.total;function Fc(n,e,t){let r,l=Et,o=()=>(l(),l=ci(k,ie=>t(8,r=ie)),k);n.$$.on_destroy.push(()=>l());let s="",u="",f=()=>{},{tripId:d}=e,h,b,k,P=!1,S="",E;d>-1&&Wt.trips.get(d).then(ie=>{t(3,h=ie),t(7,S=h==null?void 0:h.notes),o(t(5,k=mi(async()=>await Wt.receipts.where({tripId:d}).reverse().sortBy("receiptDate"))))});async function B(ie){t(0,s="Delete Trip"),t(1,u=`Are you sure you want to delete trip "${ie.name}"? It will also delete all receipts for this trip`),t(2,f=async()=>{let $=await Wt.trips.where("id").equals(ie.id).delete();console.log(`Deleted ${$} trip(s)`),$=await Wt.receipts.where("tripId").equals(ie.id).delete(),console.log(`Deleted ${$} receipts(s)`),window.location.href="#/"}),b==null||b.showModal()}async function M(ie){t(0,s="Delete Receipt"),t(1,u=`Are you sure you want to delete receipt for "${ie.description}"?`),t(2,f=async()=>{await Wt.receipts.where("id").equals(ie.id).delete()}),b==null||b.showModal()}async function O(){E&&clearTimeout(E),E=setTimeout(K,Bc)}async function K(){if(h)try{const ie=await Wt.trips.update(h.id,{notes:S})}catch(ie){console.error(ie)}}function T(){t(6,P=!P)}function ae(ie){new Ac({gallery:".rImages",pswpModule:()=>zo(()=>import("../chunks/photoswipe.esm.GXRgw7eJ.js"),[],import.meta.url)}).init()}function oe(ie){b=ie,t(4,b)}function Z(){S=this.value,t(7,S)}const Ce=(ie,$)=>$.currency==ie;return n.$$set=ie=>{"tripId"in ie&&t(14,d=ie.tripId)},[s,u,f,h,b,k,P,S,r,B,M,O,T,ae,d,oe,Z,Ce]}class zc extends Pn{constructor(e){super(),Ln(this,e,Fc,Nc,yn,{tripId:14})}}function uo(){let n=document.getElementById("tripToggle");n==null||n.classList.toggle("show")}function ba(n,e,t){const r=n.slice();return r[8]=e[t],r}function ya(n,e,t){const r=n.slice();return r[12]=e[t],r}function Dl(n){const e=n.slice(),t=Array.from(new Set(e[2].filter(function(...l){return n[5](e[8],...l)}).map(r=>r.currency)));return e[11]=t,e}function wa(n){let e=[],t=new Map,r,l=ct(n[1]);const o=s=>s[8].id;for(let s=0;s<l.length;s+=1){let u=ba(n,l,s),f=o(u);t.set(f,e[s]=Ea(f,u))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=bt()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);r=bt()},m(s,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,u);te(s,r,u)},p(s,u){u&7&&(l=ct(s[1]),e=Nr(e,u,o,1,s,l,t,r.parentNode,Yr,Ea,r,ba))},d(s){s&&v(r);for(let u=0;u<e.length;u+=1)e[u].d(s)}}}function ka(n){let e,t=ct(n[11]),r=[];for(let l=0;l<t.length;l+=1)r[l]=Sa(ya(n,t,l));return{c(){e=I("small");for(let l=0;l<r.length;l+=1)r[l].c()},l(l){e=A(l,"SMALL",{});var o=F(e);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(v)},m(l,o){te(l,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,o){if(o&6){t=ct(l[11]);let s;for(s=0;s<t.length;s+=1){const u=ya(l,t,s);r[s]?r[s].p(u,o):(r[s]=Sa(u),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&v(e),zn(r,l)}}}function Sa(n){let e=rn[n[12]].symbol+"",t,r,l=n[2].filter(f).filter(d).reduce(Da,0).toFixed(2)+"",o,s,u;function f(...h){return n[6](n[8],...h)}function d(...h){return n[7](n[12],...h)}return{c(){t=Re(e),r=ne(),o=Re(l),s=ne(),u=I("br")},l(h){t=Ne(h,e),r=re(h),o=Ne(h,l),s=re(h),u=A(h,"BR",{})},m(h,b){te(h,t,b),te(h,r,b),te(h,o,b),te(h,s,b),te(h,u,b)},p(h,b){n=h,b&6&&e!==(e=rn[n[12]].symbol+"")&&et(t,e),b&6&&l!==(l=n[2].filter(f).filter(d).reduce(Da,0).toFixed(2)+"")&&et(o,l)},d(h){h&&(v(t),v(r),v(o),v(s),v(u))}}}function Ea(n,e){let t,r,l,o=e[8].name+"",s,u,f,d,h=e[8].startDateString+"",b,k,P=e[8].endDateString+"",S,E,B,M,O,K,T=e[2]&&ka(Dl(e));return{key:n,first:null,c(){t=I("a"),r=I("div"),l=I("strong"),s=Re(o),u=ne(),T&&T.c(),f=ne(),d=I("div"),b=Re(h),k=Re(" - "),S=Re(P),E=ne(),this.h()},l(ae){t=A(ae,"A",{href:!0,class:!0,"aria-current":!0,"data-trip-id":!0});var oe=F(t);r=A(oe,"DIV",{class:!0});var Z=F(r);l=A(Z,"STRONG",{class:!0});var Ce=F(l);s=Ne(Ce,o),Ce.forEach(v),u=re(Z),T&&T.l(Z),Z.forEach(v),f=re(oe),d=A(oe,"DIV",{class:!0});var ie=F(d);b=Ne(ie,h),k=Ne(ie," - "),S=Ne(ie,P),ie.forEach(v),E=re(oe),oe.forEach(v),this.h()},h(){p(l,"class","mb-1"),p(r,"class","d-flex w-100 align-items-center justify-content-between"),p(d,"class","col-10 mb-1 small"),p(t,"href",B="#/trip/"+e[8].id),p(t,"class","list-group-item list-group-item-action py-3 lh-sm m-2"),p(t,"aria-current","false"),p(t,"data-trip-id",M=e[8].id),Pe(t,"active",e[0]==e[8].id),this.first=t},m(ae,oe){te(ae,t,oe),_(t,r),_(r,l),_(l,s),_(r,u),T&&T.m(r,null),_(t,f),_(t,d),_(d,b),_(d,k),_(d,S),_(t,E),O||(K=Ze(t,"click",uo),O=!0)},p(ae,oe){e=ae,oe&2&&o!==(o=e[8].name+"")&&et(s,o),e[2]?T?T.p(Dl(e),oe):(T=ka(Dl(e)),T.c(),T.m(r,null)):T&&(T.d(1),T=null),oe&2&&h!==(h=e[8].startDateString+"")&&et(b,h),oe&2&&P!==(P=e[8].endDateString+"")&&et(S,P),oe&2&&B!==(B="#/trip/"+e[8].id)&&p(t,"href",B),oe&2&&M!==(M=e[8].id)&&p(t,"data-trip-id",M),oe&3&&Pe(t,"active",e[0]==e[8].id)},d(ae){ae&&v(t),T&&T.d(),O=!1,K()}}}function Kc(n){let e,t=n[1]&&wa(n);return{c(){t&&t.c(),e=bt()},l(r){t&&t.l(r),e=bt()},m(r,l){t&&t.m(r,l),te(r,e,l)},p(r,[l]){r[1]?t?t.p(r,l):(t=wa(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Et,o:Et,d(r){r&&v(e),t&&t.d(r)}}}const Da=(n,e)=>n+e.total;function jc(n,e,t){let r,l,{tripId:o}=e,s=mi(()=>Wt.trips.toCollection().reverse().sortBy("endDate"));Kn(n,s,b=>t(1,r=b));let u=mi(()=>Wt.receipts.toArray());Kn(n,u,b=>t(2,l=b));const f=(b,k)=>k.tripId==b.id,d=(b,k)=>k.tripId==b.id,h=(b,k)=>k.currency==b;return n.$$set=b=>{"tripId"in b&&t(0,o=b.tripId)},[o,r,l,s,u,f,d,h]}class Hc extends Pn{constructor(e){super(),Ln(this,e,jc,Kc,yn,{tripId:0})}}function Ca(n){let e,t,r="Update Trip",l,o,s,u="Trip Name",f,d,h,b,k,P="Trip Currency",S,E,B,M,O,K,T="Trip Start",ae,oe,Z,Ce,ie,$,be="Trip End",ve,he,me,ye,_e,ue,ce="Update Trip",C,L,j,fe,R,W,le;function Y(De){n[8](De)}let Ee={options:n[3],inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[0].defaultCurrency!==void 0&&(Ee.value=n[0].defaultCurrency),E=new gi({props:Ee}),Vt.push(()=>Wn(E,"value",Y));function Be(De){n[9](De)}let pe={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[1]!==void 0&&(pe.value=n[1]),oe=new hi({props:pe}),Vt.push(()=>Wn(oe,"value",Be));function ee(De){n[10](De)}let $e={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[1],id:"tripEnd"};return n[2]!==void 0&&($e.value=n[2]),he=new hi({props:$e}),Vt.push(()=>Wn(he,"value",ee)),{c(){e=I("form"),t=I("h1"),t.textContent=r,l=ne(),o=I("div"),s=I("label"),s.textContent=u,f=ne(),d=I("input"),h=ne(),b=I("div"),k=I("label"),k.textContent=P,S=ne(),Yt(E.$$.fragment),M=ne(),O=I("div"),K=I("label"),K.textContent=T,ae=ne(),Yt(oe.$$.fragment),Ce=ne(),ie=I("div"),$=I("label"),$.textContent=be,ve=ne(),Yt(he.$$.fragment),ye=ne(),_e=I("div"),ue=I("button"),ue.textContent=ce,C=ne(),L=I("a"),j=Re("Cancel"),this.h()},l(De){e=A(De,"FORM",{});var Me=F(e);t=A(Me,"H1",{"data-svelte-h":!0}),xe(t)!=="svelte-9352dq"&&(t.textContent=r),l=re(Me),o=A(Me,"DIV",{class:!0});var Ve=F(o);s=A(Ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(s)!=="svelte-1y8z10u"&&(s.textContent=u),f=re(Ve),d=A(Ve,"INPUT",{id:!0,class:!0,type:!0}),Ve.forEach(v),h=re(Me),b=A(Me,"DIV",{class:!0});var x=F(b);k=A(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(k)!=="svelte-1fzihue"&&(k.textContent=P),S=re(x),Zt(E.$$.fragment,x),x.forEach(v),M=re(Me),O=A(Me,"DIV",{class:!0});var Ge=F(O);K=A(Ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(K)!=="svelte-4n7gli"&&(K.textContent=T),ae=re(Ge),Zt(oe.$$.fragment,Ge),Ge.forEach(v),Ce=re(Me),ie=A(Me,"DIV",{class:!0});var Fe=F(ie);$=A(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe($)!=="svelte-1dn7717"&&($.textContent=be),ve=re(Fe),Zt(he.$$.fragment,Fe),Fe.forEach(v),ye=re(Me),_e=A(Me,"DIV",{class:!0});var ke=F(_e);ue=A(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(ue)!=="svelte-bsugmm"&&(ue.textContent=ce),C=re(ke),L=A(ke,"A",{href:!0,class:!0});var We=F(L);j=Ne(We,"Cancel"),We.forEach(v),ke.forEach(v),Me.forEach(v),this.h()},h(){p(s,"for","tripName"),p(s,"class","form-label"),p(d,"id","tripName"),p(d,"class","form-control"),p(d,"type","text"),p(o,"class","mb-3"),p(k,"for","tripCurrency"),p(k,"class","form-label"),p(b,"class","mb-3"),p(K,"for","tripStart"),p(K,"class","form-label"),p(O,"class","mb-3"),p($,"for","tripStart"),p($,"class","form-label"),p(ie,"class","mb-3"),p(ue,"class","btn btn-primary"),p(L,"href",fe="#/trip/"+n[0].id),p(L,"class","btn btn-outline-primary"),p(_e,"class","gap-3 d-grid d-md-block")},m(De,Me){te(De,e,Me),_(e,t),_(e,l),_(e,o),_(o,s),_(o,f),_(o,d),Lt(d,n[0].name),_(e,h),_(e,b),_(b,k),_(b,S),Jt(E,b,null),_(e,M),_(e,O),_(O,K),_(O,ae),Jt(oe,O,null),_(e,Ce),_(e,ie),_(ie,$),_(ie,ve),Jt(he,ie,null),_(e,ye),_(e,_e),_(_e,ue),_(_e,C),_(_e,L),_(L,j),R=!0,W||(le=[Ze(d,"input",n[7]),Ze(ue,"click",n[4])],W=!0)},p(De,Me){Me&1&&d.value!==De[0].name&&Lt(d,De[0].name);const Ve={};Me&8&&(Ve.options=De[3]),!B&&Me&1&&(B=!0,Ve.value=De[0].defaultCurrency,Gn(()=>B=!1)),E.$set(Ve);const x={};!Z&&Me&2&&(Z=!0,x.value=De[1],Gn(()=>Z=!1)),oe.$set(x);const Ge={};Me&2&&(Ge.min=De[1]),!me&&Me&4&&(me=!0,Ge.value=De[2],Gn(()=>me=!1)),he.$set(Ge),(!R||Me&1&&fe!==(fe="#/trip/"+De[0].id))&&p(L,"href",fe)},i(De){R||(Le(E.$$.fragment,De),Le(oe.$$.fragment,De),Le(he.$$.fragment,De),R=!0)},o(De){qe(E.$$.fragment,De),qe(oe.$$.fragment,De),qe(he.$$.fragment,De),R=!1},d(De){De&&v(e),Qt(E),Qt(oe),Qt(he),W=!1,jn(le)}}}function Vc(n){let e,t,r=n[0]&&Ca(n);return{c(){e=I("div"),r&&r.c(),this.h()},l(l){e=A(l,"DIV",{class:!0});var o=F(e);r&&r.l(o),o.forEach(v),this.h()},h(){p(e,"class","w-100")},m(l,o){te(l,e,o),r&&r.m(e,null),t=!0},p(l,[o]){l[0]?r?(r.p(l,o),o&1&&Le(r,1)):(r=Ca(l),r.c(),Le(r,1),r.m(e,null)):r&&(un(),qe(r,1,1,()=>{r=null}),cn())},i(l){t||(Le(r),t=!0)},o(l){qe(r),t=!1},d(l){l&&v(e),r&&r.d()}}}function Uc(n,e,t){let r,l;Kn(n,pi,S=>t(6,l=S));let{tripId:o}=e,s,u,f;o>-1&&Wt.trips.get(o).then(S=>{t(0,s=S),t(1,u=new Date(s.startDateString)),t(2,f=new Date(s.endDateString))});async function d(){try{const S=await Wt.trips.update(s.id,{name:s.name,defaultCurrency:s.defaultCurrency,startDate:u,endDate:f,startDateString:u.toDateString(),endDateString:f.toDateString()});window.location.href="#/trip/"+s.id}catch{window.location.href="#/"}}function h(){s.name=this.value,t(0,s)}function b(S){n.$$.not_equal(s.defaultCurrency,S)&&(s.defaultCurrency=S,t(0,s))}function k(S){u=S,t(1,u)}function P(S){f=S,t(2,f)}return n.$$set=S=>{"tripId"in S&&t(5,o=S.tripId)},n.$$.update=()=>{n.$$.dirty&64&&t(3,r=zl(l))},[s,u,f,r,d,o,l,h,b,k,P]}class qc extends Pn{constructor(e){super(),Ln(this,e,Uc,Vc,yn,{tripId:5})}}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var Gc={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:Jc,fromCents:!1},co=function(e){return Math.round(e)},Kl=function(e){return Math.pow(10,e)},Wc=function(e,t){return co(e/t)*t},Yc=/(\d)(?=(\d{3})+\b)/g,Zc=/(\d)(?=(\d\d)+\d\b)/g;function or(n,e){var t=this;if(!(t instanceof or))return new or(n,e);var r=Object.assign({},Gc,e),l=Kl(r.precision),o=zi(n,r);t.intValue=o,t.value=o/l,r.increment=r.increment||1/l,r.useVedic?r.groups=Zc:r.groups=Yc,this.s=r,this.p=l}function zi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,l=e.decimal,o=e.errorOnInvalid,s=e.precision,u=e.fromCents,f=Kl(s),d=typeof n=="number",h=n instanceof or;if(h&&u)return n.intValue;if(d||h)r=h?n.value:n;else if(typeof n=="string"){var b=new RegExp("[^-\\d"+l+"]","g"),k=new RegExp("\\"+l,"g");r=n.replace(/\((.*)\)/,"-$1").replace(b,"").replace(k,"."),r=r||0}else{if(o)throw Error("Invalid Input");r=0}return u||(r*=f,r=r.toFixed(4)),t?co(r):r}function Jc(n,e){var t=e.pattern,r=e.negativePattern,l=e.symbol,o=e.separator,s=e.decimal,u=e.groups,f=(""+n).replace(/^-/,"").split("."),d=f[0],h=f[1];return(n.value>=0?t:r).replace("!",l).replace("#",d.replace(u,"$1"+o)+(h?s+h:""))}or.prototype={add:function(e){var t=this.intValue,r=this.s,l=this.p;return or((t+=zi(e,r))/(r.fromCents?1:l),r)},subtract:function(e){var t=this.intValue,r=this.s,l=this.p;return or((t-=zi(e,r))/(r.fromCents?1:l),r)},multiply:function(e){var t=this.intValue,r=this.s;return or((t*=e)/(r.fromCents?1:Kl(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return or(t/=zi(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,l=this.s,o=[],s=Math[t>=0?"floor":"ceil"](t/e),u=Math.abs(t-s*e),f=l.fromCents?1:r;e!==0;e--){var d=or(s/f,l);u-- >0&&(d=d[t>=0?"add":"subtract"](1/f)),o.push(d)}return o},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return Wc(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var Qc={exports:{}};(function(n){var e=function(t){var r=Object.prototype,l=r.hasOwnProperty,o=Object.defineProperty||function(C,L,j){C[L]=j.value},s,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function b(C,L,j){return Object.defineProperty(C,L,{value:j,enumerable:!0,configurable:!0,writable:!0}),C[L]}try{b({},"")}catch{b=function(L,j,fe){return L[j]=fe}}function k(C,L,j,fe){var R=L&&L.prototype instanceof K?L:K,W=Object.create(R.prototype),le=new _e(fe||[]);return o(W,"_invoke",{value:ve(C,j,le)}),W}t.wrap=k;function P(C,L,j){try{return{type:"normal",arg:C.call(L,j)}}catch(fe){return{type:"throw",arg:fe}}}var S="suspendedStart",E="suspendedYield",B="executing",M="completed",O={};function K(){}function T(){}function ae(){}var oe={};b(oe,f,function(){return this});var Z=Object.getPrototypeOf,Ce=Z&&Z(Z(ue([])));Ce&&Ce!==r&&l.call(Ce,f)&&(oe=Ce);var ie=ae.prototype=K.prototype=Object.create(oe);T.prototype=ae,o(ie,"constructor",{value:ae,configurable:!0}),o(ae,"constructor",{value:T,configurable:!0}),T.displayName=b(ae,h,"GeneratorFunction");function $(C){["next","throw","return"].forEach(function(L){b(C,L,function(j){return this._invoke(L,j)})})}t.isGeneratorFunction=function(C){var L=typeof C=="function"&&C.constructor;return L?L===T||(L.displayName||L.name)==="GeneratorFunction":!1},t.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,ae):(C.__proto__=ae,b(C,h,"GeneratorFunction")),C.prototype=Object.create(ie),C},t.awrap=function(C){return{__await:C}};function be(C,L){function j(W,le,Y,Ee){var Be=P(C[W],C,le);if(Be.type==="throw")Ee(Be.arg);else{var pe=Be.arg,ee=pe.value;return ee&&typeof ee=="object"&&l.call(ee,"__await")?L.resolve(ee.__await).then(function($e){j("next",$e,Y,Ee)},function($e){j("throw",$e,Y,Ee)}):L.resolve(ee).then(function($e){pe.value=$e,Y(pe)},function($e){return j("throw",$e,Y,Ee)})}}var fe;function R(W,le){function Y(){return new L(function(Ee,Be){j(W,le,Ee,Be)})}return fe=fe?fe.then(Y,Y):Y()}o(this,"_invoke",{value:R})}$(be.prototype),b(be.prototype,d,function(){return this}),t.AsyncIterator=be,t.async=function(C,L,j,fe,R){R===void 0&&(R=Promise);var W=new be(k(C,L,j,fe),R);return t.isGeneratorFunction(L)?W:W.next().then(function(le){return le.done?le.value:W.next()})};function ve(C,L,j){var fe=S;return function(W,le){if(fe===B)throw new Error("Generator is already running");if(fe===M){if(W==="throw")throw le;return ce()}for(j.method=W,j.arg=le;;){var Y=j.delegate;if(Y){var Ee=he(Y,j);if(Ee){if(Ee===O)continue;return Ee}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(fe===S)throw fe=M,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);fe=B;var Be=P(C,L,j);if(Be.type==="normal"){if(fe=j.done?M:E,Be.arg===O)continue;return{value:Be.arg,done:j.done}}else Be.type==="throw"&&(fe=M,j.method="throw",j.arg=Be.arg)}}}function he(C,L){var j=L.method,fe=C.iterator[j];if(fe===s)return L.delegate=null,j==="throw"&&C.iterator.return&&(L.method="return",L.arg=s,he(C,L),L.method==="throw")||j!=="return"&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+j+"' method")),O;var R=P(fe,C.iterator,L.arg);if(R.type==="throw")return L.method="throw",L.arg=R.arg,L.delegate=null,O;var W=R.arg;if(!W)return L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,O;if(W.done)L[C.resultName]=W.value,L.next=C.nextLoc,L.method!=="return"&&(L.method="next",L.arg=s);else return W;return L.delegate=null,O}$(ie),b(ie,h,"Generator"),b(ie,f,function(){return this}),b(ie,"toString",function(){return"[object Generator]"});function me(C){var L={tryLoc:C[0]};1 in C&&(L.catchLoc=C[1]),2 in C&&(L.finallyLoc=C[2],L.afterLoc=C[3]),this.tryEntries.push(L)}function ye(C){var L=C.completion||{};L.type="normal",delete L.arg,C.completion=L}function _e(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(me,this),this.reset(!0)}t.keys=function(C){var L=Object(C),j=[];for(var fe in L)j.push(fe);return j.reverse(),function R(){for(;j.length;){var W=j.pop();if(W in L)return R.value=W,R.done=!1,R}return R.done=!0,R}};function ue(C){if(C){var L=C[f];if(L)return L.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var j=-1,fe=function R(){for(;++j<C.length;)if(l.call(C,j))return R.value=C[j],R.done=!1,R;return R.value=s,R.done=!0,R};return fe.next=fe}}return{next:ce}}t.values=ue;function ce(){return{value:s,done:!0}}return _e.prototype={constructor:_e,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ye),!C)for(var L in this)L.charAt(0)==="t"&&l.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=s)},stop:function(){this.done=!0;var C=this.tryEntries[0],L=C.completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var L=this;function j(Ee,Be){return W.type="throw",W.arg=C,L.next=Ee,Be&&(L.method="next",L.arg=s),!!Be}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var R=this.tryEntries[fe],W=R.completion;if(R.tryLoc==="root")return j("end");if(R.tryLoc<=this.prev){var le=l.call(R,"catchLoc"),Y=l.call(R,"finallyLoc");if(le&&Y){if(this.prev<R.catchLoc)return j(R.catchLoc,!0);if(this.prev<R.finallyLoc)return j(R.finallyLoc)}else if(le){if(this.prev<R.catchLoc)return j(R.catchLoc,!0)}else if(Y){if(this.prev<R.finallyLoc)return j(R.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(C,L){for(var j=this.tryEntries.length-1;j>=0;--j){var fe=this.tryEntries[j];if(fe.tryLoc<=this.prev&&l.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var R=fe;break}}R&&(C==="break"||C==="continue")&&R.tryLoc<=L&&L<=R.finallyLoc&&(R=null);var W=R?R.completion:{};return W.type=C,W.arg=L,R?(this.method="next",this.next=R.finallyLoc,O):this.complete(W)},complete:function(C,L){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&L&&(this.next=L),O},finish:function(C){for(var L=this.tryEntries.length-1;L>=0;--L){var j=this.tryEntries[L];if(j.finallyLoc===C)return this.complete(j.completion,j.afterLoc),ye(j),O}},catch:function(C){for(var L=this.tryEntries.length-1;L>=0;--L){var j=this.tryEntries[L];if(j.tryLoc===C){var fe=j.completion;if(fe.type==="throw"){var R=fe.arg;ye(j)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(C,L,j){return this.delegate={iterator:ue(C),resultName:L,nextLoc:j},this.method==="next"&&(this.arg=s),O}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Qc);var jl=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`;const Xc=jl;let Ta=0;var fo=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=Xc("Job",Ta),Ta+=1),{id:r,action:e,payload:t}},Jr={};let Hl=!1;Jr.logging=Hl;Jr.setLogging=n=>{Hl=n};Jr.log=(...n)=>Hl?console.log.apply(void 0,n):null;const xc=fo,{log:Bi}=Jr,$c=jl;let Ia=0;var ef=()=>{const n=$c("Scheduler",Ia),e={},t={};let r=[];Ia+=1;const l=()=>r.length,o=()=>Object.keys(e).length,s=()=>{if(r.length!==0){const b=Object.keys(e);for(let k=0;k<b.length;k+=1)if(typeof t[b[k]]>"u"){r[0](e[b[k]]);break}}},u=(b,k)=>new Promise((P,S)=>{const E=xc({action:b,payload:k});r.push(async B=>{r.shift(),t[B.id]=E;try{P(await B[b].apply(void 0,[...k,E.id]))}catch(M){S(M)}finally{delete t[B.id],s()}}),Bi(`[${n}]: Add ${E.id} to JobQueue`),Bi(`[${n}]: JobQueue length=${r.length}`),s()});return{addWorker:b=>(e[b.id]=b,Bi(`[${n}]: Add ${b.id}`),Bi(`[${n}]: Number of workers=${o()}`),s(),b.id),addJob:async(b,...k)=>{if(o()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return u(b,k)},terminate:async()=>{Object.keys(e).forEach(async b=>{await e[b].terminate()}),r=[]},getQueueLen:l,getNumWorkers:o}};function tf(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nf=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof tf=="function"&&(e.type="node"),typeof n>"u"?e:e[n]};const rf=nf("type")==="browser",lf=rf?n=>new URL(n,window.location.href).href:n=>n;var sf=n=>{const e={...n};return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=lf(e[t]))}),e},ho={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const af="tesseract.js",of="6.0.0",uf="Pure Javascript Multilingual OCR",cf="src/index.js",ff="src/index.d.ts",df="dist/tesseract.min.js",hf="dist/tesseract.min.js",mf={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},pf={"./src/worker/node/index.js":"./src/worker/browser/index.js"},gf="",_f=["jeromewu"],vf="Apache-2.0",bf={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},yf={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},wf={"@rollup/pluginutils":"^5.0.2"},kf={type:"git",url:"https://github.com/naptha/tesseract.js.git"},Sf={url:"https://github.com/naptha/tesseract.js/issues"},Ef="https://github.com/naptha/tesseract.js",Df={type:"opencollective",url:"https://opencollective.com/tesseractjs"},Cf={name:af,version:of,description:uf,main:cf,types:ff,unpkg:df,jsdelivr:hf,scripts:mf,browser:pf,author:gf,contributors:_f,license:vf,devDependencies:bf,dependencies:yf,overrides:wf,repository:kf,bugs:Sf,homepage:Ef,collective:Df};var Tf={workerBlobURL:!0,logger:()=>{}};const If=Cf.version,Af=Tf;var Of={...Af,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${If}/dist/worker.min.js`},Mf=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t},Pf=n=>{n.terminate()},Lf=(n,e)=>{n.onmessage=({data:t})=>{e(t)}},Rf=async(n,e)=>{n.postMessage(e)};const Cl=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:l}}})=>{t(Error(`File could not be read! Code=${l}`))},r.readAsArrayBuffer(n)}),Bl=async n=>{let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=await Bl(n.src)),n.tagName==="VIDEO"&&(e=await Bl(n.poster)),n.tagName==="CANVAS"&&await new Promise(t=>{n.toBlob(async r=>{e=await Cl(r),t()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const t=await n.convertToBlob();e=await Cl(t)}else(n instanceof File||n instanceof Blob)&&(e=await Cl(n));return new Uint8Array(e)};var Nf=Bl;const Bf=Of,Ff=Mf,zf=Pf,Kf=Lf,jf=Rf,Hf=Nf;var Vf={defaultOptions:Bf,spawnWorker:Ff,terminateWorker:zf,onMessage:Kf,send:jf,loadImage:Hf};const Uf=sf,sr=fo,{log:Aa}=Jr,qf=jl,Pr=ho,{defaultOptions:Gf,spawnWorker:Wf,terminateWorker:Yf,onMessage:Zf,loadImage:Oa,send:Jf}=Vf;let Ma=0;var mo=async(n="eng",e=Pr.LSTM_ONLY,t={},r={})=>{const l=qf("Worker",Ma),{logger:o,errorHandler:s,...u}=Uf({...Gf,...t}),f={},d=typeof n=="string"?n.split("+"):n;let h=e,b=r;const k=[Pr.DEFAULT,Pr.LSTM_ONLY].includes(e)&&!u.legacyCore;let P,S;const E=new Promise((ue,ce)=>{S=ue,P=ce}),B=ue=>{P(ue.message)};let M=Wf(u);M.onerror=B,Ma+=1;const O=({id:ue,action:ce,payload:C})=>new Promise((L,j)=>{Aa(`[${l}]: Start ${ue}, action=${ce}`);const fe=`${ce}-${ue}`;f[fe]={resolve:L,reject:j},Jf(M,{workerId:l,jobId:ue,action:ce,payload:C})}),K=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),T=ue=>O(sr({id:ue,action:"load",payload:{options:{lstmOnly:k,corePath:u.corePath,logging:u.logging}}})),ae=(ue,ce,C)=>O(sr({id:C,action:"FS",payload:{method:"writeFile",args:[ue,ce]}})),oe=(ue,ce)=>O(sr({id:ce,action:"FS",payload:{method:"readFile",args:[ue,{encoding:"utf8"}]}})),Z=(ue,ce)=>O(sr({id:ce,action:"FS",payload:{method:"unlink",args:[ue]}})),Ce=(ue,ce,C)=>O(sr({id:C,action:"FS",payload:{method:ue,args:ce}})),ie=(ue,ce)=>O(sr({id:ce,action:"loadLanguage",payload:{langs:ue,options:{langPath:u.langPath,dataPath:u.dataPath,cachePath:u.cachePath,cacheMethod:u.cacheMethod,gzip:u.gzip,lstmOnly:[Pr.DEFAULT,Pr.LSTM_ONLY].includes(h)&&!u.legacyLang}}})),$=(ue,ce,C,L)=>O(sr({id:L,action:"initialize",payload:{langs:ue,oem:ce,config:C}})),be=(ue="eng",ce,C,L)=>{if(k&&[Pr.TESSERACT_ONLY,Pr.TESSERACT_LSTM_COMBINED].includes(ce))throw Error("Legacy model requested but code missing.");const j=ce||h;h=j;const fe=C||b;b=fe;const W=(typeof ue=="string"?ue.split("+"):ue).filter(le=>!d.includes(le));return d.push(...W),W.length>0?ie(W,L).then(()=>$(ue,j,fe,L)):$(ue,j,fe,L)},ve=(ue={},ce)=>O(sr({id:ce,action:"setParameters",payload:{params:ue}})),he=async(ue,ce={},C={text:!0},L)=>O(sr({id:L,action:"recognize",payload:{image:await Oa(ue),options:ce,output:C}})),me=async(ue,ce)=>{if(k)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return O(sr({id:ce,action:"detect",payload:{image:await Oa(ue)}}))},ye=async()=>(M!==null&&(Yf(M),M=null),Promise.resolve());Zf(M,({workerId:ue,jobId:ce,status:C,action:L,data:j})=>{const fe=`${L}-${ce}`;if(C==="resolve")Aa(`[${ue}]: Complete ${ce}`),f[fe].resolve({jobId:ce,data:j}),delete f[fe];else if(C==="reject")if(f[fe].reject(j),delete f[fe],L==="load"&&P(j),s)s(j);else throw Error(j);else C==="progress"&&o({...j,userJobId:ce})});const _e={id:l,worker:M,load:K,writeText:ae,readText:oe,removeFile:Z,FS:Ce,reinitialize:be,setParameters:ve,recognize:he,detect:me,terminate:ye};return T().then(()=>ie(n)).then(()=>$(n,e,r)).then(()=>S(_e)).catch(()=>{}),E};const po=mo,Qf=async(n,e,t)=>{const r=await po(e,1,t);return r.recognize(n).finally(async()=>{await r.terminate()})},Xf=async(n,e)=>{const t=await po("osd",0,e);return t.detect(n).finally(async()=>{await t.terminate()})};var xf={recognize:Qf,detect:Xf},$f={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},ed={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const td=ef,nd=mo,rd=xf,id=$f,ld=ho,sd=ed,{setLogging:ad}=Jr;var od={languages:id,OEM:ld,PSM:sd,createScheduler:td,createWorker:nd,setLogging:ad,...rd};const Pa=io(od);function La(n,e,t){const r=n.slice();return r[32]=e[t],r}function Ra(n,e,t){const r=n.slice();return r[35]=e[t],r}function Na(n,e,t){const r=n.slice();return r[38]=e[t],r}function Ba(n){let e,t,r,l,o,s,u,f,d,h,b,k="Receipt description",P,S,E,B,M,O,K,T="Receipt Date",ae,oe,Z,Ce,ie,$,be="Receipt value:",ve,he,me,ye,_e,ue,ce,C="Receipt Type",L,j,fe,R="--Please choose type--",W,le,Y,Ee="Receipt Currency",Be,pe,ee,$e,De,Me,Ve,x="Scanning image...",Ge,Fe,ke,We,tt,_t="Stop scan and enter manually",dt,nt,it,Je,Qe,Rt,st,ln;function tn(we,Ye){return we[1]?cd:ud}let Dt=tn(n),At=Dt(n);function wn(we,Ye){return we[9]?dd:fd}let Xt=wn(n),Ue=Xt(n);function Rn(we,Ye){return we[1]?md:hd}let nn=Rn(n),sn=nn(n),Ae=ct(n[2]),qt=[];for(let we=0;we<Ae.length;we+=1)qt[we]=Fa(Na(n,Ae,we));function Hn(we){n[21](we)}let an={format:"yyyy-MM-dd",closeOnSelection:!0,id:"rDate"};n[4]!==void 0&&(an.value=n[4]),oe=new hi({props:an}),Vt.push(()=>Wn(oe,"value",Hn));let Mt=ct(n[3]),Ut=[];for(let we=0;we<Mt.length;we+=1)Ut[we]=za(Ra(n,Mt,we));let vt=ct(Object.values(Pl)),yt=[];for(let we=0;we<vt.length;we+=1)yt[we]=Ka(La(n,vt,we));function ft(we){n[24](we)}let Ot={options:n[12],inputId:"rCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[5]!==void 0&&(Ot.value=n[5]),pe=new gi({props:Ot}),Vt.push(()=>Wn(pe,"value",ft));function fn(we,Ye){return we[1]?gd:pd}let dn=fn(n),at=dn(n);return{c(){At.c(),e=ne(),Ue.c(),t=ne(),r=I("div"),l=I("input"),o=ne(),s=I("div"),u=I("div"),sn.c(),f=ne(),d=I("div"),h=I("div"),b=I("label"),b.textContent=k,P=ne(),S=I("input"),E=ne(),B=I("datalist");for(let we=0;we<qt.length;we+=1)qt[we].c();M=ne(),O=I("div"),K=I("label"),K.textContent=T,ae=ne(),Yt(oe.$$.fragment),Ce=ne(),ie=I("div"),$=I("label"),$.textContent=be,ve=ne(),he=I("input"),me=ne(),ye=I("datalist");for(let we=0;we<Ut.length;we+=1)Ut[we].c();_e=ne(),ue=I("div"),ce=I("label"),ce.textContent=C,L=ne(),j=I("select"),fe=I("option"),fe.textContent=R;for(let we=0;we<yt.length;we+=1)yt[we].c();W=ne(),le=I("div"),Y=I("label"),Y.textContent=Ee,Be=ne(),Yt(pe.$$.fragment),$e=ne(),at.c(),De=ne(),Me=I("div"),Ve=I("h4"),Ve.textContent=x,Ge=ne(),Fe=I("div"),ke=I("div"),We=ne(),tt=I("button"),tt.textContent=_t,dt=ne(),nt=I("div"),it=I("a"),Je=Re("Cancel"),this.h()},l(we){At.l(we),e=re(we),Ue.l(we),t=re(we),r=A(we,"DIV",{class:!0});var Ye=F(r);l=A(Ye,"INPUT",{id:!0,type:!0,accept:!0}),Ye.forEach(v),o=re(we),s=A(we,"DIV",{id:!0});var Ct=F(s);u=A(Ct,"DIV",{class:!0});var wt=F(u);sn.l(wt),wt.forEach(v),f=re(Ct),d=A(Ct,"DIV",{class:!0});var Xe=F(d);h=A(Xe,"DIV",{class:!0});var $t=F(h);b=A($t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(b)!=="svelte-1glg0dd"&&(b.textContent=k),P=re($t),S=A($t,"INPUT",{class:!0,list:!0,id:!0,name:!0,placeholder:!0}),E=re($t),B=A($t,"DATALIST",{id:!0});var Nn=F(B);for(let Nt=0;Nt<qt.length;Nt+=1)qt[Nt].l(Nn);Nn.forEach(v),$t.forEach(v),M=re(Xe),O=A(Xe,"DIV",{class:!0});var kn=F(O);K=A(kn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(K)!=="svelte-cn0bms"&&(K.textContent=T),ae=re(kn),Zt(oe.$$.fragment,kn),kn.forEach(v),Ce=re(Xe),ie=A(Xe,"DIV",{class:!0});var xt=F(ie);$=A(xt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe($)!=="svelte-1y6fy9c"&&($.textContent=be),ve=re(xt),he=A(xt,"INPUT",{class:!0,list:!0,id:!0,name:!0,type:!0,step:!0,placeholder:!0}),me=re(xt),ye=A(xt,"DATALIST",{id:!0});var er=F(ye);for(let Nt=0;Nt<Ut.length;Nt+=1)Ut[Nt].l(er);er.forEach(v),xt.forEach(v),_e=re(Xe),ue=A(Xe,"DIV",{class:!0});var ht=F(ue);ce=A(ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(ce)!=="svelte-1vxf1l8"&&(ce.textContent=C),L=re(ht),j=A(ht,"SELECT",{id:!0,class:!0});var hn=F(j);fe=A(hn,"OPTION",{"data-svelte-h":!0}),xe(fe)!=="svelte-ua8958"&&(fe.textContent=R);for(let Nt=0;Nt<yt.length;Nt+=1)yt[Nt].l(hn);hn.forEach(v),ht.forEach(v),W=re(Xe),le=A(Xe,"DIV",{class:!0});var Tt=F(le);Y=A(Tt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(Y)!=="svelte-15s44q2"&&(Y.textContent=Ee),Be=re(Tt),Zt(pe.$$.fragment,Tt),Tt.forEach(v),$e=re(Xe),at.l(Xe),Xe.forEach(v),Ct.forEach(v),De=re(we),Me=A(we,"DIV",{class:!0});var jt=F(Me);Ve=A(jt,"H4",{"data-svelte-h":!0}),xe(Ve)!=="svelte-7jxjwi"&&(Ve.textContent=x),Ge=re(jt),Fe=A(jt,"DIV",{class:!0});var xn=F(Fe);ke=A(xn,"DIV",{class:!0,style:!0,role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),F(ke).forEach(v),xn.forEach(v),We=re(jt),tt=A(jt,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(tt)!=="svelte-1741erf"&&(tt.textContent=_t),jt.forEach(v),dt=re(we),nt=A(we,"DIV",{class:!0});var tr=F(nt);it=A(tr,"A",{href:!0,class:!0});var Pt=F(it);Je=Ne(Pt,"Cancel"),Pt.forEach(v),tr.forEach(v),this.h()},h(){p(l,"id","imageInput"),p(l,"type","file"),p(l,"accept","image/*;capture=camera"),p(r,"class","mb-3"),p(u,"class","img-scan d-flex col-md-6 col-sm-12"),p(b,"for","rDesc"),p(b,"class","form-label"),p(S,"class","form-control"),p(S,"list","descOptions"),p(S,"id","rDesc"),p(S,"name","rDesc"),p(S,"placeholder","Double-click for suggestions"),p(B,"id","descOptions"),p(h,"class","mb-3"),p(K,"for","rDate"),p(K,"class","form-label"),p(O,"class","mb-3"),p($,"for","rVal"),p($,"class","form-label"),p(he,"class","form-control"),p(he,"list","valOptions"),p(he,"id","rVal"),p(he,"name","rVal"),p(he,"type","number"),p(he,"step","0.01"),p(he,"placeholder","Double-click for suggestions"),p(ye,"id","valOptions"),p(ie,"class","mb-3"),p(ce,"for","rType"),p(ce,"class","form-label"),fe.selected=!0,fe.__value="--Please choose type--",Lt(fe,fe.__value),p(j,"id","rType"),p(j,"class","form-control"),n[8]===void 0&&$a(()=>n[23].call(j)),p(ue,"class","mb-3"),p(Y,"for","rCurrency"),p(Y,"class","form-label"),p(le,"class","mb-3"),p(d,"class","d-flex flex-column col-md-6 col-sm-12"),p(s,"id","receiptEntry"),Pe(s,"show",n[10]),p(ke,"class","progress-bar"),Rr(ke,"width",n[11]+"%"),p(ke,"role","progressbar"),p(ke,"aria-valuenow",n[11]),p(ke,"aria-valuemin","0"),p(ke,"aria-valuemax","100"),p(Fe,"class","progress"),p(tt,"class","d-block mt-3 btn btn-outline-primary"),p(Me,"class","flex-column hide"),Pe(Me,"show",!n[10]&&n[9]),p(it,"href",Qe="#/trip/"+n[0].id),p(it,"class","btn btn-outline-primary"),p(nt,"class","mt-3 d-grid d-md-block")},m(we,Ye){At.m(we,Ye),te(we,e,Ye),Ue.m(we,Ye),te(we,t,Ye),te(we,r,Ye),_(r,l),te(we,o,Ye),te(we,s,Ye),_(s,u),sn.m(u,null),_(s,f),_(s,d),_(d,h),_(h,b),_(h,P),_(h,S),Lt(S,n[6]),_(h,E),_(h,B);for(let Ct=0;Ct<qt.length;Ct+=1)qt[Ct]&&qt[Ct].m(B,null);_(d,M),_(d,O),_(O,K),_(O,ae),Jt(oe,O,null),_(d,Ce),_(d,ie),_(ie,$),_(ie,ve),_(ie,he),Lt(he,n[7]),_(ie,me),_(ie,ye);for(let Ct=0;Ct<Ut.length;Ct+=1)Ut[Ct]&&Ut[Ct].m(ye,null);_(d,_e),_(d,ue),_(ue,ce),_(ue,L),_(ue,j),_(j,fe);for(let Ct=0;Ct<yt.length;Ct+=1)yt[Ct]&&yt[Ct].m(j,null);Gr(j,n[8],!0),_(d,W),_(d,le),_(le,Y),_(le,Be),Jt(pe,le,null),_(d,$e),at.m(d,null),te(we,De,Ye),te(we,Me,Ye),_(Me,Ve),_(Me,Ge),_(Me,Fe),_(Fe,ke),_(Me,We),_(Me,tt),te(we,dt,Ye),te(we,nt,Ye),_(nt,it),_(it,Je),Rt=!0,st||(ln=[Ze(l,"change",n[16]),Ze(S,"input",n[20]),Ze(he,"input",n[22]),Ze(j,"change",n[23]),Ze(tt,"click",n[25])],st=!0)},p(we,Ye){if(Dt===(Dt=tn(we))&&At?At.p(we,Ye):(At.d(1),At=Dt(we),At&&(At.c(),At.m(e.parentNode,e))),Xt!==(Xt=wn(we))&&(Ue.d(1),Ue=Xt(we),Ue&&(Ue.c(),Ue.m(t.parentNode,t))),nn===(nn=Rn(we))&&sn?sn.p(we,Ye):(sn.d(1),sn=nn(we),sn&&(sn.c(),sn.m(u,null))),Ye[0]&64&&S.value!==we[6]&&Lt(S,we[6]),Ye[0]&4){Ae=ct(we[2]);let Xe;for(Xe=0;Xe<Ae.length;Xe+=1){const $t=Na(we,Ae,Xe);qt[Xe]?qt[Xe].p($t,Ye):(qt[Xe]=Fa($t),qt[Xe].c(),qt[Xe].m(B,null))}for(;Xe<qt.length;Xe+=1)qt[Xe].d(1);qt.length=Ae.length}const Ct={};if(!Z&&Ye[0]&16&&(Z=!0,Ct.value=we[4],Gn(()=>Z=!1)),oe.$set(Ct),Ye[0]&128&&to(he.value)!==we[7]&&Lt(he,we[7]),Ye[0]&8){Mt=ct(we[3]);let Xe;for(Xe=0;Xe<Mt.length;Xe+=1){const $t=Ra(we,Mt,Xe);Ut[Xe]?Ut[Xe].p($t,Ye):(Ut[Xe]=za($t),Ut[Xe].c(),Ut[Xe].m(ye,null))}for(;Xe<Ut.length;Xe+=1)Ut[Xe].d(1);Ut.length=Mt.length}if(Ye&0){vt=ct(Object.values(Pl));let Xe;for(Xe=0;Xe<vt.length;Xe+=1){const $t=La(we,vt,Xe);yt[Xe]?yt[Xe].p($t,Ye):(yt[Xe]=Ka($t),yt[Xe].c(),yt[Xe].m(j,null))}for(;Xe<yt.length;Xe+=1)yt[Xe].d(1);yt.length=vt.length}Ye[0]&256&&Gr(j,we[8]);const wt={};Ye[0]&4096&&(wt.options=we[12]),!ee&&Ye[0]&32&&(ee=!0,wt.value=we[5],Gn(()=>ee=!1)),pe.$set(wt),dn===(dn=fn(we))&&at?at.p(we,Ye):(at.d(1),at=dn(we),at&&(at.c(),at.m(d,null))),(!Rt||Ye[0]&1024)&&Pe(s,"show",we[10]),(!Rt||Ye[0]&2048)&&Rr(ke,"width",we[11]+"%"),(!Rt||Ye[0]&2048)&&p(ke,"aria-valuenow",we[11]),(!Rt||Ye[0]&1536)&&Pe(Me,"show",!we[10]&&we[9]),(!Rt||Ye[0]&1&&Qe!==(Qe="#/trip/"+we[0].id))&&p(it,"href",Qe)},i(we){Rt||(Le(oe.$$.fragment,we),Le(pe.$$.fragment,we),Rt=!0)},o(we){qe(oe.$$.fragment,we),qe(pe.$$.fragment,we),Rt=!1},d(we){we&&(v(e),v(t),v(r),v(o),v(s),v(De),v(Me),v(dt),v(nt)),At.d(we),Ue.d(we),sn.d(),zn(qt,we),Qt(oe),zn(Ut,we),zn(yt,we),Qt(pe),at.d(),st=!1,jn(ln)}}}function ud(n){let e,t,r=n[0].name+"",l,o;return{c(){e=I("h1"),t=Re('Add Receipt to "'),l=Re(r),o=Re('"')},l(s){e=A(s,"H1",{});var u=F(e);t=Ne(u,'Add Receipt to "'),l=Ne(u,r),o=Ne(u,'"'),u.forEach(v)},m(s,u){te(s,e,u),_(e,t),_(e,l),_(e,o)},p(s,u){u[0]&1&&r!==(r=s[0].name+"")&&et(l,r)},d(s){s&&v(e)}}}function cd(n){let e,t,r=n[1].description+"",l,o;return{c(){e=I("h1"),t=Re('Update Receipt for "'),l=Re(r),o=Re('"')},l(s){e=A(s,"H1",{});var u=F(e);t=Ne(u,'Update Receipt for "'),l=Ne(u,r),o=Ne(u,'"'),u.forEach(v)},m(s,u){te(s,e,u),_(e,t),_(e,l),_(e,o)},p(s,u){u[0]&2&&r!==(r=s[1].description+"")&&et(l,r)},d(s){s&&v(e)}}}function fd(n){let e,t="Choose image to begin";return{c(){e=I("p"),e.textContent=t},l(r){e=A(r,"P",{"data-svelte-h":!0}),xe(e)!=="svelte-1rdbglw"&&(e.textContent=t)},m(r,l){te(r,e,l)},d(r){r&&v(e)}}}function dd(n){let e,t="Click 'Browse' to start again";return{c(){e=I("p"),e.textContent=t},l(r){e=A(r,"P",{"data-svelte-h":!0}),xe(e)!=="svelte-1raiglx"&&(e.textContent=t)},m(r,l){te(r,e,l)},d(r){r&&v(e)}}}function hd(n){let e;return{c(){e=I("img"),this.h()},l(t){e=A(t,"IMG",{id:!0,class:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),p(e,"alt","Your chosen receipt")},m(t,r){te(t,e,r)},p:Et,d(t){t&&v(e)}}}function md(n){let e,t;return{c(){e=I("img"),this.h()},l(r){e=A(r,"IMG",{id:!0,class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),ji(e.src,t=n[9])||p(e,"src",t),p(e,"alt","Your chosen receipt")},m(r,l){te(r,e,l)},p(r,l){l[0]&512&&!ji(e.src,t=r[9])&&p(e,"src",t)},d(r){r&&v(e)}}}function Fa(n){let e,t;return{c(){e=I("option"),this.h()},l(r){e=A(r,"OPTION",{}),F(e).forEach(v),this.h()},h(){e.__value=t=n[38],Lt(e,e.__value)},m(r,l){te(r,e,l)},p(r,l){l[0]&4&&t!==(t=r[38])&&(e.__value=t,Lt(e,e.__value))},d(r){r&&v(e)}}}function za(n){let e,t=n[35]+"",r,l;return{c(){e=I("option"),r=Re(t),this.h()},l(o){e=A(o,"OPTION",{});var s=F(e);r=Ne(s,t),s.forEach(v),this.h()},h(){e.__value=l=n[35],Lt(e,e.__value)},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&8&&t!==(t=o[35]+"")&&et(r,t),s[0]&8&&l!==(l=o[35])&&(e.__value=l,Lt(e,e.__value))},d(o){o&&v(e)}}}function Ka(n){let e,t=n[32]+"",r;return{c(){e=I("option"),r=Re(t),this.h()},l(l){e=A(l,"OPTION",{});var o=F(e);r=Ne(o,t),o.forEach(v),this.h()},h(){e.__value=n[32],Lt(e,e.__value)},m(l,o){te(l,e,o),_(e,r)},p:Et,d(l){l&&v(e)}}}function pd(n){let e,t="Add Receipt",r,l;return{c(){e=I("button"),e.textContent=t,this.h()},l(o){e=A(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1059pct"&&(e.textContent=t),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-primary")},m(o,s){te(o,e,s),r||(l=Ze(e,"click",n[13]),r=!0)},p:Et,d(o){o&&v(e),r=!1,l()}}}function gd(n){let e,t="Update Receipt",r,l;return{c(){e=I("button"),e.textContent=t,this.h()},l(o){e=A(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-jbq1gp"&&(e.textContent=t),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-primary")},m(o,s){te(o,e,s),r||(l=Ze(e,"click",n[14]),r=!0)},p:Et,d(o){o&&v(e),r=!1,l()}}}function _d(n){let e,t,r=n[0]&&Ba(n);return{c(){e=I("div"),r&&r.c(),this.h()},l(l){e=A(l,"DIV",{class:!0});var o=F(e);r&&r.l(o),o.forEach(v),this.h()},h(){p(e,"class","w-100")},m(l,o){te(l,e,o),r&&r.m(e,null),t=!0},p(l,o){l[0]?r?(r.p(l,o),o[0]&1&&Le(r,1)):(r=Ba(l),r.c(),Le(r,1),r.m(e,null)):r&&(un(),qe(r,1,1,()=>{r=null}),cn())},i(l){t||(Le(r),t=!0)},o(l){qe(r),t=!1},d(l){l&&v(e),r&&r.d()}}}function vd(n){return/,\d{2}$/.test(n)}function ja(n,e){if(n.src.startsWith("data:image/jpeg;base64"))return n.src;const t=document.createElement("canvas"),r=t.getContext("2d");return t.width=n.width,t.height=n.height,r.drawImage(n,0,0,n.width,n.height),t.toDataURL("image/jpeg",e)}function bd(n,e,t){let r,l;Kn(n,pi,C=>t(19,l=C));const{createWorker:o}=Pa;let{tripId:s}=e,{receiptId:u}=e,f,d,h=[],b=[],k=new Date,P,S,E,B,M,O,K,T=!1,ae=0,oe;s>-1&&Wt.trips.get(s).then(C=>{t(0,f=C),u<0&&t(5,P=f.defaultCurrency)}),u>-1&&Wt.receipts.get(u).then(C=>{t(1,d=C),t(4,k=new Date(d.receiptDateString)),t(5,P=d.currency),t(6,S=d.description),t(7,E=d.total),t(8,B=d.receiptType),t(9,M=d.imageData),t(10,T=!0)});async function Z(){const C=document.getElementById("imgChosen");K=C.naturalWidth,O=C.naturalHeight,t(9,M=ja(C,.9)),await Wt.receipts.add({description:S,currency:P,receiptDate:k,receiptDateString:k.toDateString(),receiptType:B,total:E,tripId:s,imageData:M,imageHeight:O,imageWidth:K}),window.location.href="#/trip/"+s}async function Ce(){const C=document.getElementById("imgChosen");K=C.naturalWidth,O=C.naturalHeight,t(9,M=ja(C,.9)),await Wt.receipts.update(d.id,{description:S,currency:P,receiptDate:k,receiptDateString:k.toDateString(),receiptType:B,total:E,tripId:d.tripId,imageData:M,imageHeight:O,imageWidth:K}),window.location.href="#/trip/"+d.tripId}function ie(C){C.status=="recognizing text"&&t(11,ae=Math.floor(C.progress*100))}async function $(C){oe=await o("eng",1,{logger:j=>ie(j)}),await oe.setParameters({tessedit_pageseg_mode:Pa.PSM.SPARSE_TEXT});var L=await oe.recognize(C,{},{blocks:!0});return L.data.blocks?L.data.blocks:[]}async function be(C){t(11,ae=0),!T&&oe&&await oe.terminate(),C&&t(10,T=!0)}async function ve(C){t(2,h=[]),t(3,b=[]),t(10,T=!1),await be(!1);var L=C.target.files[0],j=URL.createObjectURL(L);const fe=document.getElementById("imgChosen");fe.src=j,t(9,M=j);var R=await $(j);for(let W of R){if(W.confidence<40)continue;let le=W.text.trim();h.push(le);let Y=or(le,{decimal:vd(le)?",":"."});Y.value>0&&b.push(Y.format({symbol:"",separator:"",decimal:"."}))}t(2,h),t(3,b=b.reverse()),t(10,T=!0)}Fo(()=>{be(!1)});function he(){S=this.value,t(6,S)}function me(C){k=C,t(4,k)}function ye(){E=to(this.value),t(7,E)}function _e(){B=Ao(this),t(8,B)}function ue(C){P=C,t(5,P)}const ce=()=>be(!0);return n.$$set=C=>{"tripId"in C&&t(17,s=C.tripId),"receiptId"in C&&t(18,u=C.receiptId)},n.$$.update=()=>{n.$$.dirty[0]&524288&&t(12,r=zl(l))},[f,d,h,b,k,P,S,E,B,M,T,ae,r,Z,Ce,be,ve,s,u,l,he,me,ye,_e,ue,ce]}class go extends Pn{constructor(e){super(),Ln(this,e,bd,_d,yn,{tripId:17,receiptId:18},null,[-1,-1])}}function yd(n){let e,t,r="Preferences",l,o,s,u="Default Currency",f,d,h,b,k,P="The currency that each trip will default to",S,E,B,M="Favourite Currencies",O,K,T,ae,oe,Z="These currencies will always appear at the top of the currency list",Ce,ie,$="Theme",be,ve,he,me,ye,_e=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"></path></svg>
                    Auto`,ue,ce,C,L,j=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun" viewBox="0 0 16 16"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"></path></svg>
                    Light`,fe,R,W,le,Y=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"></path></svg>
                   Dark`,Ee,Be,pe,ee="Done",$e,De,Me,Ve;function x(We){n[8](We)}let Ge={options:n[6],inputId:"defCurrency"};n[2]!==void 0&&(Ge.value=n[2]),d=new gi({props:Ge}),Vt.push(()=>Wn(d,"value",x));function Fe(We){n[9](We)}let ke={options:n[6],inputId:"favCurrency",multiple:!0,placeholder:"Choose currencies"};return n[3]!==void 0&&(ke.value=n[3]),K=new gi({props:ke}),Vt.push(()=>Wn(K,"value",Fe)),De=Oo(n[11][0]),{c(){e=I("div"),t=I("h1"),t.textContent=r,l=ne(),o=I("div"),s=I("label"),s.textContent=u,f=ne(),Yt(d.$$.fragment),b=ne(),k=I("div"),k.textContent=P,S=ne(),E=I("div"),B=I("label"),B.textContent=M,O=ne(),Yt(K.$$.fragment),ae=ne(),oe=I("div"),oe.textContent=Z,Ce=ne(),ie=I("h6"),ie.textContent=$,be=ne(),ve=I("div"),he=I("input"),me=ne(),ye=I("label"),ye.innerHTML=_e,ue=ne(),ce=I("input"),C=ne(),L=I("label"),L.innerHTML=j,fe=ne(),R=I("input"),W=ne(),le=I("label"),le.innerHTML=Y,Ee=ne(),Be=I("div"),pe=I("button"),pe.textContent=ee,this.h()},l(We){e=A(We,"DIV",{class:!0});var tt=F(e);t=A(tt,"H1",{"data-svelte-h":!0}),xe(t)!=="svelte-nxbse8"&&(t.textContent=r),l=re(tt),o=A(tt,"DIV",{class:!0});var _t=F(o);s=A(_t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(s)!=="svelte-it9jnu"&&(s.textContent=u),f=re(_t),Zt(d.$$.fragment,_t),b=re(_t),k=A(_t,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),xe(k)!=="svelte-2gnq35"&&(k.textContent=P),_t.forEach(v),S=re(tt),E=A(tt,"DIV",{class:!0});var dt=F(E);B=A(dt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),xe(B)!=="svelte-18qx5ce"&&(B.textContent=M),O=re(dt),Zt(K.$$.fragment,dt),ae=re(dt),oe=A(dt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),xe(oe)!=="svelte-13r3flk"&&(oe.textContent=Z),dt.forEach(v),Ce=re(tt),ie=A(tt,"H6",{"data-svelte-h":!0}),xe(ie)!=="svelte-co3l5x"&&(ie.textContent=$),be=re(tt),ve=A(tt,"DIV",{class:!0,role:!0,"aria-label":!0});var nt=F(ve);he=A(nt,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),me=re(nt),ye=A(nt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),xe(ye)!=="svelte-annllc"&&(ye.innerHTML=_e),ue=re(nt),ce=A(nt,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),C=re(nt),L=A(nt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),xe(L)!=="svelte-llbehq"&&(L.innerHTML=j),fe=re(nt),R=A(nt,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),W=re(nt),le=A(nt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),xe(le)!=="svelte-u2uuxq"&&(le.innerHTML=Y),nt.forEach(v),Ee=re(tt),Be=A(tt,"DIV",{class:!0});var it=F(Be);pe=A(it,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(pe)!=="svelte-1nqleos"&&(pe.textContent=ee),it.forEach(v),tt.forEach(v),this.h()},h(){p(s,"for","defCurrency"),p(s,"class","form-label"),p(k,"id","defCurrencyHelp"),p(k,"class","form-text"),p(o,"class","mb-3"),p(B,"for","favCurrency"),p(B,"class","form-label"),p(oe,"id","favCurrencyHelp"),p(oe,"class","form-text"),p(E,"class","mb-3"),p(he,"type","radio"),p(he,"class","btn-check btn-outline-secondary"),p(he,"name","options-color"),p(he,"id","optionAuto"),he.__value="auto",Lt(he,he.__value),p(he,"autocomplete","off"),p(ye,"class","btn btn-outline-secondary"),p(ye,"for","optionAuto"),p(ce,"type","radio"),p(ce,"class","btn-check btn-outline-secondary"),p(ce,"name","options-color"),p(ce,"id","optionLight"),ce.__value="light",Lt(ce,ce.__value),p(ce,"autocomplete","off"),p(L,"class","btn btn-outline-secondary"),p(L,"for","optionLight"),p(R,"type","radio"),p(R,"class","btn-check btn-outline-secondary"),p(R,"name","options-color"),p(R,"id","optionDark"),R.__value="dark",Lt(R,R.__value),p(R,"autocomplete","off"),p(le,"class","btn btn-outline-secondary"),p(le,"for","optionDark"),p(ve,"class","btn-group"),p(ve,"role","group"),p(ve,"aria-label","Colour Theme Picker"),p(pe,"class","btn btn-primary"),p(Be,"class","d-grid d-md-block mt-2"),p(e,"class","row"),De.p(he,ce,R)},m(We,tt){te(We,e,tt),_(e,t),_(e,l),_(e,o),_(o,s),_(o,f),Jt(d,o,null),_(o,b),_(o,k),_(e,S),_(e,E),_(E,B),_(E,O),Jt(K,E,null),_(E,ae),_(E,oe),_(e,Ce),_(e,ie),_(e,be),_(e,ve),_(ve,he),he.checked=he.__value===n[4],_(ve,me),_(ve,ye),_(ve,ue),_(ve,ce),ce.checked=ce.__value===n[4],_(ve,C),_(ve,L),_(ve,fe),_(ve,R),R.checked=R.__value===n[4],_(ve,W),_(ve,le),_(e,Ee),_(e,Be),_(Be,pe),$e=!0,Me||(Ve=[Ze(he,"change",n[10]),Ze(ce,"change",n[12]),Ze(R,"change",n[13]),Ze(pe,"click",n[7])],Me=!0)},p(We,tt){const _t={};!h&&tt&4&&(h=!0,_t.value=We[2],Gn(()=>h=!1)),d.$set(_t);const dt={};!T&&tt&8&&(T=!0,dt.value=We[3],Gn(()=>T=!1)),K.$set(dt),tt&16&&(he.checked=he.__value===We[4]),tt&16&&(ce.checked=ce.__value===We[4]),tt&16&&(R.checked=R.__value===We[4])},i(We){$e||(Le(d.$$.fragment,We),Le(K.$$.fragment,We),$e=!0)},o(We){qe(d.$$.fragment,We),qe(K.$$.fragment,We),$e=!1},d(We){We&&v(e),Qt(d),Qt(K),De.r(),Me=!1,jn(Ve)}}}function wd(n){let e,t,r="Welcome!",l,o,s,u='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"></path><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"></path></svg>',f,d,h="Create a trip using the button at the top",b,k,P="Or add receipts by selecting a trip",S,E,B,M,O=n[1]&&Ha(n);return{c(){e=I("h1"),t=I("span"),t.textContent=r,l=ne(),o=I("span"),s=I("button"),s.innerHTML=u,f=ne(),d=I("p"),d.textContent=h,b=ne(),k=I("p"),k.textContent=P,S=ne(),O&&O.c(),E=bt(),this.h()},l(K){e=A(K,"H1",{class:!0});var T=F(e);t=A(T,"SPAN",{"data-svelte-h":!0}),xe(t)!=="svelte-d14puh"&&(t.textContent=r),l=re(T),o=A(T,"SPAN",{});var ae=F(o);s=A(ae,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),xe(s)!=="svelte-1g2ob46"&&(s.innerHTML=u),ae.forEach(v),T.forEach(v),f=re(K),d=A(K,"P",{"data-svelte-h":!0}),xe(d)!=="svelte-xbo4ew"&&(d.textContent=h),b=re(K),k=A(K,"P",{"data-svelte-h":!0}),xe(k)!=="svelte-1g1vmu2"&&(k.textContent=P),S=re(K),O&&O.l(K),E=bt(),this.h()},h(){p(s,"class","btn btn-outline-secondary no-outline"),p(s,"title","Preferences"),p(e,"class","d-flex justify-content-between")},m(K,T){te(K,e,T),_(e,t),_(e,l),_(e,o),_(o,s),te(K,f,T),te(K,d,T),te(K,b,T),te(K,k,T),te(K,S,T),O&&O.m(K,T),te(K,E,T),B||(M=Ze(s,"click",n[7]),B=!0)},p(K,T){K[1]?O?O.p(K,T):(O=Ha(K),O.c(),O.m(E.parentNode,E)):O&&(O.d(1),O=null)},i:Et,o:Et,d(K){K&&(v(e),v(f),v(d),v(b),v(k),v(S),v(E)),O&&O.d(K),B=!1,M()}}}function Ha(n){let e,t,r="Your most recent trip:",l,o,s,u,f,d=n[1].name+"",h,b,k,P=n[1].startDateString+"",S,E,B=n[1].endDateString+"",M,O;return{c(){e=I("div"),t=I("h4"),t.textContent=r,l=ne(),o=I("div"),s=I("a"),u=I("div"),f=I("strong"),h=Re(d),b=ne(),k=I("div"),S=Re(P),E=Re(" - "),M=Re(B),this.h()},l(K){e=A(K,"DIV",{class:!0});var T=F(e);t=A(T,"H4",{"data-svelte-h":!0}),xe(t)!=="svelte-1dpo13w"&&(t.textContent=r),l=re(T),o=A(T,"DIV",{class:!0});var ae=F(o);s=A(ae,"A",{href:!0,class:!0});var oe=F(s);u=A(oe,"DIV",{class:!0});var Z=F(u);f=A(Z,"STRONG",{class:!0});var Ce=F(f);h=Ne(Ce,d),Ce.forEach(v),b=re(Z),k=A(Z,"DIV",{class:!0});var ie=F(k);S=Ne(ie,P),E=Ne(ie," - "),M=Ne(ie,B),ie.forEach(v),Z.forEach(v),oe.forEach(v),ae.forEach(v),T.forEach(v),this.h()},h(){p(f,"class","mb-1"),p(k,"class","col-10 mb-1 text-center"),p(u,"class","d-flex w-100 align-items-center justify-content-between flex-column"),p(s,"href",O="#/trip/"+n[1].id),p(s,"class","py-3 lh-sm m-2 list-group-item list-group-item-action"),p(o,"class","col-lg-6 col-md-12 list-group"),p(e,"class","row mb-4")},m(K,T){te(K,e,T),_(e,t),_(e,l),_(e,o),_(o,s),_(s,u),_(u,f),_(f,h),_(u,b),_(u,k),_(k,S),_(k,E),_(k,M)},p(K,T){T&2&&d!==(d=K[1].name+"")&&et(h,d),T&2&&P!==(P=K[1].startDateString+"")&&et(S,P),T&2&&B!==(B=K[1].endDateString+"")&&et(M,B),T&2&&O!==(O="#/trip/"+K[1].id)&&p(s,"href",O)},d(K){K&&v(e)}}}function kd(n){let e,t,r,l;const o=[wd,yd],s=[];function u(f,d){return f[0]?f[0]?1:-1:0}return~(t=u(n))&&(r=s[t]=o[t](n)),{c(){e=I("div"),r&&r.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var d=F(e);r&&r.l(d),d.forEach(v),this.h()},h(){p(e,"class","col-sm-12")},m(f,d){te(f,e,d),~t&&s[t].m(e,null),l=!0},p(f,[d]){let h=t;t=u(f),t===h?~t&&s[t].p(f,d):(r&&(un(),qe(s[h],1,1,()=>{s[h]=null}),cn()),~t?(r=s[t],r?r.p(f,d):(r=s[t]=o[t](f),r.c()),Le(r,1),r.m(e,null)):r=null)},i(f){l||(Le(r),l=!0)},o(f){qe(r),l=!1},d(f){f&&v(e),~t&&s[t].d()}}}function Sd(n,e,t){let r,l,o,s;Kn(n,Ll,M=>t(2,l=M)),Kn(n,pi,M=>t(3,o=M)),Kn(n,ai,M=>t(4,s=M));let u=mi(()=>Wt.trips.orderBy("endDate").reverse().first());Kn(n,u,M=>t(1,r=M));let f=[],d=!1;for(let M of Object.keys(rn))f.push({value:M,text:`${M} (${rn[M].symbol})`});function h(){t(0,d=!d)}const b=[[]];function k(M){l=M,Ll.set(l)}function P(M){o=M,pi.set(o)}function S(){s=this.__value,ai.set(s)}function E(){s=this.__value,ai.set(s)}function B(){s=this.__value,ai.set(s)}return[d,r,l,o,s,u,f,h,k,P,S,b,E,B]}class Ed extends Pn{constructor(e){super(),Ln(this,e,Sd,kd,yn,{})}}function Va(n,e,t){const r=n.slice();return r[8]=e[t],r}function Ua(n,e,t){const r=n.slice();return r[11]=e[t],r}function qa(n,e,t){const r=n.slice();return r[8]=e[t],r}function Tl(n){const e=n.slice(),t=Array.from(new Set(e[3].map(r=>r.currency)));return e[7]=t,e}function Ga(n){let e,t,r="After clicking 'Export/Print', you should be able to print/save to PDF",l,o,s,u,f,d,h,b="Export/Print",k,P,S=n[0].name+"",E,B,M,O=n[0].startDateString+"",K,T,ae=n[0].endDateString+"",oe,Z,Ce,ie="Receipt Summary",$,be,ve,he,me=n[3]&&Wa(Tl(n));return{c(){e=I("div"),t=I("p"),t.textContent=r,l=ne(),o=I("p"),s=I("label"),u=I("input"),f=Re(`
            Include notes`),d=ne(),h=I("button"),h.textContent=b,k=ne(),P=I("h1"),E=Re(S),B=ne(),M=I("h4"),K=Re(O),T=Re(" - "),oe=Re(ae),Z=ne(),Ce=I("h5"),Ce.textContent=ie,$=ne(),me&&me.c(),be=bt(),this.h()},l(ye){e=A(ye,"DIV",{class:!0,id:!0});var _e=F(e);t=A(_e,"P",{"data-svelte-h":!0}),xe(t)!=="svelte-drk65c"&&(t.textContent=r),l=re(_e),o=A(_e,"P",{});var ue=F(o);s=A(ue,"LABEL",{});var ce=F(s);u=A(ce,"INPUT",{type:!0}),f=Ne(ce,`
            Include notes`),ce.forEach(v),ue.forEach(v),d=re(_e),h=A(_e,"BUTTON",{class:!0,onclick:!0,"data-svelte-h":!0}),xe(h)!=="svelte-1fkvb7c"&&(h.textContent=b),_e.forEach(v),k=re(ye),P=A(ye,"H1",{});var C=F(P);E=Ne(C,S),C.forEach(v),B=re(ye),M=A(ye,"H4",{});var L=F(M);K=Ne(L,O),T=Ne(L," - "),oe=Ne(L,ae),L.forEach(v),Z=re(ye),Ce=A(ye,"H5",{"data-svelte-h":!0}),xe(Ce)!=="svelte-1hbjnf6"&&(Ce.textContent=ie),$=re(ye),me&&me.l(ye),be=bt(),this.h()},h(){p(u,"type","checkbox"),p(h,"class","btn btn-primary"),p(h,"onclick","window.print()"),p(e,"class","no-print mt-3 hide"),p(e,"id","printMessage")},m(ye,_e){te(ye,e,_e),_(e,t),_(e,l),_(e,o),_(o,s),_(s,u),u.checked=n[2],_(s,f),_(e,d),_(e,h),te(ye,k,_e),te(ye,P,_e),_(P,E),te(ye,B,_e),te(ye,M,_e),_(M,K),_(M,T),_(M,oe),te(ye,Z,_e),te(ye,Ce,_e),te(ye,$,_e),me&&me.m(ye,_e),te(ye,be,_e),ve||(he=Ze(u,"change",n[5]),ve=!0)},p(ye,_e){_e&4&&(u.checked=ye[2]),_e&1&&S!==(S=ye[0].name+"")&&et(E,S),_e&1&&O!==(O=ye[0].startDateString+"")&&et(K,O),_e&1&&ae!==(ae=ye[0].endDateString+"")&&et(oe,ae),ye[3]?me?me.p(Tl(ye),_e):(me=Wa(Tl(ye)),me.c(),me.m(be.parentNode,be)):me&&(me.d(1),me=null)},d(ye){ye&&(v(e),v(k),v(P),v(B),v(M),v(Z),v(Ce),v($),v(be)),me&&me.d(ye),ve=!1,he()}}}function Wa(n){let e,t,r="<tr><th>Receipt Description</th> <th>Receipt Date</th> <th>Receipt Type</th> <th>Receipt Total</th></tr>",l,o,s=[],u=new Map,f,d,h,b,k,P,S,E,B="<strong>Total</strong>",M,O,K,T,ae,oe,Z=[],Ce=new Map,ie,$,be=`// Wait for images to render before printing
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
              incrementCounter();
            else
              img.addEventListener( 'load', incrementCounter, false );
        } );

        function printDiaglog() {
          window.print()
        }
        function incrementCounter() {
            counter++;
            if ( counter === len ) {
              document.getElementById("printMessage").classList.remove("hide");
            }
        }`,ve=ct(n[3]);const he=C=>C[8].id;for(let C=0;C<ve.length;C+=1){let L=qa(n,ve,C),j=he(L);u.set(j,s[C]=Ya(j,L))}let me=ct(n[7]),ye=[];for(let C=0;C<me.length;C+=1)ye[C]=Za(Ua(n,me,C));let _e=n[2]&&Ja(n),ue=ct(n[3]);const ce=C=>C[8].id;for(let C=0;C<ue.length;C+=1){let L=Va(n,ue,C),j=ce(L);Ce.set(j,Z[C]=Qa(j,L))}return{c(){e=I("table"),t=I("thead"),t.innerHTML=r,l=ne(),o=I("tbody");for(let C=0;C<s.length;C+=1)s[C].c();f=ne(),d=I("tfoot"),h=I("tr"),b=I("td"),k=ne(),P=I("td"),S=ne(),E=I("td"),E.innerHTML=B,M=ne(),O=I("td");for(let C=0;C<ye.length;C+=1)ye[C].c();K=ne(),T=I("td"),ae=ne(),_e&&_e.c(),oe=ne();for(let C=0;C<Z.length;C+=1)Z[C].c();ie=ne(),$=I("script"),$.textContent=be,this.h()},l(C){e=A(C,"TABLE",{class:!0});var L=F(e);t=A(L,"THEAD",{"data-svelte-h":!0}),xe(t)!=="svelte-1yqevk1"&&(t.innerHTML=r),l=re(L),o=A(L,"TBODY",{});var j=F(o);for(let le=0;le<s.length;le+=1)s[le].l(j);j.forEach(v),f=re(L),d=A(L,"TFOOT",{class:!0});var fe=F(d);h=A(fe,"TR",{});var R=F(h);b=A(R,"TD",{}),F(b).forEach(v),k=re(R),P=A(R,"TD",{}),F(P).forEach(v),S=re(R),E=A(R,"TD",{class:!0,"data-svelte-h":!0}),xe(E)!=="svelte-14afisz"&&(E.innerHTML=B),M=re(R),O=A(R,"TD",{});var W=F(O);for(let le=0;le<ye.length;le+=1)ye[le].l(W);W.forEach(v),K=re(R),T=A(R,"TD",{}),F(T).forEach(v),R.forEach(v),fe.forEach(v),L.forEach(v),ae=re(C),_e&&_e.l(C),oe=re(C);for(let le=0;le<Z.length;le+=1)Z[le].l(C);ie=re(C),$=A(C,"SCRIPT",{"data-svelte-h":!0}),xe($)!=="svelte-wsa5ae"&&($.textContent=be),this.h()},h(){p(E,"class","text-end"),p(d,"class","table-group-divider"),p(e,"class","table table-striped table-hover")},m(C,L){te(C,e,L),_(e,t),_(e,l),_(e,o);for(let j=0;j<s.length;j+=1)s[j]&&s[j].m(o,null);_(e,f),_(e,d),_(d,h),_(h,b),_(h,k),_(h,P),_(h,S),_(h,E),_(h,M),_(h,O);for(let j=0;j<ye.length;j+=1)ye[j]&&ye[j].m(O,null);_(h,K),_(h,T),te(C,ae,L),_e&&_e.m(C,L),te(C,oe,L);for(let j=0;j<Z.length;j+=1)Z[j]&&Z[j].m(C,L);te(C,ie,L),te(C,$,L)},p(C,L){if(L&8&&(ve=ct(C[3]),s=Nr(s,L,he,1,C,ve,u,o,Yr,Ya,null,qa)),L&8){me=ct(C[7]);let j;for(j=0;j<me.length;j+=1){const fe=Ua(C,me,j);ye[j]?ye[j].p(fe,L):(ye[j]=Za(fe),ye[j].c(),ye[j].m(O,null))}for(;j<ye.length;j+=1)ye[j].d(1);ye.length=me.length}C[2]?_e?_e.p(C,L):(_e=Ja(C),_e.c(),_e.m(oe.parentNode,oe)):_e&&(_e.d(1),_e=null),L&8&&(ue=ct(C[3]),Z=Nr(Z,L,ce,1,C,ue,Ce,ie.parentNode,Yr,Qa,ie,Va))},d(C){C&&(v(e),v(ae),v(oe),v(ie),v($));for(let L=0;L<s.length;L+=1)s[L].d();zn(ye,C),_e&&_e.d(C);for(let L=0;L<Z.length;L+=1)Z[L].d(C)}}}function Ya(n,e){let t,r,l=e[8].description+"",o,s,u,f=e[8].receiptDateString+"",d,h,b,k=e[8].receiptType+"",P,S,E,B=rn[e[8].currency].symbol+"",M,O,K=e[8].total.toFixed(2)+"",T,ae;return{key:n,first:null,c(){t=I("tr"),r=I("td"),o=Re(l),s=ne(),u=I("td"),d=Re(f),h=ne(),b=I("td"),P=Re(k),S=ne(),E=I("td"),M=Re(B),O=ne(),T=Re(K),ae=ne(),this.h()},l(oe){t=A(oe,"TR",{});var Z=F(t);r=A(Z,"TD",{});var Ce=F(r);o=Ne(Ce,l),Ce.forEach(v),s=re(Z),u=A(Z,"TD",{});var ie=F(u);d=Ne(ie,f),ie.forEach(v),h=re(Z),b=A(Z,"TD",{});var $=F(b);P=Ne($,k),$.forEach(v),S=re(Z),E=A(Z,"TD",{});var be=F(E);M=Ne(be,B),O=re(be),T=Ne(be,K),be.forEach(v),ae=re(Z),Z.forEach(v),this.h()},h(){this.first=t},m(oe,Z){te(oe,t,Z),_(t,r),_(r,o),_(t,s),_(t,u),_(u,d),_(t,h),_(t,b),_(b,P),_(t,S),_(t,E),_(E,M),_(E,O),_(E,T),_(t,ae)},p(oe,Z){e=oe,Z&8&&l!==(l=e[8].description+"")&&et(o,l),Z&8&&f!==(f=e[8].receiptDateString+"")&&et(d,f),Z&8&&k!==(k=e[8].receiptType+"")&&et(P,k),Z&8&&B!==(B=rn[e[8].currency].symbol+"")&&et(M,B),Z&8&&K!==(K=e[8].total.toFixed(2)+"")&&et(T,K)},d(oe){oe&&v(t)}}}function Za(n){let e=rn[n[11]].symbol+"",t,r,l=n[3].filter(f).reduce(Xa,0).toFixed(2)+"",o,s,u;function f(...d){return n[6](n[11],...d)}return{c(){t=Re(e),r=ne(),o=Re(l),s=ne(),u=I("br")},l(d){t=Ne(d,e),r=re(d),o=Ne(d,l),s=re(d),u=A(d,"BR",{})},m(d,h){te(d,t,h),te(d,r,h),te(d,o,h),te(d,s,h),te(d,u,h)},p(d,h){n=d,h&8&&e!==(e=rn[n[11]].symbol+"")&&et(t,e),h&8&&l!==(l=n[3].filter(f).reduce(Xa,0).toFixed(2)+"")&&et(o,l)},d(d){d&&(v(t),v(r),v(o),v(s),v(u))}}}function Ja(n){let e,t="Notes:",r,l,o=n[0].notes+"",s;return{c(){e=I("h5"),e.textContent=t,r=ne(),l=I("p"),s=Re(o),this.h()},l(u){e=A(u,"H5",{"data-svelte-h":!0}),xe(e)!=="svelte-srqctx"&&(e.textContent=t),r=re(u),l=A(u,"P",{style:!0});var f=F(l);s=Ne(f,o),f.forEach(v),this.h()},h(){Rr(l,"white-space","pre-wrap")},m(u,f){te(u,e,f),te(u,r,f),te(u,l,f),_(l,s)},p(u,f){f&1&&o!==(o=u[0].notes+"")&&et(s,o)},d(u){u&&(v(e),v(r),v(l))}}}function Qa(n,e){let t,r=e[8].description+"",l,o,s,u=rn[e[8].currency].symbol+"",f,d,h=e[8].total.toFixed(2)+"",b,k,P,S,E;return{key:n,first:null,c(){t=I("div"),l=Re(r),o=ne(),s=I("strong"),f=Re(u),d=ne(),b=Re(h),k=ne(),P=I("img"),this.h()},l(B){t=A(B,"DIV",{class:!0});var M=F(t);l=Ne(M,r),o=re(M),s=A(M,"STRONG",{});var O=F(s);f=Ne(O,u),d=re(O),b=Ne(O,h),O.forEach(v),M.forEach(v),k=re(B),P=A(B,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){p(t,"class","page-print mb-2"),p(P,"class","img-print"),p(P,"alt",S="receipt with description '"+e[8].description+"'"),ji(P.src,E=e[8].imageData)||p(P,"src",E),this.first=t},m(B,M){te(B,t,M),_(t,l),_(t,o),_(t,s),_(s,f),_(s,d),_(s,b),te(B,k,M),te(B,P,M)},p(B,M){e=B,M&8&&r!==(r=e[8].description+"")&&et(l,r),M&8&&u!==(u=rn[e[8].currency].symbol+"")&&et(f,u),M&8&&h!==(h=e[8].total.toFixed(2)+"")&&et(b,h),M&8&&S!==(S="receipt with description '"+e[8].description+"'")&&p(P,"alt",S),M&8&&!ji(P.src,E=e[8].imageData)&&p(P,"src",E)},d(B){B&&(v(t),v(k),v(P))}}}function Dd(n){let e,t=n[0]&&Ga(n);return{c(){e=I("div"),t&&t.c()},l(r){e=A(r,"DIV",{});var l=F(e);t&&t.l(l),l.forEach(v)},m(r,l){te(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]?t?t.p(r,l):(t=Ga(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:Et,o:Et,d(r){r&&v(e),t&&t.d()}}}const Xa=(n,e)=>n+e.total;function Cd(n,e,t){let r,l=Et,o=()=>(l(),l=ci(f,k=>t(3,r=k)),f);n.$$.on_destroy.push(()=>l());let{tripId:s=-1}=e,u,f,d=!1;s>-1&&Wt.trips.get(s).then(k=>{t(0,u=k),o(t(1,f=mi(()=>Wt.receipts.where({tripId:s}).reverse().sortBy("receiptDate")))),document.title=u==null?void 0:u.name});function h(){d=this.checked,t(2,d)}const b=(k,P)=>P.currency==k;return n.$$set=k=>{"tripId"in k&&t(4,s=k.tripId)},[u,f,d,r,s,h,b]}class Td extends Pn{constructor(e){super(),Ln(this,e,Cd,Dd,yn,{tripId:4})}}function Id(n){let e,t,r,l=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="38" viewBox="0 0 375.91 152.28" style="enable-background:new 0 0 375.91 152.28;" xml:space="preserve"><style type="text/css">.st0{fill:currentColor;}
		   </style><g id="Layer_1"><g><path class="st0" d="M0,19.62h59.19V36.2H0V19.62z M20.94,27.62h17.24v88.06H20.94V27.62z" fill="currentColor"></path><path class="st0" d="M60.18,47.1h17.84v68.58H60.18V47.1z M93.28,63.69c-1.01-0.22-2.14-0.33-3.37-0.33
					   c-3.74,0-6.66,1.17-8.75,3.5c-2.09,2.33-3.14,5.57-3.14,9.71l-1.39-17.51c1.94-4.1,4.44-7.3,7.5-9.61
					   c3.06-2.31,6.42-3.47,10.08-3.47c1.41,0,2.7,0.23,3.87,0.69c1.17,0.46,2.17,1.13,3.01,2.01l-5.22,16.05
					   C95.15,64.26,94.29,63.91,93.28,63.69z"></path><path class="st0" d="M109,19.62h17.24v17.11H109V19.62z M109,47.1h17.24v68.58H109V47.1z"></path><path class="st0" d="M140.58,47.1h17.18v96.46h-17.18V47.1z M162.68,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C168.4,116.67,165.3,115.65,162.68,113.6z"></path><path class="st0" d="M204.6,47.1h17.18v96.46H204.6V47.1z M226.7,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C232.42,116.67,229.32,115.65,226.7,113.6z"></path><path class="st0" d="M267.43,19.62h17.24v17.11h-17.24V19.62z M267.43,47.1h17.24v68.58h-17.24V47.1z"></path><path class="st0" d="M299.01,47.1h17.24v68.58h-17.24V47.1z M332.31,70.62c0-2.73-0.72-4.83-2.15-6.31
					   c-1.43-1.48-3.45-2.21-6.04-2.21c-2.51,0-4.45,0.74-5.81,2.21c-1.37,1.48-2.05,3.6-2.05,6.38l-1.39-11.63
					   c1.72-4.27,3.96-7.52,6.74-9.74c2.77-2.22,6.05-3.34,9.84-3.34c5.72,0,10.16,1.98,13.31,5.95c3.15,3.96,4.72,9.54,4.72,16.71
					   v47.04h-17.18V70.62z"></path><path class="st0" d="M356.55,19.62h17.24v23.65l-17.24,16.91V19.62z"></path></g></g></svg>`,o,s,u,f='<li class="nav-item"><a class="btn btn-outline-light" href="#/add">+ Add Trip</a></li>',d,h,b=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg>
				My Trips`,k,P,S,E,B,M,O,K,T,ae,oe,Z;B=new Hc({props:{tripId:n[3]}});const Ce=[Nd,Rd,Ld,Pd,Md,Od],ie=[];function $(be,ve){return be[4]==="add"?0:be[4]==="trip"&&be[3]>-1?1:be[4]==="update"&&be[3]>-1?2:be[4]==="addreceipt"&&be[3]>-1?3:be[4]==="editreceipt"&&be[3]>-1?4:5}return K=$(n),T=ie[K]=Ce[K](n),{c(){e=I("nav"),t=I("div"),r=I("a"),r.innerHTML=l,o=ne(),s=I("div"),u=I("ul"),u.innerHTML=f,d=ne(),h=I("button"),h.innerHTML=b,k=ne(),P=I("main"),S=I("div"),E=I("div"),Yt(B.$$.fragment),M=ne(),O=I("div"),T.c(),this.h()},l(be){e=A(be,"NAV",{class:!0,"aria-label":!0});var ve=F(e);t=A(ve,"DIV",{class:!0});var he=F(t);r=A(he,"A",{"aria-current":!0,class:!0,href:!0,"data-svelte-h":!0}),xe(r)!=="svelte-184qgqe"&&(r.innerHTML=l),o=re(he),s=A(he,"DIV",{class:!0});var me=F(s);u=A(me,"UL",{class:!0,"data-svelte-h":!0}),xe(u)!=="svelte-d6xdjk"&&(u.innerHTML=f),d=re(me),h=A(me,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),xe(h)!=="svelte-1yyazi7"&&(h.innerHTML=b),me.forEach(v),he.forEach(v),ve.forEach(v),k=re(be),P=A(be,"MAIN",{class:!0});var ye=F(P);S=A(ye,"DIV",{class:!0});var _e=F(S);E=A(_e,"DIV",{class:!0,id:!0});var ue=F(E);Zt(B.$$.fragment,ue),ue.forEach(v),_e.forEach(v),M=re(ye),O=A(ye,"DIV",{class:!0,id:!0});var ce=F(O);T.l(ce),ce.forEach(v),ye.forEach(v),this.h()},h(){p(r,"aria-current","page"),p(r,"class","navbar-brand text-light"),p(r,"href","#"),p(u,"class","navbar-nav me-auto"),p(h,"class","listTitleSmall btn btn-outline-light me-2"),p(h,"type","button"),p(s,"class","collapse navbar-collapse"),p(t,"class","container-fluid"),p(e,"class","navbar navbar-expand navbar-dark bg-dark"),p(e,"aria-label","Second navbar example"),p(E,"class","list-group scrollarea d-none"),p(E,"id","tripToggle"),p(S,"class","tripList d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary"),p(O,"class","d-flex p-3 w-100"),p(O,"id","mainPane"),p(P,"class","d-flex flex-nowrap")},m(be,ve){te(be,e,ve),_(e,t),_(t,r),_(t,o),_(t,s),_(s,u),_(s,d),_(s,h),te(be,k,ve),te(be,P,ve),_(P,S),_(S,E),Jt(B,E,null),_(P,M),_(P,O),ie[K].m(O,null),ae=!0,oe||(Z=Ze(h,"click",uo),oe=!0)},p(be,ve){const he={};ve&8&&(he.tripId=be[3]),B.$set(he);let me=K;K=$(be),K===me?ie[K].p(be,ve):(un(),qe(ie[me],1,1,()=>{ie[me]=null}),cn(),T=ie[K],T?T.p(be,ve):(T=ie[K]=Ce[K](be),T.c()),Le(T,1),T.m(O,null))},i(be){ae||(Le(B.$$.fragment,be),Le(T),ae=!0)},o(be){qe(B.$$.fragment,be),qe(T),ae=!1},d(be){be&&(v(e),v(k),v(P)),Qt(B),ie[K].d(),oe=!1,Z()}}}function Ad(n){let e,t;return e=new Td({props:{tripId:n[3]}}),{c(){Yt(e.$$.fragment)},l(r){Zt(e.$$.fragment,r)},m(r,l){Jt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){Qt(e,r)}}}function Od(n){let e,t;return e=new Ed({}),{c(){Yt(e.$$.fragment)},l(r){Zt(e.$$.fragment,r)},m(r,l){Jt(e,r,l),t=!0},p:Et,i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){Qt(e,r)}}}function Md(n){let e,t;return e=new go({props:{tripId:n[3],receiptId:n[5]}}),{c(){Yt(e.$$.fragment)},l(r){Zt(e.$$.fragment,r)},m(r,l){Jt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),l&32&&(o.receiptId=r[5]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){Qt(e,r)}}}function Pd(n){let e,t;return e=new go({props:{tripId:n[3],receiptId:-1}}),{c(){Yt(e.$$.fragment)},l(r){Zt(e.$$.fragment,r)},m(r,l){Jt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){Qt(e,r)}}}function Ld(n){let e,t;return e=new qc({props:{tripId:n[3]}}),{c(){Yt(e.$$.fragment)},l(r){Zt(e.$$.fragment,r)},m(r,l){Jt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){Qt(e,r)}}}function Rd(n){let e=n[3],t,r,l=xa(n);return{c(){l.c(),t=bt()},l(o){l.l(o),t=bt()},m(o,s){l.m(o,s),te(o,t,s),r=!0},p(o,s){s&8&&yn(e,e=o[3])?(un(),qe(l,1,1,Et),cn(),l=xa(o),l.c(),Le(l,1),l.m(t.parentNode,t)):l.p(o,s)},i(o){r||(Le(l),r=!0)},o(o){qe(l),r=!1},d(o){o&&v(t),l.d(o)}}}function Nd(n){let e,t;return e=new gc({}),{c(){Yt(e.$$.fragment)},l(r){Zt(e.$$.fragment,r)},m(r,l){Jt(e,r,l),t=!0},p:Et,i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){Qt(e,r)}}}function xa(n){let e,t;return e=new zc({props:{tripId:n[3]}}),{c(){Yt(e.$$.fragment)},l(r){Zt(e.$$.fragment,r)},m(r,l){Jt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){Qt(e,r)}}}function Bd(n){let e,t,r,l;const o=[Ad,Id],s=[];function u(f,d){return f[4]==="print"&&f[3]>-1?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=bt()},l(f){t.l(f),r=bt()},m(f,d){s[e].m(f,d),te(f,r,d),l=!0},p(f,[d]){let h=e;e=u(f),e===h?s[e].p(f,d):(un(),qe(s[h],1,1,()=>{s[h]=null}),cn(),t=s[e],t?t.p(f,d):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function Fd(n,e,t){let r,l,o,s,u,f,d=Et,h=()=>(d(),d=ci(r,T=>t(3,f=T)),r),b,k=Et,P=()=>(k(),k=ci(o,T=>t(4,b=T)),o),S,E=Et,B=()=>(E(),E=ci(l,T=>t(5,S=T)),l),M;Kn(n,ai,T=>t(8,u=T)),Kn(n,Ko,T=>t(6,M=T)),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>k()),n.$$.on_destroy.push(()=>E());const O=new RegExp("#/(?<route>[a-z]+)(?<tripId>/[0-9]+|$)");function K(){var T;(T=document.getElementById("tripToggle"))==null||T.classList.remove("show"),s?(ri(o,b=s.groups.route||"",b),b=="editreceipt"?ri(l,S=parseInt(s.groups.tripId.replace("/","")||"-1"),S):ri(r,f=parseInt(s.groups.tripId.replace("/","")||"-1"),f)):(ri(o,b="",b),ri(r,f=-1,f))}return Mo(()=>{cu(u),K()}),n.$$.update=()=>{n.$$.dirty&64&&(s=O.exec(M.url.hash))},h(t(2,r=Wr(-1))),B(t(1,l=Wr(-1))),P(t(0,o=Wr(""))),[o,l,r,f,b,S,M]}class zd extends Pn{constructor(e){super(),Ln(this,e,Fd,Bd,yn,{})}}function Kd(n){let e,t,r;return t=new zd({}),{c(){e=ne(),Yt(t.$$.fragment),this.h()},l(l){Po("svelte-1mxz4jk",document.head).forEach(v),e=re(l),Zt(t.$$.fragment,l),this.h()},h(){document.title="Trippin'"},m(l,o){te(l,e,o),Jt(t,l,o),r=!0},p:Et,i(l){r||(Le(t.$$.fragment,l),r=!0)},o(l){qe(t.$$.fragment,l),r=!1},d(l){l&&v(e),Qt(t,l)}}}class th extends Pn{constructor(e){super(),Ln(this,e,null,Kd,yn,{})}}export{th as component};
