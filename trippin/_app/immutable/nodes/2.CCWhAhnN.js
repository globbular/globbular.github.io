import{n as wt,G as Co,C as Xn,s as Pn,p as gt,k as ee,i as _,e as A,t as Ne,b as ae,d as O,f as z,h as Be,j as oe,v as m,l as v,S as Ze,T as zi,x as Ut,c as Tn,U as Rt,V as Xe,W as Nt,X as Gr,Y as Zn,u as In,g as An,a as On,Z as Bn,_ as Gi,$ as Ht,m as $e,a0 as Tl,a1 as Me,a2 as xl,o as Jn,w as Rr,E as Xa,D as Zr,I as Vn,r as xa,a3 as To,a4 as $l,a5 as ci,a6 as Il,z as dr,a7 as Wi,a8 as Yi,a9 as ui,aa as $a,ab as Io,ac as Ki,ad as Ao,ae as ri,af as Oo}from"../chunks/scheduler.3uQO6TRy.js";import{n as Po,l as Mo,f as Lo,h as Ro,t as Le,a as qe,S as Fn,i as zn,j as Qn,b as Jt,d as Qt,m as Xt,e as xt,g as un,c as cn,k as es}from"../chunks/index.erv1zw9P.js";import{w as Wr,b as No}from"../chunks/entry.CClGIBFM.js";import{_ as Bo}from"../chunks/preload-helper.D6kgxu3v.js";import{p as Fo}from"../chunks/stores.Bcy5vdoT.js";function zo(n,e,t,r){if(!e)return wt;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return wt;const{delay:o=0,duration:s=300,easing:u=Co,start:f=Po()+o,end:h=f+s,tick:p=wt,css:y}=t(n,{from:e,to:l},r);let S=!0,P=!1,C;function D(){y&&(C=Lo(n,0,1,s,o,u,y)),o||(P=!0)}function B(){y&&Ro(n,C),S=!1}return Mo(R=>{if(!P&&R>=f&&(P=!0),P&&R>=h&&(p(1,0),B()),!S)return!1;if(P){const I=R-f,K=0+1*u(I/s);p(K,1-K)}return!0}),D(),p(0,1),B}function Ko(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,jo(n,l)}}function jo(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ot(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Yr(n,e){n.d(1),e.delete(n.key)}function Ho(n,e){qe(n,1,1,()=>{e.delete(n.key)})}function Vo(n,e){n.f(),Yr(n,e)}function Nr(n,e,t,r,l,o,s,u,f,h,p,y){let S=n.length,P=o.length,C=S;const D={};for(;C--;)D[n[C].key]=C;const B=[],R=new Map,I=new Map,K=[];for(C=P;C--;){const J=y(l,o,C),Ce=t(J);let he=s.get(Ce);he?K.push(()=>he.p(J,e)):(he=h(Ce,J),he.c()),R.set(Ce,B[C]=he),Ce in D&&I.set(Ce,Math.abs(C-D[Ce]))}const T=new Set,ie=new Set;function ne(J){Le(J,1),J.m(u,p),s.set(J.key,J),p=J.first,P--}for(;S&&P;){const J=B[P-1],Ce=n[S-1],he=J.key,$=Ce.key;J===Ce?(p=J.first,S--,P--):R.has($)?!s.has(he)||T.has(he)?ne(J):ie.has($)?S--:I.get(he)>I.get($)?(ie.add(he),ne(J)):(T.add($),S--):(f(Ce,s),S--)}for(;S--;){const J=n[S];R.has(J.key)||f(J,s)}for(;P;)ne(B[P-1]);return Xn(K),B}function ts(n){let e,t,r=("00"+n[0].getHours()).slice(-2)+"",l,o,s,u=("00"+n[0].getMinutes()).slice(-2)+"",f,h,p,y,S=n[1]!=="minute"&&ns(n);return{c(){e=A("div"),t=A("span"),l=Ne(r),o=Ne(`:
		`),s=A("span"),f=Ne(u),h=ae(),S&&S.c(),this.h()},l(P){e=O(P,"DIV",{class:!0,role:!0});var C=z(e);t=O(C,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var D=z(t);l=Be(D,r),D.forEach(_),o=Be(C,`:
		`),s=O(C,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var B=z(s);f=Be(B,u),B.forEach(_),h=oe(C),S&&S.l(C),C.forEach(_),this.h()},h(){m(t,"role","spinbutton"),m(t,"aria-label","Hours"),m(t,"tabindex","0"),m(t,"contenteditable",""),m(t,"inputmode","numeric"),m(t,"class","svelte-mzlxg7"),m(s,"role","spinbutton"),m(s,"aria-label","Minutes"),m(s,"tabindex","0"),m(s,"contenteditable",""),m(s,"inputmode","numeric"),m(s,"class","svelte-mzlxg7"),m(e,"class","time-picker svelte-mzlxg7"),m(e,"role","none")},m(P,C){ee(P,e,C),v(e,t),v(t,l),n[6](t),v(e,o),v(e,s),v(s,f),n[7](s),v(e,h),S&&S.m(e,null),p||(y=[Ze(t,"keydown",n[3]),Ze(t,"input",n[4]),Ze(t,"focus",ji),Ze(s,"keydown",n[3]),Ze(s,"input",n[4]),Ze(s,"focus",ji),Ze(e,"mousedown",n[10])],p=!0)},p(P,C){C&1&&r!==(r=("00"+P[0].getHours()).slice(-2)+"")&&zi(l,r),C&1&&u!==(u=("00"+P[0].getMinutes()).slice(-2)+"")&&zi(f,u),P[1]!=="minute"?S?S.p(P,C):(S=ns(P),S.c(),S.m(e,null)):S&&(S.d(1),S=null)},d(P){P&&_(e),n[6](null),n[7](null),S&&S.d(),p=!1,Xn(y)}}}function ns(n){let e,t,r=("00"+n[0].getSeconds()).slice(-2)+"",l,o,s,u,f,h=n[1]!=="second"&&rs(n);return{c(){e=Ne(":"),t=A("span"),l=Ne(r),o=ae(),h&&h.c(),s=gt(),this.h()},l(p){e=Be(p,":"),t=O(p,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var y=z(t);l=Be(y,r),y.forEach(_),o=oe(p),h&&h.l(p),s=gt(),this.h()},h(){m(t,"role","spinbutton"),m(t,"aria-label","Seconds"),m(t,"tabindex","0"),m(t,"contenteditable",""),m(t,"inputmode","numeric"),m(t,"class","svelte-mzlxg7")},m(p,y){ee(p,e,y),ee(p,t,y),v(t,l),n[8](t),ee(p,o,y),h&&h.m(p,y),ee(p,s,y),u||(f=[Ze(t,"keydown",n[3]),Ze(t,"input",n[4]),Ze(t,"focus",ji)],u=!0)},p(p,y){y&1&&r!==(r=("00"+p[0].getSeconds()).slice(-2)+"")&&zi(l,r),p[1]!=="second"?h?h.p(p,y):(h=rs(p),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null)},d(p){p&&(_(e),_(t),_(o),_(s)),n[8](null),h&&h.d(p),u=!1,Xn(f)}}}function rs(n){let e,t,r=("000"+n[0].getMilliseconds()).slice(-3)+"",l,o,s;return{c(){e=Ne("."),t=A("span"),l=Ne(r),this.h()},l(u){e=Be(u,"."),t=O(u,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var f=z(t);l=Be(f,r),f.forEach(_),this.h()},h(){m(t,"role","spinbutton"),m(t,"aria-label","Milliseconds"),m(t,"tabindex","0"),m(t,"contenteditable",""),m(t,"inputmode","numeric"),m(t,"class","svelte-mzlxg7")},m(u,f){ee(u,e,f),ee(u,t,f),v(t,l),n[9](t),o||(s=[Ze(t,"keydown",n[3]),Ze(t,"input",n[4]),Ze(t,"focus",ji)],o=!0)},p(u,f){f&1&&r!==(r=("000"+u[0].getMilliseconds()).slice(-3)+"")&&zi(l,r)},d(u){u&&(_(e),_(t)),n[9](null),o=!1,Xn(s)}}}function qo(n){let e,t=n[1]&&ts(n);return{c(){t&&t.c(),e=gt()},l(r){t&&t.l(r),e=gt()},m(r,l){t&&t.m(r,l),ee(r,e,l)},p(r,[l]){r[1]?t?t.p(r,l):(t=ts(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:wt,o:wt,d(r){r&&_(e),t&&t.d(r)}}}function Bi(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e==null||e.removeAllRanges(),e==null||e.addRange(t)}function Uo(n,e,t){return t&&n<0?e:t&&n>e?0:Math.max(0,Math.min(e,n))}function gl(n){const e=n.getAttribute("aria-label");if(e==="Hours")return{label:e,len:2,max:23};if(e==="Minutes")return{label:e,len:2,max:59};if(e==="Seconds")return{label:e,len:2,max:59};if(e==="Milliseconds")return{label:e,len:3,max:999};throw new Error("Invalid label "+e)}function _l(n,e){return parseInt(n.replace(/[^\d]/g,"").slice(-e))}function ji(n){Bi(n.currentTarget)}function Go(n,e,t){let{browseDate:r}=e,{timePrecision:l}=e,{setTime:o}=e,s=[];function u(R){if(R.key==="ArrowUp"||R.key==="ArrowDown"){const I=f(R.currentTarget),K=R.key==="ArrowUp"?1:-1;p(R.currentTarget,I+K,!0),R.preventDefault(),Bi(R.currentTarget)}else if(R.key==="ArrowLeft"||R.key==="ArrowRight"||":;-,.".includes(R.key)){const I=s.indexOf(R.currentTarget),K=R.key==="ArrowLeft"?-1:1,T=s[I+K];R.preventDefault(),T&&(T.focus(),Bi(T))}}function f(R){const I=gl(R).label;return I==="Hours"?r.getHours():I==="Minutes"?r.getMinutes():I==="Seconds"?r.getSeconds():r.getMilliseconds()}function h(R){const I=("00"+R.getHours()).slice(-2),K=("00"+R.getMinutes()).slice(-2),T=("00"+R.getSeconds()).slice(-2),ie=("000"+R.getMilliseconds()).slice(-3);s[0]&&s[0].innerText!==I&&t(2,s[0].innerText=I,s),s[1]&&s[1].innerText!==K&&t(2,s[1].innerText=K,s),s[2]&&s[2].innerText!==T&&t(2,s[2].innerText=T,s),s[3]&&s[3].innerText!==ie&&t(2,s[3].innerText=ie,s)}function p(R,I,K=!1){const T=gl(R);I=Uo(I,T.max,K),T.label==="Hours"?r.setHours(I):T.label==="Minutes"?r.setMinutes(I):T.label==="Seconds"?r.setSeconds(I):T.label==="Milliseconds"&&r.setMilliseconds(I),t(0,r=o(r)),h(r)}function y(R){const I=R,K=gl(I.currentTarget);let T;if(I.inputType==="insertText"){const ie="000"+f(I.currentTarget);T=_l(ie+I.currentTarget.innerText,K.len),T>K.max&&I.data&&(T=_l(I.data,K.len))}else T=_l("000"+I.currentTarget.innerText,K.len);p(I.currentTarget,T),Bi(I.currentTarget)}function S(R){Ut[R?"unshift":"push"](()=>{s[0]=R,t(2,s)})}function P(R){Ut[R?"unshift":"push"](()=>{s[1]=R,t(2,s)})}function C(R){Ut[R?"unshift":"push"](()=>{s[2]=R,t(2,s)})}function D(R){Ut[R?"unshift":"push"](()=>{s[3]=R,t(2,s)})}const B=R=>{R.target instanceof HTMLElement&&R.target.tagName==="SPAN"&&(R.target.focus(),R.preventDefault())};return n.$$set=R=>{"browseDate"in R&&t(0,r=R.browseDate),"timePrecision"in R&&t(1,l=R.timePrecision),"setTime"in R&&t(5,o=R.setTime)},n.$$.update=()=>{n.$$.dirty&1&&h(r)},[r,l,s,u,y,o,S,P,C,D,B]}class Wo extends Fn{constructor(e){super(),zn(this,e,Go,qo,Pn,{browseDate:0,timePrecision:1,setTime:5})}}function Yo(n){return n%4===0&&n%100!==0||n%400===0}function fi(n,e){return[31,Yo(n)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function is(n,e){let t="";if(n)for(const r of e)typeof r=="string"?t+=r:t+=r.toString(n);return t}function vl(n,e){const t=fi(n,e),r=[];for(let l=0;l<t;l++)r.push({year:n,month:e,number:l+1});return r}function Zo(n,e){const t=n.getFullYear(),r=n.getMonth(),l=new Date(t,r,1).getDay();let o=[];const s=(l-e+7)%7;if(s>0){let p=r-1,y=t;p===-1&&(p=11,y=t-1),o=vl(y,p).slice(-s)}o=o.concat(vl(t,r));let u=r+1,f=t;u===12&&(u=0,f=t+1);const h=42-o.length;return o=o.concat(vl(f,u).slice(0,h)),o}function Jo(){return{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStartsOn:1}}function eo(n){const e=Jo();return typeof n.weekStartsOn=="number"&&(e.weekStartsOn=n.weekStartsOn),n.months&&(e.months=n.months),n.shortMonths&&(e.shortMonths=n.shortMonths),n.weekdays&&(e.weekdays=n.weekdays),e}function ls(n,e,t){const r=n.slice();return r[36]=e[t],r[38]=t,r}function ss(n,e,t){const r=n.slice();return r[39]=e[t],r}function as(n,e,t){const r=n.slice();return r[36]=e[t],r[43]=t,r}function os(n,e,t){const r=n.slice();return r[44]=e[t],r}function us(n,e,t){const r=n.slice();return r[44]=e[t],r}function cs(n,e,t){const r=n.slice();return r[49]=e[t],r[43]=t,r}function fs(n,e,t){const r=n.slice();return r[49]=e[t],r[43]=t,r}function ds(n){let e,t=n[49]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(_),this.h()},h(){e.disabled=l=new Date(n[9],n[43],fi(n[9],n[43]),23,59,59,999)<n[2]||new Date(n[9],n[43])>n[3],e.__value=n[43],Ht(e,e.__value)},m(o,s){ee(o,e,s),v(e,r)},p(o,s){s[0]&32&&t!==(t=o[49]+"")&&$e(r,t),s[0]&588&&l!==(l=new Date(o[9],o[43],fi(o[9],o[43]),23,59,59,999)<o[2]||new Date(o[9],o[43])>o[3])&&(e.disabled=l)},d(o){o&&_(e)}}}function hs(n){let e,t=n[49]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(_),this.h()},h(){e.__value=n[43],Ht(e,e.__value),e.selected=l=n[43]===n[8]},m(o,s){ee(o,e,s),v(e,r)},p(o,s){s[0]&32&&t!==(t=o[49]+"")&&$e(r,t),s[0]&256&&l!==(l=o[43]===o[8])&&(e.selected=l)},d(o){o&&_(e)}}}function ps(n){let e,t=n[44]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(_),this.h()},h(){e.__value=l=n[44],Ht(e,e.__value)},m(o,s){ee(o,e,s),v(e,r)},p(o,s){s[0]&64&&t!==(t=o[44]+"")&&$e(r,t),s[0]&64&&l!==(l=o[44])&&(e.__value=l,Ht(e,e.__value))},d(o){o&&_(e)}}}function ms(n){let e,t=n[44]+"",r,l,o;return{c(){e=A("option"),r=Ne(t),this.h()},l(s){e=O(s,"OPTION",{});var u=z(e);r=Be(u,t),u.forEach(_),this.h()},h(){e.__value=l=n[44],Ht(e,e.__value),e.selected=o=n[44]===n[4].getFullYear()},m(s,u){ee(s,e,u),v(e,r)},p(s,u){u[0]&64&&t!==(t=s[44]+"")&&$e(r,t),u[0]&64&&l!==(l=s[44])&&(e.__value=l,Ht(e,e.__value)),u[0]&80&&o!==(o=s[44]===s[4].getFullYear())&&(e.selected=o)},d(s){s&&_(e)}}}function Qo(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[43]-7]+"",r;return{c(){e=A("div"),r=Ne(t),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r=Be(o,t),o.forEach(_),this.h()},h(){m(e,"class","header-cell svelte-w239uu")},m(l,o){ee(l,e,o),v(e,r)},p(l,o){o[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[43]-7]+"")&&$e(r,t)},d(l){l&&_(e)}}}function Xo(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[43]]+"",r;return{c(){e=A("div"),r=Ne(t),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r=Be(o,t),o.forEach(_),this.h()},h(){m(e,"class","header-cell svelte-w239uu")},m(l,o){ee(l,e,o),v(e,r)},p(l,o){o[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[43]]+"")&&$e(r,t)},d(l){l&&_(e)}}}function gs(n){let e;function t(o,s){return o[43]+o[5].weekStartsOn<7?Xo:Qo}let r=t(n),l=r(n);return{c(){l.c(),e=gt()},l(o){l.l(o),e=gt()},m(o,s){l.m(o,s),ee(o,e,s)},p(o,s){r===(r=t(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&_(e),l.d(o)}}}function _s(n){let e,t,r=n[39].number+"",l,o,s;function u(){return n[27](n[39])}return{c(){e=A("div"),t=A("span"),l=Ne(r),this.h()},l(f){e=O(f,"DIV",{class:!0});var h=z(e);t=O(h,"SPAN",{class:!0});var p=z(t);l=Be(p,r),p.forEach(_),h.forEach(_),this.h()},h(){m(t,"class","svelte-w239uu"),m(e,"class","cell svelte-w239uu"),Me(e,"disabled",!Al(n[39],n[2],n[3])),Me(e,"selected",n[0]&&n[39].year===n[0].getFullYear()&&n[39].month===n[0].getMonth()&&n[39].number===n[0].getDate()),Me(e,"today",n[39].year===n[11].getFullYear()&&n[39].month===n[11].getMonth()&&n[39].number===n[11].getDate()),Me(e,"other-month",n[39].month!==n[8])},m(f,h){ee(f,e,h),v(e,t),v(t,l),o||(s=Ze(e,"click",u),o=!0)},p(f,h){n=f,h[0]&128&&r!==(r=n[39].number+"")&&$e(l,r),h[0]&140&&Me(e,"disabled",!Al(n[39],n[2],n[3])),h[0]&129&&Me(e,"selected",n[0]&&n[39].year===n[0].getFullYear()&&n[39].month===n[0].getMonth()&&n[39].number===n[0].getDate()),h[0]&2176&&Me(e,"today",n[39].year===n[11].getFullYear()&&n[39].month===n[11].getMonth()&&n[39].number===n[11].getDate()),h[0]&384&&Me(e,"other-month",n[39].month!==n[8])},d(f){f&&_(e),o=!1,s()}}}function vs(n){let e,t=ot(n[7].slice(n[38]*7,n[38]*7+7)),r=[];for(let l=0;l<t.length;l+=1)r[l]=_s(ss(n,t,l));return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_),this.h()},h(){m(e,"class","week svelte-w239uu")},m(l,o){ee(l,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,o){if(o[0]&18829){t=ot(l[7].slice(l[38]*7,l[38]*7+7));let s;for(s=0;s<t.length;s+=1){const u=ss(l,t,s);r[s]?r[s].p(u,o):(r[s]=_s(u),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&_(e),Bn(r,l)}}}function xo(n){let e,t,r,l,o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z" transform="rotate(180, 12, 12)"></path></svg>',s,u,f,h,p,y,S,P,C,D,B,R,I,K,T,ie,ne,J,Ce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"></path></svg>',he,$,ge,De,ye,fe,ke,pe,ue,_e,k=ot(n[5].months),M=[];for(let x=0;x<k.length;x+=1)M[x]=ds(fs(n,k,x));let j=ot(n[5].months),se=[];for(let x=0;x<j.length;x+=1)se[x]=hs(cs(n,j,x));let N=ot(n[6]),Y=[];for(let x=0;x<N.length;x+=1)Y[x]=ps(us(n,N,x));let le=ot(n[6]),W=[];for(let x=0;x<le.length;x+=1)W[x]=ms(os(n,le,x));let Se=ot(Array(7)),Ve=[];for(let x=0;x<Se.length;x+=1)Ve[x]=gs(as(n,Se,x));let me=ot(Array(6)),te=[];for(let x=0;x<me.length;x+=1)te[x]=vs(ls(n,me,x));function xe(x){n[28](x)}let Ee={timePrecision:n[1],setTime:n[10]};n[4]!==void 0&&(Ee.browseDate=n[4]),ye=new Wo({props:Ee}),Ut.push(()=>Qn(ye,"browseDate",xe));const Pe=n[21].default,Ue=Tn(Pe,n,n[20],null);return{c(){e=A("div"),t=A("div"),r=A("div"),l=A("button"),l.innerHTML=o,s=ae(),u=A("div"),f=A("select");for(let x=0;x<M.length;x+=1)M[x].c();h=ae(),p=A("select");for(let x=0;x<se.length;x+=1)se[x].c();y=ae(),S=Rt("svg"),P=Rt("path"),C=ae(),D=A("div"),B=A("select");for(let x=0;x<Y.length;x+=1)Y[x].c();R=ae(),I=A("select");for(let x=0;x<W.length;x+=1)W[x].c();K=ae(),T=Rt("svg"),ie=Rt("path"),ne=ae(),J=A("button"),J.innerHTML=Ce,he=ae(),$=A("div");for(let x=0;x<Ve.length;x+=1)Ve[x].c();ge=ae();for(let x=0;x<te.length;x+=1)te[x].c();De=ae(),Jt(ye.$$.fragment),ke=ae(),Ue&&Ue.c(),this.h()},l(x){e=O(x,"DIV",{class:!0,tabindex:!0});var Ge=z(e);t=O(Ge,"DIV",{class:!0,tabindex:!0});var ze=z(t);r=O(ze,"DIV",{class:!0});var we=z(r);l=O(we,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Xe(l)!=="svelte-t4cock"&&(l.innerHTML=o),s=oe(we),u=O(we,"DIV",{class:!0});var tt=z(u);f=O(tt,"SELECT",{class:!0});var Ct=z(f);for(let rt=0;rt<M.length;rt+=1)M[rt].l(Ct);Ct.forEach(_),h=oe(tt),p=O(tt,"SELECT",{class:!0,tabindex:!0});var zt=z(p);for(let rt=0;rt<se.length;rt+=1)se[rt].l(zt);zt.forEach(_),y=oe(tt),S=Nt(tt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var It=z(S);P=Nt(It,"path",{d:!0,transform:!0}),z(P).forEach(_),It.forEach(_),tt.forEach(_),C=oe(we),D=O(we,"DIV",{class:!0});var ht=z(D);B=O(ht,"SELECT",{class:!0});var it=z(B);for(let rt=0;rt<Y.length;rt+=1)Y[rt].l(it);it.forEach(_),R=oe(ht),I=O(ht,"SELECT",{class:!0,tabindex:!0});var Ye=z(I);for(let rt=0;rt<W.length;rt+=1)W[rt].l(Ye);Ye.forEach(_),K=oe(ht),T=Nt(ht,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var Je=z(T);ie=Nt(Je,"path",{d:!0,transform:!0}),z(ie).forEach(_),Je.forEach(_),ht.forEach(_),ne=oe(we),J=O(we,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Xe(J)!=="svelte-1a006lp"&&(J.innerHTML=Ce),we.forEach(_),he=oe(ze),$=O(ze,"DIV",{class:!0});var Mt=z($);for(let rt=0;rt<Ve.length;rt+=1)Ve[rt].l(Mt);Mt.forEach(_),ge=oe(ze);for(let rt=0;rt<te.length;rt+=1)te[rt].l(ze);De=oe(ze),Qt(ye.$$.fragment,ze),ke=oe(ze),Ue&&Ue.l(ze),ze.forEach(_),Ge.forEach(_),this.h()},h(){m(l,"type","button"),m(l,"class","page-button svelte-w239uu"),m(l,"tabindex","-1"),m(f,"class","svelte-w239uu"),m(p,"class","dummy-select svelte-w239uu"),m(p,"tabindex","-1"),m(P,"d","M6 0l12 12-12 12z"),m(P,"transform","rotate(90, 12, 12)"),m(S,"xmlns","http://www.w3.org/2000/svg"),m(S,"width","24"),m(S,"height","24"),m(S,"viewBox","0 0 24 24"),m(S,"class","svelte-w239uu"),m(u,"class","dropdown month svelte-w239uu"),m(B,"class","svelte-w239uu"),m(I,"class","dummy-select svelte-w239uu"),m(I,"tabindex","-1"),m(ie,"d","M6 0l12 12-12 12z"),m(ie,"transform","rotate(90, 12, 12)"),m(T,"xmlns","http://www.w3.org/2000/svg"),m(T,"width","24"),m(T,"height","24"),m(T,"viewBox","0 0 24 24"),m(T,"class","svelte-w239uu"),m(D,"class","dropdown year svelte-w239uu"),m(J,"type","button"),m(J,"class","page-button svelte-w239uu"),m(J,"tabindex","-1"),m(r,"class","top svelte-w239uu"),m($,"class","header svelte-w239uu"),m(t,"class","tab-container svelte-w239uu"),m(t,"tabindex","-1"),m(e,"class","date-time-picker svelte-w239uu"),m(e,"tabindex","0")},m(x,Ge){ee(x,e,Ge),v(e,t),v(t,r),v(r,l),v(r,s),v(r,u),v(u,f);for(let ze=0;ze<M.length;ze+=1)M[ze]&&M[ze].m(f,null);Gr(f,n[8]),v(u,h),v(u,p);for(let ze=0;ze<se.length;ze+=1)se[ze]&&se[ze].m(p,null);v(u,y),v(u,S),v(S,P),v(r,C),v(r,D),v(D,B);for(let ze=0;ze<Y.length;ze+=1)Y[ze]&&Y[ze].m(B,null);Gr(B,n[9]),v(D,R),v(D,I);for(let ze=0;ze<W.length;ze+=1)W[ze]&&W[ze].m(I,null);v(D,K),v(D,T),v(T,ie),v(r,ne),v(r,J),v(t,he),v(t,$);for(let ze=0;ze<Ve.length;ze+=1)Ve[ze]&&Ve[ze].m($,null);v(t,ge);for(let ze=0;ze<te.length;ze+=1)te[ze]&&te[ze].m(t,null);v(t,De),Xt(ye,t,null),v(t,ke),Ue&&Ue.m(t,null),pe=!0,ue||(_e=[Ze(l,"click",n[23]),Ze(f,"keydown",n[16]),Ze(f,"input",n[24]),Ze(B,"input",n[25]),Ze(B,"keydown",n[15]),Ze(J,"click",n[26]),Ze(e,"focusout",n[22]),Ze(e,"keydown",n[17])],ue=!0)},p(x,Ge){if(Ge[0]&556){k=ot(x[5].months);let we;for(we=0;we<k.length;we+=1){const tt=fs(x,k,we);M[we]?M[we].p(tt,Ge):(M[we]=ds(tt),M[we].c(),M[we].m(f,null))}for(;we<M.length;we+=1)M[we].d(1);M.length=k.length}if((!pe||Ge[0]&256)&&Gr(f,x[8]),Ge[0]&288){j=ot(x[5].months);let we;for(we=0;we<j.length;we+=1){const tt=cs(x,j,we);se[we]?se[we].p(tt,Ge):(se[we]=hs(tt),se[we].c(),se[we].m(p,null))}for(;we<se.length;we+=1)se[we].d(1);se.length=j.length}if(Ge[0]&64){N=ot(x[6]);let we;for(we=0;we<N.length;we+=1){const tt=us(x,N,we);Y[we]?Y[we].p(tt,Ge):(Y[we]=ps(tt),Y[we].c(),Y[we].m(B,null))}for(;we<Y.length;we+=1)Y[we].d(1);Y.length=N.length}if((!pe||Ge[0]&576)&&Gr(B,x[9]),Ge[0]&80){le=ot(x[6]);let we;for(we=0;we<le.length;we+=1){const tt=os(x,le,we);W[we]?W[we].p(tt,Ge):(W[we]=ms(tt),W[we].c(),W[we].m(I,null))}for(;we<W.length;we+=1)W[we].d(1);W.length=le.length}if(Ge[0]&32){Se=ot(Array(7));let we;for(we=0;we<Se.length;we+=1){const tt=as(x,Se,we);Ve[we]?Ve[we].p(tt,Ge):(Ve[we]=gs(tt),Ve[we].c(),Ve[we].m($,null))}for(;we<Ve.length;we+=1)Ve[we].d(1);Ve.length=Se.length}if(Ge[0]&18829){me=ot(Array(6));let we;for(we=0;we<me.length;we+=1){const tt=ls(x,me,we);te[we]?te[we].p(tt,Ge):(te[we]=vs(tt),te[we].c(),te[we].m(t,De))}for(;we<te.length;we+=1)te[we].d(1);te.length=me.length}const ze={};Ge[0]&2&&(ze.timePrecision=x[1]),!fe&&Ge[0]&16&&(fe=!0,ze.browseDate=x[4],Zn(()=>fe=!1)),ye.$set(ze),Ue&&Ue.p&&(!pe||Ge[0]&1048576)&&In(Ue,Pe,x,x[20],pe?On(Pe,x[20],Ge,null):An(x[20]),null)},i(x){pe||(Le(ye.$$.fragment,x),Le(Ue,x),pe=!0)},o(x){qe(ye.$$.fragment,x),qe(Ue,x),pe=!1},d(x){x&&_(e),Bn(M,x),Bn(se,x),Bn(Y,x),Bn(W,x),Bn(Ve,x),Bn(te,x),xt(ye),Ue&&Ue.d(x),ue=!1,Xn(_e)}}}function ar(n){return new Date(n.getTime())}function Hi(n,e,t){return n>t?ar(t):n<e?ar(e):ar(n)}function bl(n,e,t){const r=Hi(n,e,t);return r.getTime()!==n.getTime()&&(n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),n=Hi(n,e,t)),n}function bs(n,e){let t=[];for(let r=n.getFullYear();r<=e.getFullYear();r++)t.push(r);return t}function Al(n,e,t){const r=new Date(n.year,n.month,n.number),l=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate());return r>=l&&r<=o}function $o(n,e,t){let r,l,o,s,{$$slots:u={},$$scope:f}=e;const h=Gi();let{value:p=null}=e;function y(N){N.getTime()!==(p==null?void 0:p.getTime())&&(t(4,T=Hi(N,I,K)),t(0,p=ar(T)))}function S(N){N.getTime()!==(p==null?void 0:p.getTime())&&(t(4,T=bl(N,I,K)),t(0,p=ar(T)))}function P(N){t(4,T=bl(N,I,K)),!Ce&&p&&y(T)}function C(N){return t(4,T=Hi(N,I,K)),p&&y(T),T}const D=new Date,B=new Date;let{timePrecision:R=null}=e,{min:I=new Date(B.getFullYear()-20,0,1)}=e,{max:K=new Date(B.getFullYear(),11,31,23,59,59,999)}=e,T=ar(p||bl(B,I,K));function ie(N){T.getTime()!==(N==null?void 0:N.getTime())&&t(4,T=N?ar(N):T)}let ne=bs(I,K),{locale:J={}}=e,{browseWithoutSelecting:Ce=!1}=e;function he(N){T.setFullYear(N),P(T)}function $(N){let Y=T.getFullYear();N===12?(N=0,Y++):N===-1&&(N=11,Y--);const le=fi(Y,N),W=Math.min(T.getDate(),le);P(new Date(Y,N,W,T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds()))}function ge(N){Al(N,I,K)&&(T.setFullYear(0),T.setMonth(0),T.setDate(1),T.setFullYear(N.year),T.setMonth(N.month),T.setDate(N.number),S(T),h("select",ar(T)))}function De(N){if(N.shiftKey&&N.key==="ArrowUp")he(T.getFullYear()-1);else if(N.shiftKey&&N.key==="ArrowDown")he(T.getFullYear()+1);else if(N.shiftKey&&N.key==="ArrowLeft")$(T.getMonth()-1);else if(N.shiftKey&&N.key==="ArrowRight")$(T.getMonth()+1);else return!1;return N.preventDefault(),!0}function ye(N){if(N.shiftKey||N.altKey){De(N);return}else if(N.key==="ArrowUp")he(T.getFullYear()-1);else if(N.key==="ArrowDown")he(T.getFullYear()+1);else if(N.key==="ArrowLeft")$(T.getMonth()-1);else if(N.key==="ArrowRight")$(T.getMonth()+1);else{De(N);return}N.preventDefault()}function fe(N){if(N.shiftKey||N.altKey){De(N);return}else if(N.key==="ArrowUp"||N.key==="ArrowLeft")$(T.getMonth()-1);else if(N.key==="ArrowDown"||N.key==="ArrowRight")$(T.getMonth()+1);else{De(N);return}N.preventDefault()}function ke(N){var le,W;let Y=N.shiftKey||N.altKey;if(!(((le=N.target)==null?void 0:le.tagName)==="SELECT"||((W=N.target)==null?void 0:W.tagName)==="SPAN")){if(Y){De(N);return}else if(N.key==="ArrowUp")T.setDate(T.getDate()-7),S(T);else if(N.key==="ArrowDown")T.setDate(T.getDate()+7),S(T);else if(N.key==="ArrowLeft")T.setDate(T.getDate()-1),S(T);else if(N.key==="ArrowRight")T.setDate(T.getDate()+1),S(T);else if(N.key==="Enter")y(T),h("select",ar(T));else return;N.preventDefault()}}function pe(N){Tl.call(this,n,N)}const ue=()=>$(T.getMonth()-1),_e=N=>$(parseInt(N.currentTarget.value)),k=N=>he(parseInt(N.currentTarget.value)),M=()=>$(T.getMonth()+1),j=N=>ge(N);function se(N){T=N,t(4,T)}return n.$$set=N=>{"value"in N&&t(0,p=N.value),"timePrecision"in N&&t(1,R=N.timePrecision),"min"in N&&t(2,I=N.min),"max"in N&&t(3,K=N.max),"locale"in N&&t(18,J=N.locale),"browseWithoutSelecting"in N&&t(19,Ce=N.browseWithoutSelecting),"$$scope"in N&&t(20,f=N.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&13&&(p&&p>K?y(K):p&&p<I&&y(I)),n.$$.dirty[0]&1&&ie(p),n.$$.dirty[0]&12&&t(6,ne=bs(I,K)),n.$$.dirty[0]&262144&&t(5,r=eo(J)),n.$$.dirty[0]&16&&t(9,l=T.getFullYear()),n.$$.dirty[0]&16&&t(8,o=T.getMonth()),n.$$.dirty[0]&48&&t(7,s=Zo(T,r.weekStartsOn))},[p,R,I,K,T,r,ne,s,o,l,C,D,he,$,ge,ye,fe,ke,J,Ce,f,u,pe,ue,_e,k,M,j,se]}class eu extends Fn{constructor(e){super(),zn(this,e,$o,xo,Pn,{value:0,timePrecision:1,min:2,max:3,locale:18,browseWithoutSelecting:19},null,[-1,-1])}}function tu(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function to(n){const e=n-1;return e*e*e+1}function nu(n,{delay:e=0,duration:t=400,easing:r=to,x:l=0,y:o=0,opacity:s=0}={}){const u=getComputedStyle(n),f=+u.opacity,h=u.transform==="none"?"":u.transform,p=f*(1-s),[y,S]=xl(l),[P,C]=xl(o);return{delay:e,duration:t,easing:r,css:(D,B)=>`
			transform: ${h} translate(${(1-D)*y}${S}, ${(1-D)*P}${C});
			opacity: ${f-p*B}`}}function ys(n,e,t){let r="",l=!0;t=t||new Date(2020,0,1,0,0,0,0);let o=t.getFullYear(),s=t.getMonth(),u=t.getDate(),f=t.getHours(),h=t.getMinutes(),p=t.getSeconds();const y=t.getMilliseconds();function S(R){for(let I=0;I<R.length;I++)if(n.startsWith(R[I]))n=n.slice(1);else{l=!1,n.length===0&&(r=R.slice(I));return}}function P(R,I,K){const T=n.match(R);if(T!=null&&T[0]){n=n.slice(T[0].length);const ie=parseInt(T[0]);return ie>K||ie<I?(l=!1,null):ie}else return l=!1,null}function C(R){const I=R.findIndex(K=>K.toLowerCase()===n.slice(0,K.length).toLowerCase());return I>=0?(n=n.slice(R[I].length),I):(l=!1,null)}function D(R){if(typeof R=="string")S(R);else if(R.id==="yy"){const I=P(/^[0-9]{2}/,0,99);I!==null&&(o=2e3+I)}else if(R.id==="yyyy"){const I=P(/^[0-9]{4}/,0,9999);I!==null&&(o=I)}else if(R.id==="MM"){const I=P(/^[0-9]{2}/,1,12);I!==null&&(s=I-1)}else if(R.id==="MMM"){const I=C(R.allowedValues||[]);I!==null&&(s=I)}else if(R.id==="dd"){const I=P(/^[0-9]{2}/,1,31);I!==null&&(u=I)}else if(R.id==="HH"){const I=P(/^[0-9]{2}/,0,23);I!==null&&(f=I)}else if(R.id==="mm"){const I=P(/^[0-9]{2}/,0,59);I!==null&&(h=I)}else if(R.id==="ss"){const I=P(/^[0-9]{2}/,0,59);I!==null&&(p=I)}}for(const R of e)if(D(R),!l)break;const B=fi(o,s);return u>B&&(l=!1),{date:l?new Date(o,s,u,f,h,p,y):null,missingPunctuation:r}}function ii(n){return("0"+n.toString()).slice(-2)}function ru(n,e){if(n.startsWith("yyyy"))return{id:"yyyy",toString:t=>t.getFullYear().toString()};if(n.startsWith("yy"))return{id:"yy",toString:t=>t.getFullYear().toString().slice(-2)};if(n.startsWith("MMM"))return{id:"MMM",allowedValues:e.shortMonths,toString:t=>e.shortMonths[t.getMonth()]};if(n.startsWith("MM"))return{id:"MM",toString:t=>ii(t.getMonth()+1)};if(n.startsWith("dd"))return{id:"dd",toString:t=>ii(t.getDate())};if(n.startsWith("HH"))return{id:"HH",toString:t=>ii(t.getHours())};if(n.startsWith("mm"))return{id:"mm",toString:t=>ii(t.getMinutes())};if(n.startsWith("ss"))return{id:"ss",toString:t=>ii(t.getSeconds())}}function ws(n,e={}){const t=eo(e),r=[];for(;n.length>0;){const l=ru(n,t);l?(r.push(l),n=n.slice(l.id.length)):typeof r[r.length-1]=="string"?(r[r.length-1]+=n[0],n=n.slice(1)):(r.push(n[0]),n=n.slice(1))}return r}function ks(n){let e,t,r,l,o=`${n[18]}px`,s;function u(h){n[34](h)}let f={min:n[3],max:n[4],locale:n[10],browseWithoutSelecting:n[11],timePrecision:n[12],$$slots:{default:[iu]},$$scope:{ctx:n}};return n[14]!==void 0&&(f.value=n[14]),t=new eu({props:f}),Ut.push(()=>Qn(t,"value",u)),t.$on("focusout",n[21]),t.$on("select",n[23]),{c(){e=A("div"),Jt(t.$$.fragment),this.h()},l(h){e=O(h,"DIV",{class:!0});var p=z(e);Qt(t.$$.fragment,p),p.forEach(_),this.h()},h(){m(e,"class","picker svelte-1vabmef"),Me(e,"visible",n[2]),Me(e,"above",n[17]),Rr(e,"--picker-left-position",o)},m(h,p){ee(h,e,p),Xt(t,e,null),n[35](e),s=!0},p(h,p){const y={};p[0]&8&&(y.min=h[3]),p[0]&16&&(y.max=h[4]),p[0]&1024&&(y.locale=h[10]),p[0]&2048&&(y.browseWithoutSelecting=h[11]),p[0]&4096&&(y.timePrecision=h[12]),p[1]&32&&(y.$$scope={dirty:p,ctx:h}),!r&&p[0]&16384&&(r=!0,y.value=h[14],Zn(()=>r=!1)),t.$set(y),(!s||p[0]&4)&&Me(e,"visible",h[2]),(!s||p[0]&131072)&&Me(e,"above",h[17]),p[0]&262144&&o!==(o=`${h[18]}px`)&&Rr(e,"--picker-left-position",o)},i(h){s||(Le(t.$$.fragment,h),h&&Xa(()=>{s&&(l||(l=es(e,n[24],{},!0)),l.run(1))}),s=!0)},o(h){qe(t.$$.fragment,h),h&&(l||(l=es(e,n[24],{},!1)),l.run(0)),s=!1},d(h){h&&_(e),xt(t),n[35](null),h&&l&&l.end()}}}function iu(n){let e;const t=n[29].default,r=Tn(t,n,n[36],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o[1]&32)&&In(r,t,l,l[36],e?On(t,l[36],o,null):An(l[36]),null)},i(l){e||(Le(r,l),e=!0)},o(l){qe(r,l),e=!1},d(l){r&&r.d(l)}}}function lu(n){let e,t,r,l,o,s,u,f=n[2]&&!n[7]&&ks(n);return{c(){e=A("div"),t=A("input"),r=ae(),f&&f.c(),this.h()},l(h){e=O(h,"DIV",{class:!0});var p=z(e);t=O(p,"INPUT",{type:!0,autocomplete:!0,id:!0,placeholder:!0,class:!0}),r=oe(p),f&&f.l(p),p.forEach(_),this.h()},h(){m(t,"type","text"),m(t,"autocomplete","off"),t.value=n[0],m(t,"id",n[5]),m(t,"placeholder",n[6]),t.disabled=n[7],t.required=n[8],m(t,"class","svelte-1vabmef"),Me(t,"invalid",!n[1]),m(e,"class",l="date-time-field "+n[9]+" svelte-1vabmef")},m(h,p){ee(h,e,p),v(e,t),n[30](t),v(e,r),f&&f.m(e,null),o=!0,s||(u=[Ze(t,"focus",n[31]),Ze(t,"mousedown",n[32]),Ze(t,"input",n[33]),Ze(e,"focusout",n[21]),Ze(e,"keydown",n[22])],s=!0)},p(h,p){(!o||p[0]&1&&t.value!==h[0])&&(t.value=h[0]),(!o||p[0]&32)&&m(t,"id",h[5]),(!o||p[0]&64)&&m(t,"placeholder",h[6]),(!o||p[0]&128)&&(t.disabled=h[7]),(!o||p[0]&256)&&(t.required=h[8]),(!o||p[0]&2)&&Me(t,"invalid",!h[1]),h[2]&&!h[7]?f?(f.p(h,p),p[0]&132&&Le(f,1)):(f=ks(h),f.c(),Le(f,1),f.m(e,null)):f&&(un(),qe(f,1,1,()=>{f=null}),cn()),(!o||p[0]&512&&l!==(l="date-time-field "+h[9]+" svelte-1vabmef"))&&m(e,"class",l)},i(h){o||(Le(f),o=!0)},o(h){qe(f),o=!1},d(h){h&&_(e),n[30](null),f&&f.d(),s=!1,Xn(u)}}}function su(n,e,t){let r,l,{$$slots:o={},$$scope:s}=e;const u=Gi(),f=new Date,h=Wr(null);Jn(n,h,te=>t(37,l=te));const p={subscribe:h.subscribe,set:te=>{te==null?(h.set(null),t(25,y=te)):te.getTime()!==(l==null?void 0:l.getTime())&&(h.set(te),t(25,y=te))}};Jn(n,p,te=>t(14,r=te));let{value:y=null}=e,{min:S=new Date(f.getFullYear()-20,0,1)}=e,{max:P=new Date(f.getFullYear(),11,31,23,59,59,999)}=e,{id:C=null}=e,{placeholder:D="2020-12-31 23:00:00"}=e,{valid:B=!0}=e,{disabled:R=!1}=e,{required:I=!1}=e,{class:K=""}=e,{locale:T={}}=e,{format:ie="yyyy-MM-dd HH:mm:ss"}=e,ne=ws(ie,T);function J(te,xe){t(0,Ce=is(te,xe))}let{text:Ce=is(r,ne)}=e;function he(te,xe){if(te.length){const Ee=ys(te,xe,r);Ee.date!==null?(t(1,B=!0),p.set(Ee.date)):t(1,B=!1)}else t(1,B=!0),y&&(t(25,y=null),p.set(null))}let{visible:$=!1}=e,{closeOnSelection:ge=!1}=e,{browseWithoutSelecting:De=!1}=e,{timePrecision:ye=null}=e;function fe(te){(te==null?void 0:te.currentTarget)instanceof HTMLElement&&te.relatedTarget&&te.relatedTarget instanceof Node&&te.currentTarget.contains(te.relatedTarget)||t(2,$=!1)}function ke(te){te.key==="Escape"&&$?(t(2,$=!1),te.preventDefault(),te.stopPropagation()):te.key==="Enter"&&(t(2,$=!$),te.preventDefault())}function pe(te){u("select",te.detail),ge&&t(2,$=!1)}let{dynamicPositioning:ue=!1}=e,_e,k,M=!1,j=null;function se(){if(t(17,M=!1),t(18,j=null),$&&k&&ue){const te=_e.getBoundingClientRect(),xe=k.offsetWidth-te.width,Ee=te.bottom+k.offsetHeight+5,Pe=te.left+k.offsetWidth+5;if(Ee>window.innerHeight&&t(17,M=!0),Pe>window.innerWidth&&(t(18,j=-xe),te.left<xe+5)){const x=window.innerWidth/2-k.offsetWidth/2;t(18,j=x-te.left)}}}function N(te){return se(),nu(te,{duration:200,easing:tu,y:M?5:-5})}function Y(te){Ut[te?"unshift":"push"](()=>{_e=te,t(15,_e)})}const le=()=>t(2,$=!0),W=()=>t(2,$=!0),Se=te=>{if(te instanceof InputEvent&&te.inputType==="insertText"&&typeof te.data=="string"&&te.currentTarget.value===Ce+te.data){let xe=ys(Ce,ne,r);if(xe.missingPunctuation!==""&&!xe.missingPunctuation.startsWith(te.data)){t(0,Ce=Ce+xe.missingPunctuation+te.data);return}}t(0,Ce=te.currentTarget.value)};function Ve(te){r=te,p.set(r)}function me(te){Ut[te?"unshift":"push"](()=>{k=te,t(16,k)})}return n.$$set=te=>{"value"in te&&t(25,y=te.value),"min"in te&&t(3,S=te.min),"max"in te&&t(4,P=te.max),"id"in te&&t(5,C=te.id),"placeholder"in te&&t(6,D=te.placeholder),"valid"in te&&t(1,B=te.valid),"disabled"in te&&t(7,R=te.disabled),"required"in te&&t(8,I=te.required),"class"in te&&t(9,K=te.class),"locale"in te&&t(10,T=te.locale),"format"in te&&t(26,ie=te.format),"text"in te&&t(0,Ce=te.text),"visible"in te&&t(2,$=te.visible),"closeOnSelection"in te&&t(27,ge=te.closeOnSelection),"browseWithoutSelecting"in te&&t(11,De=te.browseWithoutSelecting),"timePrecision"in te&&t(12,ye=te.timePrecision),"dynamicPositioning"in te&&t(28,ue=te.dynamicPositioning),"$$scope"in te&&t(36,s=te.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&33554432&&p.set(y),n.$$.dirty[0]&67109888&&t(13,ne=ws(ie,T)),n.$$.dirty[0]&24576&&J(r,ne),n.$$.dirty[0]&8193&&he(Ce,ne)},[Ce,B,$,S,P,C,D,R,I,K,T,De,ye,ne,r,_e,k,M,j,h,p,fe,ke,pe,N,y,ie,ge,ue,o,Y,le,W,Se,Ve,me,s]}class di extends Fn{constructor(e){super(),zn(this,e,su,lu,Pn,{value:25,min:3,max:4,id:5,placeholder:6,valid:1,disabled:7,required:8,class:9,locale:10,format:26,text:0,visible:2,closeOnSelection:27,browseWithoutSelecting:11,timePrecision:12,dynamicPositioning:28},null,[-1,-1])}}var Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function no(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ro={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Ss,function(){var t=function(i,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])})(i,a)},r=function(){return(r=Object.assign||function(i){for(var a,c=1,d=arguments.length;c<d;c++)for(var g in a=arguments[c])Object.prototype.hasOwnProperty.call(a,g)&&(i[g]=a[g]);return i}).apply(this,arguments)};function l(i,a,c){for(var d,g=0,b=a.length;g<b;g++)!d&&g in a||((d=d||Array.prototype.slice.call(a,0,g))[g]=a[g]);return i.concat(d||Array.prototype.slice.call(a))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ss,s=Object.keys,u=Array.isArray;function f(i,a){return typeof a!="object"||s(a).forEach(function(c){i[c]=a[c]}),i}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var h=Object.getPrototypeOf,p={}.hasOwnProperty;function y(i,a){return p.call(i,a)}function S(i,a){typeof a=="function"&&(a=a(h(i))),(typeof Reflect>"u"?s:Reflect.ownKeys)(a).forEach(function(c){C(i,c,a[c])})}var P=Object.defineProperty;function C(i,a,c,d){P(i,a,f(c&&y(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function D(i){return{from:function(a){return i.prototype=Object.create(a.prototype),C(i.prototype,"constructor",i),{extend:S.bind(null,i.prototype)}}}}var B=Object.getOwnPropertyDescriptor,R=[].slice;function I(i,a,c){return R.call(i,a,c)}function K(i,a){return a(i)}function T(i){if(!i)throw new Error("Assertion Failed")}function ie(i){o.setImmediate?setImmediate(i):setTimeout(i,0)}function ne(i,a){if(typeof a=="string"&&y(i,a))return i[a];if(!a)return i;if(typeof a!="string"){for(var c=[],d=0,g=a.length;d<g;++d){var b=ne(i,a[d]);c.push(b)}return c}var E=a.indexOf(".");if(E!==-1){var L=i[a.substr(0,E)];return L==null?void 0:ne(L,a.substr(E+1))}}function J(i,a,c){if(i&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof a!="string"&&"length"in a){T(typeof c!="string"&&"length"in c);for(var d=0,g=a.length;d<g;++d)J(i,a[d],c[d])}else{var b,E,L=a.indexOf(".");L!==-1?(b=a.substr(0,L),(E=a.substr(L+1))===""?c===void 0?u(i)&&!isNaN(parseInt(b))?i.splice(b,1):delete i[b]:i[b]=c:J(L=!(L=i[b])||!y(i,b)?i[b]={}:L,E,c)):c===void 0?u(i)&&!isNaN(parseInt(a))?i.splice(a,1):delete i[a]:i[a]=c}}function Ce(i){var a,c={};for(a in i)y(i,a)&&(c[a]=i[a]);return c}var he=[].concat;function $(i){return he.apply([],i)}var Nn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(a){return a+i+"Array"})}))).filter(function(i){return o[i]}),ge=new Set(Nn.map(function(i){return o[i]})),De=null;function ye(i){return De=new WeakMap,i=function a(c){if(!c||typeof c!="object")return c;var d=De.get(c);if(d)return d;if(u(c)){d=[],De.set(c,d);for(var g=0,b=c.length;g<b;++g)d.push(a(c[g]))}else if(ge.has(c.constructor))d=c;else{var E,L=h(c);for(E in d=L===Object.prototype?{}:Object.create(L),De.set(c,d),c)y(c,E)&&(d[E]=a(c[E]))}return d}(i),De=null,i}var fe={}.toString;function ke(i){return fe.call(i).slice(8,-1)}var pe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ue=typeof pe=="symbol"?function(i){var a;return i!=null&&(a=i[pe])&&a.apply(i)}:function(){return null};function _e(i,a){return a=i.indexOf(a),0<=a&&i.splice(a,1),0<=a}var k={};function M(i){var a,c,d,g;if(arguments.length===1){if(u(i))return i.slice();if(this===k&&typeof i=="string")return[i];if(g=ue(i)){for(c=[];!(d=g.next()).done;)c.push(d.value);return c}if(i==null)return[i];if(typeof(a=i.length)!="number")return[i];for(c=new Array(a);a--;)c[a]=i[a];return c}for(a=arguments.length,c=new Array(a);a--;)c[a]=arguments[a];return c}var j=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ye=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Wn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ye),se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function N(i,a){this.name=i,this.message=a}function Y(i,a){return i+". Errors: "+Object.keys(a).map(function(c){return a[c].toString()}).filter(function(c,d,g){return g.indexOf(c)===d}).join(`
`)}function le(i,a,c,d){this.failures=a,this.failedKeys=d,this.successCount=c,this.message=Y(i,a)}function W(i,a){this.name="BulkError",this.failures=Object.keys(a).map(function(c){return a[c]}),this.failuresByPos=a,this.message=Y(i,this.failures)}D(N).from(Error).extend({toString:function(){return this.name+": "+this.message}}),D(le).from(N),D(W).from(N);var Se=Wn.reduce(function(i,a){return i[a]=a+"Error",i},{}),Ve=N,me=Wn.reduce(function(i,a){var c=a+"Error";function d(g,b){this.name=c,g?typeof g=="string"?(this.message="".concat(g).concat(b?`
 `+b:""),this.inner=b||null):typeof g=="object"&&(this.message="".concat(g.name," ").concat(g.message),this.inner=g):(this.message=se[a]||c,this.inner=null)}return D(d).from(Ve),i[a]=d,i},{});me.Syntax=SyntaxError,me.Type=TypeError,me.Range=RangeError;var te=Ye.reduce(function(i,a){return i[a+"Error"]=me[a],i},{}),xe=Wn.reduce(function(i,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(i[a+"Error"]=me[a]),i},{});function Ee(){}function Pe(i){return i}function Ue(i,a){return i==null||i===Pe?a:function(c){return a(i(c))}}function x(i,a){return function(){i.apply(this,arguments),a.apply(this,arguments)}}function Ge(i,a){return i===Ee?a:function(){var c=i.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var b=a.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?x(d,this.onsuccess):d),g&&(this.onerror=this.onerror?x(g,this.onerror):g),b!==void 0?b:c}}function ze(i,a){return i===Ee?a:function(){i.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?x(c,this.onsuccess):c),d&&(this.onerror=this.onerror?x(d,this.onerror):d)}}function we(i,a){return i===Ee?a:function(c){var d=i.apply(this,arguments);f(c,d);var g=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,c=a.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?x(g,this.onsuccess):g),b&&(this.onerror=this.onerror?x(b,this.onerror):b),d===void 0?c===void 0?void 0:c:f(d,c)}}function tt(i,a){return i===Ee?a:function(){return a.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Ct(i,a){return i===Ee?a:function(){var c=i.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,g=arguments.length,b=new Array(g);g--;)b[g]=arguments[g];return c.then(function(){return a.apply(d,b)})}return a.apply(this,arguments)}}xe.ModifyError=le,xe.DexieError=N,xe.BulkError=W;var zt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function It(i){zt=i}var ht={},it=100,Nn=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,h(i),i];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,h(a),i]}(),Ye=Nn[0],Wn=Nn[1],Nn=Nn[2],Wn=Wn&&Wn.then,Je=Ye&&Ye.constructor,Mt=!!Nn,rt=function(i,a){Mn.push([i,a]),tn&&(queueMicrotask(_t),tn=!1)},ln=!0,tn=!0,kt=[],Tt=[],yn=Pe,Yt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},He=Yt,Mn=[],nn=0,sn=[];function Ae(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=He;if(typeof i!="function"){if(i!==ht)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&an(this,this._value))}this._state=null,this._value=null,++a.ref,function c(d,g){try{g(function(b){if(d._state===null){if(b===d)throw new TypeError("A promise cannot be resolved with itself.");var E=d._lib&&ut();b&&typeof b.then=="function"?c(d,function(L,q){b instanceof Ae?b._then(L,q):b.then(L,q)}):(d._state=!0,d._value=b,Ot(d)),E&&At()}},an.bind(null,d))}catch(b){an(d,b)}}(this,i)}var qt={get:function(){var i=He,a=Qe;function c(d,g){var b=this,E=!i.global&&(i!==He||a!==Qe),L=E&&!Zt(),q=new Ae(function(H,Z){Vt(b,new Kn(xn(d,i,E,L),xn(g,i,E,L),H,Z,i))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return c.prototype=ht,c},set:function(i){C(this,"then",i&&i.prototype===ht?qt:{get:function(){return i},set:qt.set})}};function Kn(i,a,c,d,g){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof a=="function"?a:null,this.resolve=c,this.reject=d,this.psd=g}function an(i,a){var c,d;Tt.push(a),i._state===null&&(c=i._lib&&ut(),a=yn(a),i._state=!1,i._value=a,d=i,kt.some(function(g){return g._value===d._value})||kt.push(d),Ot(i),c&&At())}function Ot(i){var a=i._listeners;i._listeners=[];for(var c=0,d=a.length;c<d;++c)Vt(i,a[c]);var g=i._PSD;--g.ref||g.finalize(),nn===0&&(++nn,rt(function(){--nn==0&&fn()},[]))}function Vt(i,a){if(i._state!==null){var c=i._state?a.onFulfilled:a.onRejected;if(c===null)return(i._state?a.resolve:a.reject)(i._value);++a.psd.ref,++nn,rt(mt,[c,i,a])}else i._listeners.push(a)}function mt(i,a,c){try{var d,g=a._value;!a._state&&Tt.length&&(Tt=[]),d=zt&&a._consoleTask?a._consoleTask.run(function(){return i(g)}):i(g),a._state||Tt.indexOf(g)!==-1||function(b){for(var E=kt.length;E;)if(kt[--E]._value===b._value)return kt.splice(E,1)}(a),c.resolve(d)}catch(b){c.reject(b)}finally{--nn==0&&fn(),--c.psd.ref||c.psd.finalize()}}function _t(){Kt(Yt,function(){ut()&&At()})}function ut(){var i=ln;return tn=ln=!1,i}function At(){var i,a,c;do for(;0<Mn.length;)for(i=Mn,Mn=[],c=i.length,a=0;a<c;++a){var d=i[a];d[0].apply(null,d[1])}while(0<Mn.length);tn=ln=!0}function fn(){var i=kt;kt=[],i.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var a=sn.slice(0),c=a.length;c;)a[--c]()}function dn(i){return new Ae(ht,!1,i)}function lt(i,a){var c=He;return function(){var d=ut(),g=He;try{return hn(c,!0),i.apply(this,arguments)}catch(b){a&&a(b)}finally{hn(g,!1),d&&At()}}}S(Ae.prototype,{then:qt,_then:function(i,a){Vt(this,new Kn(null,null,i,a,He))},catch:function(i){if(arguments.length===1)return this.then(null,i);var a=i,c=arguments[1];return typeof a=="function"?this.then(null,function(d){return(d instanceof a?c:dn)(d)}):this.then(null,function(d){return(d&&d.name===a?c:dn)(d)})},finally:function(i){return this.then(function(a){return Ae.resolve(i()).then(function(){return a})},function(a){return Ae.resolve(i()).then(function(){return dn(a)})})},timeout:function(i,a){var c=this;return i<1/0?new Ae(function(d,g){var b=setTimeout(function(){return g(new me.Timeout(a))},i);c.then(d,g).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Yt.env=Et(),S(Ae,{all:function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a,c){i.length===0&&a([]);var d=i.length;i.forEach(function(g,b){return Ae.resolve(g).then(function(E){i[b]=E,--d||a(i)},c)})})},resolve:function(i){return i instanceof Ae?i:i&&typeof i.then=="function"?new Ae(function(a,c){i.then(a,c)}):new Ae(ht,!0,i)},reject:dn,race:function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a,c){i.map(function(d){return Ae.resolve(d).then(a,c)})})},PSD:{get:function(){return He},set:function(i){return He=i}},totalEchoes:{get:function(){return Qe}},newPSD:Ln,usePSD:Kt,scheduler:{get:function(){return rt},set:function(i){rt=i}},rejectionMapper:{get:function(){return yn},set:function(i){yn=i}},follow:function(i,a){return new Ae(function(c,d){return Ln(function(g,b){var E=He;E.unhandleds=[],E.onunhandled=b,E.finalize=x(function(){var L,q=this;L=function(){q.unhandleds.length===0?g():b(q.unhandleds[0])},sn.push(function H(){L(),sn.splice(sn.indexOf(H),1)}),++nn,rt(function(){--nn==0&&fn()},[])},E.finalize),i()},a,c,d)})}}),Je&&(Je.allSettled&&C(Ae,"allSettled",function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a){i.length===0&&a([]);var c=i.length,d=new Array(c);i.forEach(function(g,b){return Ae.resolve(g).then(function(E){return d[b]={status:"fulfilled",value:E}},function(E){return d[b]={status:"rejected",reason:E}}).then(function(){return--c||a(d)})})})}),Je.any&&typeof AggregateError<"u"&&C(Ae,"any",function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a,c){i.length===0&&c(new AggregateError([]));var d=i.length,g=new Array(d);i.forEach(function(b,E){return Ae.resolve(b).then(function(L){return a(L)},function(L){g[E]=L,--d||c(new AggregateError(g))})})})}));var ve={awaits:0,echoes:0,id:0},We=0,St=[],vt=0,Qe=0,$t=0;function Ln(i,a,c,d){var g=He,b=Object.create(g);return b.parent=g,b.ref=0,b.global=!1,b.id=++$t,Yt.env,b.env=Mt?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},a&&f(b,a),++g.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},d=Kt(b,i,c,d),b.ref===0&&b.finalize(),d}function wn(){return ve.id||(ve.id=++We),++ve.awaits,ve.echoes+=it,ve.id}function Zt(){return!!ve.awaits&&(--ve.awaits==0&&(ve.id=0),ve.echoes=ve.awaits*it,!0)}function er(i){return ve.echoes&&i&&i.constructor===Je?(wn(),i.then(function(a){return Zt(),a},function(a){return Zt(),Pt(a)})):i}function ct(){var i=St[St.length-1];St.pop(),hn(i,!1)}function hn(i,a){var c,d=He;(a?!ve.echoes||vt++&&i===He:!vt||--vt&&i===He)||queueMicrotask(a?(function(g){++Qe,ve.echoes&&--ve.echoes!=0||(ve.echoes=ve.awaits=ve.id=0),St.push(He),hn(g,!0)}).bind(null,i):ct),i!==He&&(He=i,d===Yt&&(Yt.env=Et()),Mt&&(c=Yt.env.Promise,a=i.env,(d.global||i.global)&&(Object.defineProperty(o,"Promise",a.PromiseProp),c.all=a.all,c.race=a.race,c.resolve=a.resolve,c.reject=a.reject,a.allSettled&&(c.allSettled=a.allSettled),a.any&&(c.any=a.any))))}function Et(){var i=o.Promise;return Mt?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Kt(i,a,c,d,g){var b=He;try{return hn(i,!0),a(c,d,g)}finally{hn(b,!1)}}function xn(i,a,c,d){return typeof i!="function"?i:function(){var g=He;c&&wn(),hn(a,!0);try{return i.apply(this,arguments)}finally{hn(g,!1),d&&queueMicrotask(Zt)}}}function tr(i){Promise===Je&&ve.echoes===0?vt===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Wn).indexOf("[native code]")===-1&&(wn=Zt=Ee);var Pt=Ae.reject,Lt="￿",Rn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qr="String expected.",qn=[],br="__dbnames",Un="readonly",Bt="readwrite";function pn(i,a){return i?a?function(){return i.apply(this,arguments)&&a.apply(this,arguments)}:i:a}var mn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nr(i){return typeof i!="string"||/\./.test(i)?function(a){return a}:function(a){return a[i]===void 0&&i in a&&delete(a=ye(a))[i],a}}function kn(){throw me.Type()}function Dt(i,a){try{var c=gi(i),d=gi(a);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return a<i?1:i<a?-1:0;case"binary":return function(g,b){for(var E=g.length,L=b.length,q=E<L?E:L,H=0;H<q;++H)if(g[H]!==b[H])return g[H]<b[H]?-1:1;return E===L?0:E<L?-1:1}(Fr(i),Fr(a));case"Array":return function(g,b){for(var E=g.length,L=b.length,q=E<L?E:L,H=0;H<q;++H){var Z=Dt(g[H],b[H]);if(Z!==0)return Z}return E===L?0:E<L?-1:1}(i,a)}}catch{}return NaN}function gi(i){var a=typeof i;return a!="object"?a:ArrayBuffer.isView(i)?"binary":(i=ke(i),i==="ArrayBuffer"?"binary":i)}function Fr(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var _i=(Ft.prototype._trans=function(i,a,c){var d=this._tx||He.trans,g=this.name,b=zt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function E(H,Z,F){if(!F.schema[g])throw new me.NotFound("Table "+g+" not part of transaction");return a(F.idbtrans,F)}var L=ut();try{var q=d&&d.db._novip===this.db._novip?d===He.trans?d._promise(i,E,c):Ln(function(){return d._promise(i,E,c)},{trans:d,transless:He.transless||He}):function H(Z,F,Q,V){if(Z.idbdb&&(Z._state.openComplete||He.letThrough||Z._vip)){var G=Z._createTransaction(F,Q,Z._dbSchema);try{G.create(),Z._state.PR1398_maxLoop=3}catch(X){return X.name===Se.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return H(Z,F,Q,V)})):Pt(X)}return G._promise(F,function(X,U){return Ln(function(){return He.trans=G,V(X,U,G)})}).then(function(X){if(F==="readwrite")try{G.idbtrans.commit()}catch{}return F==="readonly"?X:G._completion.then(function(){return X})})}if(Z._state.openComplete)return Pt(new me.DatabaseClosed(Z._state.dbOpenError));if(!Z._state.isBeingOpened){if(!Z._state.autoOpen)return Pt(new me.DatabaseClosed);Z.open().catch(Ee)}return Z._state.dbReadyPromise.then(function(){return H(Z,F,Q,V)})}(this.db,i,[this.name],E);return b&&(q._consoleTask=b,q=q.catch(function(H){return console.trace(H),Pt(H)})),q}finally{L&&At()}},Ft.prototype.get=function(i,a){var c=this;return i&&i.constructor===Object?this.where(i).first(a):i==null?Pt(new me.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:i}).then(function(g){return c.hook.reading.fire(g)})}).then(a)},Ft.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(u(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var a=s(i);if(a.length===1)return this.where(a[0]).equals(i[a[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(q){if(q.compound&&a.every(function(Z){return 0<=q.keyPath.indexOf(Z)})){for(var H=0;H<a.length;++H)if(a.indexOf(q.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(q,H){return q.keyPath.length-H.keyPath.length})[0];if(c&&this.db._maxKey!==Lt){var E=c.keyPath.slice(0,a.length);return this.where(E).equals(E.map(function(H){return i[H]}))}!c&&zt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var d=this.schema.idxByName,g=this.db._deps.indexedDB;function b(q,H){return g.cmp(q,H)===0}var L=a.reduce(function(Q,H){var Z=Q[0],F=Q[1],Q=d[H],V=i[H];return[Z||Q,Z||!Q?pn(F,Q&&Q.multi?function(G){return G=ne(G,H),u(G)&&G.some(function(X){return b(V,X)})}:function(G){return b(V,ne(G,H))}):F]},[null,null]),E=L[0],L=L[1];return E?this.where(E.name).equals(i[E.keyPath]).filter(L):c?this.filter(L):this.where(a).equals("")},Ft.prototype.filter=function(i){return this.toCollection().and(i)},Ft.prototype.count=function(i){return this.toCollection().count(i)},Ft.prototype.offset=function(i){return this.toCollection().offset(i)},Ft.prototype.limit=function(i){return this.toCollection().limit(i)},Ft.prototype.each=function(i){return this.toCollection().each(i)},Ft.prototype.toArray=function(i){return this.toCollection().toArray(i)},Ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ft.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,u(i)?"[".concat(i.join("+"),"]"):i))},Ft.prototype.reverse=function(){return this.toCollection().reverse()},Ft.prototype.mapToClass=function(i){var a,c=this.db,d=this.name;function g(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof kn&&(function(q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function Z(){this.constructor=q}t(q,H),q.prototype=H===null?Object.create(H):(Z.prototype=H.prototype,new Z)}(g,a=i),Object.defineProperty(g.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),g.prototype.table=function(){return d},i=g);for(var b=new Set,E=i.prototype;E;E=h(E))Object.getOwnPropertyNames(E).forEach(function(q){return b.add(q)});function L(q){if(!q)return q;var H,Z=Object.create(i.prototype);for(H in q)if(!b.has(H))try{Z[H]=q[H]}catch{}return Z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),i},Ft.prototype.defineClass=function(){return this.mapToClass(function(i){f(this,i)})},Ft.prototype.add=function(i,a){var c=this,d=this.schema.primKey,g=d.auto,b=d.keyPath,E=i;return b&&g&&(E=nr(b)(i)),this._trans("readwrite",function(L){return c.core.mutate({trans:L,type:"add",keys:a!=null?[a]:null,values:[E]})}).then(function(L){return L.numFailures?Ae.reject(L.failures[0]):L.lastResult}).then(function(L){if(b)try{J(i,b,L)}catch{}return L})},Ft.prototype.update=function(i,a){return typeof i!="object"||u(i)?this.where(":id").equals(i).modify(a):(i=ne(i,this.schema.primKey.keyPath),i===void 0?Pt(new me.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(a))},Ft.prototype.put=function(i,a){var c=this,d=this.schema.primKey,g=d.auto,b=d.keyPath,E=i;return b&&g&&(E=nr(b)(i)),this._trans("readwrite",function(L){return c.core.mutate({trans:L,type:"put",values:[E],keys:a!=null?[a]:null})}).then(function(L){return L.numFailures?Ae.reject(L.failures[0]):L.lastResult}).then(function(L){if(b)try{J(i,b,L)}catch{}return L})},Ft.prototype.delete=function(i){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"delete",keys:[i]})}).then(function(c){return c.numFailures?Ae.reject(c.failures[0]):void 0})},Ft.prototype.clear=function(){var i=this;return this._trans("readwrite",function(a){return i.core.mutate({trans:a,type:"deleteRange",range:mn})}).then(function(a){return a.numFailures?Ae.reject(a.failures[0]):void 0})},Ft.prototype.bulkGet=function(i){var a=this;return this._trans("readonly",function(c){return a.core.getMany({keys:i,trans:c}).then(function(d){return d.map(function(g){return a.hook.reading.fire(g)})})})},Ft.prototype.bulkAdd=function(i,a,c){var d=this,g=Array.isArray(a)?a:void 0,b=(c=c||(g?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(E){var H=d.schema.primKey,L=H.auto,H=H.keyPath;if(H&&g)throw new me.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");var q=i.length,H=H&&L?i.map(nr(H)):i;return d.core.mutate({trans:E,type:"add",keys:g,values:H,wantResults:b}).then(function(G){var F=G.numFailures,Q=G.results,V=G.lastResult,G=G.failures;if(F===0)return b?Q:V;throw new W("".concat(d.name,".bulkAdd(): ").concat(F," of ").concat(q," operations failed"),G)})})},Ft.prototype.bulkPut=function(i,a,c){var d=this,g=Array.isArray(a)?a:void 0,b=(c=c||(g?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(E){var H=d.schema.primKey,L=H.auto,H=H.keyPath;if(H&&g)throw new me.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");var q=i.length,H=H&&L?i.map(nr(H)):i;return d.core.mutate({trans:E,type:"put",keys:g,values:H,wantResults:b}).then(function(G){var F=G.numFailures,Q=G.results,V=G.lastResult,G=G.failures;if(F===0)return b?Q:V;throw new W("".concat(d.name,".bulkPut(): ").concat(F," of ").concat(q," operations failed"),G)})})},Ft.prototype.bulkUpdate=function(i){var a=this,c=this.core,d=i.map(function(E){return E.key}),g=i.map(function(E){return E.changes}),b=[];return this._trans("readwrite",function(E){return c.getMany({trans:E,keys:d,cache:"clone"}).then(function(L){var q=[],H=[];i.forEach(function(F,Q){var V=F.key,G=F.changes,X=L[Q];if(X){for(var U=0,re=Object.keys(G);U<re.length;U++){var ce=re[U],de=G[ce];if(ce===a.schema.primKey.keyPath){if(Dt(de,V)!==0)throw new me.Constraint("Cannot update primary key in bulkUpdate()")}else J(X,ce,de)}b.push(Q),q.push(V),H.push(X)}});var Z=q.length;return c.mutate({trans:E,type:"put",keys:q,values:H,updates:{keys:d,changeSpecs:g}}).then(function(F){var Q=F.numFailures,V=F.failures;if(Q===0)return Z;for(var G=0,X=Object.keys(V);G<X.length;G++){var U,re=X[G],ce=b[Number(re)];ce!=null&&(U=V[re],delete V[re],V[ce]=U)}throw new W("".concat(a.name,".bulkUpdate(): ").concat(Q," of ").concat(Z," operations failed"),V)})})})},Ft.prototype.bulkDelete=function(i){var a=this,c=i.length;return this._trans("readwrite",function(d){return a.core.mutate({trans:d,type:"delete",keys:i})}).then(function(E){var g=E.numFailures,b=E.lastResult,E=E.failures;if(g===0)return b;throw new W("".concat(a.name,".bulkDelete(): ").concat(g," of ").concat(c," operations failed"),E)})},Ft);function Ft(){}function pr(i){function a(E,L){if(L){for(var q=arguments.length,H=new Array(q-1);--q;)H[q-1]=arguments[q];return c[E].subscribe.apply(null,H),i}if(typeof E=="string")return c[E]}var c={};a.addEventType=b;for(var d=1,g=arguments.length;d<g;++d)b(arguments[d]);return a;function b(E,L,q){if(typeof E!="object"){var H;L=L||tt;var Z={subscribers:[],fire:q=q||Ee,subscribe:function(F){Z.subscribers.indexOf(F)===-1&&(Z.subscribers.push(F),Z.fire=L(Z.fire,F))},unsubscribe:function(F){Z.subscribers=Z.subscribers.filter(function(Q){return Q!==F}),Z.fire=Z.subscribers.reduce(L,q)}};return c[E]=a[E]=Z}s(H=E).forEach(function(F){var Q=H[F];if(u(Q))b(F,H[F][0],H[F][1]);else{if(Q!=="asap")throw new me.InvalidArgument("Invalid event config");var V=b(F,Pe,function(){for(var G=arguments.length,X=new Array(G);G--;)X[G]=arguments[G];V.subscribers.forEach(function(U){ie(function(){U.apply(null,X)})})})}})}}function yr(i,a){return D(a).from({prototype:i}),a}function ur(i,a){return!(i.filter||i.algorithm||i.or)&&(a?i.justLimit:!i.replayFilter)}function Xr(i,a){i.filter=pn(i.filter,a)}function cr(i,a,c){var d=i.replayFilter;i.replayFilter=d?function(){return pn(d(),a())}:a,i.justLimit=c&&!d}function zr(i,a){if(i.isPrimKey)return a.primaryKey;var c=a.getIndexByKeyPath(i.index);if(!c)throw new me.Schema("KeyPath "+i.index+" on object store "+a.name+" is not indexed");return c}function mr(i,a,c){var d=zr(i,a.schema);return a.openCursor({trans:c,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:d,range:i.range}})}function wr(i,a,c,d){var g=i.replayFilter?pn(i.filter,i.replayFilter()):i.filter;if(i.or){var b={},E=function(L,q,H){var Z,F;g&&!g(q,H,function(Q){return q.stop(Q)},function(Q){return q.fail(Q)})||((F=""+(Z=q.primaryKey))=="[object ArrayBuffer]"&&(F=""+new Uint8Array(Z)),y(b,F)||(b[F]=!0,a(L,q,H)))};return Promise.all([i.or._iterate(E,c),Kr(mr(i,d,c),i.algorithm,E,!i.keysOnly&&i.valueMapper)])}return Kr(mr(i,d,c),pn(i.algorithm,g),a,!i.keysOnly&&i.valueMapper)}function Kr(i,a,c,d){var g=lt(d?function(b,E,L){return c(d(b),E,L)}:c);return i.then(function(b){if(b)return b.start(function(){var E=function(){return b.continue()};a&&!a(b,function(L){return E=L},function(L){b.stop(L),E=Ee},function(L){b.fail(L),E=Ee})||g(b.value,b,function(L){return E=L}),E()})})}var Nn=Symbol(),kr=(gr.prototype.execute=function(i){if(this.add!==void 0){var a=this.add;if(u(a))return l(l([],u(i)?i:[],!0),a).sort();if(typeof a=="number")return(Number(i)||0)+a;if(typeof a=="bigint")try{return BigInt(i)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(this.remove!==void 0){var c=this.remove;if(u(c))return u(i)?i.filter(function(d){return!c.includes(d)}).sort():[];if(typeof c=="number")return Number(i)-c;if(typeof c=="bigint")try{return BigInt(i)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return a=(a=this.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof i=="string"&&i.startsWith(a)?this.replacePrefix[1]+i.substring(a.length):i},gr);function gr(i){Object.assign(this,i)}var Zi=(bt.prototype._read=function(i,a){var c=this._ctx;return c.error?c.table._trans(null,Pt.bind(null,c.error)):c.table._trans("readonly",i).then(a)},bt.prototype._write=function(i){var a=this._ctx;return a.error?a.table._trans(null,Pt.bind(null,a.error)):a.table._trans("readwrite",i,"locked")},bt.prototype._addAlgorithm=function(i){var a=this._ctx;a.algorithm=pn(a.algorithm,i)},bt.prototype._iterate=function(i,a){return wr(this._ctx,i,a,this._ctx.table.core)},bt.prototype.clone=function(i){var a=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return i&&f(c,i),a._ctx=c,a},bt.prototype.raw=function(){return this._ctx.valueMapper=null,this},bt.prototype.each=function(i){var a=this._ctx;return this._read(function(c){return wr(a,i,c,a.table.core)})},bt.prototype.count=function(i){var a=this;return this._read(function(c){var d=a._ctx,g=d.table.core;if(ur(d,!0))return g.count({trans:c,query:{index:zr(d,g.schema),range:d.range}}).then(function(E){return Math.min(E,d.limit)});var b=0;return wr(d,function(){return++b,!1},c,g).then(function(){return b})}).then(i)},bt.prototype.sortBy=function(i,a){var c=i.split(".").reverse(),d=c[0],g=c.length-1;function b(q,H){return H?b(q[c[H]],H-1):q[d]}var E=this._ctx.dir==="next"?1:-1;function L(q,H){return q=b(q,g),H=b(H,g),q<H?-E:H<q?E:0}return this.toArray(function(q){return q.sort(L)}).then(a)},bt.prototype.toArray=function(i){var a=this;return this._read(function(c){var d=a._ctx;if(d.dir==="next"&&ur(d,!0)&&0<d.limit){var g=d.valueMapper,b=zr(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:b,range:d.range}}).then(function(L){return L=L.result,g?L.map(g):L})}var E=[];return wr(d,function(L){return E.push(L)},c,d.table.core).then(function(){return E})},i)},bt.prototype.offset=function(i){var a=this._ctx;return i<=0||(a.offset+=i,ur(a)?cr(a,function(){var c=i;return function(d,g){return c===0||(c===1?--c:g(function(){d.advance(c),c=0}),!1)}}):cr(a,function(){var c=i;return function(){return--c<0}})),this},bt.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),cr(this._ctx,function(){var a=i;return function(c,d,g){return--a<=0&&d(g),0<=a}},!0),this},bt.prototype.until=function(i,a){return Xr(this._ctx,function(c,d,g){return!i(c.value)||(d(g),a)}),this},bt.prototype.first=function(i){return this.limit(1).toArray(function(a){return a[0]}).then(i)},bt.prototype.last=function(i){return this.reverse().first(i)},bt.prototype.filter=function(i){var a;return Xr(this._ctx,function(c){return i(c.value)}),(a=this._ctx).isMatch=pn(a.isMatch,i),this},bt.prototype.and=function(i){return this.filter(i)},bt.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},bt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bt.prototype.desc=function(){return this.reverse()},bt.prototype.eachKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,d){i(d.key,d)})},bt.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},bt.prototype.eachPrimaryKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,d){i(d.primaryKey,d)})},bt.prototype.keys=function(i){var a=this._ctx;a.keysOnly=!a.isMatch;var c=[];return this.each(function(d,g){c.push(g.key)}).then(function(){return c}).then(i)},bt.prototype.primaryKeys=function(i){var a=this._ctx;if(a.dir==="next"&&ur(a,!0)&&0<a.limit)return this._read(function(d){var g=zr(a,a.table.core.schema);return a.table.core.query({trans:d,values:!1,limit:a.limit,query:{index:g,range:a.range}})}).then(function(d){return d.result}).then(i);a.keysOnly=!a.isMatch;var c=[];return this.each(function(d,g){c.push(g.primaryKey)}).then(function(){return c}).then(i)},bt.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},bt.prototype.firstKey=function(i){return this.limit(1).keys(function(a){return a[0]}).then(i)},bt.prototype.lastKey=function(i){return this.reverse().firstKey(i)},bt.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var a={};return Xr(this._ctx,function(g){var d=g.primaryKey.toString(),g=y(a,d);return a[d]=!0,!g}),this},bt.prototype.modify=function(i){var a=this,c=this._ctx;return this._write(function(d){var g,b,E;E=typeof i=="function"?i:(g=s(i),b=g.length,function(U){for(var re=!1,ce=0;ce<b;++ce){var de=g[ce],be=i[de],Te=ne(U,de);be instanceof kr?(J(U,de,be.execute(Te)),re=!0):Te!==be&&(J(U,de,be),re=!0)}return re});function L(U,de){var ce=de.failures,de=de.numFailures;G+=U-de;for(var be=0,Te=s(ce);be<Te.length;be++){var Ke=Te[be];V.push(ce[Ke])}}var q=c.table.core,H=q.schema.primaryKey,Z=H.outbound,F=H.extractKey,Q=a.db._options.modifyChunkSize||200,V=[],G=0,X=[];return a.clone().primaryKeys().then(function(U){function re(de){var be=Math.min(Q,U.length-de);return q.getMany({trans:d,keys:U.slice(de,de+be),cache:"immutable"}).then(function(Te){for(var Ke=[],Oe=[],Fe=Z?[]:null,je=[],Re=0;Re<be;++Re){var st=Te[Re],at={value:ye(st),primKey:U[de+Re]};E.call(at,at.value,at)!==!1&&(at.value==null?je.push(U[de+Re]):Z||Dt(F(st),F(at.value))===0?(Oe.push(at.value),Z&&Fe.push(U[de+Re])):(je.push(U[de+Re]),Ke.push(at.value)))}return Promise.resolve(0<Ke.length&&q.mutate({trans:d,type:"add",values:Ke}).then(function(pt){for(var ft in pt.failures)je.splice(parseInt(ft),1);L(Ke.length,pt)})).then(function(){return(0<Oe.length||ce&&typeof i=="object")&&q.mutate({trans:d,type:"put",keys:Fe,values:Oe,criteria:ce,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<de}).then(function(pt){return L(Oe.length,pt)})}).then(function(){return(0<je.length||ce&&i===xr)&&q.mutate({trans:d,type:"delete",keys:je,criteria:ce,isAdditionalChunk:0<de}).then(function(pt){return L(je.length,pt)})}).then(function(){return U.length>de+be&&re(de+Q)})})}var ce=ur(c)&&c.limit===1/0&&(typeof i!="function"||i===xr)&&{index:c.index,range:c.range};return re(0).then(function(){if(0<V.length)throw new le("Error modifying one or more objects",V,G,X);return U.length})})})},bt.prototype.delete=function(){var i=this._ctx,a=i.range;return ur(i)&&(i.isPrimKey||a.type===3)?this._write(function(c){var d=i.table.core.schema.primaryKey,g=a;return i.table.core.count({trans:c,query:{index:d,range:g}}).then(function(b){return i.table.core.mutate({trans:c,type:"deleteRange",range:g}).then(function(E){var L=E.failures;if(E.lastResult,E.results,E=E.numFailures,E)throw new le("Could not delete some values",Object.keys(L).map(function(q){return L[q]}),b-E);return b-E})})}):this.modify(xr)},bt);function bt(){}var xr=function(i,a){return a.value=null};function Ji(i,a){return i<a?-1:i===a?0:1}function Qi(i,a){return a<i?-1:i===a?0:1}function Sn(i,a,c){return i=i instanceof Sr?new i.Collection(i):i,i._ctx.error=new(c||TypeError)(a),i}function _r(i){return new i.Collection(i,function(){return vi("")}).limit(0)}function jr(i,a,c,d){var g,b,E,L,q,H,Z,F=c.length;if(!c.every(function(G){return typeof G=="string"}))return Sn(i,Qr);function Q(G){g=G==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},b=G==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},E=G==="next"?Ji:Qi;var X=c.map(function(U){return{lower:b(U),upper:g(U)}}).sort(function(U,re){return E(U.lower,re.lower)});L=X.map(function(U){return U.upper}),q=X.map(function(U){return U.lower}),Z=(H=G)==="next"?"":d}Q("next"),i=new i.Collection(i,function(){return rr(L[0],q[F-1]+d)}),i._ondirectionchange=function(G){Q(G)};var V=0;return i._addAlgorithm(function(G,X,U){var re=G.key;if(typeof re!="string")return!1;var ce=b(re);if(a(ce,q,V))return!0;for(var de=null,be=V;be<F;++be){var Te=function(Ke,Oe,Fe,je,Re,st){for(var at=Math.min(Ke.length,je.length),pt=-1,ft=0;ft<at;++ft){var $n=Oe[ft];if($n!==je[ft])return Re(Ke[ft],Fe[ft])<0?Ke.substr(0,ft)+Fe[ft]+Fe.substr(ft+1):Re(Ke[ft],je[ft])<0?Ke.substr(0,ft)+je[ft]+Fe.substr(ft+1):0<=pt?Ke.substr(0,pt)+Oe[pt]+Fe.substr(pt+1):null;Re(Ke[ft],$n)<0&&(pt=ft)}return at<je.length&&st==="next"?Ke+Fe.substr(Ke.length):at<Ke.length&&st==="prev"?Ke.substr(0,Fe.length):pt<0?null:Ke.substr(0,pt)+je[pt]+Fe.substr(pt+1)}(re,ce,L[be],q[be],E,H);Te===null&&de===null?V=be+1:(de===null||0<E(de,Te))&&(de=Te)}return X(de!==null?function(){G.continue(de+Z)}:U),!1}),i}function rr(i,a,c,d){return{type:2,lower:i,upper:a,lowerOpen:c,upperOpen:d}}function vi(i){return{type:1,lower:i,upper:i}}var Sr=(Object.defineProperty(Gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Gt.prototype.between=function(i,a,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(i,a)||this._cmp(i,a)===0&&(c||d)&&(!c||!d)?_r(this):new this.Collection(this,function(){return rr(i,a,!c,!d)})}catch{return Sn(this,Rn)}},Gt.prototype.equals=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return vi(i)})},Gt.prototype.above=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(i,void 0,!0)})},Gt.prototype.aboveOrEqual=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(i,void 0,!1)})},Gt.prototype.below=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(void 0,i,!1,!0)})},Gt.prototype.belowOrEqual=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(void 0,i)})},Gt.prototype.startsWith=function(i){return typeof i!="string"?Sn(this,Qr):this.between(i,i+Lt,!0,!0)},Gt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):jr(this,function(a,c){return a.indexOf(c[0])===0},[i],Lt)},Gt.prototype.equalsIgnoreCase=function(i){return jr(this,function(a,c){return a===c[0]},[i],"")},Gt.prototype.anyOfIgnoreCase=function(){var i=M.apply(k,arguments);return i.length===0?_r(this):jr(this,function(a,c){return c.indexOf(a)!==-1},i,"")},Gt.prototype.startsWithAnyOfIgnoreCase=function(){var i=M.apply(k,arguments);return i.length===0?_r(this):jr(this,function(a,c){return c.some(function(d){return a.indexOf(d)===0})},i,Lt)},Gt.prototype.anyOf=function(){var i=this,a=M.apply(k,arguments),c=this._cmp;try{a.sort(c)}catch{return Sn(this,Rn)}if(a.length===0)return _r(this);var d=new this.Collection(this,function(){return rr(a[0],a[a.length-1])});d._ondirectionchange=function(b){c=b==="next"?i._ascending:i._descending,a.sort(c)};var g=0;return d._addAlgorithm(function(b,E,L){for(var q=b.key;0<c(q,a[g]);)if(++g===a.length)return E(L),!1;return c(q,a[g])===0||(E(function(){b.continue(a[g])}),!1)}),d},Gt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Gt.prototype.noneOf=function(){var i=M.apply(k,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Sn(this,Rn)}var a=i.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return a.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},Gt.prototype.inAnyRange=function(re,a){var c=this,d=this._cmp,g=this._ascending,b=this._descending,E=this._min,L=this._max;if(re.length===0)return _r(this);if(!re.every(function(ce){return ce[0]!==void 0&&ce[1]!==void 0&&g(ce[0],ce[1])<=0}))return Sn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",me.InvalidArgument);var q=!a||a.includeLowers!==!1,H=a&&a.includeUppers===!0,Z,F=g;function Q(ce,de){return F(ce[0],de[0])}try{(Z=re.reduce(function(ce,de){for(var be=0,Te=ce.length;be<Te;++be){var Ke=ce[be];if(d(de[0],Ke[1])<0&&0<d(de[1],Ke[0])){Ke[0]=E(Ke[0],de[0]),Ke[1]=L(Ke[1],de[1]);break}}return be===Te&&ce.push(de),ce},[])).sort(Q)}catch{return Sn(this,Rn)}var V=0,G=H?function(ce){return 0<g(ce,Z[V][1])}:function(ce){return 0<=g(ce,Z[V][1])},X=q?function(ce){return 0<b(ce,Z[V][0])}:function(ce){return 0<=b(ce,Z[V][0])},U=G,re=new this.Collection(this,function(){return rr(Z[0][0],Z[Z.length-1][1],!q,!H)});return re._ondirectionchange=function(ce){F=ce==="next"?(U=G,g):(U=X,b),Z.sort(Q)},re._addAlgorithm(function(ce,de,be){for(var Te,Ke=ce.key;U(Ke);)if(++V===Z.length)return de(be),!1;return!G(Te=Ke)&&!X(Te)||(c._cmp(Ke,Z[V][1])===0||c._cmp(Ke,Z[V][0])===0||de(function(){F===g?ce.continue(Z[V][0]):ce.continue(Z[V][1])}),!1)}),re},Gt.prototype.startsWithAnyOf=function(){var i=M.apply(k,arguments);return i.every(function(a){return typeof a=="string"})?i.length===0?_r(this):this.inAnyRange(i.map(function(a){return[a,a+Lt]})):Sn(this,"startsWithAnyOf() only works with strings")},Gt);function Gt(){}function on(i){return lt(function(a){return Er(a),i(a.target.error),!1})}function Er(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Dr="storagemutated",Cr="x-storagemutated-1",ir=pr(null,Dr),$r=(Gn.prototype._lock=function(){return T(!He.global),++this._reculock,this._reculock!==1||He.global||(He.lockOwnerFor=this),this},Gn.prototype._unlock=function(){if(T(!He.global),--this._reculock==0)for(He.global||(He.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Kt(i[1],i[0])}catch{}}return this},Gn.prototype._locked=function(){return this._reculock&&He.lockOwnerFor!==this},Gn.prototype.create=function(i){var a=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if(T(!this.idbtrans),!i&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new me.DatabaseClosed(d);case"MissingAPIError":throw new me.MissingAPI(d.message,d);default:throw new me.OpenFailed(d)}if(!this.active)throw new me.TransactionInactive;return T(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(g){Er(g),a._reject(i.error)}),i.onabort=lt(function(g){Er(g),a.active&&a._reject(new me.Abort(i.error)),a.active=!1,a.on("abort").fire(g)}),i.oncomplete=lt(function(){a.active=!1,a._resolve(),"mutatedParts"in i&&ir.storagemutated.fire(i.mutatedParts)}),this},Gn.prototype._promise=function(i,a,c){var d=this;if(i==="readwrite"&&this.mode!=="readwrite")return Pt(new me.ReadOnly("Transaction is readonly"));if(!this.active)return Pt(new me.TransactionInactive);if(this._locked())return new Ae(function(b,E){d._blockedFuncs.push([function(){d._promise(i,a,c).then(b,E)},He])});if(c)return Ln(function(){var b=new Ae(function(E,L){d._lock();var q=a(E,L,d);q&&q.then&&q.then(E,L)});return b.finally(function(){return d._unlock()}),b._lib=!0,b});var g=new Ae(function(b,E){var L=a(b,E,d);L&&L.then&&L.then(b,E)});return g._lib=!0,g},Gn.prototype._root=function(){return this.parent?this.parent._root():this},Gn.prototype.waitFor=function(i){var a,c=this._root(),d=Ae.resolve(i);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],a=c.idbtrans.objectStore(c.storeNames[0]),function b(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(a.get(-1/0).onsuccess=b)}());var g=c._waitingFor;return new Ae(function(b,E){d.then(function(L){return c._waitingQueue.push(lt(b.bind(null,L)))},function(L){return c._waitingQueue.push(lt(E.bind(null,L)))}).finally(function(){c._waitingFor===g&&(c._waitingFor=null)})})},Gn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new me.Abort))},Gn.prototype.table=function(i){var a=this._memoizedTables||(this._memoizedTables={});if(y(a,i))return a[i];var c=this.schema[i];if(!c)throw new me.NotFound("Table "+i+" not part of transaction");return c=new this.db.Table(i,c,this),c.core=this.db.core.table(i),a[i]=c},Gn);function Gn(){}function jn(i,a,c,d,g,b,E){return{name:i,keyPath:a,unique:c,multi:d,auto:g,compound:b,src:(c&&!E?"&":"")+(d?"*":"")+(g?"++":"")+bi(a)}}function bi(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Hr(i,a,c){return{name:i,primKey:a,indexes:c,mappedClass:null,idxByName:(d=function(g){return[g.name,g]},c.reduce(function(g,b,E){return E=d(b,E),E&&(g[E[0]]=E[1]),g},{}))};var d}var Tr=function(i){try{return i.only([[]]),Tr=function(){return[[]]},[[]]}catch{return Tr=function(){return Lt},Lt}};function ei(i){return i==null?function(){}:typeof i=="string"?(a=i).split(".").length===1?function(c){return c[a]}:function(c){return ne(c,a)}:function(c){return ne(c,i)};var a}function yi(i){return[].slice.call(i)}var Xi=0;function Ir(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function xi(i,a,q){function d(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var V=U.lower,G=U.upper,X=U.lowerOpen,U=U.upperOpen;return V===void 0?G===void 0?null:a.upperBound(G,!!U):G===void 0?a.lowerBound(V,!!X):a.bound(V,G,!!X,!!U)}function g(Q){var V,G=Q.name;return{name:G,schema:Q,mutate:function(X){var U=X.trans,re=X.type,ce=X.keys,de=X.values,be=X.range;return new Promise(function(Te,Ke){Te=lt(Te);var Oe=U.objectStore(G),Fe=Oe.keyPath==null,je=re==="put"||re==="add";if(!je&&re!=="delete"&&re!=="deleteRange")throw new Error("Invalid operation type: "+re);var Re,st=(ce||de||{length:1}).length;if(ce&&de&&ce.length!==de.length)throw new Error("Given keys array must have same length as given values array.");if(st===0)return Te({numFailures:0,failures:{},results:[],lastResult:void 0});function at(Cn){++$n,Er(Cn)}var pt=[],ft=[],$n=0;if(re==="deleteRange"){if(be.type===4)return Te({numFailures:$n,failures:ft,results:[],lastResult:void 0});be.type===3?pt.push(Re=Oe.clear()):pt.push(Re=Oe.delete(d(be)))}else{var Fe=je?Fe?[de,ce]:[de,null]:[ce,null],dt=Fe[0],vn=Fe[1];if(je)for(var bn=0;bn<st;++bn)pt.push(Re=vn&&vn[bn]!==void 0?Oe[re](dt[bn],vn[bn]):Oe[re](dt[bn])),Re.onerror=at;else for(bn=0;bn<st;++bn)pt.push(Re=Oe[re](dt[bn])),Re.onerror=at}function Ii(Cn){Cn=Cn.target.result,pt.forEach(function(Pr,ml){return Pr.error!=null&&(ft[ml]=Pr.error)}),Te({numFailures:$n,failures:ft,results:re==="delete"?ce:pt.map(function(Pr){return Pr.result}),lastResult:Cn})}Re.onerror=function(Cn){at(Cn),Ii(Cn)},Re.onsuccess=Ii})},getMany:function(X){var U=X.trans,re=X.keys;return new Promise(function(ce,de){ce=lt(ce);for(var be,Te=U.objectStore(G),Ke=re.length,Oe=new Array(Ke),Fe=0,je=0,Re=function(pt){pt=pt.target,Oe[pt._pos]=pt.result,++je===Fe&&ce(Oe)},st=on(de),at=0;at<Ke;++at)re[at]!=null&&((be=Te.get(re[at]))._pos=at,be.onsuccess=Re,be.onerror=st,++Fe);Fe===0&&ce(Oe)})},get:function(X){var U=X.trans,re=X.key;return new Promise(function(ce,de){ce=lt(ce);var be=U.objectStore(G).get(re);be.onsuccess=function(Te){return ce(Te.target.result)},be.onerror=on(de)})},query:(V=H,function(X){return new Promise(function(U,re){U=lt(U);var ce,de,be,Fe=X.trans,Te=X.values,Ke=X.limit,Re=X.query,Oe=Ke===1/0?void 0:Ke,je=Re.index,Re=Re.range,Fe=Fe.objectStore(G),je=je.isPrimaryKey?Fe:Fe.index(je.name),Re=d(Re);if(Ke===0)return U({result:[]});V?((Oe=Te?je.getAll(Re,Oe):je.getAllKeys(Re,Oe)).onsuccess=function(st){return U({result:st.target.result})},Oe.onerror=on(re)):(ce=0,de=!Te&&"openKeyCursor"in je?je.openKeyCursor(Re):je.openCursor(Re),be=[],de.onsuccess=function(st){var at=de.result;return at?(be.push(Te?at.value:at.primaryKey),++ce===Ke?U({result:be}):void at.continue()):U({result:be})},de.onerror=on(re))})}),openCursor:function(X){var U=X.trans,re=X.values,ce=X.query,de=X.reverse,be=X.unique;return new Promise(function(Te,Ke){Te=lt(Te);var je=ce.index,Oe=ce.range,Fe=U.objectStore(G),Fe=je.isPrimaryKey?Fe:Fe.index(je.name),je=de?be?"prevunique":"prev":be?"nextunique":"next",Re=!re&&"openKeyCursor"in Fe?Fe.openKeyCursor(d(Oe),je):Fe.openCursor(d(Oe),je);Re.onerror=on(Ke),Re.onsuccess=lt(function(st){var at,pt,ft,$n,dt=Re.result;dt?(dt.___id=++Xi,dt.done=!1,at=dt.continue.bind(dt),pt=(pt=dt.continuePrimaryKey)&&pt.bind(dt),ft=dt.advance.bind(dt),$n=function(){throw new Error("Cursor not stopped")},dt.trans=U,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=function(){throw new Error("Cursor not started")},dt.fail=lt(Ke),dt.next=function(){var vn=this,bn=1;return this.start(function(){return bn--?vn.continue():vn.stop()}).then(function(){return vn})},dt.start=function(vn){function bn(){if(Re.result)try{vn()}catch(Cn){dt.fail(Cn)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()}var Ii=new Promise(function(Cn,Pr){Cn=lt(Cn),Re.onerror=on(Pr),dt.fail=Pr,dt.stop=function(ml){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=$n,Cn(ml)}});return Re.onsuccess=lt(function(Cn){Re.onsuccess=bn,bn()}),dt.continue=at,dt.continuePrimaryKey=pt,dt.advance=ft,bn(),Ii},Te(dt)):Te(null)},Ke)})},count:function(X){var U=X.query,re=X.trans,ce=U.index,de=U.range;return new Promise(function(be,Te){var Ke=re.objectStore(G),Oe=ce.isPrimaryKey?Ke:Ke.index(ce.name),Ke=d(de),Oe=Ke?Oe.count(Ke):Oe.count();Oe.onsuccess=lt(function(Fe){return be(Fe.target.result)}),Oe.onerror=on(Te)})}}}var b,E,L,Z=(E=q,L=yi((b=i).objectStoreNames),{schema:{name:b.name,tables:L.map(function(Q){return E.objectStore(Q)}).map(function(Q){var V=Q.keyPath,U=Q.autoIncrement,G=u(V),X={},U={name:Q.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:V==null,compound:G,keyPath:V,autoIncrement:U,unique:!0,extractKey:ei(V)},indexes:yi(Q.indexNames).map(function(re){return Q.index(re)}).map(function(be){var ce=be.name,de=be.unique,Te=be.multiEntry,be=be.keyPath,Te={name:ce,compound:u(be),keyPath:be,unique:de,multiEntry:Te,extractKey:ei(be)};return X[Ir(be)]=Te}),getIndexByKeyPath:function(re){return X[Ir(re)]}};return X[":id"]=U.primaryKey,V!=null&&(X[Ir(V)]=U.primaryKey),U})},hasGetAll:0<L.length&&"getAll"in E.objectStore(L[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),q=Z.schema,H=Z.hasGetAll,Z=q.tables.map(g),F={};return Z.forEach(function(Q){return F[Q.name]=Q}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(Q){if(!F[Q])throw new Error("Table '".concat(Q,"' not found"));return F[Q]},MIN_KEY:-1/0,MAX_KEY:Tr(a),schema:q}}function $i(i,a,c,d){var g=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=xi(a,g,d),i.dbcore.reduce(function(b,E){return E=E.create,r(r({},b),E(b))},d))}}function Vr(i,d){var c=d.db,d=$i(i._middlewares,c,i._deps,d);i.core=d.dbcore,i.tables.forEach(function(g){var b=g.name;i.core.schema.tables.some(function(E){return E.name===b})&&(g.core=i.core.table(b),i[b]instanceof i.Table&&(i[b].core=g.core))})}function qr(i,a,c,d){c.forEach(function(g){var b=d[g];a.forEach(function(E){var L=function q(H,Z){return B(H,Z)||(H=h(H))&&q(H,Z)}(E,g);(!L||"value"in L&&L.value===void 0)&&(E===i.Transaction.prototype||E instanceof i.Transaction?C(E,g,{get:function(){return this.table(g)},set:function(q){P(this,g,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):E[g]=new i.Table(g,b))})})}function w(i,a){a.forEach(function(c){for(var d in c)c[d]instanceof i.Table&&delete c[d]})}function Ie(i,a){return i._cfg.version-a._cfg.version}function nt(i,a,c,d){var g=i._dbSchema;c.objectStoreNames.contains("$meta")&&!g.$meta&&(g.$meta=Hr("$meta",jl("")[0],[]),i._storeNames.push("$meta"));var b=i._createTransaction("readwrite",i._storeNames,g);b.create(c),b._completion.catch(d);var E=b._reject.bind(b),L=He.transless||He;Ln(function(){return He.trans=b,He.transless=L,a!==0?(Vr(i,c),H=a,((q=b).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(Z){return Z??H}):Ae.resolve(H)).then(function(Z){return Q=Z,V=b,G=c,X=[],Z=(F=i)._versions,U=F._dbSchema=Hn(0,F.idbdb,G),(Z=Z.filter(function(re){return re._cfg.version>=Q})).length!==0?(Z.forEach(function(re){X.push(function(){var ce=U,de=re._cfg.dbschema;lr(F,ce,G),lr(F,de,G),U=F._dbSchema=de;var be=jt(ce,de);be.add.forEach(function(je){En(G,je[0],je[1].primKey,je[1].indexes)}),be.change.forEach(function(je){if(je.recreate)throw new me.Upgrade("Not yet support for changing primary key");var Re=G.objectStore(je.name);je.add.forEach(function(st){return gn(Re,st)}),je.change.forEach(function(st){Re.deleteIndex(st.name),gn(Re,st)}),je.del.forEach(function(st){return Re.deleteIndex(st)})});var Te=re._cfg.contentUpgrade;if(Te&&re._cfg.version>Q){Vr(F,G),V._memoizedTables={};var Ke=Ce(de);be.del.forEach(function(je){Ke[je]=ce[je]}),w(F,[F.Transaction.prototype]),qr(F,[F.Transaction.prototype],s(Ke),Ke),V.schema=Ke;var Oe,Fe=j(Te);return Fe&&wn(),be=Ae.follow(function(){var je;(Oe=Te(V))&&Fe&&(je=Zt.bind(null,null),Oe.then(je,je))}),Oe&&typeof Oe.then=="function"?Ae.resolve(Oe):be.then(function(){return Oe})}}),X.push(function(ce){var de,be,Te=re._cfg.dbschema;de=Te,be=ce,[].slice.call(be.db.objectStoreNames).forEach(function(Ke){return de[Ke]==null&&be.db.deleteObjectStore(Ke)}),w(F,[F.Transaction.prototype]),qr(F,[F.Transaction.prototype],F._storeNames,F._dbSchema),V.schema=F._dbSchema}),X.push(function(ce){F.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(F.idbdb.version/10)===re._cfg.version?(F.idbdb.deleteObjectStore("$meta"),delete F._dbSchema.$meta,F._storeNames=F._storeNames.filter(function(de){return de!=="$meta"})):ce.objectStore("$meta").put(re._cfg.version,"version"))})}),function re(){return X.length?Ae.resolve(X.shift()(V.idbtrans)).then(re):Ae.resolve()}().then(function(){Dn(U,G)})):Ae.resolve();var F,Q,V,G,X,U}).catch(E)):(s(g).forEach(function(Z){En(c,Z,g[Z].primKey,g[Z].indexes)}),Vr(i,c),void Ae.follow(function(){return i.on.populate.fire(b)}).catch(E));var q,H})}function et(i,a){Dn(i._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var c=Hn(0,i.idbdb,a);lr(i,i._dbSchema,a);for(var d=0,g=jt(c,i._dbSchema).change;d<g.length;d++){var b=function(E){if(E.change.length||E.recreate)return console.warn("Unable to patch indexes of table ".concat(E.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=a.objectStore(E.name);E.add.forEach(function(q){zt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(E.name,".").concat(q.src)),gn(L,q)})}(g[d]);if(typeof b=="object")return b.value}}function jt(i,a){var c,d={del:[],add:[],change:[]};for(c in i)a[c]||d.del.push(c);for(c in a){var g=i[c],b=a[c];if(g){var E={name:c,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(g.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||g.primKey.auto!==b.primKey.auto)E.recreate=!0,d.change.push(E);else{var L=g.idxByName,q=b.idxByName,H=void 0;for(H in L)q[H]||E.del.push(H);for(H in q){var Z=L[H],F=q[H];Z?Z.src!==F.src&&E.change.push(F):E.add.push(F)}(0<E.del.length||0<E.add.length||0<E.change.length)&&d.change.push(E)}}else d.add.push([c,b])}return d}function En(i,a,c,d){var g=i.db.createObjectStore(a,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(b){return gn(g,b)}),g}function Dn(i,a){s(i).forEach(function(c){a.db.objectStoreNames.contains(c)||(zt&&console.debug("Dexie: Creating missing table",c),En(a,c,i[c].primKey,i[c].indexes))})}function gn(i,a){i.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function Hn(i,a,c){var d={};return I(a.objectStoreNames,0).forEach(function(g){for(var b=c.objectStore(g),E=jn(bi(H=b.keyPath),H||"",!0,!1,!!b.autoIncrement,H&&typeof H!="string",!0),L=[],q=0;q<b.indexNames.length;++q){var Z=b.index(b.indexNames[q]),H=Z.keyPath,Z=jn(Z.name,H,!!Z.unique,!!Z.multiEntry,!1,H&&typeof H!="string",!1);L.push(Z)}d[g]=Hr(g,E,L)}),d}function lr(i,a,c){for(var d=c.db.objectStoreNames,g=0;g<d.length;++g){var b=d[g],E=c.objectStore(b);i._hasGetAll="getAll"in E;for(var L=0;L<E.indexNames.length;++L){var q=E.indexNames[L],H=E.index(q).keyPath,Z=typeof H=="string"?H:"["+I(H).join("+")+"]";!a[b]||(H=a[b].idxByName[Z])&&(H.name=q,delete a[b].idxByName[Z],a[b].idxByName[q]=H)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function jl(i){return i.split(",").map(function(a,c){var d=(a=a.trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return jn(d,g||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),u(g),c===0)})}var go=(wi.prototype._parseStoresSpec=function(i,a){s(i).forEach(function(c){if(i[c]!==null){var d=jl(i[c]),g=d.shift();if(g.unique=!0,g.multi)throw new me.Schema("Primary key cannot be multi-valued");d.forEach(function(b){if(b.auto)throw new me.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new me.Schema("Index must have a name and cannot be an empty string")}),a[c]=Hr(c,g,d)}})},wi.prototype.stores=function(c){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c;var c=a._versions,d={},g={};return c.forEach(function(b){f(d,b._cfg.storesSource),g=b._cfg.dbschema={},b._parseStoresSpec(d,g)}),a._dbSchema=g,w(a,[a._allTables,a,a.Transaction.prototype]),qr(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],s(g),g),a._storeNames=s(g),this},wi.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Ct(this._cfg.contentUpgrade||Ee,i),this},wi);function wi(){}function el(i,a){var c=i._dbNamesDB;return c||(c=i._dbNamesDB=new fr(br,{addons:[],indexedDB:i,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function tl(i){return i&&typeof i.databases=="function"}function nl(i){return Ln(function(){return He.letThrough=!0,i()})}function rl(i){return!("from"in i)}var _n=function(i,a){if(!this){var c=new _n;return i&&"d"in i&&f(c,i),c}f(this,arguments.length?{d:1,from:i,to:1<arguments.length?a:i}:{d:0})};function ti(i,a,c){var d=Dt(a,c);if(!isNaN(d)){if(0<d)throw RangeError();if(rl(i))return f(i,{from:a,to:c,d:1});var g=i.l,d=i.r;if(Dt(c,i.from)<0)return g?ti(g,a,c):i.l={from:a,to:c,d:1,l:null,r:null},Hl(i);if(0<Dt(a,i.to))return d?ti(d,a,c):i.r={from:a,to:c,d:1,l:null,r:null},Hl(i);Dt(a,i.from)<0&&(i.from=a,i.l=null,i.d=d?d.d+1:1),0<Dt(c,i.to)&&(i.to=c,i.r=null,i.d=i.l?i.l.d+1:1),c=!i.r,g&&!i.l&&ni(i,g),d&&c&&ni(i,d)}}function ni(i,a){rl(a)||function c(d,q){var b=q.from,E=q.to,L=q.l,q=q.r;ti(d,b,E),L&&c(d,L),q&&c(d,q)}(i,a)}function ki(i,a){var c=il(a),d=c.next();if(d.done)return!1;for(var g=d.value,b=il(i),E=b.next(g.from),L=E.value;!d.done&&!E.done;){if(Dt(L.from,g.to)<=0&&0<=Dt(L.to,g.from))return!0;Dt(g.from,L.from)<0?g=(d=c.next(L.from)).value:L=(E=b.next(g.from)).value}return!1}function il(i){var a=rl(i)?null:{s:0,n:i};return{next:function(c){for(var d=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,d)for(;a.n.l&&Dt(c,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!d||Dt(c,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function Hl(i){var a,c,d=(((a=i.r)===null||a===void 0?void 0:a.d)||0)-(((c=i.l)===null||c===void 0?void 0:c.d)||0),g=1<d?"r":d<-1?"l":"";g&&(a=g=="r"?"l":"r",c=r({},i),d=i[g],i.from=d.from,i.to=d.to,i[g]=d[g],c[g]=d[a],(i[a]=c).d=Vl(c)),i.d=Vl(i)}function Vl(c){var a=c.r,c=c.l;return(a?c?Math.max(a.d,c.d):a.d:c?c.d:0)+1}function Si(i,a){return s(a).forEach(function(c){i[c]?ni(i[c],a[c]):i[c]=function d(g){var b,E,L={};for(b in g)y(g,b)&&(E=g[b],L[b]=!E||typeof E!="object"||ge.has(E.constructor)?E:d(E));return L}(a[c])}),i}function ll(i,a){return i.all||a.all||Object.keys(i).some(function(c){return a[c]&&ki(a[c],i[c])})}S(_n.prototype,((Wn={add:function(i){return ni(this,i),this},addKey:function(i){return ti(this,i,i),this},addKeys:function(i){var a=this;return i.forEach(function(c){return ti(a,c,c)}),this}})[pe]=function(){return il(this)},Wn));var Ar={},sl={},al=!1;function Ei(i){Si(sl,i),al||(al=!0,setTimeout(function(){al=!1,ol(sl,!(sl={}))},0))}function ol(i,a){a===void 0&&(a=!1);var c=new Set;if(i.all)for(var d=0,g=Object.values(Ar);d<g.length;d++)ql(E=g[d],i,c,a);else for(var b in i){var E,L=/^idb\:\/\/(.*)\/(.*)\//.exec(b);L&&(b=L[1],L=L[2],(E=Ar["idb://".concat(b,"/").concat(L)])&&ql(E,i,c,a))}c.forEach(function(q){return q()})}function ql(i,a,c,d){for(var g=[],b=0,E=Object.entries(i.queries.query);b<E.length;b++){for(var L=E[b],q=L[0],H=[],Z=0,F=L[1];Z<F.length;Z++){var Q=F[Z];ll(a,Q.obsSet)?Q.subscribers.forEach(function(U){return c.add(U)}):d&&H.push(Q)}d&&g.push([q,H])}if(d)for(var V=0,G=g;V<G.length;V++){var X=G[V],q=X[0],H=X[1];i.queries.query[q]=H}}function _o(i){var a=i._state,c=i._deps.indexedDB;if(a.isBeingOpened||i.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?Pt(a.dbOpenError):i});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var d=a.openCanceller,g=Math.round(10*i.verno),b=!1;function E(){if(a.openCanceller!==d)throw new me.DatabaseClosed("db.open() was cancelled")}function L(){return new Ae(function(Q,V){if(E(),!c)throw new me.MissingAPI;var G=i.name,X=a.autoSchema||!g?c.open(G):c.open(G,g);if(!X)throw new me.MissingAPI;X.onerror=on(V),X.onblocked=lt(i._fireOnBlocked),X.onupgradeneeded=lt(function(U){var re;Z=X.transaction,a.autoSchema&&!i._options.allowEmptyDB?(X.onerror=Er,Z.abort(),X.result.close(),(re=c.deleteDatabase(G)).onsuccess=re.onerror=lt(function(){V(new me.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(Z.onerror=on(V),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,F=U<1,i.idbdb=X.result,b&&et(i,Z),nt(i,U/10,Z,V))},V),X.onsuccess=lt(function(){Z=null;var U,re,ce,de,be,Te=i.idbdb=X.result,Ke=I(Te.objectStoreNames);if(0<Ke.length)try{var Oe=Te.transaction((de=Ke).length===1?de[0]:de,"readonly");if(a.autoSchema)re=Te,ce=Oe,(U=i).verno=re.version/10,ce=U._dbSchema=Hn(0,re,ce),U._storeNames=I(re.objectStoreNames,0),qr(U,[U._allTables],s(ce),ce);else if(lr(i,i._dbSchema,Oe),((be=jt(Hn(0,(be=i).idbdb,Oe),be._dbSchema)).add.length||be.change.some(function(Fe){return Fe.add.length||Fe.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Te.close(),g=Te.version+1,b=!0,Q(L());Vr(i,Oe)}catch{}qn.push(i),Te.onversionchange=lt(function(Fe){a.vcFired=!0,i.on("versionchange").fire(Fe)}),Te.onclose=lt(function(Fe){i.on("close").fire(Fe)}),F&&(be=i._deps,Oe=G,Te=be.indexedDB,be=be.IDBKeyRange,tl(Te)||Oe===br||el(Te,be).put({name:Oe}).catch(Ee)),Q()},V)}).catch(function(Q){switch(Q==null?void 0:Q.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<g)return g=0,L()}return Ae.reject(Q)})}var q,H=a.dbReadyResolve,Z=null,F=!1;return Ae.race([d,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Q){function V(){return indexedDB.databases().finally(Q)}q=setInterval(V,100),V()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(L)]).then(function(){return E(),a.onReadyBeingFired=[],Ae.resolve(nl(function(){return i.on.ready.fire(i.vip)})).then(function Q(){if(0<a.onReadyBeingFired.length){var V=a.onReadyBeingFired.reduce(Ct,Ee);return a.onReadyBeingFired=[],Ae.resolve(nl(function(){return V(i.vip)})).then(Q)}})}).finally(function(){a.openCanceller===d&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(Q){a.dbOpenError=Q;try{Z&&Z.abort()}catch{}return d===a.openCanceller&&i._close(),Pt(Q)}).finally(function(){a.openComplete=!0,H()}).then(function(){var Q;return F&&(Q={},i.tables.forEach(function(V){V.schema.indexes.forEach(function(G){G.name&&(Q["idb://".concat(i.name,"/").concat(V.name,"/").concat(G.name)]=new _n(-1/0,[[[]]]))}),Q["idb://".concat(i.name,"/").concat(V.name,"/")]=Q["idb://".concat(i.name,"/").concat(V.name,"/:dels")]=new _n(-1/0,[[[]]])}),ir(Dr).fire(Q),ol(Q,!0)),i})}function ul(i){function a(b){return i.next(b)}var c=g(a),d=g(function(b){return i.throw(b)});function g(b){return function(q){var L=b(q),q=L.value;return L.done?q:q&&typeof q.then=="function"?q.then(c,d):u(q)?Promise.all(q).then(c,d):c(q)}}return g(a)()}function Di(i,a,c){for(var d=u(i)?i.slice():[i],g=0;g<c;++g)d.push(a);return d}var vo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(a){var c=i.table(a),d=c.schema,g={},b=[];function E(F,Q,V){var G=Ir(F),X=g[G]=g[G]||[],U=F==null?0:typeof F=="string"?1:F.length,re=0<Q,re=r(r({},V),{name:re?"".concat(G,"(virtual-from:").concat(V.name,")"):V.name,lowLevelIndex:V,isVirtual:re,keyTail:Q,keyLength:U,extractKey:ei(F),unique:!re&&V.unique});return X.push(re),re.isPrimaryKey||b.push(re),1<U&&E(U===2?F[0]:F.slice(0,U-1),Q+1,V),X.sort(function(ce,de){return ce.keyTail-de.keyTail}),re}a=E(d.primaryKey.keyPath,0,d.primaryKey),g[":id"]=[a];for(var L=0,q=d.indexes;L<q.length;L++){var H=q[L];E(H.keyPath,0,H)}function Z(F){var Q,V=F.query.index;return V.isVirtual?r(r({},F),{query:{index:V.lowLevelIndex,range:(Q=F.query.range,V=V.keyTail,{type:Q.type===1?2:Q.type,lower:Di(Q.lower,Q.lowerOpen?i.MAX_KEY:i.MIN_KEY,V),lowerOpen:!0,upper:Di(Q.upper,Q.upperOpen?i.MIN_KEY:i.MAX_KEY,V),upperOpen:!0})}}):F}return r(r({},c),{schema:r(r({},d),{primaryKey:a,indexes:b,getIndexByKeyPath:function(F){return(F=g[Ir(F)])&&F[0]}}),count:function(F){return c.count(Z(F))},query:function(F){return c.query(Z(F))},openCursor:function(F){var Q=F.query.index,V=Q.keyTail,G=Q.isVirtual,X=Q.keyLength;return G?c.openCursor(Z(F)).then(function(re){return re&&U(re)}):c.openCursor(F);function U(re){return Object.create(re,{continue:{value:function(ce){ce!=null?re.continue(Di(ce,F.reverse?i.MAX_KEY:i.MIN_KEY,V)):F.unique?re.continue(re.key.slice(0,X).concat(F.reverse?i.MIN_KEY:i.MAX_KEY,V)):re.continue()}},continuePrimaryKey:{value:function(ce,de){re.continuePrimaryKey(Di(ce,i.MAX_KEY,V),de)}},primaryKey:{get:function(){return re.primaryKey}},key:{get:function(){var ce=re.key;return X===1?ce[0]:ce.slice(0,X)}},value:{get:function(){return re.value}}})}}})}})}};function cl(i,a,c,d){return c=c||{},d=d||"",s(i).forEach(function(g){var b,E,L;y(a,g)?(b=i[g],E=a[g],typeof b=="object"&&typeof E=="object"&&b&&E?(L=ke(b))!==ke(E)?c[d+g]=a[g]:L==="Object"?cl(b,E,c,d+g+"."):b!==E&&(c[d+g]=a[g]):b!==E&&(c[d+g]=a[g])):c[d+g]=void 0}),s(a).forEach(function(g){y(i,g)||(c[d+g]=a[g])}),c}function fl(i,a){return a.type==="delete"?a.keys:a.keys||a.values.map(i.extractKey)}var bo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(a){var c=i.table(a),d=c.schema.primaryKey;return r(r({},c),{mutate:function(g){var b=He.trans,E=b.table(a).hook,L=E.deleting,q=E.creating,H=E.updating;switch(g.type){case"add":if(q.fire===Ee)break;return b._promise("readwrite",function(){return Z(g)},!0);case"put":if(q.fire===Ee&&H.fire===Ee)break;return b._promise("readwrite",function(){return Z(g)},!0);case"delete":if(L.fire===Ee)break;return b._promise("readwrite",function(){return Z(g)},!0);case"deleteRange":if(L.fire===Ee)break;return b._promise("readwrite",function(){return function F(Q,V,G){return c.query({trans:Q,values:!1,query:{index:d,range:V},limit:G}).then(function(X){var U=X.result;return Z({type:"delete",keys:U,trans:Q}).then(function(re){return 0<re.numFailures?Promise.reject(re.failures[0]):U.length<G?{failures:[],numFailures:0,lastResult:void 0}:F(Q,r(r({},V),{lower:U[U.length-1],lowerOpen:!0}),G)})})}(g.trans,g.range,1e4)},!0)}return c.mutate(g);function Z(F){var Q,V,G,X=He.trans,U=F.keys||fl(d,F);if(!U)throw new Error("Keys missing");return(F=F.type==="add"||F.type==="put"?r(r({},F),{keys:U}):r({},F)).type!=="delete"&&(F.values=l([],F.values)),F.keys&&(F.keys=l([],F.keys)),Q=c,G=U,((V=F).type==="add"?Promise.resolve([]):Q.getMany({trans:V.trans,keys:G,cache:"immutable"})).then(function(re){var ce=U.map(function(de,be){var Te,Ke,Oe,Fe=re[be],je={onerror:null,onsuccess:null};return F.type==="delete"?L.fire.call(je,de,Fe,X):F.type==="add"||Fe===void 0?(Te=q.fire.call(je,de,F.values[be],X),de==null&&Te!=null&&(F.keys[be]=de=Te,d.outbound||J(F.values[be],d.keyPath,de))):(Te=cl(Fe,F.values[be]),(Ke=H.fire.call(je,Te,de,Fe,X))&&(Oe=F.values[be],Object.keys(Ke).forEach(function(Re){y(Oe,Re)?Oe[Re]=Ke[Re]:J(Oe,Re,Ke[Re])}))),je});return c.mutate(F).then(function(de){for(var be=de.failures,Te=de.results,Ke=de.numFailures,de=de.lastResult,Oe=0;Oe<U.length;++Oe){var Fe=(Te||U)[Oe],je=ce[Oe];Fe==null?je.onerror&&je.onerror(be[Oe]):je.onsuccess&&je.onsuccess(F.type==="put"&&re[Oe]?F.values[Oe]:Fe)}return{failures:be,results:Te,numFailures:Ke,lastResult:de}}).catch(function(de){return ce.forEach(function(be){return be.onerror&&be.onerror(de)}),Promise.reject(de)})})}}})}})}};function Ul(i,a,c){try{if(!a||a.keys.length<i.length)return null;for(var d=[],g=0,b=0;g<a.keys.length&&b<i.length;++g)Dt(a.keys[g],i[b])===0&&(d.push(c?ye(a.values[g]):a.values[g]),++b);return d.length===i.length?d:null}catch{return null}}var yo={stack:"dbcore",level:-1,create:function(i){return{table:function(a){var c=i.table(a);return r(r({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var g=Ul(d.keys,d.trans._cache,d.cache==="clone");return g?Ae.resolve(g):c.getMany(d).then(function(b){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?ye(b):b},b})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function Gl(i,a){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function Wl(i,a){switch(i){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var wo={stack:"dbcore",level:0,name:"Observability",create:function(i){var a=i.schema.name,c=new _n(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(d,g,b){if(He.subscr&&g!=="readonly")throw new me.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(He.querier));return i.transaction(d,g,b)},table:function(d){var g=i.table(d),b=g.schema,E=b.primaryKey,F=b.indexes,L=E.extractKey,q=E.outbound,H=E.autoIncrement&&F.filter(function(V){return V.compound&&V.keyPath.includes(E.keyPath)}),Z=r(r({},g),{mutate:function(V){function G(Re){return Re="idb://".concat(a,"/").concat(d,"/").concat(Re),de[Re]||(de[Re]=new _n)}var X,U,re,ce=V.trans,de=V.mutatedParts||(V.mutatedParts={}),be=G(""),Te=G(":dels"),Ke=V.type,je=V.type==="deleteRange"?[V.range]:V.type==="delete"?[V.keys]:V.values.length<50?[fl(E,V).filter(function(Re){return Re}),V.values]:[],Oe=je[0],Fe=je[1],je=V.trans._cache;return u(Oe)?(be.addKeys(Oe),(je=Ke==="delete"||Oe.length===Fe.length?Ul(Oe,je):null)||Te.addKeys(Oe),(je||Fe)&&(X=G,U=je,re=Fe,b.indexes.forEach(function(Re){var st=X(Re.name||"");function at(ft){return ft!=null?Re.extractKey(ft):null}function pt(ft){return Re.multiEntry&&u(ft)?ft.forEach(function($n){return st.addKey($n)}):st.addKey(ft)}(U||re).forEach(function(ft,vn){var dt=U&&at(U[vn]),vn=re&&at(re[vn]);Dt(dt,vn)!==0&&(dt!=null&&pt(dt),vn!=null&&pt(vn))})}))):Oe?(Fe={from:Oe.lower,to:Oe.upper},Te.add(Fe),be.add(Fe)):(be.add(c),Te.add(c),b.indexes.forEach(function(Re){return G(Re.name).add(c)})),g.mutate(V).then(function(Re){return!Oe||V.type!=="add"&&V.type!=="put"||(be.addKeys(Re.results),H&&H.forEach(function(st){var at=V.values.map(function(ft){return st.extractKey(ft)}),pt=st.keyPath.findIndex(function(ft){return ft===E.keyPath});Re.results.forEach(function(ft){return at[pt]=ft}),G(st.name).addKeys(at)})),ce.mutatedParts=Si(ce.mutatedParts||{},de),Re})}}),F=function(G){var X=G.query,G=X.index,X=X.range;return[G,new _n((G=X.lower)!==null&&G!==void 0?G:i.MIN_KEY,(X=X.upper)!==null&&X!==void 0?X:i.MAX_KEY)]},Q={get:function(V){return[E,new _n(V.key)]},getMany:function(V){return[E,new _n().addKeys(V.keys)]},count:F,query:F,openCursor:F};return s(Q).forEach(function(V){Z[V]=function(G){var X=He.subscr,U=!!X,re=Gl(He,g)&&Wl(V,G)?G.obsSet={}:X;if(U){var ce=function(Fe){return Fe="idb://".concat(a,"/").concat(d,"/").concat(Fe),re[Fe]||(re[Fe]=new _n)},de=ce(""),be=ce(":dels"),X=Q[V](G),U=X[0],X=X[1];if((V==="query"&&U.isPrimaryKey&&!G.values?be:ce(U.name||"")).add(X),!U.isPrimaryKey){if(V!=="count"){var Te=V==="query"&&q&&G.values&&g.query(r(r({},G),{values:!1}));return g[V].apply(this,arguments).then(function(Fe){if(V==="query"){if(q&&G.values)return Te.then(function(at){return at=at.result,de.addKeys(at),Fe});var je=G.values?Fe.result.map(L):Fe.result;(G.values?de:be).addKeys(je)}else if(V==="openCursor"){var Re=Fe,st=G.values;return Re&&Object.create(Re,{key:{get:function(){return be.addKey(Re.primaryKey),Re.key}},primaryKey:{get:function(){var at=Re.primaryKey;return be.addKey(at),at}},value:{get:function(){return st&&de.addKey(Re.primaryKey),Re.value}}})}return Fe})}be.add(c)}}return g[V].apply(this,arguments)}}),Z}})}};function Yl(i,a,c){if(c.numFailures===0)return a;if(a.type==="deleteRange")return null;var d=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return c.numFailures===d?null:(a=r({},a),u(a.keys)&&(a.keys=a.keys.filter(function(g,b){return!(b in c.failures)})),"values"in a&&u(a.values)&&(a.values=a.values.filter(function(g,b){return!(b in c.failures)})),a)}function dl(i,a){return c=i,((d=a).lower===void 0||(d.lowerOpen?0<Dt(c,d.lower):0<=Dt(c,d.lower)))&&(i=i,(a=a).upper===void 0||(a.upperOpen?Dt(i,a.upper)<0:Dt(i,a.upper)<=0));var c,d}function Zl(i,a,Q,d,g,b){if(!Q||Q.length===0)return i;var E=a.query.index,L=E.multiEntry,q=a.query.range,H=d.schema.primaryKey.extractKey,Z=E.extractKey,F=(E.lowLevelIndex||E).extractKey,Q=Q.reduce(function(V,G){var X=V,U=G.type==="add"||G.type==="put"?G.values.filter(function(be){return be=Z(be),L&&u(be)?be.some(function(Te){return dl(Te,q)}):dl(be,q)}).map(function(be){return be=ye(be),b&&Object.freeze(be),be}):[];switch(G.type){case"add":X=V.concat(a.values?U:U.map(function(Te){return H(Te)}));break;case"put":var re=new _n().addKeys(G.values.map(function(Te){return H(Te)})),X=V.filter(function(Te){return Te=a.values?H(Te):Te,!ki(new _n(Te),re)}).concat(a.values?U:U.map(function(Te){return H(Te)}));break;case"delete":var ce=new _n().addKeys(G.keys);X=V.filter(function(Te){return Te=a.values?H(Te):Te,!ki(new _n(Te),ce)});break;case"deleteRange":var de=G.range;X=V.filter(function(Te){return!dl(H(Te),de)})}return X},i);return Q===i?i:(Q.sort(function(V,G){return Dt(F(V),F(G))||Dt(H(V),H(G))}),a.limit&&a.limit<1/0&&(Q.length>a.limit?Q.length=a.limit:i.length===a.limit&&Q.length<a.limit&&(g.dirty=!0)),b?Object.freeze(Q):Q)}function Jl(i,a){return Dt(i.lower,a.lower)===0&&Dt(i.upper,a.upper)===0&&!!i.lowerOpen==!!a.lowerOpen&&!!i.upperOpen==!!a.upperOpen}function ko(i,a){return function(c,d,g,b){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Dt(c,d))===0){if(g&&b)return 0;if(g)return 1;if(b)return-1}return d}(i.lower,a.lower,i.lowerOpen,a.lowerOpen)<=0&&0<=function(c,d,g,b){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Dt(c,d))===0){if(g&&b)return 0;if(g)return-1;if(b)return 1}return d}(i.upper,a.upper,i.upperOpen,a.upperOpen)}function So(i,a,c,d){i.subscribers.add(c),d.addEventListener("abort",function(){var g,b;i.subscribers.delete(c),i.subscribers.size===0&&(g=i,b=a,setTimeout(function(){g.subscribers.size===0&&_e(b,g)},3e3))})}var Eo={stack:"dbcore",level:0,name:"Cache",create:function(i){var a=i.schema.name;return r(r({},i),{transaction:function(c,d,g){var b,E,L=i.transaction(c,d,g);return d==="readwrite"&&(E=(b=new AbortController).signal,g=function(q){return function(){if(b.abort(),d==="readwrite"){for(var H=new Set,Z=0,F=c;Z<F.length;Z++){var Q=F[Z],V=Ar["idb://".concat(a,"/").concat(Q)];if(V){var G=i.table(Q),X=V.optimisticOps.filter(function(st){return st.trans===L});if(L._explicit&&q&&L.mutatedParts)for(var U=0,re=Object.values(V.queries.query);U<re.length;U++)for(var ce=0,de=(Ke=re[U]).slice();ce<de.length;ce++)ll((Oe=de[ce]).obsSet,L.mutatedParts)&&(_e(Ke,Oe),Oe.subscribers.forEach(function(st){return H.add(st)}));else if(0<X.length){V.optimisticOps=V.optimisticOps.filter(function(st){return st.trans!==L});for(var be=0,Te=Object.values(V.queries.query);be<Te.length;be++)for(var Ke,Oe,Fe,je=0,Re=(Ke=Te[be]).slice();je<Re.length;je++)(Oe=Re[je]).res!=null&&L.mutatedParts&&(q&&!Oe.dirty?(Fe=Object.isFrozen(Oe.res),Fe=Zl(Oe.res,Oe.req,X,G,Oe,Fe),Oe.dirty?(_e(Ke,Oe),Oe.subscribers.forEach(function(st){return H.add(st)})):Fe!==Oe.res&&(Oe.res=Fe,Oe.promise=Ae.resolve({result:Fe}))):(Oe.dirty&&_e(Ke,Oe),Oe.subscribers.forEach(function(st){return H.add(st)})))}}}H.forEach(function(st){return st()})}}},L.addEventListener("abort",g(!1),{signal:E}),L.addEventListener("error",g(!1),{signal:E}),L.addEventListener("complete",g(!0),{signal:E})),L},table:function(c){var d=i.table(c),g=d.schema.primaryKey;return r(r({},d),{mutate:function(b){var E=He.trans;if(g.outbound||E.db._options.cache==="disabled"||E.explicit)return d.mutate(b);var L=Ar["idb://".concat(a,"/").concat(c)];return L?(E=d.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||fl(g,b).some(function(q){return q==null}))?(L.optimisticOps.push(b),b.mutatedParts&&Ei(b.mutatedParts),E.then(function(q){0<q.numFailures&&(_e(L.optimisticOps,b),(q=Yl(0,b,q))&&L.optimisticOps.push(q),b.mutatedParts&&Ei(b.mutatedParts))}),E.catch(function(){_e(L.optimisticOps,b),b.mutatedParts&&Ei(b.mutatedParts)})):E.then(function(q){var H=Yl(0,r(r({},b),{values:b.values.map(function(V,F){var Q,V=(Q=g.keyPath)!==null&&Q!==void 0&&Q.includes(".")?ye(V):r({},V);return J(V,g.keyPath,q.results[F]),V})}),q);L.optimisticOps.push(H),queueMicrotask(function(){return b.mutatedParts&&Ei(b.mutatedParts)})}),E):d.mutate(b)},query:function(b){if(!Gl(He,d)||!Wl("query",b))return d.query(b);var E=((H=He.trans)===null||H===void 0?void 0:H.db._options.cache)==="immutable",F=He,L=F.requery,q=F.signal,H=function(G,X,U,re){var ce=Ar["idb://".concat(G,"/").concat(X)];if(!ce)return[];if(!(X=ce.queries[U]))return[null,!1,ce,null];var de=X[(re.query?re.query.index.name:null)||""];if(!de)return[null,!1,ce,null];switch(U){case"query":var be=de.find(function(Te){return Te.req.limit===re.limit&&Te.req.values===re.values&&Jl(Te.req.query.range,re.query.range)});return be?[be,!0,ce,de]:[de.find(function(Te){return("limit"in Te.req?Te.req.limit:1/0)>=re.limit&&(!re.values||Te.req.values)&&ko(Te.req.query.range,re.query.range)}),!1,ce,de];case"count":return be=de.find(function(Te){return Jl(Te.req.query.range,re.query.range)}),[be,!!be,ce,de]}}(a,c,"query",b),Z=H[0],F=H[1],Q=H[2],V=H[3];return Z&&F?Z.obsSet=b.obsSet:(F=d.query(b).then(function(G){var X=G.result;if(Z&&(Z.res=X),E){for(var U=0,re=X.length;U<re;++U)Object.freeze(X[U]);Object.freeze(X)}else G.result=ye(X);return G}).catch(function(G){return V&&Z&&_e(V,Z),Promise.reject(G)}),Z={obsSet:b.obsSet,promise:F,subscribers:new Set,type:"query",req:b,dirty:!1},V?V.push(Z):(V=[Z],(Q=Q||(Ar["idb://".concat(a,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=V)),So(Z,V,L,q),Z.promise.then(function(G){return{result:Zl(G.result,b,Q==null?void 0:Q.optimisticOps,d,Z,E)}})}})}})}};function Ci(i,a){return new Proxy(i,{get:function(c,d,g){return d==="db"?a:Reflect.get(c,d,g)}})}var fr=(en.prototype.version=function(i){if(isNaN(i)||i<.1)throw new me.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new me.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var a=this._versions,c=a.filter(function(d){return d._cfg.version===i})[0];return c||(c=new this.Version(i),a.push(c),a.sort(Ie),c.stores({}),this._state.autoSchema=!1,c)},en.prototype._whenReady=function(i){var a=this;return this.idbdb&&(this._state.openComplete||He.letThrough||this._vip)?i():new Ae(function(c,d){if(a._state.openComplete)return d(new me.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void d(new me.DatabaseClosed);a.open().catch(Ee)}a._state.dbReadyPromise.then(c,d)}).then(i)},en.prototype.use=function(i){var a=i.stack,c=i.create,d=i.level,g=i.name;return g&&this.unuse({stack:a,name:g}),i=this._middlewares[a]||(this._middlewares[a]=[]),i.push({stack:a,create:c,level:d??10,name:g}),i.sort(function(b,E){return b.level-E.level}),this},en.prototype.unuse=function(i){var a=i.stack,c=i.name,d=i.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(g){return d?g.create!==d:!!c&&g.name!==c})),this},en.prototype.open=function(){var i=this;return Kt(Yt,function(){return _o(i)})},en.prototype._close=function(){var i=this._state,a=qn.indexOf(this);if(0<=a&&qn.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Ae(function(c){i.dbReadyResolve=c}),i.openCanceller=new Ae(function(c,d){i.cancelOpen=d}))},en.prototype.close=function(c){var a=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;a?(c.isBeingOpened&&c.cancelOpen(new me.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new me.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},en.prototype.delete=function(i){var a=this;i===void 0&&(i={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new Ae(function(g,b){function E(){a.close(i);var L=a._deps.indexedDB.deleteDatabase(a.name);L.onsuccess=lt(function(){var q,H,Z;q=a._deps,H=a.name,Z=q.indexedDB,q=q.IDBKeyRange,tl(Z)||H===br||el(Z,q).delete(H).catch(Ee),g()}),L.onerror=on(b),L.onblocked=a._fireOnBlocked}if(c)throw new me.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(E):E()})},en.prototype.backendDB=function(){return this.idbdb},en.prototype.isOpen=function(){return this.idbdb!==null},en.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},en.prototype.hasFailed=function(){return this._state.dbOpenError!==null},en.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(en.prototype,"tables",{get:function(){var i=this;return s(this._allTables).map(function(a){return i._allTables[a]})},enumerable:!1,configurable:!0}),en.prototype.transaction=function(){var i=(function(a,c,d){var g=arguments.length;if(g<2)throw new me.InvalidArgument("Too few arguments");for(var b=new Array(g-1);--g;)b[g-1]=arguments[g];return d=b.pop(),[a,$(b),d]}).apply(this,arguments);return this._transaction.apply(this,i)},en.prototype._transaction=function(i,a,c){var d=this,g=He.trans;g&&g.db===this&&i.indexOf("!")===-1||(g=null);var b,E,L=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(E=a.map(function(H){if(H=H instanceof d.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),i=="r"||i===Un)b=Un;else{if(i!="rw"&&i!=Bt)throw new me.InvalidArgument("Invalid transaction mode: "+i);b=Bt}if(g){if(g.mode===Un&&b===Bt){if(!L)throw new me.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g=null}g&&E.forEach(function(H){if(g&&g.storeNames.indexOf(H)===-1){if(!L)throw new me.SubTransaction("Table "+H+" not included in parent transaction.");g=null}}),L&&g&&!g.active&&(g=null)}}catch(H){return g?g._promise(null,function(Z,F){F(H)}):Pt(H)}var q=(function H(Z,F,Q,V,G){return Ae.resolve().then(function(){var X=He.transless||He,U=Z._createTransaction(F,Q,Z._dbSchema,V);if(U.explicit=!0,X={trans:U,transless:X},V)U.idbtrans=V.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,Z._state.PR1398_maxLoop=3}catch(de){return de.name===Se.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return H(Z,F,Q,null,G)})):Pt(de)}var re,ce=j(G);return ce&&wn(),X=Ae.follow(function(){var de;(re=G.call(U,U))&&(ce?(de=Zt.bind(null,null),re.then(de,de)):typeof re.next=="function"&&typeof re.throw=="function"&&(re=ul(re)))},X),(re&&typeof re.then=="function"?Ae.resolve(re).then(function(de){return U.active?de:Pt(new me.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return re})).then(function(de){return V&&U._resolve(),U._completion.then(function(){return de})}).catch(function(de){return U._reject(de),Pt(de)})})}).bind(null,this,b,E,g,c);return g?g._promise(b,q,"lock"):He.trans?Kt(He.transless,function(){return d._whenReady(q)}):this._whenReady(q)},en.prototype.table=function(i){if(!y(this._allTables,i))throw new me.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},en);function en(i,a){var c=this;this._middlewares={},this.verno=0;var d=en.dependencies;this._options=a=r({addons:en.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},d=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var g,b,E,L,q,H={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};H.dbReadyPromise=new Ae(function(F){H.dbReadyResolve=F}),H.openCanceller=new Ae(function(F,Q){H.cancelOpen=Q}),this._state=H,this.name=i,this.on=pr(this,"populate","blocked","versionchange","close",{ready:[Ct,Ee]}),this.on.ready.subscribe=K(this.on.ready.subscribe,function(F){return function(Q,V){en.vip(function(){var G,X=c._state;X.openComplete?(X.dbOpenError||Ae.resolve().then(Q),V&&F(Q)):X.onReadyBeingFired?(X.onReadyBeingFired.push(Q),V&&F(Q)):(F(Q),G=c,V||F(function U(){G.on.ready.unsubscribe(Q),G.on.ready.unsubscribe(U)}))})}}),this.Collection=(g=this,yr(Zi.prototype,function(re,U){this.db=g;var V=mn,G=null;if(U)try{V=U()}catch(ce){G=ce}var X=re._ctx,U=X.table,re=U.hook.reading.fire;this._ctx={table:U,index:X.index,isPrimKey:!X.index||U.schema.primKey.keyPath&&X.index===U.schema.primKey.name,range:V,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:X.or,valueMapper:re!==Pe?re:null}})),this.Table=(b=this,yr(_i.prototype,function(F,Q,V){this.db=b,this._tx=V,this.name=F,this.schema=Q,this.hook=b._allTables[F]?b._allTables[F].hook:pr(null,{creating:[Ge,Ee],reading:[Ue,Pe],updating:[we,Ee],deleting:[ze,Ee]})})),this.Transaction=(E=this,yr($r.prototype,function(F,Q,V,G,X){var U=this;this.db=E,this.mode=F,this.storeNames=Q,this.schema=V,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=pr(this,"complete","error","abort"),this.parent=X||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(re,ce){U._resolve=re,U._reject=ce}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function(re){var ce=U.active;return U.active=!1,U.on.error.fire(re),U.parent?U.parent._reject(re):ce&&U.idbtrans&&U.idbtrans.abort(),Pt(re)})})),this.Version=(L=this,yr(go.prototype,function(F){this.db=L,this._cfg={version:F,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,yr(Sr.prototype,function(F,Q,V){if(this.db=q,this._ctx={table:F,index:Q===":id"?null:Q,or:V},this._cmp=this._ascending=Dt,this._descending=function(G,X){return Dt(X,G)},this._max=function(G,X){return 0<Dt(G,X)?G:X},this._min=function(G,X){return Dt(G,X)<0?G:X},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new me.MissingAPI})),this.on("versionchange",function(F){0<F.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(F){!F.newVersion||F.newVersion<F.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(F.oldVersion/10))}),this._maxKey=Tr(a.IDBKeyRange),this._createTransaction=function(F,Q,V,G){return new c.Transaction(F,Q,V,c._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(F){c.on("blocked").fire(F),qn.filter(function(Q){return Q.name===c.name&&Q!==c&&!Q._state.vcFired}).map(function(Q){return Q.on("versionchange").fire(F)})},this.use(yo),this.use(Eo),this.use(wo),this.use(vo),this.use(bo);var Z=new Proxy(this,{get:function(F,Q,V){if(Q==="_vip")return!0;if(Q==="table")return function(X){return Ci(c.table(X),Z)};var G=Reflect.get(F,Q,V);return G instanceof _i?Ci(G,Z):Q==="tables"?G.map(function(X){return Ci(X,Z)}):Q==="_createTransaction"?function(){return Ci(G.apply(this,arguments),Z)}:G}});this.vip=Z,d.forEach(function(F){return F(c)})}var Ti,Wn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Do=(hl.prototype.subscribe=function(i,a,c){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:a,complete:c})},hl.prototype[Wn]=function(){return this},hl);function hl(i){this._subscribe=i}try{Ti={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Ti={indexedDB:null,IDBKeyRange:null}}function Ql(i){var a,c=!1,d=new Do(function(g){var b=j(i),E,L=!1,q={},H={},Z={get closed(){return L},unsubscribe:function(){L||(L=!0,E&&E.abort(),F&&ir.storagemutated.unsubscribe(V))}};g.start&&g.start(Z);var F=!1,Q=function(){return tr(G)},V=function(X){Si(q,X),ll(H,q)&&Q()},G=function(){var X,U,re;!L&&Ti.indexedDB&&(q={},X={},E&&E.abort(),E=new AbortController,re=function(ce){var de=ut();try{b&&wn();var be=Ln(i,ce);return be=b?be.finally(Zt):be}finally{de&&At()}}(U={subscr:X,signal:E.signal,requery:Q,querier:i,trans:null}),Promise.resolve(re).then(function(ce){c=!0,a=ce,L||U.signal.aborted||(q={},function(de){for(var be in de)if(y(de,be))return;return 1}(H=X)||F||(ir(Dr,V),F=!0),tr(function(){return!L&&g.next&&g.next(ce)}))},function(ce){c=!1,["DatabaseClosedError","AbortError"].includes(ce==null?void 0:ce.name)||L||tr(function(){L||g.error&&g.error(ce)})}))};return setTimeout(Q,0),Z});return d.hasValue=function(){return c},d.getValue=function(){return a},d}var Or=fr;function pl(i){var a=vr;try{vr=!0,ir.storagemutated.fire(i),ol(i,!0)}finally{vr=a}}S(Or,r(r({},xe),{delete:function(i){return new Or(i,{addons:[]}).delete()},exists:function(i){return new Or(i,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return a=Or.dependencies,c=a.indexedDB,a=a.IDBKeyRange,(tl(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(g){return g.name}).filter(function(g){return g!==br})}):el(c,a).toCollection().primaryKeys()).then(i)}catch{return Pt(new me.MissingAPI)}var a,c},defineClass:function(){return function(i){f(this,i)}},ignoreTransaction:function(i){return He.trans?Kt(He.transless,i):i()},vip:nl,async:function(i){return function(){try{var a=ul(i.apply(this,arguments));return a&&typeof a.then=="function"?a:Ae.resolve(a)}catch(c){return Pt(c)}}},spawn:function(i,a,c){try{var d=ul(i.apply(c,a||[]));return d&&typeof d.then=="function"?d:Ae.resolve(d)}catch(g){return Pt(g)}},currentTransaction:{get:function(){return He.trans||null}},waitFor:function(i,a){return a=Ae.resolve(typeof i=="function"?Or.ignoreTransaction(i):i).timeout(a||6e4),He.trans?He.trans.waitFor(a):a},Promise:Ae,debug:{get:function(){return zt},set:function(i){It(i)}},derive:D,extend:f,props:S,override:K,Events:pr,on:ir,liveQuery:Ql,extendObservabilitySet:Si,getByKeyPath:ne,setByKeyPath:J,delByKeyPath:function(i,a){typeof a=="string"?J(i,a,void 0):"length"in a&&[].map.call(a,function(c){J(i,c,void 0)})},shallowClone:Ce,deepClone:ye,getObjectDiff:cl,cmp:Dt,asap:ie,minKey:-1/0,addons:[],connections:qn,errnames:Se,dependencies:Ti,cache:Ar,semVer:"4.0.7",version:"4.0.7".split(".").map(function(i){return parseInt(i)}).reduce(function(i,a,c){return i+a/Math.pow(10,2*c)})})),Or.maxKey=Tr(Or.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ir(Dr,function(i){vr||(i=new CustomEvent(Cr,{detail:i}),vr=!0,dispatchEvent(i),vr=!1)}),addEventListener(Cr,function(i){i=i.detail,vr||pl(i)}));var Ur,vr=!1,Xl=function(){};return typeof BroadcastChannel<"u"&&((Xl=function(){(Ur=new BroadcastChannel(Cr)).onmessage=function(i){return i.data&&pl(i.data)}})(),typeof Ur.unref=="function"&&Ur.unref(),ir(Dr,function(i){vr||Ur.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!fr.disableBfCache&&i.persisted){zt&&console.debug("Dexie: handling persisted pagehide"),Ur!=null&&Ur.close();for(var a=0,c=qn;a<c.length;a++)c[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!fr.disableBfCache&&i.persisted&&(zt&&console.debug("Dexie: handling persisted pageshow"),Xl(),pl({all:new _n(-1/0,[[]])}))})),Ae.rejectionMapper=function(i,a){return!i||i instanceof N||i instanceof TypeError||i instanceof SyntaxError||!i.name||!te[i.name]?i:(a=new te[i.name](a||i.message,i),"stack"in i&&C(a,"stack",{get:function(){return this.inner.stack}}),a)},It(zt),r(fr,Object.freeze({__proto__:null,Dexie:fr,liveQuery:Ql,Entity:kn,cmp:Dt,PropModSymbol:Nn,PropModification:kr,replacePrefix:function(i,a){return new kr({replacePrefix:[i,a]})},add:function(i){return new kr({add:i})},remove:function(i){return new kr({remove:i})},default:fr,RangeSet:_n,mergeRanges:ni,rangesOverlap:ki}),{default:fr}),fr})})(ro);var au=ro.exports;const Ol=no(au),Es=Symbol.for("Dexie"),Vi=globalThis[Es]||(globalThis[Es]=Ol);if(Ol.semVer!==Vi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ol.semVer} and ${Vi.semVer}`);const{liveQuery:hi,mergeRanges:Kd,rangesOverlap:jd,RangeSet:Hd,cmp:Vd,Entity:qd,PropModSymbol:Ud,PropModification:Gd,replacePrefix:Wd,add:Yd,remove:Zd}=Vi;var Pl=(n=>(n.Accomodation="Accomodation",n.Food="Food & Drink",n.Transport="Transport",n.Other="Other",n))(Pl||{});const Ds={Accomodation:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/></svg>',"Food & Drink":'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/><path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/></svg>',Transport:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16"> <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>',Other:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16"><path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/><path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/></svg>'},Wt=new Vi("ExpensesDatabase");Wt.version(2).stores({trips:"++id, name, defaultCurrency, startDate, endDate",receipts:"++id, description, total, receiptDate, receiptType, currency, tripId, imageData"});Wt.version(3).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("trips").toCollection().modify(e=>{e.startDateString=e.startDate.toDateString(),e.endDateString=e.endDate.toDateString()}).then(function(){n.table("receipts").toCollection().modify(e=>{e.receiptDateString=e.receiptDate.toDateString()})}));Wt.version(4).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("receipts").where("receiptType").equals("Food").modify(e=>{e.receiptType="Food & Drink"}));Wt.version(6).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"}).upgrade(n=>n.table("receipts").toCollection().modify(e=>{e.imageData=URL.createObjectURL(e.imageData)}));Wt.version(7).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString, notes",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"});function io(n,e){const t=Wr(e);return localStorage&&localStorage.getItem(n)&&t.set(JSON.parse(localStorage.getItem(n)!=null?localStorage.getItem(n):e)),t.subscribe(r=>{if(localStorage)try{r!==void 0?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)}catch(l){console.warn(l)}}),t}const rn={AED:{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"د.إ.‏",decimal_digits:2,rounding:0,code:"AED",name_plural:"UAE dirhams"},AFN:{symbol:"Af",name:"Afghan Afghani",symbol_native:"؋",decimal_digits:0,rounding:0,code:"AFN",name_plural:"Afghan Afghanis"},ALL:{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL",name_plural:"Albanian lekë"},AMD:{symbol:"AMD",name:"Armenian Dram",symbol_native:"դր.",decimal_digits:0,rounding:0,code:"AMD",name_plural:"Armenian drams"},ARS:{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS",name_plural:"Argentine pesos"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"},AZN:{symbol:"man.",name:"Azerbaijani Manat",symbol_native:"ман.",decimal_digits:2,rounding:0,code:"AZN",name_plural:"Azerbaijani manats"},BAM:{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM",name_plural:"Bosnia-Herzegovina convertible marks"},BDT:{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"৳",decimal_digits:2,rounding:0,code:"BDT",use_indian_numbering_system:!0,name_plural:"Bangladeshi takas"},BGN:{symbol:"BGN",name:"Bulgarian Lev",symbol_native:"лв.",decimal_digits:2,rounding:0,code:"BGN",name_plural:"Bulgarian leva"},BHD:{symbol:"BD",name:"Bahraini Dinar",symbol_native:"د.ب.‏",decimal_digits:3,rounding:0,code:"BHD",name_plural:"Bahraini dinars"},BIF:{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF",name_plural:"Burundian francs"},BND:{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND",name_plural:"Brunei dollars"},BOB:{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB",name_plural:"Bolivian bolivianos"},BRL:{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL",name_plural:"Brazilian reals"},BWP:{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP",name_plural:"Botswanan pulas"},BYN:{symbol:"Br",name:"Belarusian Ruble",symbol_native:"руб.",decimal_digits:2,rounding:0,code:"BYN",name_plural:"Belarusian rubles"},BZD:{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD",name_plural:"Belize dollars"},CAD:{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD",name_plural:"Canadian dollars"},CDF:{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF",name_plural:"Congolese francs"},CHF:{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF",name_plural:"Swiss francs"},CLP:{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP",name_plural:"Chilean pesos"},CNY:{symbol:"CN¥",name:"Chinese Yuan",symbol_native:"CN¥",decimal_digits:2,rounding:0,code:"CNY",name_plural:"Chinese yuan"},COP:{symbol:"CO$",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP",name_plural:"Colombian pesos"},CRC:{symbol:"₡",name:"Costa Rican Colón",symbol_native:"₡",decimal_digits:0,rounding:0,code:"CRC",name_plural:"Costa Rican colóns"},CVE:{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE",name_plural:"Cape Verdean escudos"},CZK:{symbol:"Kč",name:"Czech Republic Koruna",symbol_native:"Kč",decimal_digits:2,rounding:0,code:"CZK",name_plural:"Czech Republic korunas"},DJF:{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF",name_plural:"Djiboutian francs"},DKK:{symbol:"Dkr",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK",name_plural:"Danish kroner"},DOP:{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP",name_plural:"Dominican pesos"},DZD:{symbol:"DA",name:"Algerian Dinar",symbol_native:"د.ج.‏",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",symbol_native:"ج.م.‏",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},EUR:{symbol:"€",name:"Euro",symbol_native:"€",decimal_digits:2,rounding:0,code:"EUR",name_plural:"euros"},GBP:{symbol:"£",name:"British Pound Sterling",symbol_native:"£",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},GEL:{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GH₵",name:"Ghanaian Cedi",symbol_native:"GH₵",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"₪",name:"Israeli New Sheqel",symbol_native:"₪",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",name:"Indian Rupee",symbol_native:"টকা",decimal_digits:2,rounding:0,code:"INR",use_indian_numbering_system:!0,name_plural:"Indian rupees"},IQD:{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"د.ع.‏",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",name:"Iranian Rial",symbol_native:"﷼",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",name:"Icelandic Króna",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krónur"},JMD:{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",name:"Jordanian Dinar",symbol_native:"د.أ.‏",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"¥",name:"Japanese Yen",symbol_native:"￥",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",name:"Cambodian Riel",symbol_native:"៛",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"₩",name:"South Korean Won",symbol_native:"₩",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"د.ك.‏",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:"тңг.",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"L.L.",name:"Lebanese Pound",symbol_native:"ل.ل.‏",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",name:"Libyan Dinar",symbol_native:"د.ل.‏",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"د.م.‏",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"₦",name:"Nigerian Naira",symbol_native:"₦",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",name:"Nicaraguan Córdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan córdobas"},NOK:{symbol:"Nkr",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"नेरू",decimal_digits:2,rounding:0,code:"NPR",use_indian_numbering_system:!0,name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",name:"Omani Rial",symbol_native:"ر.ع.‏",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"₱",name:"Philippine Peso",symbol_native:"₱",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"₨",decimal_digits:0,rounding:0,code:"PKR",use_indian_numbering_system:!0,name_plural:"Pakistani rupees"},PLN:{symbol:"zł",name:"Polish Zloty",symbol_native:"zł",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"₲",name:"Paraguayan Guarani",symbol_native:"₲",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",name:"Qatari Rial",symbol_native:"ر.ق.‏",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",name:"Serbian Dinar",symbol_native:"дин.",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",name:"Russian Ruble",symbol_native:"₽.",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",name:"Saudi Riyal",symbol_native:"ر.س.‏",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SY£",name:"Syrian Pound",symbol_native:"ل.س.‏",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"฿",name:"Thai Baht",symbol_native:"฿",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",name:"Tunisian Dinar",symbol_native:"د.ت.‏",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",name:"Tongan Paʻanga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paʻanga"},TRY:{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"₴",name:"Ukrainian Hryvnia",symbol_native:"₴",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},UYU:{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",name:"Venezuelan Bolívar",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolívars"},VND:{symbol:"₫",name:"Vietnamese Dong",symbol_native:"₫",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",name:"Yemeni Rial",symbol_native:"ر.ي.‏",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"},ZWL:{symbol:"ZWL$",name:"Zimbabwean Dollar",symbol_native:"ZWL$",decimal_digits:0,rounding:0,code:"ZWL",name_plural:"Zimbabwean Dollar"}},Ml=io("defaultCurrency","GBP"),pi=io("favCurrencies",["GBP","USD","EUR"]);function Bl(n){let e=[],t=[];for(let r of Object.keys(rn))e.push({value:r,text:`${r} (${rn[r].symbol})`});for(let r of n)t.push({value:r,text:`${r} (${rn[r].symbol})`});return[{groupHeader:"Favourite Currencies",items:t},{groupHeader:"All Currencies",items:e}]}var Br=function(n,e){this.items=n,this.settings=e||{diacritics:!0}};Br.prototype.tokenize=function(n,e,t){if(n=uu(String(n||"").toLowerCase()),!n||!n.length)return[];var r,l,o,s,u=[],f=n.split(/ +/);for(r=0,l=f.length;r<l;r++){if(o=cu(f[r]),this.settings.diacritics)for(s in Lr)Lr.hasOwnProperty(s)&&(o=o.replace(new RegExp(s,"g"),Lr[s]));e?o="\\b"+o:t&&(o="\\b^"+o),u.push({string:f[r],regex:new RegExp(o,"i")})}return u};Br.prototype.iterator=function(n,e){var t;Array.isArray(n)?t=Array.prototype.forEach||function(r){for(var l=0,o=this.length;l<o;l++)r(this[l],l,this)}:t=function(r){for(var l in this)this.hasOwnProperty(l)&&r(this[l],l,this)},t.apply(n,[e])};Br.prototype.getScoreFunction=function(n,e){var t,r,l,o,s;t=this,n=t.prepareSearch(n,e),l=n.tokens,r=n.options.fields,o=l.length,s=n.options.nesting;var u=function(h,p){var y,S;return!h||(h=String(h||""),S=h.search(p.regex),S===-1)?0:(y=p.string.length/h.length,S===0&&(y+=.5),y)},f=function(){var h=r.length;return h?h===1?function(p,y){return u(Ll(y,r[0],s),p)}:function(p,y){for(var S=0,P=0;S<h;S++)P+=u(Ll(y,r[S],s),p);return P/h}:function(){return 0}}();return o?o===1?function(h){return f(l[0],h)}:n.options.conjunction==="and"?function(h){for(var p,y=0,S=0;y<o;y++){if(p=f(l[y],h),p<=0)return 0;S+=p}return S/o}:function(h){for(var p=0,y=0;p<o;p++)y+=f(l[p],h);return y/o}:function(){return 0}};Br.prototype.getSortFunction=function(n,e){var t,r,l,o,s,u,f,h,p,y,S;if(l=this,n=l.prepareSearch(n,e),S=!n.query&&e.sort_empty||e.sort,p=function(P,C){return P==="$score"?C.score:Ll(l.items[C.id],P,e.nesting)},s=[],S)for(t=0,r=S.length;t<r;t++)(n.query||S[t].field!=="$score")&&s.push(S[t]);if(n.query){for(y=!0,t=0,r=s.length;t<r;t++)if(s[t].field==="$score"){y=!1;break}y&&s.unshift({field:"$score",direction:"desc"})}else for(t=0,r=s.length;t<r;t++)if(s[t].field==="$score"){s.splice(t,1);break}for(h=[],t=0,r=s.length;t<r;t++)h.push(s[t].direction==="desc"?-1:1);return u=s.length,u?u===1?(o=s[0].field,f=h[0],function(P,C){return f*Cs(p(o,P),p(o,C))}):function(P,C){var D,B,R;for(D=0;D<u;D++)if(R=s[D].field,B=h[D]*Cs(p(R,P),p(R,C)),B)return B;return 0}:null};Br.prototype.prepareSearch=function(n,e){if(typeof n=="object")return n;e=ou({},e);var t=e.fields,r=e.sort,l=e.sort_empty;return t&&!Array.isArray(t)&&(e.fields=[t]),r&&!Array.isArray(r)&&(e.sort=[r]),l&&!Array.isArray(l)&&(e.sort_empty=[l]),{options:e,query:String(n||"").toLowerCase(),tokens:this.tokenize(n,e.wordsOnly,e.startOnly),total:0,items:[]}};Br.prototype.search=function(n,e){var t=this,r,l,o,s;return l=this.prepareSearch(n,e),e=l.options,n=l.query,s=e.score||t.getScoreFunction(l),n.length?t.iterator(t.items,function(u,f){r=s(u),(e.filter===!1||r>0)&&l.items.push({score:r,id:f})}):t.iterator(t.items,function(u,f){l.items.push({score:1,id:f})}),o=t.getSortFunction(l,e),o&&l.items.sort(o),l.total=l.items.length,typeof e.limit=="number"&&(l.items=l.items.slice(0,e.limit)),l};var Cs=function(n,e){return typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=qi(String(n||"")),e=qi(String(e||"")),n>e?1:e>n?-1:0)},ou=function(n,e){var t,r,l,o;for(t=1,r=arguments.length;t<r;t++)if(o=arguments[t],!!o)for(l in o)o.hasOwnProperty(l)&&(n[l]=o[l]);return n},Ll=function(n,e,t){if(!(!n||!e)){if(!t)return n[e];for(var r=e.split(".");r.length&&(n=n[r.shift()]););return n}},uu=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},cu=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Lr={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};const qi=function(){var n,e,t,r,l="",o={};for(t in Lr)if(Lr.hasOwnProperty(t))for(r=Lr[t].substring(2,Lr[t].length-1),l+=r,n=0,e=r.length;n<e;n++)o[r.charAt(n)]=t;var s=new RegExp("["+l+"]","g");return function(u){return u.replace(s,function(f){return o[f]}).toLowerCase()}}();let li;function Ui(n,e,t,r,l){const o=r(n,e,t);if(t==""||n.isSelected||l)return o;li||(li=document.createElement("div")),li.innerHTML=o;const s=qi(t);return(s.includes("|")?s.split("|").map(u=>u.trim()):s.split(" ")).filter(u=>u).forEach(u=>{lo(li,u)}),li.innerHTML}function lo(n,e){let t=0;if(n.nodeType===3){const l=qi(n.data);let o=l.indexOf(e);if(o-=l.substr(0,o).toUpperCase().length-l.substr(0,o).length,o>=0){const s=document.createElement("span");s.className="highlight";const u=n.splitText(o);u.splitText(e.length);const f=u.cloneNode(!0);s.appendChild(f),u.parentNode.replaceChild(s,u),t=1}}else if(n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN"))for(var r=0;r<n.childNodes.length;++r)r+=lo(n.childNodes[r],e);return t}function fu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ts(){return navigator.userAgent.toLowerCase().includes("android")}function yl(n){return(n||"").replace(/\t/g," ").trim().split(" ").filter(e=>e).join(" ")}function du(n){return`${n}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function hu(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(this,r)},e)}}function pu(n,{url:e,parentValue:t,initial:r},l){t&&(e=e.replace("[parent]",encodeURIComponent(t))),n&&(e=e.replace("[query]",encodeURIComponent(n))),Array.isArray(r)&&r.length===0&&(r=null),r&&(e=e.replace("[query]","init"));const o=e[0]==="/"?new URL(e,window.location.origin):new URL(e);if(r){const f=Array.isArray(r)?r:[r];o.searchParams.append("init",f.join(","))}const s=new AbortController,u=Object.assign({},l,{signal:s.signal});return{request:new Request(o,u),controller:s}}const yt={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{aria_label:"",aria_describedby:"",aria_selected:n=>n.length?`Option${n.length>1?"s":""} ${n.join(", ")} selected.`:"",aria_listActive:(n,e,t)=>`You are currently focused on option ${n[e]}. ${t} result${t>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",empty:"No options",nomatch:"No matching options",max:n=>`Maximum items ${n} selected`,fetchBefore:"Type to start searching",fetchQuery:(n,e)=>`Type at least ${n} character${n>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:n=>`${n} selected`,createRowLabel:n=>`Add '${n}'`,emptyCreatable:"Add new by typing"},requestFactory:null};function mu(n,{from:e,to:t},r={}){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform,[s,u]=l.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*s/t.width-(t.left+s),h=e.top+e.height*u/t.height-(t.top+u),{delay:p=0,duration:y=P=>Math.sqrt(P)*120,easing:S=to}=r;return{delay:p,duration:Zr(y)?y(Math.sqrt(f*f+h*h)):y,easing:S,css:(P,C)=>{const D=C*f,B=C*h,R=P+C*e.width/t.width,I=P+C*e.height/t.height;return`transform: ${o} translate(${D}px, ${B}px) scale(${R}, ${I});`}}}const Ai={AUTO:"auto",START:"start",CENTER:"center",END:"end"},hr={HORIZONTAL:"horizontal",VERTICAL:"vertical"},si={OBSERVED:0,REQUESTED:1},gu={[hr.VERTICAL]:"top",[hr.HORIZONTAL]:"left"},Is={[hr.VERTICAL]:"scrollTop",[hr.HORIZONTAL]:"scrollLeft"};class _u{constructor({itemSize:e,itemCount:t,estimatedItemSize:r}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:r}){t!=null&&(this.itemCount=t),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const r=this.getSize(t),l=e;e+=r,this.itemSizeAndPositionData[t]={offset:l,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let r=t.offset+t.size;for(let l=this.lastMeasuredIndex+1;l<=e;l++){const o=this.getSize(l);if(o==null||isNaN(o))throw Error(`Invalid size returned for index ${l} of value ${o}`);this.itemSizeAndPositionData[l]={offset:r,size:o},r+=o}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Ai.START,containerSize:t,currentOffset:r,targetIndex:l}){if(t<=0)return 0;const o=this.getSizeAndPositionForIndex(l),s=o.offset,u=s-t+o.size;let f;switch(e){case Ai.END:f=u;break;case Ai.CENTER:f=s-(t-o.size)/2;break;case Ai.START:f=s;break;default:f=Math.max(u,Math.min(s,r))}const h=this.getTotalSize();return Math.max(0,Math.min(h-t,f))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:r}){if(this.getTotalSize()===0)return{};const o=t+e;let s=this.findNearestItem(t);if(s===void 0)throw Error(`Invalid offset ${t} specified`);const u=this.getSizeAndPositionForIndex(s);t=u.offset+u.size;let f=s;for(;t<o&&f<this.itemCount-1;)f++,t+=this.getSizeAndPositionForIndex(f).size;return r&&(s=Math.max(0,s-r),f=Math.min(f+r,this.itemCount-1)),{start:s,stop:f}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:t,offset:r}){let l=0,o=0;for(;e<=t;){if(l=e+Math.floor((t-e)/2),o=this.getSizeAndPositionForIndex(l).offset,o===r)return l;o<r?e=l+1:o>r&&(t=l-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const vu=n=>({}),As=n=>({});function Os(n,e,t){const r=n.slice();return r[37]=e[t],r}const bu=n=>({style:n[0]&4,index:n[0]&4}),Ps=n=>({style:n[37].style,index:n[37].index}),yu=n=>({}),Ms=n=>({});function Ls(n,e){let t,r;const l=e[21].item,o=Tn(l,e,e[20],Ps);return{key:n,first:null,c(){t=gt(),o&&o.c(),this.h()},l(s){t=gt(),o&&o.l(s),this.h()},h(){this.first=t},m(s,u){ee(s,t,u),o&&o.m(s,u),r=!0},p(s,u){e=s,o&&o.p&&(!r||u[0]&1048580)&&In(o,l,e,e[20],r?On(l,e[20],u,bu):An(e[20]),Ps)},i(s){r||(Le(o,s),r=!0)},o(s){qe(o,s),r=!1},d(s){s&&_(t),o&&o.d(s)}}}function wu(n){let e,t,r,l=[],o=new Map,s,u;const f=n[21].header,h=Tn(f,n,n[20],Ms);let p=ot(n[2]);const y=C=>C[0]?C[0](C[37].index):C[37].index;for(let C=0;C<p.length;C+=1){let D=Os(n,p,C),B=y(D);o.set(B,l[C]=Ls(B,D))}const S=n[21].footer,P=Tn(S,n,n[20],As);return{c(){e=A("div"),h&&h.c(),t=ae(),r=A("div");for(let C=0;C<l.length;C+=1)l[C].c();s=ae(),P&&P.c(),this.h()},l(C){e=O(C,"DIV",{class:!0,style:!0});var D=z(e);h&&h.l(D),t=oe(D),r=O(D,"DIV",{class:!0,style:!0});var B=z(r);for(let R=0;R<l.length;R+=1)l[R].l(B);B.forEach(_),s=oe(D),P&&P.l(D),D.forEach(_),this.h()},h(){m(r,"class","virtual-list-inner svelte-dwpad5"),m(r,"style",n[4]),m(e,"class","virtual-list-wrapper svelte-dwpad5"),m(e,"style",n[3])},m(C,D){ee(C,e,D),h&&h.m(e,null),v(e,t),v(e,r);for(let B=0;B<l.length;B+=1)l[B]&&l[B].m(r,null);v(e,s),P&&P.m(e,null),n[22](e),u=!0},p(C,D){h&&h.p&&(!u||D[0]&1048576)&&In(h,f,C,C[20],u?On(f,C[20],D,yu):An(C[20]),Ms),D[0]&1048581&&(p=ot(C[2]),un(),l=Nr(l,D,y,1,C,p,o,r,Ho,Ls,null,Os),cn()),(!u||D[0]&16)&&m(r,"style",C[4]),P&&P.p&&(!u||D[0]&1048576)&&In(P,S,C,C[20],u?On(S,C[20],D,vu):An(C[20]),As),(!u||D[0]&8)&&m(e,"style",C[3])},i(C){if(!u){Le(h,C);for(let D=0;D<p.length;D+=1)Le(l[D]);Le(P,C),u=!0}},o(C){qe(h,C);for(let D=0;D<l.length;D+=1)qe(l[D]);qe(P,C),u=!1},d(C){C&&_(e),h&&h.d(C);for(let D=0;D<l.length;D+=1)l[D].d();P&&P.d(C),n[22](null)}}}const ku=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();function Su(n,e,t){let{$$slots:r={},$$scope:l}=e,{height:o}=e,{width:s="100%"}=e,{itemCount:u}=e,{itemSize:f}=e,{estimatedItemSize:h=null}=e,{stickyIndices:p=null}=e,{getKey:y=null}=e,{scrollDirection:S=hr.VERTICAL}=e,{scrollOffset:P=null}=e,{scrollToIndex:C=null}=e,{scrollToAlignment:D=null}=e,{scrollToBehaviour:B="instant"}=e,{overscanCount:R=3}=e;const I=Gi(),K=new _u({itemCount:u,itemSize:f,estimatedItemSize:j()});let T=!1,ie,ne=[],J={offset:P||C!=null&&ne.length&&_e(C)||0,scrollChangeReason:si.REQUESTED},Ce=J,he={scrollToIndex:C,scrollToAlignment:D,scrollOffset:P,itemCount:u,itemSize:f,estimatedItemSize:h},$={},ge="",De="";ke(),xa(()=>{t(18,T=!0),ie.addEventListener("scroll",k,ku),P!=null?pe(P):C!=null&&pe(_e(C))}),To(()=>{T&&ie.removeEventListener("scroll",k)});function ye(){if(!T)return;const Y=he.scrollToIndex!==C||he.scrollToAlignment!==D,le=he.itemCount!==u||he.itemSize!==f||he.estimatedItemSize!==h;le&&(K.updateConfig({itemSize:f,itemCount:u,estimatedItemSize:j()}),ue()),he.scrollOffset!==P?t(19,J={offset:P||0,scrollChangeReason:si.REQUESTED}):typeof C=="number"&&(Y||le)&&t(19,J={offset:_e(C,D,u),scrollChangeReason:si.REQUESTED}),he={scrollToIndex:C,scrollToAlignment:D,scrollOffset:P,itemCount:u,itemSize:f,estimatedItemSize:h}}function fe(){if(!T)return;const{offset:Y,scrollChangeReason:le}=J;(Ce.offset!==Y||Ce.scrollChangeReason!==le)&&ke(),Ce.offset!==Y&&le===si.REQUESTED&&pe(Y),Ce=J}function ke(){const{offset:Y}=J,{start:le,stop:W}=K.getVisibleRange({containerSize:S===hr.VERTICAL?o:s,offset:Y,overscanCount:R});let Se=[];const Ve=K.getTotalSize();S===hr.VERTICAL?(t(3,ge=`height:${o}${typeof o=="number"?"px":""};width:${s};`),t(4,De=`flex-direction:column;height:${Ve}px;`)):(t(3,ge=`height:${o};width:${s}${typeof s=="number"?"px":""}`),t(4,De=`min-height:100%;width:${Ve}px;`));const me=p!=null&&p.length!==0;if(me)for(let te=0;te<p.length;te++){const xe=p[te];Se.push({index:xe,style:se(xe,!0)})}if(le!==void 0&&W!==void 0){for(let te=le;te<=W;te++)me&&p.includes(te)||Se.push({index:te,style:se(te,!1)});I("itemsUpdated",{start:le,end:W})}t(2,ne=Se)}function pe(Y){"scroll"in ie?ie.scroll({[gu[S]]:Y,behavior:B}):t(1,ie[Is[S]]=Y,ie)}function ue(Y=0){$={},K.resetItem(Y),ke()}function _e(Y,le=D,W=u){return(Y<0||Y>=W)&&(Y=0),K.getUpdatedOffsetForIndex({align:le,containerSize:S===hr.VERTICAL?o:s,currentOffset:J.offset||0,targetIndex:Y})}function k(Y){const le=M();le<0||J.offset===le||Y.target!==ie||(t(19,J={offset:le,scrollChangeReason:si.OBSERVED}),I("afterScroll",{offset:le,event:Y}))}function M(){return ie[Is[S]]}function j(){return h||typeof f=="number"&&f||50}function se(Y,le){if($[Y])return $[Y];const{size:W,offset:Se}=K.getSizeAndPositionForIndex(Y);let Ve;return S===hr.VERTICAL?(Ve=`left:0;width:100%;height:${W}px;`,le?Ve+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${Se}px;margin-bottom:${-(Se+W)}px;`:Ve+=`position:absolute;top:${Se}px;`):(Ve=`top:0;width:${W}px;`,le?Ve+=`position:sticky;z-index:1;left:0;margin-left:${Se}px;margin-right:${-(Se+W)}px;`:Ve+=`position:absolute;height:100%;left:${Se}px;`),$[Y]=Ve}function N(Y){Ut[Y?"unshift":"push"](()=>{ie=Y,t(1,ie)})}return n.$$set=Y=>{"height"in Y&&t(5,o=Y.height),"width"in Y&&t(6,s=Y.width),"itemCount"in Y&&t(7,u=Y.itemCount),"itemSize"in Y&&t(8,f=Y.itemSize),"estimatedItemSize"in Y&&t(9,h=Y.estimatedItemSize),"stickyIndices"in Y&&t(10,p=Y.stickyIndices),"getKey"in Y&&t(0,y=Y.getKey),"scrollDirection"in Y&&t(11,S=Y.scrollDirection),"scrollOffset"in Y&&t(12,P=Y.scrollOffset),"scrollToIndex"in Y&&t(13,C=Y.scrollToIndex),"scrollToAlignment"in Y&&t(14,D=Y.scrollToAlignment),"scrollToBehaviour"in Y&&t(15,B=Y.scrollToBehaviour),"overscanCount"in Y&&t(16,R=Y.overscanCount),"$$scope"in Y&&t(20,l=Y.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&29568&&ye(),n.$$.dirty[0]&524288&&fe(),n.$$.dirty[0]&263264&&T&&ue(0)},[y,ie,ne,ge,De,o,s,u,f,h,p,S,P,C,D,B,R,ue,T,J,l,r,N]}class Eu extends Fn{constructor(e){super(),zn(this,e,Su,wu,Pn,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get height(){return this.$$.ctx[5]}set height(e){this.$$set({height:e}),Vn()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),Vn()}get itemCount(){return this.$$.ctx[7]}set itemCount(e){this.$$set({itemCount:e}),Vn()}get itemSize(){return this.$$.ctx[8]}set itemSize(e){this.$$set({itemSize:e}),Vn()}get estimatedItemSize(){return this.$$.ctx[9]}set estimatedItemSize(e){this.$$set({estimatedItemSize:e}),Vn()}get stickyIndices(){return this.$$.ctx[10]}set stickyIndices(e){this.$$set({stickyIndices:e}),Vn()}get getKey(){return this.$$.ctx[0]}set getKey(e){this.$$set({getKey:e}),Vn()}get scrollDirection(){return this.$$.ctx[11]}set scrollDirection(e){this.$$set({scrollDirection:e}),Vn()}get scrollOffset(){return this.$$.ctx[12]}set scrollOffset(e){this.$$set({scrollOffset:e}),Vn()}get scrollToIndex(){return this.$$.ctx[13]}set scrollToIndex(e){this.$$set({scrollToIndex:e}),Vn()}get scrollToAlignment(){return this.$$.ctx[14]}set scrollToAlignment(e){this.$$set({scrollToAlignment:e}),Vn()}get scrollToBehaviour(){return this.$$.ctx[15]}set scrollToBehaviour(e){this.$$set({scrollToBehaviour:e}),Vn()}get overscanCount(){return this.$$.ctx[16]}set overscanCount(e){this.$$set({overscanCount:e}),Vn()}get recomputeSizes(){return this.$$.ctx[17]}}function wl(n,e){const t=window.getComputedStyle(n);let{groups:{value:r,unit:l}}=t[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),o=parseFloat(r);if(l!=="px"){const s=l==="rem"?document.documentElement:n.parentElement.parentElement;o=parseFloat(window.getComputedStyle(s).fontSize.match(/\d+/).shift())*o}return o}function Du(n){const e=n.parentElement.parentElement.getBoundingClientRect(),t=n.getBoundingClientRect(),r={};return r.top=e.top<0,r.left=e.left<0,r.bottom=e.bottom+t.height>(window.innerHeight||document.documentElement.clientHeight)&&e.top>t.height&&(window.innerHeight||document.documentElement.clientHeight)>t.height+50,r.right=e.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function kl(n,e,t){if(!e||!t)return;const r=Du(e);r.bottom&&!r.top?e.parentElement.style.bottom=e.parentElement.parentElement.clientHeight+1+"px":(!n||r.top||e.parentElement.style.bottom!=="")&&(e.parentElement.style.bottom="")}function Cu(n,e,t){let r;const l=wl(e,"maxHeight")-wl(e,"paddingTop")-wl(e,"paddingBottom");e.parentElement.style.cssText="opacity: 0; display: block";const o=n.$$.ctx[1].firstElementChild.firstElementChild;if(o){o.style="";const s=o.getBoundingClientRect().height,u=n.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let f;if(u&&(u.style="",f=u.getBoundingClientRect().height),f&&s!==f){const h=t[0].$isGroupHeader?s:f,p=t[0].$isGroupHeader?f:s;r=t.map(y=>y.$isGroupHeader?h:p)}else r=s}return e.parentElement.style.cssText="",{size:r,height:l}}function Oi({container:n,scrollContainer:e,virtualList:t,center:r},l){if(t||!n)return;const o=n.querySelector(`[data-pos="${l}"]`);if(!o)return;const s=o.getBoundingClientRect(),u=e.getBoundingClientRect(),f=o.offsetHeight/3,h=r?e.offsetHeight/2:0;switch(!0){case o.offsetTop<e.scrollTop:e.scrollTop=o.offsetTop-f+h;break;case o.offsetTop+s.height>e.scrollTop+u.height:e.scrollTop=o.offsetTop+s.height-e.offsetHeight+f+h;break}}function Tu(n,e,t,r){return{optionProps:[],optionsWithGroups:!1,valueField:n,labelField:e,optLabel:t,optItems:r}}function Iu(n,e,t,r,l){if(t)return Array.isArray(e)?e:[e];const o=Array.isArray(e)?e:[e];return n.reduce((u,f,h)=>{const p=f[r]&&Array.isArray(f)?f[r]:null;if(p){const y=p.reduce((S,P)=>(o.includes(P[l])&&S.push(P),S),[]);if(y.length)return u.push(...y),u}return u},[]).sort((u,f)=>o.indexOf(u[l])<o.indexOf(f[l])?-1:1)}function Rs(n,e,t){return typeof n[0]=="object"?JSON.parse(JSON.stringify(n)):n.map(r=>({[e||"value"]:r,[t||"text"]:r}))}function Au(n,e){const t=n.reduce((r,l,o)=>l[e.optItems]?(l[e.optItems].length===0||(e.optionsWithGroups=!0,r.push({label:l[e.optLabel],$isGroupHeader:!0}),r.push(...l[e.optItems].map(s=>(s.$isGroupItem=!0,s)))),r):(r.push(l),r),[]);return Ou(t,e),t}function Ou(n,e){n.some(t=>t.$isGroupHeader?!1:(e.optionProps=Pu(t),!0))}function Pu(n){const e=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(n).filter(t=>!e.includes(t))}function Mu(n,e,t,r,l){if(t&&(n=n.filter(h=>!t.has(h[r.valueField])).filter((h,p,y)=>!(h.$isGroupHeader&&(y[p+1]&&y[p+1].$isGroupHeader||y.length<=1||y.length-1===p)))),l.disabled||!e)return n;const o=new Br(n);(r.optionsWithGroups||l.skipSort)&&(o.getSortFunction=()=>null);let s="and";e.includes("|")&&(s="or",e=e.split("|").map(h=>h.trim()).join(" "));const u=o.search(e,{fields:l.fields||r.optionProps,sort:l.sort||Lu(r.labelField),conjunction:l.conjunction||s,nesting:l.nesting||!1,wordsOnly:l.wordsOnly||!1,startOnly:l.startOnly||!1});return r.optionsWithGroups?u.items.reduce((h,p)=>{const y=n[p.id];if(t&&y.isSelected)return h;const S=h.push(y);if(y.$isGroupItem){const P=n.slice(0,p.id);let C=null;do C=P.pop(),C&&C.$isGroupHeader&&!h.includes(C)&&h.splice(S-1,0,C);while(C&&!C.$isGroupHeader)}return h},[]):u.items.map(h=>n[h.id])}function Lu(n){return[{field:n,direction:"asc"}]}function Pi(n,e,t){const r=n==="value";let l=r?"value":"text";if(e&&e.length){const o=e[0][t]?e[0][t][0]:e[0];if(!o||typeof o=="string")return l;const s=r?0:1,u=r?["id","value","ID"]:["name","title","label"];l=Object.keys(o).filter(f=>u.includes(f)).concat([Object.keys(o)[s]]).shift()}return l}function so(n,e){return n.bound_item=e,{destroy:()=>{}}}const Ru=n=>({isCreating:n[1]&16,inputValue:n[0]&8388608,i18n:n[0]&16777216}),Ns=n=>({isCreating:n[35],inputValue:n[23],i18n:n[24]});function Bs(n,e,t){const r=n.slice();return r[164]=e[t],r[166]=t,r}const Nu=n=>({item:n[0]&33554432,inputValue:n[0]&8388608}),Fs=n=>({item:n[164],inputValue:n[23]});function zs(n){const e=n[25][n[163]];n[164]=e}const Bu=n=>({item:n[0]&33554432|n[5]&256,inputValue:n[0]&8388608}),Ks=n=>({item:n[164],inputValue:n[23]}),Fu=n=>({}),js=n=>({}),zu=n=>({}),Hs=n=>({}),Ku=n=>({isOpen:n[0]&1048576}),Vs=n=>({isOpen:n[20]}),ju=n=>({selectedOptions:n[0]&524288,inputValue:n[0]&8388608}),qs=n=>({selectedOptions:n[19],inputValue:n[23]});function Us(n,e,t){const r=n.slice();return r[164]=e[t],r}const Hu=n=>({selectedOptions:n[0]&524288}),Gs=n=>({selectedOptions:n[19],bindItem:so}),Vu=n=>({selectedOptions:n[0]&524288,i18n:n[0]&16777216}),Ws=n=>({selectedOptions:n[19],i18n:n[24]}),qu=n=>({}),Ys=n=>({});function Zs(n,e,t){const r=n.slice();return r[164]=e[t],r}function Js(n){let e,t,r,l,o;return{c(){e=A("span"),t=Ne(n[46]),r=ae(),l=A("span"),o=Ne(n[45]),this.h()},l(s){e=O(s,"SPAN",{id:!0});var u=z(e);t=Be(u,n[46]),u.forEach(_),r=oe(s),l=O(s,"SPAN",{id:!0});var f=z(l);o=Be(f,n[45]),f.forEach(_),this.h()},h(){m(e,"id","aria-selection"),m(l,"id","aria-context")},m(s,u){ee(s,e,u),v(e,t),ee(s,r,u),ee(s,l,u),v(l,o)},p(s,u){u[1]&32768&&$e(t,s[46]),u[1]&16384&&$e(o,s[45])},d(s){s&&(_(e),_(r),_(l))}}}function Qs(n){let e,t=[],r=new Map,l,o,s,u=ot(n[19]);const f=h=>h[164][h[27]];for(let h=0;h<u.length;h+=1){let p=Zs(n,u,h),y=f(p);r.set(y,t[h]=Xs(y,p))}return{c(){e=A("select");for(let h=0;h<t.length;h+=1)t[h].c();this.h()},l(h){e=O(h,"SELECT",{name:!0,size:!0,class:!0,id:!0,tabindex:!0,"aria-hidden":!0});var p=z(e);for(let y=0;y<t.length;y+=1)t[y].l(p);p.forEach(_),this.h()},h(){m(e,"name",n[4]),e.required=n[5],e.multiple=n[0],e.disabled=n[3],m(e,"size","1"),m(e,"class","sv-hidden-element form-select"),m(e,"id",n[50]),m(e,"tabindex","-1"),m(e,"aria-hidden","true")},m(h,p){ee(h,e,p);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);n[112](e),o||(s=ci(l=n[60].call(null,e,n[13])),o=!0)},p(h,p){p[0]&134742016&&(u=ot(h[19]),t=Nr(t,p,f,1,h,u,r,e,Yr,Xs,null,Zs)),p[0]&16&&m(e,"name",h[4]),p[0]&32&&(e.required=h[5]),p[0]&1&&(e.multiple=h[0]),p[0]&8&&(e.disabled=h[3]),l&&Zr(l.update)&&p[0]&8192&&l.update.call(null,h[13])},d(h){h&&_(e);for(let p=0;p<t.length;p+=1)t[p].d();n[112](null),o=!1,s()}}}function Xs(n,e){let t,r;return{key:n,first:null,c(){t=A("option"),this.h()},l(l){t=O(l,"OPTION",{}),z(t).forEach(_),this.h()},h(){t.__value=r=e[164][e[27]],Ht(t,t.__value),t.selected=!0,this.first=t},m(l,o){ee(l,t,o)},p(l,o){e=l,o[0]&134742016&&r!==(r=e[164][e[27]])&&(t.__value=r,Ht(t,t.__value))},d(l){l&&_(t)}}}function xs(n){let e,t,r,l;const o=[Gu,Uu],s=[];function u(f,h){return f[0]&&f[33]?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=gt()},l(f){t.l(f),r=gt()},m(f,h){s[e].m(f,h),ee(f,r,h),l=!0},p(f,h){let p=e;e=u(f),e===p?s[e].p(f,h):(un(),qe(s[p],1,1,()=>{s[p]=null}),cn(),t=s[e],t?t.p(f,h):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&_(r),s[e].d(f)}}}function Uu(n){let e;const t=n[109].selection,r=Tn(t,n,n[118],Gs),l=r||Wu(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r?r.p&&(!e||s[0]&524288|s[3]&33554432)&&In(r,t,o,o[118],e?On(t,o[118],s,Hu):An(o[118]),Gs):l&&l.p&&(!e||s[0]&524289|s[1]&8192)&&l.p(o,e?s:[-1,-1,-1,-1,-1,-1])},i(o){e||(Le(l,o),e=!0)},o(o){qe(l,o),e=!1},d(o){l&&l.d(o)}}}function Gu(n){let e;const t=n[109].collapsedSelection,r=Tn(t,n,n[118],Ws),l=r||Yu(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r?r.p&&(!e||s[0]&17301504|s[3]&33554432)&&In(r,t,o,o[118],e?On(t,o[118],s,Vu):An(o[118]),Ws):l&&l.p&&(!e||s[0]&17301504)&&l.p(o,e?s:[-1,-1,-1,-1,-1,-1])},i(o){e||(Le(l,o),e=!0)},o(o){qe(l,o),e=!1},d(o){l&&l.d(o)}}}function $s(n){let e,t='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',r,l,o;return{c(){e=A("button"),e.innerHTML=t,this.h()},l(s){e=O(s,"BUTTON",{class:!0,tabindex:!0,type:!0,"data-action":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-179wtvk"&&(e.innerHTML=t),this.h()},h(){m(e,"class","sv-item--btn"),m(e,"tabindex","-1"),m(e,"type","button"),m(e,"data-action","deselect")},m(s,u){ee(s,e,u),l||(o=ci(r=so.call(null,e,n[164])),l=!0)},p(s,u){n=s,r&&Zr(r.update)&&u[0]&524288&&r.update.call(null,n[164])},d(s){s&&_(e),l=!1,o()}}}function ea(n,e){let t,r,l,o,s=e[44](e[164],!0)+"",u,f,h,p=wt,y,S,P=e[0]&&$s(e);return{key:n,first:null,c(){t=A("div"),r=A("div"),l=A("div"),o=new Wi(!1),u=ae(),P&&P.c(),f=ae(),this.h()},l(C){t=O(C,"DIV",{class:!0});var D=z(t);r=O(D,"DIV",{class:!0});var B=z(r);l=O(B,"DIV",{class:!0});var R=z(l);o=Yi(R,!1),R.forEach(_),B.forEach(_),u=oe(D),P&&P.l(D),f=oe(D),D.forEach(_),this.h()},h(){o.a=null,m(l,"class","sv-item--content"),m(r,"class","sv-item--wrap"),Me(r,"is-multi",e[0]),m(t,"class","sv-item--container svelte-hi60qz"),this.first=t},m(C,D){ee(C,t,D),v(t,r),v(r,l),o.m(s,l),v(t,u),P&&P.m(t,null),v(t,f),y||(S=Ze(t,"mousedown",Il(e[111])),y=!0)},p(C,D){e=C,D[0]&524288|D[1]&8192&&s!==(s=e[44](e[164],!0)+"")&&o.p(s),D[0]&1&&Me(r,"is-multi",e[0]),e[0]?P?P.p(e,D):(P=$s(e),P.c(),P.m(t,f)):P&&(P.d(1),P=null)},r(){h=t.getBoundingClientRect()},f(){Ko(t),p()},a(){p(),p=zo(t,h,mu,{duration:e[36]})},d(C){C&&_(t),P&&P.d(),y=!1,S()}}}function Wu(n){let e=[],t=new Map,r,l=ot(n[19]);const o=s=>s[164][s[27]];for(let s=0;s<l.length;s+=1){let u=Us(n,l,s),f=o(u);t.set(f,e[s]=ea(f,u))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=gt()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);r=gt()},m(s,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,u);ee(s,r,u)},p(s,u){if(u[0]&134742017|u[1]&8192){l=ot(s[19]);for(let f=0;f<e.length;f+=1)e[f].r();e=Nr(e,u,o,1,s,l,t,r.parentNode,Vo,ea,r,Us);for(let f=0;f<e.length;f+=1)e[f].a()}},d(s){s&&_(r);for(let u=0;u<e.length;u+=1)e[u].d(s)}}}function Yu(n){let e=n[24].collapsedSelection(n[19].length)+"",t;return{c(){t=Ne(e)},l(r){t=Be(r,e)},m(r,l){ee(r,t,l)},p(r,l){l[0]&17301504&&e!==(e=r[24].collapsedSelection(r[19].length)+"")&&$e(t,e)},d(r){r&&_(t)}}}function ta(n){let e,t;const r=n[109]["clear-icon"],l=Tn(r,n,n[118],qs),o=l||Zu(n);return{c(){e=A("button"),o&&o.c(),this.h()},l(s){e=O(s,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var u=z(e);o&&o.l(u),u.forEach(_),this.h()},h(){m(e,"type","button"),m(e,"class","sv-btn-indicator svelte-hi60qz"),m(e,"data-action","deselect"),m(e,"tabindex","-1"),Me(e,"sv-has-selection",n[19].length)},m(s,u){ee(s,e,u),o&&o.m(e,null),t=!0},p(s,u){l?l.p&&(!t||u[0]&8912896|u[3]&33554432)&&In(l,r,s,s[118],t?On(r,s[118],u,ju):An(s[118]),qs):o&&o.p&&(!t||u[0]&524288)&&o.p(s,t?u:[-1,-1,-1,-1,-1,-1]),(!t||u[0]&524288)&&Me(e,"sv-has-selection",s[19].length)},i(s){t||(Le(o,s),t=!0)},o(s){qe(o,s),t=!1},d(s){s&&_(e),o&&o.d(s)}}}function na(n){let e,t;return{c(){e=Rt("svg"),t=Rt("path"),this.h()},l(r){e=Nt(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=z(e);t=Nt(l,"path",{d:!0}),z(t).forEach(_),l.forEach(_),this.h()},h(){m(t,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),m(e,"class","indicator-icon svelte-hi60qz"),m(e,"viewBox","0 0 20 20"),m(e,"aria-hidden","true"),m(e,"focusable","false")},m(r,l){ee(r,e,l),v(e,t)},d(r){r&&_(e)}}}function Zu(n){let e,t=n[19].length&&na();return{c(){t&&t.c(),e=gt()},l(r){t&&t.l(r),e=gt()},m(r,l){t&&t.m(r,l),ee(r,e,l)},p(r,l){r[19].length?t||(t=na(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&_(e),t&&t.d(r)}}}function ra(n){let e;return{c(){e=A("span"),this.h()},l(t){e=O(t,"SPAN",{class:!0}),z(e).forEach(_),this.h()},h(){m(e,"class","sv-btn-separator svelte-hi60qz")},m(t,r){ee(t,e,r)},d(t){t&&_(e)}}}function Ju(n){let e,t;return{c(){e=Rt("svg"),t=Rt("path"),this.h()},l(r){e=Nt(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=z(e);t=Nt(l,"path",{d:!0}),z(t).forEach(_),l.forEach(_),this.h()},h(){m(t,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),m(e,"class","indicator-icon svelte-hi60qz"),m(e,"viewBox","0 0 20 20"),m(e,"aria-hidden","true"),m(e,"focusable","false")},m(r,l){ee(r,e,l),v(e,t)},p:wt,d(r){r&&_(e)}}}function ia(n){let e,t,r,l,o,s,u,f;const h=n[109]["list-header"],p=Tn(h,n,n[118],js),y=[Xu,Qu],S=[];function P(D,B){return D[25].length?0:D[25].length===0&&(!D[14]||!D[23])||D[26]?1:-1}~(l=P(n))&&(o=S[l]=y[l](n));let C=n[14]&&n[23]&&!n[26]&&sa(n);return{c(){p&&p.c(),e=ae(),t=A("div"),r=A("div"),o&&o.c(),s=ae(),C&&C.c(),u=gt(),this.h()},l(D){p&&p.l(D),e=oe(D),t=O(D,"DIV",{class:!0,tabindex:!0});var B=z(t);r=O(B,"DIV",{class:!0});var R=z(r);o&&o.l(R),R.forEach(_),B.forEach(_),s=oe(D),C&&C.l(D),u=gt(),this.h()},h(){m(r,"class","sv-dropdown-content"),Me(r,"max-reached",n[26]),m(t,"class","sv-dropdown-scroll svelte-hi60qz"),m(t,"tabindex","-1"),Me(t,"has-items",n[25].length>0),Me(t,"is-virtual",n[15])},m(D,B){p&&p.m(D,B),ee(D,e,B),ee(D,t,B),v(t,r),~l&&S[l].m(r,null),n[116](r),n[117](t),ee(D,s,B),C&&C.m(D,B),ee(D,u,B),f=!0},p(D,B){p&&p.p&&(!f||B[3]&33554432)&&In(p,h,D,D[118],f?On(h,D[118],B,Fu):An(D[118]),js);let R=l;l=P(D),l===R?~l&&S[l].p(D,B):(o&&(un(),qe(S[R],1,1,()=>{S[R]=null}),cn()),~l?(o=S[l],o?o.p(D,B):(o=S[l]=y[l](D),o.c()),Le(o,1),o.m(r,null)):o=null),(!f||B[0]&67108864)&&Me(r,"max-reached",D[26]),(!f||B[0]&33554432)&&Me(t,"has-items",D[25].length>0),(!f||B[0]&32768)&&Me(t,"is-virtual",D[15]),D[14]&&D[23]&&!D[26]?C?(C.p(D,B),B[0]&75513856&&Le(C,1)):(C=sa(D),C.c(),Le(C,1),C.m(u.parentNode,u)):C&&(un(),qe(C,1,1,()=>{C=null}),cn())},i(D){f||(Le(p,D),Le(o),Le(C),f=!0)},o(D){qe(p,D),qe(o),qe(C),f=!1},d(D){D&&(_(e),_(t),_(s),_(u)),p&&p.d(D),~l&&S[l].d(),n[116](null),n[117](null),C&&C.d(D)}}}function Qu(n){let e,t,r,l;return{c(){e=A("div"),t=A("div"),r=A("div"),l=Ne(n[42]),this.h()},l(o){e=O(o,"DIV",{class:!0});var s=z(e);t=O(s,"DIV",{class:!0});var u=z(t);r=O(u,"DIV",{class:!0});var f=z(r);l=Be(f,n[42]),f.forEach(_),u.forEach(_),s.forEach(_),this.h()},h(){m(r,"class","sv-item--content"),m(t,"class","sv-item--wrap"),m(e,"class","is-dropdown-row svelte-hi60qz")},m(o,s){ee(o,e,s),v(e,t),v(t,r),v(r,l)},p(o,s){s[1]&2048&&$e(l,o[42])},i:wt,o:wt,d(o){o&&_(e)}}}function Xu(n){let e,t,r,l;const o=[$u,xu],s=[];function u(f,h){return f[15]?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=gt()},l(f){t.l(f),r=gt()},m(f,h){s[e].m(f,h),ee(f,r,h),l=!0},p(f,h){let p=e;e=u(f),e===p?s[e].p(f,h):(un(),qe(s[p],1,1,()=>{s[p]=null}),cn(),t=s[e],t?t.p(f,h):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&_(r),s[e].d(f)}}}function xu(n){let e,t,r=ot(n[25]),l=[];for(let s=0;s<r.length;s+=1)l[s]=la(Bs(n,r,s));const o=s=>qe(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=gt()},l(s){for(let u=0;u<l.length;u+=1)l[u].l(s);e=gt()},m(s,u){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);ee(s,e,u),t=!0},p(s,u){if(u[0]&44041344|u[1]&8192|u[3]&33554432){r=ot(s[25]);let f;for(f=0;f<r.length;f+=1){const h=Bs(s,r,f);l[f]?(l[f].p(h,u),Le(l[f],1)):(l[f]=la(h),l[f].c(),Le(l[f],1),l[f].m(e.parentNode,e))}for(un(),f=r.length;f<l.length;f+=1)o(f);cn()}},i(s){if(!t){for(let u=0;u<r.length;u+=1)Le(l[u]);t=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)qe(l[u]);t=!1},d(s){s&&_(e),Bn(l,s)}}}function $u(n){let e,t,r={width:"100%",height:n[49],itemCount:n[25].length,itemSize:n[22],scrollToAlignment:"auto",scrollToIndex:n[21],$$slots:{item:[sc,({style:l,index:o})=>({162:l,163:o}),({style:l,index:o})=>[0,0,0,0,0,(l?128:0)|(o?256:0)]]},$$scope:{ctx:n}};return e=new Eu({props:r}),n[115](e),{c(){Jt(e.$$.fragment)},l(l){Qt(e.$$.fragment,l)},m(l,o){Xt(e,l,o),t=!0},p(l,o){const s={};o[1]&262144&&(s.height=l[49]),o[0]&33554432&&(s.itemCount=l[25].length),o[0]&4194304&&(s.itemSize=l[22]),o[0]&2097152&&(s.scrollToIndex=l[21]),o[0]&44041344|o[1]&8192|o[3]&33554432|o[5]&384&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){t||(Le(e.$$.fragment,l),t=!0)},o(l){qe(e.$$.fragment,l),t=!1},d(l){n[115](null),xt(e,l)}}}function ec(n){let e,t,r;const l=n[109].option,o=Tn(l,n,n[118],Fs),s=o||nc(n);return{c(){e=A("div"),s&&s.c(),t=ae(),this.h()},l(u){e=O(u,"DIV",{"data-pos":!0,class:!0});var f=z(e);s&&s.l(f),t=oe(f),f.forEach(_),this.h()},h(){m(e,"data-pos",n[166]),m(e,"class","sv-item--wrap in-dropdown svelte-hi60qz"),Me(e,"sv-dd-item-active",n[21]===n[166]),Me(e,"is-selected",n[164].$selected),Me(e,"is-disabled",n[164][n[7]])},m(u,f){ee(u,e,f),s&&s.m(e,null),v(e,t),r=!0},p(u,f){o?o.p&&(!r||f[0]&41943040|f[3]&33554432)&&In(o,l,u,u[118],r?On(l,u[118],f,Nu):An(u[118]),Fs):s&&s.p&&(!r||f[0]&41944064|f[1]&8192)&&s.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[0]&2097152)&&Me(e,"sv-dd-item-active",u[21]===u[166]),(!r||f[0]&33554432)&&Me(e,"is-selected",u[164].$selected),(!r||f[0]&33554560)&&Me(e,"is-disabled",u[164][u[7]])},i(u){r||(Le(s,u),r=!0)},o(u){qe(s,u),r=!1},d(u){u&&_(e),s&&s.d(u)}}}function tc(n){let e,t,r=n[164].label+"",l;return{c(){e=A("div"),t=A("b"),l=Ne(r),this.h()},l(o){e=O(o,"DIV",{class:!0});var s=z(e);t=O(s,"B",{});var u=z(t);l=Be(u,r),u.forEach(_),s.forEach(_),this.h()},h(){m(e,"class","sv-optgroup-header")},m(o,s){ee(o,e,s),v(e,t),v(t,l)},p(o,s){s[0]&33554432&&r!==(r=o[164].label+"")&&$e(l,r)},i:wt,o:wt,d(o){o&&_(e)}}}function nc(n){let e,t,r=Ui(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Wi(!1),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);t=Yi(o,!1),o.forEach(_),this.h()},h(){t.a=null,m(e,"class","sv-item--content")},m(l,o){ee(l,e,o),t.m(r,e)},p(l,o){o[0]&41944064|o[1]&8192&&r!==(r=Ui(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&_(e)}}}function la(n){let e,t,r,l;const o=[tc,ec],s=[];function u(f,h){return f[164].$isGroupHeader?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=gt()},l(f){t.l(f),r=gt()},m(f,h){s[e].m(f,h),ee(f,r,h),l=!0},p(f,h){let p=e;e=u(f),e===p?s[e].p(f,h):(un(),qe(s[p],1,1,()=>{s[p]=null}),cn(),t=s[e],t?t.p(f,h):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&_(r),s[e].d(f)}}}function rc(n){let e,t,r;const l=n[109].option,o=Tn(l,n,n[118],Ks),s=o||lc(n);return{c(){e=A("div"),s&&s.c(),this.h()},l(u){e=O(u,"DIV",{"data-pos":!0,class:!0});var f=z(e);s&&s.l(f),f.forEach(_),this.h()},h(){m(e,"data-pos",t=n[163]),m(e,"class","sv-item--wrap in-dropdown svelte-hi60qz"),Me(e,"sv-dd-item-active",n[21]===n[163]),Me(e,"is-selected",n[164].$selected),Me(e,"is-disabled",n[164][n[7]])},m(u,f){ee(u,e,f),s&&s.m(e,null),r=!0},p(u,f){o?o.p&&(!r||f[0]&41943040|f[3]&33554432|f[5]&256)&&In(o,l,u,u[118],r?On(l,u[118],f,Bu):An(u[118]),Ks):s&&s.p&&(!r||f[0]&41944064|f[1]&8192|f[5]&256)&&s.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[5]&256&&t!==(t=u[163]))&&m(e,"data-pos",t),(!r||f[0]&2097152|f[5]&256)&&Me(e,"sv-dd-item-active",u[21]===u[163]),(!r||f[0]&33554432|f[5]&256)&&Me(e,"is-selected",u[164].$selected),(!r||f[0]&33554560|f[5]&256)&&Me(e,"is-disabled",u[164][u[7]])},i(u){r||(Le(s,u),r=!0)},o(u){qe(s,u),r=!1},d(u){u&&_(e),s&&s.d(u)}}}function ic(n){let e,t,r=n[164].label+"",l;return{c(){e=A("div"),t=A("b"),l=Ne(r),this.h()},l(o){e=O(o,"DIV",{class:!0});var s=z(e);t=O(s,"B",{});var u=z(t);l=Be(u,r),u.forEach(_),s.forEach(_),this.h()},h(){m(e,"class","sv-optgroup-header")},m(o,s){ee(o,e,s),v(e,t),v(t,l)},p(o,s){s[0]&33554432|s[5]&256&&r!==(r=o[164].label+"")&&$e(l,r)},i:wt,o:wt,d(o){o&&_(e)}}}function lc(n){let e,t,r=Ui(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Wi(!1),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);t=Yi(o,!1),o.forEach(_),this.h()},h(){t.a=null,m(e,"class","sv-item--content")},m(l,o){ee(l,e,o),t.m(r,e)},p(l,o){o[0]&41944064|o[1]&8192|o[5]&256&&r!==(r=Ui(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&_(e)}}}function sc(n){zs(n);let e,t,r,l,o;const s=[ic,rc],u=[];function f(h,p){return h[164].$isGroupHeader?0:1}return t=f(n),r=u[t]=s[t](n),{c(){e=A("div"),r.c(),this.h()},l(h){e=O(h,"DIV",{slot:!0,style:!0});var p=z(e);r.l(p),p.forEach(_),this.h()},h(){m(e,"slot","item"),m(e,"style",l=n[162])},m(h,p){ee(h,e,p),u[t].m(e,null),o=!0},p(h,p){zs(h);let y=t;t=f(h),t===y?u[t].p(h,p):(un(),qe(u[y],1,1,()=>{u[y]=null}),cn(),r=u[t],r?r.p(h,p):(r=u[t]=s[t](h),r.c()),Le(r,1),r.m(e,null)),(!o||p[5]&128&&l!==(l=h[162]))&&m(e,"style",l)},i(h){o||(Le(r),o=!0)},o(h){qe(r),o=!1},d(h){h&&_(e),u[t].d()}}}function sa(n){let e,t,r,l,o,s;const u=n[109]["create-row"],f=Tn(u,n,n[118],Ns),h=f||ac(n);return{c(){e=A("div"),t=A("button"),h&&h.c(),this.h()},l(p){e=O(p,"DIV",{class:!0});var y=z(e);t=O(y,"BUTTON",{type:!0,class:!0});var S=z(t);h&&h.l(S),S.forEach(_),y.forEach(_),this.h()},h(){m(t,"type","button"),m(t,"class","creatable-row svelte-hi60qz"),t.disabled=r=n[1](n[23]),Me(t,"active",(n[25].length?n[25].length:0)===n[21]),Me(t,"is-disabled",n[1](n[23])),m(e,"class","is-dropdown-row svelte-hi60qz")},m(p,y){ee(p,e,y),v(e,t),h&&h.m(t,null),l=!0,o||(s=[Ze(t,"click",Il(n[51])),Ze(t,"mousedown",Il(n[110]))],o=!0)},p(p,y){f?f.p&&(!l||y[0]&25165824|y[1]&16|y[3]&33554432)&&In(f,u,p,p[118],l?On(u,p[118],y,Ru):An(p[118]),Ns):h&&h.p&&(!l||y[0]&25165824|y[1]&18)&&h.p(p,l?y:[-1,-1,-1,-1,-1,-1]),(!l||y[0]&8388610&&r!==(r=p[1](p[23])))&&(t.disabled=r),(!l||y[0]&35651584)&&Me(t,"active",(p[25].length?p[25].length:0)===p[21]),(!l||y[0]&8388610)&&Me(t,"is-disabled",p[1](p[23]))},i(p){l||(Le(h,p),l=!0)},o(p){qe(h,p),l=!1},d(p){p&&_(e),h&&h.d(p),o=!1,Xn(s)}}}function ac(n){let e,t=n[24].createRowLabel(n[23])+"",r,l,o,s,u,f,h,p="Enter";return{c(){e=A("span"),r=Ne(t),l=ae(),o=A("span"),s=A("kbd"),u=Ne(n[32]),f=Ne("+"),h=A("kbd"),h.textContent=p,this.h()},l(y){e=O(y,"SPAN",{class:!0});var S=z(e);r=Be(S,t),S.forEach(_),l=oe(y),o=O(y,"SPAN",{class:!0});var P=z(o);s=O(P,"KBD",{class:!0});var C=z(s);u=Be(C,n[32]),C.forEach(_),f=Be(P,"+"),h=O(P,"KBD",{class:!0,"data-svelte-h":!0}),Xe(h)!=="svelte-eby1n8"&&(h.textContent=p),P.forEach(_),this.h()},h(){m(e,"class","svelte-hi60qz"),Me(e,"is-loading",n[35]),m(s,"class","svelte-hi60qz"),m(h,"class","svelte-hi60qz"),m(o,"class","shortcut svelte-hi60qz")},m(y,S){ee(y,e,S),v(e,r),ee(y,l,S),ee(y,o,S),v(o,s),v(s,u),v(o,f),v(o,h)},p(y,S){S[0]&25165824&&t!==(t=y[24].createRowLabel(y[23])+"")&&$e(r,t),S[1]&16&&Me(e,"is-loading",y[35]),S[1]&2&&$e(u,y[32])},d(y){y&&(_(e),_(l),_(o))}}}function oc(n){let e,t,r,l,o,s,u,f,h,p,y,S,P,C,D,B,R,I,K,T,ie,ne,J,Ce,he,$,ge,De,ye=n[28]&&Js(n),fe=n[4]&&!n[6]&&Qs(n);const ke=n[109].icon,pe=Tn(ke,n,n[118],Ys);let ue=n[19].length&&xs(n),_e=n[9]&&!n[3]&&ta(n),k=n[9]&&ra();const M=n[109]["dropdown-toggle"],j=Tn(M,n,n[118],Vs),se=j||Ju(),N=n[109]["control-end"],Y=Tn(N,n,n[118],Hs);let le=n[18]&&n[31]&&ia(n);return{c(){e=A("div"),t=A("span"),ye&&ye.c(),r=ae(),fe&&fe.c(),l=ae(),o=A("div"),pe&&pe.c(),s=ae(),u=A("div"),ue&&ue.c(),f=ae(),h=A("span"),p=A("input"),R=ae(),I=A("div"),_e&&_e.c(),K=ae(),k&&k.c(),T=ae(),ie=A("button"),se&&se.c(),ne=ae(),Y&&Y.c(),J=ae(),Ce=A("div"),le&&le.c(),this.h()},l(W){e=O(W,"DIV",{class:!0,role:!0});var Se=z(e);t=O(Se,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Ve=z(t);ye&&ye.l(Ve),Ve.forEach(_),r=oe(Se),fe&&fe.l(Se),l=oe(Se),o=O(Se,"DIV",{class:!0});var me=z(o);pe&&pe.l(me),s=oe(me),u=O(me,"DIV",{class:!0});var te=z(u);ue&&ue.l(te),f=oe(te),h=O(te,"SPAN",{class:!0,"data-value":!0});var xe=z(h);p=O(xe,"INPUT",{type:!0,class:!0,size:!0,id:!0,placeholder:!0,inputmode:!0,enterkeyhint:!0,"aria-label":!0,"aria-describedby":!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,"aria-autocomplete":!0,tabindex:!0}),xe.forEach(_),te.forEach(_),R=oe(me),I=O(me,"DIV",{class:!0});var Ee=z(I);_e&&_e.l(Ee),K=oe(Ee),k&&k.l(Ee),T=oe(Ee),ie=O(Ee,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var Pe=z(ie);se&&se.l(Pe),Pe.forEach(_),Ee.forEach(_),ne=oe(me),Y&&Y.l(me),me.forEach(_),J=oe(Se),Ce=O(Se,"DIV",{class:!0});var Ue=z(Ce);le&&le.l(Ue),Ue.forEach(_),Se.forEach(_),this.h()},h(){m(t,"aria-live","polite"),m(t,"aria-atomic","false"),m(t,"aria-relevant","additions text"),m(t,"class","a11y-text svelte-hi60qz"),m(p,"type","text"),m(p,"class","sv-input--text svelte-hi60qz"),m(p,"size","1"),m(p,"id",n[2]),m(p,"placeholder",y=n[23]?"":n[47]),m(p,"inputmode",n[48]),p.readOnly=S=!n[8],m(p,"enterkeyhint",n[43]),p.disabled=n[3],m(p,"aria-label",P=n[24].aria_label),m(p,"aria-describedby",C=n[24].aria_describedby),m(p,"autocapitalize","none"),m(p,"autocomplete","off"),m(p,"autocorrect","off"),m(p,"spellcheck","false"),m(p,"aria-autocomplete","list"),m(p,"tabindex","0"),Me(p,"keep-value",!n[11]),m(h,"class","sv-input--sizer svelte-hi60qz"),m(h,"data-value",D=n[23]||n[47]),m(u,"class","sv-control--selection svelte-hi60qz"),Me(u,"is-single",n[0]===!1),Me(u,"has-items",n[19].length>0),Me(u,"has-input",n[23].length),m(ie,"type","button"),m(ie,"class","sv-btn-indicator svelte-hi60qz"),m(ie,"data-action","toggle"),m(ie,"tabindex","-1"),Me(ie,"sv-dropdown-opened",n[20]),m(I,"class","sv-buttons svelte-hi60qz"),Me(I,"is-loading",n[34]),m(o,"class","sv-control svelte-hi60qz"),m(Ce,"class","sv_dropdown svelte-hi60qz"),Me(Ce,"is-open",n[30]),m(e,"class",he=$l(`svelecte ${n[16]}`)+" svelte-hi60qz"),m(e,"role","none"),Me(e,"is-required",n[5]),Me(e,"is-empty",n[19].length===0),Me(e,"is-invalid",n[5]&&n[19].length===0),Me(e,"is-tainted",n[29]),Me(e,"is-valid",n[5]?n[19].length>0:!0),Me(e,"is-focused",n[28]),Me(e,"is-open",n[20]),Me(e,"is-disabled",n[3])},m(W,Se){ee(W,e,Se),v(e,t),ye&&ye.m(t,null),v(e,r),fe&&fe.m(e,null),v(e,l),v(e,o),pe&&pe.m(o,null),v(o,s),v(o,u),ue&&ue.m(u,null),v(u,f),v(u,h),v(h,p),n[113](p),Ht(p,n[23]),v(o,R),v(o,I),_e&&_e.m(I,null),v(I,K),k&&k.m(I,null),v(I,T),v(I,ie),se&&se.m(ie,null),v(o,ne),Y&&Y.m(o,null),v(e,J),v(e,Ce),le&&le.m(Ce,null),$=!0,ge||(De=[Ze(p,"input",n[114]),Ze(p,"focus",n[56]),Ze(p,"keydown",n[53]),Ze(p,"keyup",n[54]),Ze(p,"input",n[55]),Ze(p,"blur",n[57]),Ze(p,"paste",n[58]),ci(B=n[12].call(null,u,{items:n[19],flipDurationMs:n[36],type:n[2],dragDisabled:n[33]})),Ze(u,"consider",n[59]),Ze(u,"finalize",n[59]),Ze(o,"mousedown",aa),Ze(o,"click",n[52]),Ze(Ce,"mousedown",aa),Ze(Ce,"click",n[52]),ci(n[17].call(null,Ce))],ge=!0)},p(W,Se){W[28]?ye?ye.p(W,Se):(ye=Js(W),ye.c(),ye.m(t,null)):ye&&(ye.d(1),ye=null),W[4]&&!W[6]?fe?fe.p(W,Se):(fe=Qs(W),fe.c(),fe.m(e,l)):fe&&(fe.d(1),fe=null),pe&&pe.p&&(!$||Se[3]&33554432)&&In(pe,ke,W,W[118],$?On(ke,W[118],Se,qu):An(W[118]),Ys),W[19].length?ue?(ue.p(W,Se),Se[0]&524288&&Le(ue,1)):(ue=xs(W),ue.c(),Le(ue,1),ue.m(u,f)):ue&&(un(),qe(ue,1,1,()=>{ue=null}),cn()),(!$||Se[0]&4)&&m(p,"id",W[2]),(!$||Se[0]&8388608|Se[1]&65536&&y!==(y=W[23]?"":W[47]))&&m(p,"placeholder",y),(!$||Se[1]&131072)&&m(p,"inputmode",W[48]),(!$||Se[0]&256&&S!==(S=!W[8]))&&(p.readOnly=S),(!$||Se[1]&4096)&&m(p,"enterkeyhint",W[43]),(!$||Se[0]&8)&&(p.disabled=W[3]),(!$||Se[0]&16777216&&P!==(P=W[24].aria_label))&&m(p,"aria-label",P),(!$||Se[0]&16777216&&C!==(C=W[24].aria_describedby))&&m(p,"aria-describedby",C),Se[0]&8388608&&p.value!==W[23]&&Ht(p,W[23]),(!$||Se[0]&2048)&&Me(p,"keep-value",!W[11]),(!$||Se[0]&8388608|Se[1]&65536&&D!==(D=W[23]||W[47]))&&m(h,"data-value",D),B&&Zr(B.update)&&Se[0]&524292|Se[1]&36&&B.update.call(null,{items:W[19],flipDurationMs:W[36],type:W[2],dragDisabled:W[33]}),(!$||Se[0]&1)&&Me(u,"is-single",W[0]===!1),(!$||Se[0]&524288)&&Me(u,"has-items",W[19].length>0),(!$||Se[0]&8388608)&&Me(u,"has-input",W[23].length),W[9]&&!W[3]?_e?(_e.p(W,Se),Se[0]&520&&Le(_e,1)):(_e=ta(W),_e.c(),Le(_e,1),_e.m(I,K)):_e&&(un(),qe(_e,1,1,()=>{_e=null}),cn()),W[9]?k||(k=ra(),k.c(),k.m(I,T)):k&&(k.d(1),k=null),j&&j.p&&(!$||Se[0]&1048576|Se[3]&33554432)&&In(j,M,W,W[118],$?On(M,W[118],Se,Ku):An(W[118]),Vs),(!$||Se[0]&1048576)&&Me(ie,"sv-dropdown-opened",W[20]),(!$||Se[1]&8)&&Me(I,"is-loading",W[34]),Y&&Y.p&&(!$||Se[3]&33554432)&&In(Y,N,W,W[118],$?On(N,W[118],Se,zu):An(W[118]),Hs),W[18]&&W[31]?le?(le.p(W,Se),Se[0]&262144|Se[1]&1&&Le(le,1)):(le=ia(W),le.c(),Le(le,1),le.m(Ce,null)):le&&(un(),qe(le,1,1,()=>{le=null}),cn()),(!$||Se[0]&1073741824)&&Me(Ce,"is-open",W[30]),(!$||Se[0]&65536&&he!==(he=$l(`svelecte ${W[16]}`)+" svelte-hi60qz"))&&m(e,"class",he),(!$||Se[0]&65568)&&Me(e,"is-required",W[5]),(!$||Se[0]&589824)&&Me(e,"is-empty",W[19].length===0),(!$||Se[0]&589856)&&Me(e,"is-invalid",W[5]&&W[19].length===0),(!$||Se[0]&536936448)&&Me(e,"is-tainted",W[29]),(!$||Se[0]&589856)&&Me(e,"is-valid",W[5]?W[19].length>0:!0),(!$||Se[0]&268500992)&&Me(e,"is-focused",W[28]),(!$||Se[0]&1114112)&&Me(e,"is-open",W[20]),(!$||Se[0]&65544)&&Me(e,"is-disabled",W[3])},i(W){$||(Le(pe,W),Le(ue),Le(_e),Le(se,W),Le(Y,W),Le(le),$=!0)},o(W){qe(pe,W),qe(ue),qe(_e),qe(se,W),qe(Y,W),qe(le),$=!1},d(W){W&&_(e),ye&&ye.d(),fe&&fe.d(),pe&&pe.d(W),ue&&ue.d(),n[113](null),_e&&_e.d(),k&&k.d(),se&&se.d(W),Y&&Y.d(W),le&&le.d(),ge=!1,Xn(De)}}}yt.requestFactory=pu;const Mi={default(n){return du(n[this.label])}},Li=n=>({destroy:()=>{}}),uc=yt;function aa(n){n.preventDefault()}function cc(n,e,t){let r,l,o,s,u,f,h,p,y,S,{$$slots:P={},$$scope:C}=e,{name:D="svelecte"}=e,{inputId:B=""}=e,{required:R=!1}=e,{disabled:I=!1}=e,{anchor_element:K=null}=e,{options:T=[]}=e,{optionResolver:ie=null}=e,{valueField:ne=yt.valueField}=e,{labelField:J=yt.labelField}=e,{groupLabelField:Ce=yt.groupLabelField}=e,{groupItemsField:he=yt.groupItemsField}=e,{disabledField:$=yt.disabledField}=e,{placeholder:ge=yt.placeholder}=e,{searchable:De=yt.searchable}=e,{clearable:ye=yt.clearable}=e,{renderer:fe=null}=e,{disableHighlight:ke=!1}=e,{highlightFirstItem:pe=yt.highlightFirstItem}=e,{selectOnTab:ue=yt.selectOnTab}=e,{resetOnBlur:_e=yt.resetOnBlur}=e,{resetOnSelect:k=yt.resetOnSelect}=e,{closeAfterSelect:M=yt.closeAfterSelect}=e,{deselectMode:j="native"}=e,{dndzone:se=()=>({noop:!0,destroy:()=>{}})}=e,{validatorAction:N=[]}=e,{strictMode:Y=!0}=e,{multiple:le=yt.multiple}=e,{max:W=yt.max}=e,{collapseSelection:Se=yt.collapseSelection}=e,{keepSelectionInList:Ve=yt.keepSelectionInList}=e,{creatable:me=yt.creatable}=e,{creatablePrefix:te=yt.creatablePrefix}=e,{allowEditing:xe=yt.allowEditing}=e,{keepCreated:Ee=yt.keepCreated}=e,{delimiter:Pe=yt.delimiter}=e,{createFilter:Ue=null}=e,{createHandler:x=null}=e,{fetch:Ge=null}=e,{fetchProps:ze=yt.fetchProps}=e,{fetchMode:we="auto"}=e,{fetchCallback:tt=yt.fetchCallback}=e,{fetchResetOnBlur:Ct=!0}=e,{fetchDebounceTime:zt=yt.fetchDebounceTime}=e,{minQuery:It=yt.minQuery}=e,{lazyDropdown:ht=yt.lazyDropdown}=e,{virtualList:it=yt.virtualList}=e,{vlHeight:Ye=yt.vlHeight}=e,{vlItemSize:Je=yt.vlItemSize}=e,{searchProps:Mt=null}=e,{class:rt="svelecte-control"}=e,{i18n:ln=null}=e,{readSelection:tn=null}=e,{value:kt=null}=e,{valueAsObject:Tt=yt.valueAsObject}=e,{parentValue:yn=void 0}=e,{positionResolver:Yt=Li}=e;function He(){Un.focus()}function Mn(w,Ie){Fr(w),Ie&&cr()}function nn(w){return w?kt:tn}function sn(w){Ge&&($r({init:!0,initValue:w,storedValue:Ct}),t(64,Ct=!1))}const Ae=Gi(),qt=`sv-${D}-select`;Ge&&kt&&Tt&&(!T||T&&T.length===0)&&(T=Array.isArray(kt)?kt:[kt]),B||(B=`${qt}-input`),le=D&&!le?D.endsWith("[]"):le;let Kn=!1,an,Ot=ie?ie(T,new Set):Rs(T,ne,J),Vt,mt=ne||Pi("value",Ot,he),_t=J||Pi("label",Ot,he),ut=kt!==null?Iu(Ot,kt,Tt,he,mt):[];const At=ut.reduce((w,Ie)=>(w.add(Ie[mt]),w),new Set);let fn=ut.filter(w=>w.$created),dn=!1,lt=!1,ve=!1,We=!1,St=!1,vt=pe?0:null,Qe=!ht,$t=null,Ln=it&&Ye===null&&Je===null,wn=Ye,Zt=Je,er,ct="",hn=!1,Et,Kt=we==="init"||Ge&&Ge.includes("[query]")===!1,xn=Kt||Ge&&T.length===0?kt:null,tr=null,Pt=Se!==null,Lt=!1,Rn=!1,Qr=100,qn=!1,br=!1,Un,Bt,pn,mn,nr;const kn=Tu(mt,_t,Ce,he);ur(ln,!0);function Dt(w,Ie){Kn&&(w&&mt!==w&&(t(107,kn.valueField=t(27,mt=w),kn),At.size>0&&gr()),Ie&&(t(107,kn.labelField=t(104,_t=Ie),kn),(fe===null||fe==="default")&&t(44,s=Mi.default.bind({label:_t}))))}function gi(w){if(Kn){if(Ot!==w){if(w=Rs(w,mt,_t),!ne){const Ie=Pi("value",w||null,he);!ne&&mt!==Ie&&(t(107,kn.valueField=t(27,mt=Ie),kn),At.size>0&&gr())}if(!J){const Ie=Pi("label",w||null,he);!J&&_t!==Ie&&(t(107,kn.labelField=Ie,kn),t(104,_t=Ie),(fe===null||fe==="default")&&t(44,s=Mi.default.bind({label:_t})))}}t(61,T=w),t(103,Ot=ie?ie(w,At):w)}}function Fr(w,Ie){if(!(an===w&&!(Ie!=null&&Ie.skipEqualityCheck))){if(gr(),w!==null){if((le&&!Array.isArray(w)||!le&&Array.isArray(w))&&console.warn(`Passed 'value' property should ${le?"be":"NOT be"} an array`),xn)return;const nt=Array.isArray(w)?w:[w],et=nt.reduce((En,Dn)=>{if(Tt&&(!Y||me&&Dn.$created))return En.push(Dn),En;const gn=l.find(Hn=>Tt?Hn[mt]==Dn[mt]:Hn[mt]==Dn);return gn?En.push(gn):!Y&&En.push(x?x({inputValue:Dn,valueField:mt,labelField:_t,prefix:te}):{[mt]:Dn,[_t]:Dn}),En},[]);if(!(et.every(Kr)&&(le?nt.length===et.length:et.length>0))){console.warn('[Svelecte]: provided "value" property is invalid',w),t(63,kt=le?[]:null),t(65,tn=kt),Ae("invalidValue",w);return}t(65,tn=Array.isArray(w)?et:et.shift())}an=w}}function _i(w){if(qn)return;const Ie=w.map(et=>{const{$disabled:jt,$isGroupItem:En,...Dn}=et;return Dn}),nt=le?Ie:Ie.length?Ie[0]:null;Tt?an=nt:an=le?nt.map(et=>et[mt]):ut.length?nt[mt]:null,t(63,kt=an),t(65,tn=nt),W&&w.length===W&&t(42,on=Et.max(W))}function Ft(w){if(w!==void 0&&Vt!==w||w===void 0&&Vt!==w){const Ie=w===void 0?!1:!w;gr(),an=le?[]:null,t(3,I=Ie)}Vt=w,br=w!==void 0}function pr(w){!Kn||!Qe||dr().then(()=>{if(!nr)return;const Ie=Cu(nr,mn,o);t(22,Zt=Ie.size),t(106,wn=Ie.height)}).then(()=>Yt===Li&&kl(We,mn,Qe))}function yr(w){Kn&&(w&&!lt&&(lt=!0),!Qe&&w&&t(31,Qe=!0),dr().then(()=>{Ln&&pr()}).then(()=>{Yt===Li&&kl(w,mn,!0),w&&(pe&&(ut.length===0||le)&&jn(0,{asc:!0}),!le&&ut.length&&t(21,vt=l.findIndex(Ie=>Ie===ut[0])),Oi({container:pn,scrollContainer:mn,virtualList:it,center:!1},vt)),dr().then(()=>t(30,St=w))}),$t||($t=()=>Yt===Li&&kl(w,mn,!0)),document[w?"addEventListener":"removeEventListener"]("scroll",$t,{passive:!0}))}function ur(w,Ie=null){(Kn||Ie)&&t(24,Et=Object.assign({},uc.i18n,w||{}))}function Xr(w,Ie){if(!(Ge&&!Kt)){if(w){t(42,on=Et.max(W));return}t(42,on=Ie.length!==l.length&&ut.length!==l.length?me?Et.emptyCreatable:Et.nomatch:me?Et.emptyCreatable:Et.empty)}}function cr(){dr().then(()=>{Ae("change",tn),Bt&&(Bt.dispatchEvent(new Event("input")),Bt.dispatchEvent(new Event("change")))})}function zr(w){Ae("createoption",w)}function mr(w,Ie){if(Ie=Ie||w.detail,!(I||Ie[$]||Ie.$isGroupHeader)){if(!Ie||le&&r)return!1;if(At.has(Ie[mt]))return!le&&j!=="toggle"?void 0:Nn(null,Ie);if(typeof Ie=="string"){if(!me||(Ie=yl(Ie),fn.includes(Ie)||At.has(Ie)))return;t(35,Rn=!0),Promise.resolve().then(()=>x({inputValue:Ie,valueField:mt,labelField:_t,prefix:te})).then(nt=>{t(35,Rn=!1),!Ge&&fn.push(Ie),nt.$created=!0,Ee&&t(103,Ot=[...Ot,nt]),zr(nt),Kr(nt),wr(),cr()}).catch(nt=>{t(35,Rn=!1),Ae("createFail",{input:Ie,error:nt})});return}Kr(Ie),wr(),cr()}}function wr(){(le&&k||!le)&&t(23,ct=""),(M===!0||M==="auto"&&!le)&&t(20,We=!1),W&&ut.length==W&&t(21,vt=0)}function Kr(w){if(w.$selected=!0,le)ut.push(w),t(19,ut),At.add(w[mt]);else{const Ie=ut.shift();Ie&&(Ie.$selected=!1),t(19,ut=[w]),At.clear(),At.add(w[mt]),dr().then(()=>{t(21,vt=l.indexOf(w))})}return ie?(t(103,Ot=ie(T,At)),!0):(t(108,l),t(103,Ot),t(107,kn),!0)}function Nn(w={},Ie=null,nt){I||(Ie=Ie||w.detail,Ie?(kr(Ie,nt),Ve!==!0&&dr().then(()=>Oi({scrollContainer:mn,container:pn,virtualList:it,center:!1},vt))):gr(),cr())}function kr(w,Ie){if(w.$created){if(fn.splice(fn.findIndex(et=>et===w[mt]),1),t(105,fn),!Ee){const et=Ot.findIndex(jt=>jt[mt]===w[mt]);et!==-1&&Ot.splice(et,1),t(103,Ot)}Ie&&xe&&t(23,ct=w[_t].replace(te,""))}w.$selected=!1;const nt=w[mt];if(At.delete(nt),ut.splice(ut.findIndex(et=>et[mt]==nt),1),t(19,ut),ie){t(103,Ot=ie(T,At));return}t(108,l=Ge&&!Kt&&Ct?[]:l)}function gr(){if(!(At.size===0||!le&&j==="none")){if(At.clear(),t(19,ut=ut.reduce((w,Ie)=>(Ie.$selected=!1,[]),[])),Ee||t(105,fn=[]),t(26,r=!1),ct&&t(23,ct=""),ie){t(103,Ot=ie(T,At));return}t(108,l=Ge&&!Kt&&Ct?[]:l)}}function Zi(w){fn.includes(ct)||mr(null,ct)}function bt(w){if(me&&Pe.indexOf(w.key)>-1){ct.length>0&&mr(null,ct),w.preventDefault();return}const Ie=ue&&We&&!w.shiftKey?"Tab":"No-tab";let nt=tr?w.metaKey:w.ctrlKey,et=["PageUp","PageDown"].includes(w.key),jt=!1,En=!1;switch(w.key){case"End":if(ct.length!==0)return;jn(o.length,{desc:!0});case"PageDown":if(et){const[Hn,lr]=Hr();t(21,vt=Math.min(Math.ceil((lr*vt+Hn)/lr),o.length))}case"ArrowUp":if(w.preventDefault(),!We){t(20,We=!0);return}jn(vt-1,{desc:!0}),dr().then(()=>Oi({scrollContainer:mn,container:pn,virtualList:it,center:!1},vt));break;case"Home":if(En=!0,ct.length!==0||ct.length===0&&o.length===0)return;jn(0,{asc:!0});case"PageUp":if(et){const[Hn,lr]=Hr();t(21,vt=Math.floor((lr*vt-Hn)/lr))}case"ArrowDown":if(w.preventDefault(),!We){t(20,We=!0);return}!En&&jn((vt===null?-1:vt)+1,{asc:!0}),dr().then(()=>Oi({scrollContainer:mn,container:pn,virtualList:it,center:!1},vt));break;case"Escape":We&&(w.preventDefault(),w.stopPropagation()),ct||t(20,We=!1),t(23,ct="");break;case Ie:case"Enter":if(!We){w.key!==Ie&&Ae("enterKey",w);return}let gn=nt?null:o[vt];if(me&&ct){const Hn=Ue(yl(ct));gn=!gn||nt?yl(ct):gn,nt=Hn}if(!nt&&gn&&mr(null,gn),o.length<=vt&&jn(o.length-1),!gn&&ut.length){t(20,We=!1),w.key!==Ie&&Ae("enterKey",w);return}(w.key!==Ie||w.key===Ie&&ue!=="select-navigate")&&w.preventDefault();break;case" ":!Ge&&!We&&(t(20,We=!0),w.preventDefault());break;case"Backspace":if(Se==="always")return;jt=!0;case"Delete":if(ct===""&&ut.length){if(!le&&j==="none")return;nt?Nn({}):Nn(null,ut[ut.length-1],jt),w.preventDefault()}default:!nt&&!["Tab","Shift"].includes(w.key)&&!We&&!Lt&&t(20,We=!0)}}function xr(w){if(I)return;const Ie=w.target.closest("[data-action]");if(lt||(lt=!0),(Ie==null?void 0:Ie.dataset.action)==="default")return;w.preventDefault();const nt=w.target.closest("[data-pos]");if(!Ie&&!nt)return bi(w.target);switch((Ie==null?void 0:Ie.dataset.action)||"select"){case"deselect":let jt=Ie.bound_item;if(!jt){const Dn=Ie.dataset.id;jt=ut.filter(gn=>gn[mt]==Dn).shift()}Nn({},jt),jt&&!dn&&Un.focus();break;case"select":const En=parseInt(nt.dataset.pos);mr(null,o[En]);break;case"toggle":t(20,We=!We);break}}function Ji(w){if(Ts()&&!p&&w.key==="Enter")return!0;hn=["Enter","Escape"].includes(w.key)&&We,bt(w)}function Qi(w){hn&&(w.stopImmediatePropagation(),w.preventDefault()),hn=!1}function Sn(){ut.length}function _r(){t(28,dn=!0),t(20,We=lt),ve||t(29,ve=!0),Se==="blur"&&!qn&&setTimeout(()=>{t(33,Pt=!1)},100),Ae("focus",Un)}function jr(){t(28,dn=!1),t(20,We=!1),lt=!1,_e?t(23,ct=""):Sr&&!Kt&&Sr.abort("blur"),Se==="blur"&&!qn&&setTimeout(()=>{t(33,Pt=!0)},100),Ae("blur",Un)}function rr(w){if(me){w.preventDefault();const Ie=new RegExp("([^"+Pe+"\\n]+)","g"),nt=w.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),et=nt.match(Ie);et.length===1&&nt.indexOf(",")===-1&&t(23,ct=et.pop().trim()),et.forEach(jt=>mr(null,jt.trim()))}}function vi(w){qn=w.type==="consider",t(19,ut=w.detail.items),qn||(cr(),Se==="blur"&&setTimeout(()=>{t(33,Pt=!0)},200))}let Sr,Gt,on=Ge?Kt?Et.fetchInit:It>1?Et.fetchQuery(It,0):Et.fetchBefore:me?Et.emptyCreatable:Et.empty;function Er(w,Ie){if(!w){Gt=null;return}(Kt||xn)&&(t(34,Lt=!0),$r({init:!0})),Gt=hu($r,zt)}let Dr=Wr({control:null});const Cr=(w=null)=>Dr.update(Ie=>{var nt;return(nt=Ie.control)==null||nt.abort(),{control:w}});function ir(w){Kt||r||Gt&&(Cr(),t(34,Lt=!0),ct.length<It&&t(34,Lt=!1),Ct&&t(25,o=[]),t(30,St=!(w.length>=It)),t(42,on=It<=1?Et.fetchBefore:Et.fetchQuery(It,w.length)),Gt())}function $r(w={}){if(Cr(),w.init!==!0&&!ct.length||br&&!yn){t(34,Lt=!1),Ct&&t(103,Ot=ie?ie(T,At):[]);return}if(ct&&ct.length<It){t(34,Lt=!1);return}Kt&&an&&(!le||(an==null?void 0:an.length)>0)&&(xn=an);const Ie=xn||w.initValue;Kt&&t(42,on=Et.fetchInit);const nt=yt.requestFactory(ct,{parentValue:yn,url:Ge,initial:Ie},ze);Sr=nt.controller,Cr(nt.controller),window.fetch(nt.request).then(et=>et.json()).then(et=>(!Array.isArray(et)&&(et!=null&&et.error)&&Ae("fetchError",et.error),Promise.resolve(tt?tt(et):et.data||et.items||et.options||et).then(jt=>{Array.isArray(jt)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",jt),jt=[]),t(103,Ot=jt),Ae("fetch",jt),dr().then(()=>{Ie&&(xn=null,Fr(Ie,{skipEqualityCheck:!0}),"storedValue"in w&&t(64,Ct=w.storedValue))})}))).catch(et=>{if(et instanceof DOMException&&et.name==="AbortError")return!0;t(103,Ot=[]),Ae("fetchError",et),console.warn("[Svelecte] Fetch Error:",et)}).then(et=>{et!==!0&&(t(42,on=Kt?Et.empty:Ie?It>1?Et.fetchQuery(It,0):Et.fetchBefore:Et.fetchEmpty),Sr=null,t(34,Lt=!1),dn&&t(20,We=!0),We&&!St&&t(30,St=!0))})}function Gn(w){return Ve?Ve===!0?w?At:null:w||le?At:null:At}function jn(w,Ie={},nt=0){var jt;const et=me?o.length+1:o.length;if(!(nt>=2)){if(w<0&&(w=Ie.desc?et-1:0),(vt===null&&pe||w>=et)&&(w=0),(jt=o[w])!=null&&jt.$isGroupHeader){jn(Ie.asc?w+1:w-1,Ie,++nt);return}t(21,vt=w)}}function bi(w){if(!I){if(!dn){Un.focus();return}w.tagName==="INPUT"&&ct||t(20,We=!We)}}function Hr(){return it?[mn.offsetHeight,Zt]:[mn.offsetHeight,pn.firstElementChild.offsetHeight]}const Tr=N.length?N.shift():()=>{};xa(()=>{t(18,Kn=!0),Ts(),tr=fu(),t(32,er=tr?"⌘":"Ctrl"),K?(t(38,Bt=document.getElementById(K)),t(38,Bt.className="sv-hidden-element",Bt),t(38,Bt.innerHTML="",Bt),t(38,Bt.tabIndex=-1,Bt),t(38,Bt.disabled=I,Bt),t(38,Bt.required=R,Bt),t(38,Bt.multiple=le,Bt),!le&&Bt.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),At.forEach(w=>{Bt.insertAdjacentHTML("beforeend",`<option value=${w} selected>${w}</option>`)})):ut.length&&setTimeout(()=>{Bt&&Array.from(Bt.children).forEach(w=>{w.selected=!0})},200),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t(36,Qr=0)});function ei(w){Tl.call(this,n,w)}function yi(w){Tl.call(this,n,w)}function Xi(w){Ut[w?"unshift":"push"](()=>{Bt=w,t(38,Bt),t(19,ut),t(27,mt)})}function Ir(w){Ut[w?"unshift":"push"](()=>{Un=w,t(37,Un)})}function xi(){ct=this.value,t(23,ct)}function $i(w){Ut[w?"unshift":"push"](()=>{nr=w,t(41,nr)})}function Vr(w){Ut[w?"unshift":"push"](()=>{pn=w,t(39,pn)})}function qr(w){Ut[w?"unshift":"push"](()=>{mn=w,t(40,mn)})}return n.$$set=w=>{"name"in w&&t(4,D=w.name),"inputId"in w&&t(2,B=w.inputId),"required"in w&&t(5,R=w.required),"disabled"in w&&t(3,I=w.disabled),"anchor_element"in w&&t(6,K=w.anchor_element),"options"in w&&t(61,T=w.options),"optionResolver"in w&&t(66,ie=w.optionResolver),"valueField"in w&&t(67,ne=w.valueField),"labelField"in w&&t(68,J=w.labelField),"groupLabelField"in w&&t(69,Ce=w.groupLabelField),"groupItemsField"in w&&t(70,he=w.groupItemsField),"disabledField"in w&&t(7,$=w.disabledField),"placeholder"in w&&t(71,ge=w.placeholder),"searchable"in w&&t(8,De=w.searchable),"clearable"in w&&t(9,ye=w.clearable),"renderer"in w&&t(72,fe=w.renderer),"disableHighlight"in w&&t(10,ke=w.disableHighlight),"highlightFirstItem"in w&&t(73,pe=w.highlightFirstItem),"selectOnTab"in w&&t(74,ue=w.selectOnTab),"resetOnBlur"in w&&t(11,_e=w.resetOnBlur),"resetOnSelect"in w&&t(75,k=w.resetOnSelect),"closeAfterSelect"in w&&t(76,M=w.closeAfterSelect),"deselectMode"in w&&t(77,j=w.deselectMode),"dndzone"in w&&t(12,se=w.dndzone),"validatorAction"in w&&t(13,N=w.validatorAction),"strictMode"in w&&t(78,Y=w.strictMode),"multiple"in w&&t(0,le=w.multiple),"max"in w&&t(79,W=w.max),"collapseSelection"in w&&t(80,Se=w.collapseSelection),"keepSelectionInList"in w&&t(81,Ve=w.keepSelectionInList),"creatable"in w&&t(14,me=w.creatable),"creatablePrefix"in w&&t(82,te=w.creatablePrefix),"allowEditing"in w&&t(83,xe=w.allowEditing),"keepCreated"in w&&t(84,Ee=w.keepCreated),"delimiter"in w&&t(85,Pe=w.delimiter),"createFilter"in w&&t(1,Ue=w.createFilter),"createHandler"in w&&t(62,x=w.createHandler),"fetch"in w&&t(86,Ge=w.fetch),"fetchProps"in w&&t(87,ze=w.fetchProps),"fetchMode"in w&&t(88,we=w.fetchMode),"fetchCallback"in w&&t(89,tt=w.fetchCallback),"fetchResetOnBlur"in w&&t(64,Ct=w.fetchResetOnBlur),"fetchDebounceTime"in w&&t(90,zt=w.fetchDebounceTime),"minQuery"in w&&t(91,It=w.minQuery),"lazyDropdown"in w&&t(92,ht=w.lazyDropdown),"virtualList"in w&&t(15,it=w.virtualList),"vlHeight"in w&&t(93,Ye=w.vlHeight),"vlItemSize"in w&&t(94,Je=w.vlItemSize),"searchProps"in w&&t(95,Mt=w.searchProps),"class"in w&&t(16,rt=w.class),"i18n"in w&&t(96,ln=w.i18n),"readSelection"in w&&t(65,tn=w.readSelection),"value"in w&&t(63,kt=w.value),"valueAsObject"in w&&t(97,Tt=w.valueAsObject),"parentValue"in w&&t(98,yn=w.parentValue),"positionResolver"in w&&t(17,Yt=w.positionResolver),"$$scope"in w&&t(118,C=w.$$scope)},n.$$.update=()=>{n.$$.dirty[2]&96&&Dt(ne,J),n.$$.dirty[0]&524288|n.$$.dirty[2]&131072&&t(26,r=W!==0&&ut.length==W),n.$$.dirty[1]&1073741824&&gi(T),n.$$.dirty[3]&17408&&t(108,l=Au(Ot,kn)),n.$$.dirty[2]&2&&Fr(kt),n.$$.dirty[0]&75497472|n.$$.dirty[3]&49156&&t(25,o=r?[]:Mu(l,ct,Gn(ct),kn,Mt||{})),n.$$.dirty[2]&2048&&pe&&jn(0,{asc:!0}),n.$$.dirty[0]&35667968&&o.length<=vt&&jn(0,{asc:!me,desc:me}),n.$$.dirty[0]&2|n.$$.dirty[3]&4096&&(Ue||t(1,Ue=w=>fn.includes(w))),n.$$.dirty[2]&1&&(x||t(62,x=({inputValue:w,labelField:Ie,valueField:nt,prefix:et})=>({[nt]:w,[Ie]:`${et}${w}`}))),n.$$.dirty[3]&8&&ur(ln),n.$$.dirty[3]&32&&Ft(yn),n.$$.dirty[0]&524288&&_i(ut),n.$$.dirty[2]&1024|n.$$.dirty[3]&2048&&t(44,s=typeof fe=="function"?fe:Mi[fe]||Mi.default.bind({label:_t})),n.$$.dirty[0]&37748736|n.$$.dirty[3]&8192&&t(49,u=Math.min(wn,Array.isArray(Zt)?Zt.reduce((w,Ie)=>(w+=Ie,w),0):o.length*Zt)),n.$$.dirty[0]&33554432&&Ln&&pr(),n.$$.dirty[0]&1048576&&yr(We),n.$$.dirty[0]&256&&t(48,f=De?"text":"none"),n.$$.dirty[0]&524288|n.$$.dirty[2]&512&&t(47,h=ut.length?"":ge),n.$$.dirty[0]&524289&&t(43,p=ut.length>0&&le===!1?null:"enter"),n.$$.dirty[0]&17301504|n.$$.dirty[3]&2048&&t(46,y=Et.aria_selected(ut.map(w=>w[_t]))),n.$$.dirty[0]&61865984|n.$$.dirty[3]&2048&&t(45,S=o.length&&vt>0?We?Et.aria_listActive(o[vt],_t,o.length):Et.aria_inputFocused():ct.length?Et.nomatch:Et.empty),n.$$.dirty[0]&8388608&&ir(ct),n.$$.dirty[0]&262144|n.$$.dirty[2]&16777216|n.$$.dirty[3]&32&&Kn&&Er(Ge),n.$$.dirty[0]&100663296&&Xr(r,o)},[le,Ue,B,I,D,R,K,$,De,ye,ke,_e,se,N,me,it,rt,Yt,Kn,ut,We,vt,Zt,ct,Et,o,r,mt,dn,ve,St,Qe,er,Pt,Lt,Rn,Qr,Un,Bt,pn,mn,nr,on,p,s,S,y,h,f,u,qt,Zi,xr,Ji,Qi,Sn,_r,jr,rr,vi,Tr,T,x,kt,Ct,tn,ie,ne,J,Ce,he,ge,fe,pe,ue,k,M,j,Y,W,Se,Ve,te,xe,Ee,Pe,Ge,ze,we,tt,zt,It,ht,Ye,Je,Mt,ln,Tt,yn,He,Mn,nn,sn,Ot,_t,fn,wn,kn,l,P,ei,yi,Xi,Ir,xi,$i,Vr,qr,C]}class mi extends Fn{constructor(e){super(),zn(this,e,cc,oc,Pn,{name:4,inputId:2,required:5,disabled:3,anchor_element:6,options:61,optionResolver:66,valueField:67,labelField:68,groupLabelField:69,groupItemsField:70,disabledField:7,placeholder:71,searchable:8,clearable:9,renderer:72,disableHighlight:10,highlightFirstItem:73,selectOnTab:74,resetOnBlur:11,resetOnSelect:75,closeAfterSelect:76,deselectMode:77,dndzone:12,validatorAction:13,strictMode:78,multiple:0,max:79,collapseSelection:80,keepSelectionInList:81,creatable:14,creatablePrefix:82,allowEditing:83,keepCreated:84,delimiter:85,createFilter:1,createHandler:62,fetch:86,fetchProps:87,fetchMode:88,fetchCallback:89,fetchResetOnBlur:64,fetchDebounceTime:90,minQuery:91,lazyDropdown:92,virtualList:15,vlHeight:93,vlItemSize:94,searchProps:95,class:16,i18n:96,readSelection:65,value:63,valueAsObject:97,parentValue:98,positionResolver:17,focus:99,setSelection:100,getSelection:101,refetchWith:102},null,[-1,-1,-1,-1,-1,-1])}get focus(){return this.$$.ctx[99]}get setSelection(){return this.$$.ctx[100]}get getSelection(){return this.$$.ctx[101]}get refetchWith(){return this.$$.ctx[102]}}function fc(n){let e,t,r,l="Add New Trip",o,s,u,f="Trip Name",h,p,y,S,P,C="Trip Currency",D,B,R,I,K,T,ie="Trip Start",ne,J,Ce,he,$,ge,De="Trip End",ye,fe,ke,pe,ue,_e,k="Add Trip",M,j,se="Cancel",N,Y,le;function W(Ee){n[8](Ee)}let Se={options:n[4],inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[1]!==void 0&&(Se.value=n[1]),B=new mi({props:Se}),Ut.push(()=>Qn(B,"value",W));function Ve(Ee){n[9](Ee)}let me={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[2]!==void 0&&(me.value=n[2]),J=new di({props:me}),Ut.push(()=>Qn(J,"value",Ve));function te(Ee){n[10](Ee)}let xe={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[2],id:"tripEnd"};return n[3]!==void 0&&(xe.value=n[3]),fe=new di({props:xe}),Ut.push(()=>Qn(fe,"value",te)),{c(){e=A("div"),t=A("form"),r=A("h1"),r.textContent=l,o=ae(),s=A("div"),u=A("label"),u.textContent=f,h=ae(),p=A("input"),y=ae(),S=A("div"),P=A("label"),P.textContent=C,D=ae(),Jt(B.$$.fragment),I=ae(),K=A("div"),T=A("label"),T.textContent=ie,ne=ae(),Jt(J.$$.fragment),he=ae(),$=A("div"),ge=A("label"),ge.textContent=De,ye=ae(),Jt(fe.$$.fragment),pe=ae(),ue=A("div"),_e=A("button"),_e.textContent=k,M=ae(),j=A("a"),j.textContent=se,this.h()},l(Ee){e=O(Ee,"DIV",{class:!0});var Pe=z(e);t=O(Pe,"FORM",{});var Ue=z(t);r=O(Ue,"H1",{"data-svelte-h":!0}),Xe(r)!=="svelte-1x3twms"&&(r.textContent=l),o=oe(Ue),s=O(Ue,"DIV",{class:!0});var x=z(s);u=O(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(u)!=="svelte-1y8z10u"&&(u.textContent=f),h=oe(x),p=O(x,"INPUT",{id:!0,class:!0,type:!0}),x.forEach(_),y=oe(Ue),S=O(Ue,"DIV",{class:!0});var Ge=z(S);P=O(Ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(P)!=="svelte-1fzihue"&&(P.textContent=C),D=oe(Ge),Qt(B.$$.fragment,Ge),Ge.forEach(_),I=oe(Ue),K=O(Ue,"DIV",{class:!0});var ze=z(K);T=O(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(T)!=="svelte-4n7gli"&&(T.textContent=ie),ne=oe(ze),Qt(J.$$.fragment,ze),ze.forEach(_),he=oe(Ue),$=O(Ue,"DIV",{class:!0});var we=z($);ge=O(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(ge)!=="svelte-1dn7717"&&(ge.textContent=De),ye=oe(we),Qt(fe.$$.fragment,we),we.forEach(_),pe=oe(Ue),ue=O(Ue,"DIV",{class:!0});var tt=z(ue);_e=O(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Xe(_e)!=="svelte-ik7jo4"&&(_e.textContent=k),M=oe(tt),j=O(tt,"A",{href:!0,class:!0,"data-svelte-h":!0}),Xe(j)!=="svelte-wj5j6d"&&(j.textContent=se),tt.forEach(_),Ue.forEach(_),Pe.forEach(_),this.h()},h(){m(u,"for","tripName"),m(u,"class","form-label"),m(p,"id","tripName"),m(p,"class","form-control"),m(p,"type","text"),m(s,"class","mb-3"),m(P,"for","tripCurrency"),m(P,"class","form-label"),m(S,"class","mb-3"),m(T,"for","tripStart"),m(T,"class","form-label"),m(K,"class","mb-3"),m(ge,"for","tripStart"),m(ge,"class","form-label"),m($,"class","mb-3"),m(_e,"class","btn btn-primary"),m(j,"href","#/"),m(j,"class","btn btn-outline-primary"),m(ue,"class","gap-3 d-grid d-md-block"),m(e,"class","w-100")},m(Ee,Pe){ee(Ee,e,Pe),v(e,t),v(t,r),v(t,o),v(t,s),v(s,u),v(s,h),v(s,p),Ht(p,n[0]),v(t,y),v(t,S),v(S,P),v(S,D),Xt(B,S,null),v(t,I),v(t,K),v(K,T),v(K,ne),Xt(J,K,null),v(t,he),v(t,$),v($,ge),v($,ye),Xt(fe,$,null),v(t,pe),v(t,ue),v(ue,_e),v(ue,M),v(ue,j),N=!0,Y||(le=[Ze(p,"input",n[7]),Ze(_e,"click",n[5])],Y=!0)},p(Ee,[Pe]){Pe&1&&p.value!==Ee[0]&&Ht(p,Ee[0]);const Ue={};Pe&16&&(Ue.options=Ee[4]),!R&&Pe&2&&(R=!0,Ue.value=Ee[1],Zn(()=>R=!1)),B.$set(Ue);const x={};!Ce&&Pe&4&&(Ce=!0,x.value=Ee[2],Zn(()=>Ce=!1)),J.$set(x);const Ge={};Pe&4&&(Ge.min=Ee[2]),!ke&&Pe&8&&(ke=!0,Ge.value=Ee[3],Zn(()=>ke=!1)),fe.$set(Ge)},i(Ee){N||(Le(B.$$.fragment,Ee),Le(J.$$.fragment,Ee),Le(fe.$$.fragment,Ee),N=!0)},o(Ee){qe(B.$$.fragment,Ee),qe(J.$$.fragment,Ee),qe(fe.$$.fragment,Ee),N=!1},d(Ee){Ee&&_(e),xt(B),xt(J),xt(fe),Y=!1,Xn(le)}}}function dc(n,e,t){let r,l,o;Jn(n,pi,D=>t(6,l=D)),Jn(n,Ml,D=>t(11,o=D));let s="My Trip",u=o,f=new Date,h=new Date;async function p(){try{const D=await Wt.trips.add({name:s,defaultCurrency:u,startDate:f,startDateString:f.toDateString(),endDate:h,endDateString:h.toDateString(),notes:""});window.location.href="#/trip/"+D}catch{window.location.href="#/"}}function y(){s=this.value,t(0,s)}function S(D){u=D,t(1,u)}function P(D){f=D,t(2,f)}function C(D){h=D,t(3,h)}return n.$$.update=()=>{n.$$.dirty&64&&t(4,r=Bl(l))},[s,u,f,h,r,p,l,y,S,P,C]}class hc extends Fn{constructor(e){super(),zn(this,e,dc,fc,Pn,{})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function ai(n,e,t){const r=document.createElement(e);return n&&(r.className=n),t&&t.appendChild(r),r}function pc(n,e,t){let r=`translate3d(${n}px,0px,0)`;return t!==void 0&&(r+=` scale3d(${t},${t},1)`),r}function Rl(n,e,t){n.style.width=typeof e=="number"?`${e}px`:e,n.style.height=typeof t=="number"?`${t}px`:t}const Yn={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function mc(n){return"button"in n&&n.button===1||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey}function oi(n,e,t=document){let r=[];if(n instanceof Element)r=[n];else if(n instanceof NodeList||Array.isArray(n))r=Array.from(n);else{const l=typeof n=="string"?n:e;l&&(r=Array.from(t.querySelectorAll(l)))}return r}function gc(n){return typeof n=="function"&&n.prototype&&n.prototype.goTo}function oa(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class _c{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class vc{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,r=100){var l,o,s;this._filters[e]||(this._filters[e]=[]),(l=this._filters[e])===null||l===void 0||l.push({fn:t,priority:r}),(o=this._filters[e])===null||o===void 0||o.sort((u,f)=>u.priority-f.priority),(s=this.pswp)===null||s===void 0||s.addFilter(e,t,r)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(l=>{t[0]=l.fn.apply(this,t)}),t[0]}on(e,t){var r,l;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(t),(l=this.pswp)===null||l===void 0||l.on(e,t)}off(e,t){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(l=>t!==l)),(r=this.pswp)===null||r===void 0||r.off(e,t)}dispatch(e,t){var r;if(this.pswp)return this.pswp.dispatch(e,t);const l=new _c(e,t);return(r=this._listeners[e])===null||r===void 0||r.forEach(o=>{o.call(this,l)}),l}}class bc{constructor(e,t){if(this.element=ai("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(Rl(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=pc(0,0,e/250)):Rl(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class yc{constructor(e,t,r){this.instance=t,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Yn.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{const r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new bc(r,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=ai("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=ai("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const l=this.element;this.updateSrcsetSizes(),this.data.srcset&&(l.srcset=this.data.srcset),l.src=(t=this.data.src)!==null&&t!==void 0?t:"",l.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=Yn.LOADING,l.complete?this.onLoaded():(l.onload=()=>{this.onLoaded()},l.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Yn.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Yn.LOADED||this.state===Yn.ERROR)&&this.removePlaceholder())}onError(){this.state=Yn.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Yn.LOADING,this)}isError(){return this.state===Yn.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(Rl(this.element,e,t),this.isImageContent()&&!this.isError()))){const r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Yn.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let r=ai("pswp__error-msg","div");r.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=ai("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Yn.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||oa())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!oa()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Yn.LOADED||this.state===Yn.ERROR)&&this.removePlaceholder()))}}function wc(n,e){if(n.getViewportSizeFn){const t=n.getViewportSizeFn(n,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Ri(n,e,t,r,l){let o=0;if(e.paddingFn)o=e.paddingFn(t,r,l)[n];else if(e.padding)o=e.padding[n];else{const s="padding"+n[0].toUpperCase()+n.slice(1);e[s]&&(o=e[s])}return Number(o)||0}function kc(n,e,t,r){return{x:e.x-Ri("left",n,e,t,r)-Ri("right",n,e,t,r),y:e.y-Ri("top",n,e,t,r)-Ri("bottom",n,e,t,r)}}const ua=4e3;class Sc{constructor(e,t,r,l){this.pswp=l,this.options=e,this.itemData=t,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,r){const l={x:e,y:t};this.elementSize=l,this.panAreaSize=r;const o=r.x/l.x,s=r.y/l.y;this.fit=Math.min(1,o<s?o:s),this.fill=Math.min(1,o>s?o:s),this.vFill=Math.min(1,s),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",r=this.options[t];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>ua&&(e=ua/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function ao(n,e,t){const r=e.createContentFromData(n,t);let l;const{options:o}=e;if(o){l=new Sc(o,n,-1);let s;e.pswp?s=e.pswp.viewportSize:s=wc(o,e);const u=kc(o,s,n,t);l.update(r.width,r.height,u)}return r.lazyLoad(),l&&r.setDisplayedSize(Math.ceil(r.width*l.initial),Math.ceil(r.height*l.initial)),r}function Ec(n,e){const t=e.getItemData(n);if(!e.dispatch("lazyLoadSlide",{index:n,itemData:t}).defaultPrevented)return ao(t,e,n)}class Dc extends vc{getNumItems(){var e;let t=0;const r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?t=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(t=r.items.length));const l=this.dispatch("numItems",{dataSource:r,numItems:t});return this.applyFilters("numItems",l.numItems,r)}createContentFromData(e,t){return new yc(e,this,t)}getItemData(e){var t;const r=(t=this.options)===null||t===void 0?void 0:t.dataSource;let l={};Array.isArray(r)?l=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),l=r.items[e]);let o=l;o instanceof Element&&(o=this._domElementToItemData(o));const s=this.dispatch("itemData",{itemData:o||{},index:e});return this.applyFilters("itemData",s.itemData,e)}_getGalleryDOMElements(e){var t,r;return(t=this.options)!==null&&t!==void 0&&t.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?oi(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){t.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(t.srcset=r.dataset.pswpSrcset),t.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,t.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,r.dataset.pswpType&&(t.type=r.dataset.pswpType);const o=e.querySelector("img");if(o){var l;t.msrc=o.currentSrc||o.src,t.alt=(l=o.getAttribute("alt"))!==null&&l!==void 0?l:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,r)}lazyLoadData(e,t){return ao(e,this,t)}}class Cc extends Dc{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){oi(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(mc(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);const l={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,l,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,l=oi(this.options.children,this.options.childSelector,e.currentTarget).findIndex(o=>o===t||o.contains(t));return l!==-1?l:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,r){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const l=oi(this.options.gallery);l[0]&&(t={gallery:l[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:r}=this;t&&(r.dataSource=t);const l=[],o=typeof r.pswpModule;if(gc(r.pswpModule))l.push(Promise.resolve(r.pswpModule));else{if(o==="string")throw new Error("pswpModule as string is no longer supported");if(o==="function")l.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&l.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=Ec(e,this));const s=++this._uid;Promise.all(l).then(u=>{if(this.shouldOpen){const f=u[0];this._openPhotoswipe(f,s)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(l=>{var o;(o=this._listeners[l])===null||o===void 0||o.forEach(s=>{r.on(l,s)})}),Object.keys(this._filters).forEach(l=>{var o;(o=this._filters[l])===null||o===void 0||o.forEach(s=>{r.addFilter(l,s.fn,s.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},oi(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}function ca(n,e,t){const r=n.slice();return r[16]=e[t],r}function fa(n,e,t){const r=n.slice();return r[19]=e[t],r}function Sl(n){const e=n.slice(),t=Array.from(new Set(e[4].map(r=>r.currency)));return e[15]=t,e}function da(n){let e,t,r=n[0].name+"",l,o,s,u,f,h,p,y,S,P,C='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',D,B,R=n[0].startDate.toDateString()+"",I,K,T=n[0].endDate.toDateString()+"",ie,ne,J,Ce,he=n[0].defaultCurrency+"",$,ge,De=rn[n[0].defaultCurrency].symbol+"",ye,fe,ke,pe,ue,_e,k,M,j,se,N,Y,le,W,Se,Ve,me,te,xe="Notes:",Ee,Pe,Ue,x,Ge="Receipts:",ze,we,tt,Ct;function zt(Ye,Je){return Ye[2]?Tc:Ic}let It=zt(n),ht=It(n),it=n[4]&&ha(Sl(n));return{c(){e=A("h1"),t=A("span"),l=Ne(r),o=ae(),s=A("span"),u=A("a"),f=Rt("svg"),h=Rt("path"),p=Rt("path"),S=ae(),P=A("button"),P.innerHTML=C,D=ae(),B=A("h4"),I=Ne(R),K=Ne(" - "),ie=Ne(T),ne=ae(),J=A("p"),Ce=Ne("Default currency: "),$=Ne(he),ge=Ne(" ("),ye=Ne(De),fe=Ne(")"),ke=ae(),pe=A("a"),ue=Ne("+ Add Receipt"),k=ae(),M=A("button"),ht.c(),j=ae(),se=A("a"),N=Rt("svg"),Y=Rt("path"),le=Rt("path"),W=Ne(`
        Export/Print`),Ve=ae(),me=A("div"),te=A("h5"),te.textContent=xe,Ee=ae(),Pe=A("textarea"),Ue=ae(),x=A("h5"),x.textContent=Ge,ze=ae(),it&&it.c(),we=gt(),this.h()},l(Ye){e=O(Ye,"H1",{class:!0});var Je=z(e);t=O(Je,"SPAN",{});var Mt=z(t);l=Be(Mt,r),Mt.forEach(_),o=oe(Je),s=O(Je,"SPAN",{});var rt=z(s);u=O(rt,"A",{href:!0,class:!0,title:!0});var ln=z(u);f=Nt(ln,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var tn=z(f);h=Nt(tn,"path",{d:!0}),z(h).forEach(_),p=Nt(tn,"path",{"fill-rule":!0,d:!0}),z(p).forEach(_),tn.forEach(_),ln.forEach(_),S=oe(rt),P=O(rt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Xe(P)!=="svelte-7al2bn"&&(P.innerHTML=C),rt.forEach(_),Je.forEach(_),D=oe(Ye),B=O(Ye,"H4",{});var kt=z(B);I=Be(kt,R),K=Be(kt," - "),ie=Be(kt,T),kt.forEach(_),ne=oe(Ye),J=O(Ye,"P",{});var Tt=z(J);Ce=Be(Tt,"Default currency: "),$=Be(Tt,he),ge=Be(Tt," ("),ye=Be(Tt,De),fe=Be(Tt,")"),Tt.forEach(_),ke=oe(Ye),pe=O(Ye,"A",{class:!0,href:!0});var yn=z(pe);ue=Be(yn,"+ Add Receipt"),yn.forEach(_),k=oe(Ye),M=O(Ye,"BUTTON",{class:!0});var Yt=z(M);ht.l(Yt),Yt.forEach(_),j=oe(Ye),se=O(Ye,"A",{href:!0,target:!0,class:!0});var He=z(se);N=Nt(He,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Mn=z(N);Y=Nt(Mn,"path",{d:!0}),z(Y).forEach(_),le=Nt(Mn,"path",{d:!0}),z(le).forEach(_),Mn.forEach(_),W=Be(He,`
        Export/Print`),He.forEach(_),Ve=oe(Ye),me=O(Ye,"DIV",{class:!0});var nn=z(me);te=O(nn,"H5",{"data-svelte-h":!0}),Xe(te)!=="svelte-srqctx"&&(te.textContent=xe),Ee=oe(nn),Pe=O(nn,"TEXTAREA",{style:!0,class:!0,placeholder:!0,id:!0}),z(Pe).forEach(_),nn.forEach(_),Ue=oe(Ye),x=O(Ye,"H5",{class:!0,"data-svelte-h":!0}),Xe(x)!=="svelte-7onek5"&&(x.textContent=Ge),ze=oe(Ye),it&&it.l(Ye),we=gt(),this.h()},h(){m(h,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),m(p,"fill-rule","evenodd"),m(p,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),m(f,"xmlns","http://www.w3.org/2000/svg"),m(f,"width","16"),m(f,"height","16"),m(f,"fill","currentColor"),m(f,"class","bi bi-pencil-square"),m(f,"viewBox","0 0 16 16"),m(u,"href",y="#/update/"+n[0].id),m(u,"class","btn btn-outline-secondary no-outline"),m(u,"title","Update Trip"),m(P,"class","btn btn-outline-secondary no-outline hover-red"),m(P,"title","Delete Trip"),m(e,"class","d-flex justify-content-between"),m(pe,"class","btn btn-primary"),m(pe,"href",_e="#/addreceipt/"+n[0].id),m(M,"class","btn"),Me(M,"btn-outline-primary",!n[2]),Me(M,"btn-secondary",n[2]),m(Y,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),m(le,"d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"),m(N,"xmlns","http://www.w3.org/2000/svg"),m(N,"width","16"),m(N,"height","16"),m(N,"fill","currentColor"),m(N,"class","bi bi-download"),m(N,"viewBox","0 0 16 16"),m(se,"href",Se="#/print/"+n[0].id),m(se,"target","_blank"),m(se,"class","btn btn-outline-primary"),Rr(Pe,"height","50vh"),m(Pe,"class","form-control d-block"),m(Pe,"placeholder","A space for notes about your trip"),m(Pe,"id","tripNotes"),m(me,"class","hide mt-3 flex-column"),Me(me,"show",n[2]),m(x,"class","mt-3")},m(Ye,Je){ee(Ye,e,Je),v(e,t),v(t,l),v(e,o),v(e,s),v(s,u),v(u,f),v(f,h),v(f,p),v(s,S),v(s,P),ee(Ye,D,Je),ee(Ye,B,Je),v(B,I),v(B,K),v(B,ie),ee(Ye,ne,Je),ee(Ye,J,Je),v(J,Ce),v(J,$),v(J,ge),v(J,ye),v(J,fe),ee(Ye,ke,Je),ee(Ye,pe,Je),v(pe,ue),ee(Ye,k,Je),ee(Ye,M,Je),ht.m(M,null),ee(Ye,j,Je),ee(Ye,se,Je),v(se,N),v(N,Y),v(N,le),v(se,W),ee(Ye,Ve,Je),ee(Ye,me,Je),v(me,te),v(me,Ee),v(me,Pe),Ht(Pe,n[3]),ee(Ye,Ue,Je),ee(Ye,x,Je),ee(Ye,ze,Je),it&&it.m(Ye,Je),ee(Ye,we,Je),tt||(Ct=[Ze(P,"click",function(){Zr(n[5](n[0]))&&n[5](n[0]).apply(this,arguments)}),Ze(M,"click",n[8]),Ze(Pe,"input",n[11]),Ze(Pe,"input",n[7])],tt=!0)},p(Ye,Je){n=Ye,Je&1&&r!==(r=n[0].name+"")&&$e(l,r),Je&1&&y!==(y="#/update/"+n[0].id)&&m(u,"href",y),Je&1&&R!==(R=n[0].startDate.toDateString()+"")&&$e(I,R),Je&1&&T!==(T=n[0].endDate.toDateString()+"")&&$e(ie,T),Je&1&&he!==(he=n[0].defaultCurrency+"")&&$e($,he),Je&1&&De!==(De=rn[n[0].defaultCurrency].symbol+"")&&$e(ye,De),Je&1&&_e!==(_e="#/addreceipt/"+n[0].id)&&m(pe,"href",_e),It!==(It=zt(n))&&(ht.d(1),ht=It(n),ht&&(ht.c(),ht.m(M,null))),Je&4&&Me(M,"btn-outline-primary",!n[2]),Je&4&&Me(M,"btn-secondary",n[2]),Je&1&&Se!==(Se="#/print/"+n[0].id)&&m(se,"href",Se),Je&8&&Ht(Pe,n[3]),Je&4&&Me(me,"show",n[2]),n[4]?it?it.p(Sl(n),Je):(it=ha(Sl(n)),it.c(),it.m(we.parentNode,we)):it&&(it.d(1),it=null)},d(Ye){Ye&&(_(e),_(D),_(B),_(ne),_(J),_(ke),_(pe),_(k),_(M),_(j),_(se),_(Ve),_(me),_(Ue),_(x),_(ze),_(we)),ht.d(),it&&it.d(Ye),tt=!1,Xn(Ct)}}}function Tc(n){let e,t,r,l,o;return{c(){e=Rt("svg"),t=Rt("path"),r=Rt("path"),l=Rt("path"),o=Ne(`
          Hide`),this.h()},l(s){e=Nt(s,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=z(e);t=Nt(u,"path",{d:!0}),z(t).forEach(_),r=Nt(u,"path",{d:!0}),z(r).forEach(_),l=Nt(u,"path",{d:!0}),z(l).forEach(_),u.forEach(_),o=Be(s,`
          Hide`),this.h()},h(){m(t,"d","M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"),m(r,"d","M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"),m(l,"d","M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","16"),m(e,"height","16"),m(e,"fill","currentColor"),m(e,"class","bi bi-eye-slash"),m(e,"viewBox","0 0 16 16")},m(s,u){ee(s,e,u),v(e,t),v(e,r),v(e,l),ee(s,o,u)},d(s){s&&(_(e),_(o))}}}function Ic(n){let e,t,r,l,o;return{c(){e=Rt("svg"),t=Rt("path"),r=Rt("path"),l=Rt("path"),o=Ne(`
          Notes`),this.h()},l(s){e=Nt(s,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=z(e);t=Nt(u,"path",{d:!0}),z(t).forEach(_),r=Nt(u,"path",{d:!0}),z(r).forEach(_),l=Nt(u,"path",{d:!0}),z(l).forEach(_),u.forEach(_),o=Be(s,`
          Notes`),this.h()},h(){m(t,"d","M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"),m(r,"d","M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"),m(l,"d","M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","16"),m(e,"height","16"),m(e,"fill","currentColor"),m(e,"class","bi bi-journal-text"),m(e,"viewBox","0 0 16 16")},m(s,u){ee(s,e,u),v(e,t),v(e,r),v(e,l),ee(s,o,u)},d(s){s&&(_(e),_(o))}}}function ha(n){let e,t,r,l="<tr><th>Description</th> <th>Date</th> <th>Type</th> <th>Total</th> <th></th></tr>",o,s,u=[],f=new Map,h,p,y,S,P,C,D,B,R="<strong>Total</strong>",I,K,T,ie,ne,J,Ce=ot(n[4]);const he=De=>De[19].id;for(let De=0;De<Ce.length;De+=1){let ye=fa(n,Ce,De),fe=he(ye);f.set(fe,u[De]=pa(fe,ye))}let $=ot(n[15]),ge=[];for(let De=0;De<$.length;De+=1)ge[De]=ma(ca(n,$,De));return{c(){e=A("div"),t=A("table"),r=A("thead"),r.innerHTML=l,o=ae(),s=A("tbody");for(let De=0;De<u.length;De+=1)u[De].c();h=ae(),p=A("tfoot"),y=A("tr"),S=A("td"),P=ae(),C=A("td"),D=ae(),B=A("td"),B.innerHTML=R,I=ae(),K=A("td");for(let De=0;De<ge.length;De+=1)ge[De].c();T=ae(),ie=A("td"),this.h()},l(De){e=O(De,"DIV",{class:!0});var ye=z(e);t=O(ye,"TABLE",{class:!0});var fe=z(t);r=O(fe,"THEAD",{"data-svelte-h":!0}),Xe(r)!=="svelte-1vpbmbw"&&(r.innerHTML=l),o=oe(fe),s=O(fe,"TBODY",{});var ke=z(s);for(let k=0;k<u.length;k+=1)u[k].l(ke);ke.forEach(_),h=oe(fe),p=O(fe,"TFOOT",{class:!0});var pe=z(p);y=O(pe,"TR",{});var ue=z(y);S=O(ue,"TD",{}),z(S).forEach(_),P=oe(ue),C=O(ue,"TD",{}),z(C).forEach(_),D=oe(ue),B=O(ue,"TD",{class:!0,"data-svelte-h":!0}),Xe(B)!=="svelte-14afisz"&&(B.innerHTML=R),I=oe(ue),K=O(ue,"TD",{});var _e=z(K);for(let k=0;k<ge.length;k+=1)ge[k].l(_e);_e.forEach(_),T=oe(ue),ie=O(ue,"TD",{}),z(ie).forEach(_),ue.forEach(_),pe.forEach(_),fe.forEach(_),ye.forEach(_),this.h()},h(){m(B,"class","text-end"),m(p,"class","table-group-divider"),m(t,"class","table table-striped table-hover"),m(e,"class","table-responsive")},m(De,ye){ee(De,e,ye),v(e,t),v(t,r),v(t,o),v(t,s);for(let fe=0;fe<u.length;fe+=1)u[fe]&&u[fe].m(s,null);v(t,h),v(t,p),v(p,y),v(y,S),v(y,P),v(y,C),v(y,D),v(y,B),v(y,I),v(y,K);for(let fe=0;fe<ge.length;fe+=1)ge[fe]&&ge[fe].m(K,null);v(y,T),v(y,ie),ne||(J=ci(n[9].call(null,s)),ne=!0)},p(De,ye){if(ye&80&&(Ce=ot(De[4]),u=Nr(u,ye,he,1,De,Ce,f,s,Yr,pa,null,fa)),ye&16){$=ot(De[15]);let fe;for(fe=0;fe<$.length;fe+=1){const ke=ca(De,$,fe);ge[fe]?ge[fe].p(ke,ye):(ge[fe]=ma(ke),ge[fe].c(),ge[fe].m(K,null))}for(;fe<ge.length;fe+=1)ge[fe].d(1);ge.length=$.length}},d(De){De&&_(e);for(let ye=0;ye<u.length;ye+=1)u[ye].d();Bn(ge,De),ne=!1,J()}}}function pa(n,e){let t,r,l,o,s,u,f,h,p,y,S,P,C,D=e[19].description+"",B,R,I,K=e[19].receiptDateString+"",T,ie,ne,J,Ce,he=Ds[e[19].receiptType]+"",$,ge,De=e[19].receiptType+"",ye,fe,ke,pe=rn[e[19].currency].symbol+"",ue,_e,k=e[19].total.toFixed(2)+"",M,j,se,N,Y,le,W,Se,Ve,me,te='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',xe,Ee,Pe;return{key:n,first:null,c(){t=A("tr"),r=A("td"),l=A("div"),o=A("span"),s=A("a"),u=Rt("svg"),f=Rt("path"),h=Rt("path"),P=ae(),C=A("span"),B=Ne(D),R=ae(),I=A("td"),T=Ne(K),ie=ae(),ne=A("td"),J=A("abbr"),Ce=new Wi(!1),ge=A("span"),ye=Ne(De),fe=ae(),ke=A("td"),ue=Ne(pe),_e=ae(),M=Ne(k),j=ae(),se=A("td"),N=A("a"),Y=Rt("svg"),le=Rt("path"),W=Rt("path"),Ve=ae(),me=A("button"),me.innerHTML=te,xe=ae(),this.h()},l(Ue){t=O(Ue,"TR",{});var x=z(t);r=O(x,"TD",{});var Ge=z(r);l=O(Ge,"DIV",{class:!0});var ze=z(l);o=O(ze,"SPAN",{});var we=z(o);s=O(we,"A",{class:!0,href:!0,"data-pswp-width":!0,"data-pswp-height":!0,target:!0,rel:!0,title:!0,style:!0});var tt=z(s);u=Nt(tt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ct=z(u);f=Nt(Ct,"path",{d:!0}),z(f).forEach(_),h=Nt(Ct,"path",{d:!0}),z(h).forEach(_),Ct.forEach(_),tt.forEach(_),we.forEach(_),P=oe(ze),C=O(ze,"SPAN",{});var zt=z(C);B=Be(zt,D),zt.forEach(_),ze.forEach(_),Ge.forEach(_),R=oe(x),I=O(x,"TD",{});var It=z(I);T=Be(It,K),It.forEach(_),ie=oe(x),ne=O(x,"TD",{});var ht=z(ne);J=O(ht,"ABBR",{class:!0,title:!0});var it=z(J);Ce=Yi(it,!1),it.forEach(_),ge=O(ht,"SPAN",{class:!0});var Ye=z(ge);ye=Be(Ye,De),Ye.forEach(_),ht.forEach(_),fe=oe(x),ke=O(x,"TD",{class:!0});var Je=z(ke);ue=Be(Je,pe),_e=oe(Je),M=Be(Je,k),Je.forEach(_),j=oe(x),se=O(x,"TD",{});var Mt=z(se);N=O(Mt,"A",{class:!0,href:!0,title:!0});var rt=z(N);Y=Nt(rt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var ln=z(Y);le=Nt(ln,"path",{d:!0}),z(le).forEach(_),W=Nt(ln,"path",{"fill-rule":!0,d:!0}),z(W).forEach(_),ln.forEach(_),rt.forEach(_),Ve=oe(Mt),me=O(Mt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Xe(me)!=="svelte-mho9l"&&(me.innerHTML=te),Mt.forEach(_),xe=oe(x),x.forEach(_),this.h()},h(){m(f,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"),m(h,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"),m(u,"xmlns","http://www.w3.org/2000/svg"),m(u,"width","16"),m(u,"height","16"),m(u,"fill","currentColor"),m(u,"class","bi bi-image"),m(u,"viewBox","0 0 16 16"),m(s,"class","btn btn-outline-primary btn-sm rImages"),m(s,"href",p=e[19].imageData),m(s,"data-pswp-width",y=e[19].imageWidth),m(s,"data-pswp-height",S=e[19].imageHeight),m(s,"target","_blank"),m(s,"rel","noreferrer"),m(s,"title","View Image"),Rr(s,"border","none"),m(l,"class","receiptDesc"),Ce.a=null,m(J,"class","me-2 typeIcon"),m(J,"title",$=e[19].receiptType),m(ge,"class","typeText"),m(ke,"class","text-nowrap"),m(le,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),m(W,"fill-rule","evenodd"),m(W,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),m(Y,"xmlns","http://www.w3.org/2000/svg"),m(Y,"width","16"),m(Y,"height","16"),m(Y,"fill","currentColor"),m(Y,"class","bi bi-pencil-square"),m(Y,"viewBox","0 0 16 16"),m(N,"class","btn btn-outline-dark no-outline btn-sm"),m(N,"href",Se="#/editreceipt/"+e[19].id),m(N,"title","Edit Receipt"),m(me,"class","btn btn-outline-dark no-outline btn-sm hover-red"),m(me,"title","Delete Receipt"),this.first=t},m(Ue,x){ee(Ue,t,x),v(t,r),v(r,l),v(l,o),v(o,s),v(s,u),v(u,f),v(u,h),v(l,P),v(l,C),v(C,B),v(t,R),v(t,I),v(I,T),v(t,ie),v(t,ne),v(ne,J),Ce.m(he,J),v(ne,ge),v(ge,ye),v(t,fe),v(t,ke),v(ke,ue),v(ke,_e),v(ke,M),v(t,j),v(t,se),v(se,N),v(N,Y),v(Y,le),v(Y,W),v(se,Ve),v(se,me),v(t,xe),Ee||(Pe=Ze(me,"click",function(){Zr(e[6](e[19]))&&e[6](e[19]).apply(this,arguments)}),Ee=!0)},p(Ue,x){e=Ue,x&16&&p!==(p=e[19].imageData)&&m(s,"href",p),x&16&&y!==(y=e[19].imageWidth)&&m(s,"data-pswp-width",y),x&16&&S!==(S=e[19].imageHeight)&&m(s,"data-pswp-height",S),x&16&&D!==(D=e[19].description+"")&&$e(B,D),x&16&&K!==(K=e[19].receiptDateString+"")&&$e(T,K),x&16&&he!==(he=Ds[e[19].receiptType]+"")&&Ce.p(he),x&16&&$!==($=e[19].receiptType)&&m(J,"title",$),x&16&&De!==(De=e[19].receiptType+"")&&$e(ye,De),x&16&&pe!==(pe=rn[e[19].currency].symbol+"")&&$e(ue,pe),x&16&&k!==(k=e[19].total.toFixed(2)+"")&&$e(M,k),x&16&&Se!==(Se="#/editreceipt/"+e[19].id)&&m(N,"href",Se)},d(Ue){Ue&&_(t),Ee=!1,Pe()}}}function ma(n){let e=rn[n[16]].symbol+"",t,r,l=n[4].filter(f).reduce(ga,0).toFixed(2)+"",o,s,u;function f(...h){return n[12](n[16],...h)}return{c(){t=Ne(e),r=ae(),o=Ne(l),s=ae(),u=A("br")},l(h){t=Be(h,e),r=oe(h),o=Be(h,l),s=oe(h),u=O(h,"BR",{})},m(h,p){ee(h,t,p),ee(h,r,p),ee(h,o,p),ee(h,s,p),ee(h,u,p)},p(h,p){n=h,p&16&&e!==(e=rn[n[16]].symbol+"")&&$e(t,e),p&16&&l!==(l=n[4].filter(f).reduce(ga,0).toFixed(2)+"")&&$e(o,l)},d(h){h&&(_(t),_(r),_(o),_(s),_(u))}}}function Ac(n){let e,t=n[0]&&da(n);return{c(){e=A("div"),t&&t.c(),this.h()},l(r){e=O(r,"DIV",{class:!0});var l=z(e);t&&t.l(l),l.forEach(_),this.h()},h(){m(e,"class","w-100")},m(r,l){ee(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]?t?t.p(r,l):(t=da(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:wt,o:wt,d(r){r&&_(e),t&&t.d()}}}const Oc=2e3,ga=(n,e)=>n+e.total;function Pc(n,e,t){let r,l=wt,o=()=>(l(),l=ui(f,T=>t(4,r=T)),f);n.$$.on_destroy.push(()=>l());let{tripId:s}=e,u,f,h=!1,p="",y;s>-1&&Wt.trips.get(s).then(T=>{t(0,u=T),t(3,p=u==null?void 0:u.notes),o(t(1,f=hi(async()=>await Wt.receipts.where({tripId:s}).reverse().sortBy("receiptDate"))))});async function S(T){if(confirm(`Are you sure you want to delete trip "${T.name}"? It will also delete all receipts for this trip`)){let ne=await Wt.trips.where("id").equals(T.id).delete();console.log(`Deleted ${ne} trip(s)`),ne=await Wt.receipts.where("tripId").equals(T.id).delete(),console.log(`Deleted ${ne} receipts(s)`),window.location.href="#/"}}async function P(T){if(confirm(`Are you sure you want to delete receipt for "${T.description}"?`)){let ne=await Wt.receipts.where("id").equals(T.id).delete();console.log(`Deleted ${ne} receipts(s)`)}}async function C(){y&&clearTimeout(y),y=setTimeout(D,Oc)}async function D(){if(u)try{const T=await Wt.trips.update(u.id,{notes:p})}catch(T){console.error(T)}}function B(){t(2,h=!h)}function R(T){new Cc({gallery:".rImages",pswpModule:()=>Bo(()=>import("../chunks/photoswipe.esm.GXRgw7eJ.js"),[],import.meta.url)}).init()}function I(){p=this.value,t(3,p)}const K=(T,ie)=>ie.currency==T;return n.$$set=T=>{"tripId"in T&&t(10,s=T.tripId)},[u,f,h,p,r,S,P,C,B,R,s,I,K]}class Mc extends Fn{constructor(e){super(),zn(this,e,Pc,Ac,Pn,{tripId:10})}}function oo(){let n=document.getElementById("tripToggle");n==null||n.classList.toggle("show")}function _a(n,e,t){const r=n.slice();return r[8]=e[t],r}function va(n,e,t){const r=n.slice();return r[12]=e[t],r}function El(n){const e=n.slice(),t=Array.from(new Set(e[2].filter(function(...l){return n[5](e[8],...l)}).map(r=>r.currency)));return e[11]=t,e}function ba(n){let e=[],t=new Map,r,l=ot(n[1]);const o=s=>s[8].id;for(let s=0;s<l.length;s+=1){let u=_a(n,l,s),f=o(u);t.set(f,e[s]=ka(f,u))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=gt()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);r=gt()},m(s,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,u);ee(s,r,u)},p(s,u){u&7&&(l=ot(s[1]),e=Nr(e,u,o,1,s,l,t,r.parentNode,Yr,ka,r,_a))},d(s){s&&_(r);for(let u=0;u<e.length;u+=1)e[u].d(s)}}}function ya(n){let e,t=ot(n[11]),r=[];for(let l=0;l<t.length;l+=1)r[l]=wa(va(n,t,l));return{c(){e=A("small");for(let l=0;l<r.length;l+=1)r[l].c()},l(l){e=O(l,"SMALL",{});var o=z(e);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(_)},m(l,o){ee(l,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,o){if(o&6){t=ot(l[11]);let s;for(s=0;s<t.length;s+=1){const u=va(l,t,s);r[s]?r[s].p(u,o):(r[s]=wa(u),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&_(e),Bn(r,l)}}}function wa(n){let e=rn[n[12]].symbol+"",t,r,l=n[2].filter(f).filter(h).reduce(Sa,0).toFixed(2)+"",o,s,u;function f(...p){return n[6](n[8],...p)}function h(...p){return n[7](n[12],...p)}return{c(){t=Ne(e),r=ae(),o=Ne(l),s=ae(),u=A("br")},l(p){t=Be(p,e),r=oe(p),o=Be(p,l),s=oe(p),u=O(p,"BR",{})},m(p,y){ee(p,t,y),ee(p,r,y),ee(p,o,y),ee(p,s,y),ee(p,u,y)},p(p,y){n=p,y&6&&e!==(e=rn[n[12]].symbol+"")&&$e(t,e),y&6&&l!==(l=n[2].filter(f).filter(h).reduce(Sa,0).toFixed(2)+"")&&$e(o,l)},d(p){p&&(_(t),_(r),_(o),_(s),_(u))}}}function ka(n,e){let t,r,l,o=e[8].name+"",s,u,f,h,p=e[8].startDateString+"",y,S,P=e[8].endDateString+"",C,D,B,R,I,K,T=e[2]&&ya(El(e));return{key:n,first:null,c(){t=A("a"),r=A("div"),l=A("strong"),s=Ne(o),u=ae(),T&&T.c(),f=ae(),h=A("div"),y=Ne(p),S=Ne(" - "),C=Ne(P),D=ae(),this.h()},l(ie){t=O(ie,"A",{href:!0,class:!0,"aria-current":!0,"data-trip-id":!0});var ne=z(t);r=O(ne,"DIV",{class:!0});var J=z(r);l=O(J,"STRONG",{class:!0});var Ce=z(l);s=Be(Ce,o),Ce.forEach(_),u=oe(J),T&&T.l(J),J.forEach(_),f=oe(ne),h=O(ne,"DIV",{class:!0});var he=z(h);y=Be(he,p),S=Be(he," - "),C=Be(he,P),he.forEach(_),D=oe(ne),ne.forEach(_),this.h()},h(){m(l,"class","mb-1"),m(r,"class","d-flex w-100 align-items-center justify-content-between"),m(h,"class","col-10 mb-1 small"),m(t,"href",B="#/trip/"+e[8].id),m(t,"class","list-group-item list-group-item-action py-3 lh-sm m-2"),m(t,"aria-current","false"),m(t,"data-trip-id",R=e[8].id),Me(t,"active",e[0]==e[8].id),this.first=t},m(ie,ne){ee(ie,t,ne),v(t,r),v(r,l),v(l,s),v(r,u),T&&T.m(r,null),v(t,f),v(t,h),v(h,y),v(h,S),v(h,C),v(t,D),I||(K=Ze(t,"click",oo),I=!0)},p(ie,ne){e=ie,ne&2&&o!==(o=e[8].name+"")&&$e(s,o),e[2]?T?T.p(El(e),ne):(T=ya(El(e)),T.c(),T.m(r,null)):T&&(T.d(1),T=null),ne&2&&p!==(p=e[8].startDateString+"")&&$e(y,p),ne&2&&P!==(P=e[8].endDateString+"")&&$e(C,P),ne&2&&B!==(B="#/trip/"+e[8].id)&&m(t,"href",B),ne&2&&R!==(R=e[8].id)&&m(t,"data-trip-id",R),ne&3&&Me(t,"active",e[0]==e[8].id)},d(ie){ie&&_(t),T&&T.d(),I=!1,K()}}}function Lc(n){let e,t=n[1]&&ba(n);return{c(){t&&t.c(),e=gt()},l(r){t&&t.l(r),e=gt()},m(r,l){t&&t.m(r,l),ee(r,e,l)},p(r,[l]){r[1]?t?t.p(r,l):(t=ba(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:wt,o:wt,d(r){r&&_(e),t&&t.d(r)}}}const Sa=(n,e)=>n+e.total;function Rc(n,e,t){let r,l,{tripId:o}=e,s=hi(()=>Wt.trips.toCollection().reverse().sortBy("endDate"));Jn(n,s,y=>t(1,r=y));let u=hi(()=>Wt.receipts.toArray());Jn(n,u,y=>t(2,l=y));const f=(y,S)=>S.tripId==y.id,h=(y,S)=>S.tripId==y.id,p=(y,S)=>S.currency==y;return n.$$set=y=>{"tripId"in y&&t(0,o=y.tripId)},[o,r,l,s,u,f,h,p]}class Nc extends Fn{constructor(e){super(),zn(this,e,Rc,Lc,Pn,{tripId:0})}}function Ea(n){let e,t,r="Update Trip",l,o,s,u="Trip Name",f,h,p,y,S,P="Trip Currency",C,D,B,R,I,K,T="Trip Start",ie,ne,J,Ce,he,$,ge="Trip End",De,ye,fe,ke,pe,ue,_e="Update Trip",k,M,j,se,N,Y,le;function W(Ee){n[8](Ee)}let Se={options:n[3],inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[0].defaultCurrency!==void 0&&(Se.value=n[0].defaultCurrency),D=new mi({props:Se}),Ut.push(()=>Qn(D,"value",W));function Ve(Ee){n[9](Ee)}let me={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[1]!==void 0&&(me.value=n[1]),ne=new di({props:me}),Ut.push(()=>Qn(ne,"value",Ve));function te(Ee){n[10](Ee)}let xe={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[1],id:"tripEnd"};return n[2]!==void 0&&(xe.value=n[2]),ye=new di({props:xe}),Ut.push(()=>Qn(ye,"value",te)),{c(){e=A("form"),t=A("h1"),t.textContent=r,l=ae(),o=A("div"),s=A("label"),s.textContent=u,f=ae(),h=A("input"),p=ae(),y=A("div"),S=A("label"),S.textContent=P,C=ae(),Jt(D.$$.fragment),R=ae(),I=A("div"),K=A("label"),K.textContent=T,ie=ae(),Jt(ne.$$.fragment),Ce=ae(),he=A("div"),$=A("label"),$.textContent=ge,De=ae(),Jt(ye.$$.fragment),ke=ae(),pe=A("div"),ue=A("button"),ue.textContent=_e,k=ae(),M=A("a"),j=Ne("Cancel"),this.h()},l(Ee){e=O(Ee,"FORM",{});var Pe=z(e);t=O(Pe,"H1",{"data-svelte-h":!0}),Xe(t)!=="svelte-9352dq"&&(t.textContent=r),l=oe(Pe),o=O(Pe,"DIV",{class:!0});var Ue=z(o);s=O(Ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(s)!=="svelte-1y8z10u"&&(s.textContent=u),f=oe(Ue),h=O(Ue,"INPUT",{id:!0,class:!0,type:!0}),Ue.forEach(_),p=oe(Pe),y=O(Pe,"DIV",{class:!0});var x=z(y);S=O(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(S)!=="svelte-1fzihue"&&(S.textContent=P),C=oe(x),Qt(D.$$.fragment,x),x.forEach(_),R=oe(Pe),I=O(Pe,"DIV",{class:!0});var Ge=z(I);K=O(Ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(K)!=="svelte-4n7gli"&&(K.textContent=T),ie=oe(Ge),Qt(ne.$$.fragment,Ge),Ge.forEach(_),Ce=oe(Pe),he=O(Pe,"DIV",{class:!0});var ze=z(he);$=O(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe($)!=="svelte-1dn7717"&&($.textContent=ge),De=oe(ze),Qt(ye.$$.fragment,ze),ze.forEach(_),ke=oe(Pe),pe=O(Pe,"DIV",{class:!0});var we=z(pe);ue=O(we,"BUTTON",{class:!0,"data-svelte-h":!0}),Xe(ue)!=="svelte-bsugmm"&&(ue.textContent=_e),k=oe(we),M=O(we,"A",{href:!0,class:!0});var tt=z(M);j=Be(tt,"Cancel"),tt.forEach(_),we.forEach(_),Pe.forEach(_),this.h()},h(){m(s,"for","tripName"),m(s,"class","form-label"),m(h,"id","tripName"),m(h,"class","form-control"),m(h,"type","text"),m(o,"class","mb-3"),m(S,"for","tripCurrency"),m(S,"class","form-label"),m(y,"class","mb-3"),m(K,"for","tripStart"),m(K,"class","form-label"),m(I,"class","mb-3"),m($,"for","tripStart"),m($,"class","form-label"),m(he,"class","mb-3"),m(ue,"class","btn btn-primary"),m(M,"href",se="#/trip/"+n[0].id),m(M,"class","btn btn-outline-primary"),m(pe,"class","gap-3 d-grid d-md-block")},m(Ee,Pe){ee(Ee,e,Pe),v(e,t),v(e,l),v(e,o),v(o,s),v(o,f),v(o,h),Ht(h,n[0].name),v(e,p),v(e,y),v(y,S),v(y,C),Xt(D,y,null),v(e,R),v(e,I),v(I,K),v(I,ie),Xt(ne,I,null),v(e,Ce),v(e,he),v(he,$),v(he,De),Xt(ye,he,null),v(e,ke),v(e,pe),v(pe,ue),v(pe,k),v(pe,M),v(M,j),N=!0,Y||(le=[Ze(h,"input",n[7]),Ze(ue,"click",n[4])],Y=!0)},p(Ee,Pe){Pe&1&&h.value!==Ee[0].name&&Ht(h,Ee[0].name);const Ue={};Pe&8&&(Ue.options=Ee[3]),!B&&Pe&1&&(B=!0,Ue.value=Ee[0].defaultCurrency,Zn(()=>B=!1)),D.$set(Ue);const x={};!J&&Pe&2&&(J=!0,x.value=Ee[1],Zn(()=>J=!1)),ne.$set(x);const Ge={};Pe&2&&(Ge.min=Ee[1]),!fe&&Pe&4&&(fe=!0,Ge.value=Ee[2],Zn(()=>fe=!1)),ye.$set(Ge),(!N||Pe&1&&se!==(se="#/trip/"+Ee[0].id))&&m(M,"href",se)},i(Ee){N||(Le(D.$$.fragment,Ee),Le(ne.$$.fragment,Ee),Le(ye.$$.fragment,Ee),N=!0)},o(Ee){qe(D.$$.fragment,Ee),qe(ne.$$.fragment,Ee),qe(ye.$$.fragment,Ee),N=!1},d(Ee){Ee&&_(e),xt(D),xt(ne),xt(ye),Y=!1,Xn(le)}}}function Bc(n){let e,t,r=n[0]&&Ea(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r&&r.l(o),o.forEach(_),this.h()},h(){m(e,"class","w-100")},m(l,o){ee(l,e,o),r&&r.m(e,null),t=!0},p(l,[o]){l[0]?r?(r.p(l,o),o&1&&Le(r,1)):(r=Ea(l),r.c(),Le(r,1),r.m(e,null)):r&&(un(),qe(r,1,1,()=>{r=null}),cn())},i(l){t||(Le(r),t=!0)},o(l){qe(r),t=!1},d(l){l&&_(e),r&&r.d()}}}function Fc(n,e,t){let r,l;Jn(n,pi,C=>t(6,l=C));let{tripId:o}=e,s,u,f;o>-1&&Wt.trips.get(o).then(C=>{t(0,s=C),t(1,u=new Date(s.startDateString)),t(2,f=new Date(s.endDateString))});async function h(){try{const C=await Wt.trips.update(s.id,{name:s.name,defaultCurrency:s.defaultCurrency,startDate:u,endDate:f,startDateString:u.toDateString(),endDateString:f.toDateString()});window.location.href="#/trip/"+s.id}catch{window.location.href="#/"}}function p(){s.name=this.value,t(0,s)}function y(C){n.$$.not_equal(s.defaultCurrency,C)&&(s.defaultCurrency=C,t(0,s))}function S(C){u=C,t(1,u)}function P(C){f=C,t(2,f)}return n.$$set=C=>{"tripId"in C&&t(5,o=C.tripId)},n.$$.update=()=>{n.$$.dirty&64&&t(3,r=Bl(l))},[s,u,f,r,h,o,l,p,y,S,P]}class zc extends Fn{constructor(e){super(),zn(this,e,Fc,Bc,Pn,{tripId:5})}}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var Kc={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:qc,fromCents:!1},uo=function(e){return Math.round(e)},Fl=function(e){return Math.pow(10,e)},jc=function(e,t){return uo(e/t)*t},Hc=/(\d)(?=(\d{3})+\b)/g,Vc=/(\d)(?=(\d\d)+\d\b)/g;function or(n,e){var t=this;if(!(t instanceof or))return new or(n,e);var r=Object.assign({},Kc,e),l=Fl(r.precision),o=Fi(n,r);t.intValue=o,t.value=o/l,r.increment=r.increment||1/l,r.useVedic?r.groups=Vc:r.groups=Hc,this.s=r,this.p=l}function Fi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,l=e.decimal,o=e.errorOnInvalid,s=e.precision,u=e.fromCents,f=Fl(s),h=typeof n=="number",p=n instanceof or;if(p&&u)return n.intValue;if(h||p)r=p?n.value:n;else if(typeof n=="string"){var y=new RegExp("[^-\\d"+l+"]","g"),S=new RegExp("\\"+l,"g");r=n.replace(/\((.*)\)/,"-$1").replace(y,"").replace(S,"."),r=r||0}else{if(o)throw Error("Invalid Input");r=0}return u||(r*=f,r=r.toFixed(4)),t?uo(r):r}function qc(n,e){var t=e.pattern,r=e.negativePattern,l=e.symbol,o=e.separator,s=e.decimal,u=e.groups,f=(""+n).replace(/^-/,"").split("."),h=f[0],p=f[1];return(n.value>=0?t:r).replace("!",l).replace("#",h.replace(u,"$1"+o)+(p?s+p:""))}or.prototype={add:function(e){var t=this.intValue,r=this.s,l=this.p;return or((t+=Fi(e,r))/(r.fromCents?1:l),r)},subtract:function(e){var t=this.intValue,r=this.s,l=this.p;return or((t-=Fi(e,r))/(r.fromCents?1:l),r)},multiply:function(e){var t=this.intValue,r=this.s;return or((t*=e)/(r.fromCents?1:Fl(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return or(t/=Fi(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,l=this.s,o=[],s=Math[t>=0?"floor":"ceil"](t/e),u=Math.abs(t-s*e),f=l.fromCents?1:r;e!==0;e--){var h=or(s/f,l);u-- >0&&(h=h[t>=0?"add":"subtract"](1/f)),o.push(h)}return o},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return jc(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var Uc={exports:{}};(function(n){var e=function(t){var r=Object.prototype,l=r.hasOwnProperty,o=Object.defineProperty||function(k,M,j){k[M]=j.value},s,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",p=u.toStringTag||"@@toStringTag";function y(k,M,j){return Object.defineProperty(k,M,{value:j,enumerable:!0,configurable:!0,writable:!0}),k[M]}try{y({},"")}catch{y=function(M,j,se){return M[j]=se}}function S(k,M,j,se){var N=M&&M.prototype instanceof K?M:K,Y=Object.create(N.prototype),le=new pe(se||[]);return o(Y,"_invoke",{value:De(k,j,le)}),Y}t.wrap=S;function P(k,M,j){try{return{type:"normal",arg:k.call(M,j)}}catch(se){return{type:"throw",arg:se}}}var C="suspendedStart",D="suspendedYield",B="executing",R="completed",I={};function K(){}function T(){}function ie(){}var ne={};y(ne,f,function(){return this});var J=Object.getPrototypeOf,Ce=J&&J(J(ue([])));Ce&&Ce!==r&&l.call(Ce,f)&&(ne=Ce);var he=ie.prototype=K.prototype=Object.create(ne);T.prototype=ie,o(he,"constructor",{value:ie,configurable:!0}),o(ie,"constructor",{value:T,configurable:!0}),T.displayName=y(ie,p,"GeneratorFunction");function $(k){["next","throw","return"].forEach(function(M){y(k,M,function(j){return this._invoke(M,j)})})}t.isGeneratorFunction=function(k){var M=typeof k=="function"&&k.constructor;return M?M===T||(M.displayName||M.name)==="GeneratorFunction":!1},t.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,ie):(k.__proto__=ie,y(k,p,"GeneratorFunction")),k.prototype=Object.create(he),k},t.awrap=function(k){return{__await:k}};function ge(k,M){function j(Y,le,W,Se){var Ve=P(k[Y],k,le);if(Ve.type==="throw")Se(Ve.arg);else{var me=Ve.arg,te=me.value;return te&&typeof te=="object"&&l.call(te,"__await")?M.resolve(te.__await).then(function(xe){j("next",xe,W,Se)},function(xe){j("throw",xe,W,Se)}):M.resolve(te).then(function(xe){me.value=xe,W(me)},function(xe){return j("throw",xe,W,Se)})}}var se;function N(Y,le){function W(){return new M(function(Se,Ve){j(Y,le,Se,Ve)})}return se=se?se.then(W,W):W()}o(this,"_invoke",{value:N})}$(ge.prototype),y(ge.prototype,h,function(){return this}),t.AsyncIterator=ge,t.async=function(k,M,j,se,N){N===void 0&&(N=Promise);var Y=new ge(S(k,M,j,se),N);return t.isGeneratorFunction(M)?Y:Y.next().then(function(le){return le.done?le.value:Y.next()})};function De(k,M,j){var se=C;return function(Y,le){if(se===B)throw new Error("Generator is already running");if(se===R){if(Y==="throw")throw le;return _e()}for(j.method=Y,j.arg=le;;){var W=j.delegate;if(W){var Se=ye(W,j);if(Se){if(Se===I)continue;return Se}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(se===C)throw se=R,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);se=B;var Ve=P(k,M,j);if(Ve.type==="normal"){if(se=j.done?R:D,Ve.arg===I)continue;return{value:Ve.arg,done:j.done}}else Ve.type==="throw"&&(se=R,j.method="throw",j.arg=Ve.arg)}}}function ye(k,M){var j=M.method,se=k.iterator[j];if(se===s)return M.delegate=null,j==="throw"&&k.iterator.return&&(M.method="return",M.arg=s,ye(k,M),M.method==="throw")||j!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+j+"' method")),I;var N=P(se,k.iterator,M.arg);if(N.type==="throw")return M.method="throw",M.arg=N.arg,M.delegate=null,I;var Y=N.arg;if(!Y)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,I;if(Y.done)M[k.resultName]=Y.value,M.next=k.nextLoc,M.method!=="return"&&(M.method="next",M.arg=s);else return Y;return M.delegate=null,I}$(he),y(he,p,"Generator"),y(he,f,function(){return this}),y(he,"toString",function(){return"[object Generator]"});function fe(k){var M={tryLoc:k[0]};1 in k&&(M.catchLoc=k[1]),2 in k&&(M.finallyLoc=k[2],M.afterLoc=k[3]),this.tryEntries.push(M)}function ke(k){var M=k.completion||{};M.type="normal",delete M.arg,k.completion=M}function pe(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(fe,this),this.reset(!0)}t.keys=function(k){var M=Object(k),j=[];for(var se in M)j.push(se);return j.reverse(),function N(){for(;j.length;){var Y=j.pop();if(Y in M)return N.value=Y,N.done=!1,N}return N.done=!0,N}};function ue(k){if(k){var M=k[f];if(M)return M.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var j=-1,se=function N(){for(;++j<k.length;)if(l.call(k,j))return N.value=k[j],N.done=!1,N;return N.value=s,N.done=!0,N};return se.next=se}}return{next:_e}}t.values=ue;function _e(){return{value:s,done:!0}}return pe.prototype={constructor:pe,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ke),!k)for(var M in this)M.charAt(0)==="t"&&l.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=s)},stop:function(){this.done=!0;var k=this.tryEntries[0],M=k.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var M=this;function j(Se,Ve){return Y.type="throw",Y.arg=k,M.next=Se,Ve&&(M.method="next",M.arg=s),!!Ve}for(var se=this.tryEntries.length-1;se>=0;--se){var N=this.tryEntries[se],Y=N.completion;if(N.tryLoc==="root")return j("end");if(N.tryLoc<=this.prev){var le=l.call(N,"catchLoc"),W=l.call(N,"finallyLoc");if(le&&W){if(this.prev<N.catchLoc)return j(N.catchLoc,!0);if(this.prev<N.finallyLoc)return j(N.finallyLoc)}else if(le){if(this.prev<N.catchLoc)return j(N.catchLoc,!0)}else if(W){if(this.prev<N.finallyLoc)return j(N.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(k,M){for(var j=this.tryEntries.length-1;j>=0;--j){var se=this.tryEntries[j];if(se.tryLoc<=this.prev&&l.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var N=se;break}}N&&(k==="break"||k==="continue")&&N.tryLoc<=M&&M<=N.finallyLoc&&(N=null);var Y=N?N.completion:{};return Y.type=k,Y.arg=M,N?(this.method="next",this.next=N.finallyLoc,I):this.complete(Y)},complete:function(k,M){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&M&&(this.next=M),I},finish:function(k){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.finallyLoc===k)return this.complete(j.completion,j.afterLoc),ke(j),I}},catch:function(k){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.tryLoc===k){var se=j.completion;if(se.type==="throw"){var N=se.arg;ke(j)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(k,M,j){return this.delegate={iterator:ue(k),resultName:M,nextLoc:j},this.method==="next"&&(this.arg=s),I}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Uc);var zl=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`;const Gc=zl;let Da=0;var co=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=Gc("Job",Da),Da+=1),{id:r,action:e,payload:t}},Jr={};let Kl=!1;Jr.logging=Kl;Jr.setLogging=n=>{Kl=n};Jr.log=(...n)=>Kl?console.log.apply(void 0,n):null;const Wc=co,{log:Ni}=Jr,Yc=zl;let Ca=0;var Zc=()=>{const n=Yc("Scheduler",Ca),e={},t={};let r=[];Ca+=1;const l=()=>r.length,o=()=>Object.keys(e).length,s=()=>{if(r.length!==0){const y=Object.keys(e);for(let S=0;S<y.length;S+=1)if(typeof t[y[S]]>"u"){r[0](e[y[S]]);break}}},u=(y,S)=>new Promise((P,C)=>{const D=Wc({action:y,payload:S});r.push(async B=>{r.shift(),t[B.id]=D;try{P(await B[y].apply(void 0,[...S,D.id]))}catch(R){C(R)}finally{delete t[B.id],s()}}),Ni(`[${n}]: Add ${D.id} to JobQueue`),Ni(`[${n}]: JobQueue length=${r.length}`),s()});return{addWorker:y=>(e[y.id]=y,Ni(`[${n}]: Add ${y.id}`),Ni(`[${n}]: Number of workers=${o()}`),s(),y.id),addJob:async(y,...S)=>{if(o()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return u(y,S)},terminate:async()=>{Object.keys(e).forEach(async y=>{await e[y].terminate()}),r=[]},getQueueLen:l,getNumWorkers:o}};function Jc(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qc=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Jc=="function"&&(e.type="node"),typeof n>"u"?e:e[n]};const Xc=Qc("type")==="browser",xc=Xc?n=>new URL(n,window.location.href).href:n=>n;var $c=n=>{const e={...n};return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=xc(e[t]))}),e},fo={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ef="tesseract.js",tf="6.0.0",nf="Pure Javascript Multilingual OCR",rf="src/index.js",lf="src/index.d.ts",sf="dist/tesseract.min.js",af="dist/tesseract.min.js",of={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},uf={"./src/worker/node/index.js":"./src/worker/browser/index.js"},cf="",ff=["jeromewu"],df="Apache-2.0",hf={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},pf={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},mf={"@rollup/pluginutils":"^5.0.2"},gf={type:"git",url:"https://github.com/naptha/tesseract.js.git"},_f={url:"https://github.com/naptha/tesseract.js/issues"},vf="https://github.com/naptha/tesseract.js",bf={type:"opencollective",url:"https://opencollective.com/tesseractjs"},yf={name:ef,version:tf,description:nf,main:rf,types:lf,unpkg:sf,jsdelivr:af,scripts:of,browser:uf,author:cf,contributors:ff,license:df,devDependencies:hf,dependencies:pf,overrides:mf,repository:gf,bugs:_f,homepage:vf,collective:bf};var wf={workerBlobURL:!0,logger:()=>{}};const kf=yf.version,Sf=wf;var Ef={...Sf,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${kf}/dist/worker.min.js`},Df=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t},Cf=n=>{n.terminate()},Tf=(n,e)=>{n.onmessage=({data:t})=>{e(t)}},If=async(n,e)=>{n.postMessage(e)};const Dl=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:l}}})=>{t(Error(`File could not be read! Code=${l}`))},r.readAsArrayBuffer(n)}),Nl=async n=>{let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=await Nl(n.src)),n.tagName==="VIDEO"&&(e=await Nl(n.poster)),n.tagName==="CANVAS"&&await new Promise(t=>{n.toBlob(async r=>{e=await Dl(r),t()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const t=await n.convertToBlob();e=await Dl(t)}else(n instanceof File||n instanceof Blob)&&(e=await Dl(n));return new Uint8Array(e)};var Af=Nl;const Of=Ef,Pf=Df,Mf=Cf,Lf=Tf,Rf=If,Nf=Af;var Bf={defaultOptions:Of,spawnWorker:Pf,terminateWorker:Mf,onMessage:Lf,send:Rf,loadImage:Nf};const Ff=$c,sr=co,{log:Ta}=Jr,zf=zl,Mr=fo,{defaultOptions:Kf,spawnWorker:jf,terminateWorker:Hf,onMessage:Vf,loadImage:Ia,send:qf}=Bf;let Aa=0;var ho=async(n="eng",e=Mr.LSTM_ONLY,t={},r={})=>{const l=zf("Worker",Aa),{logger:o,errorHandler:s,...u}=Ff({...Kf,...t}),f={},h=typeof n=="string"?n.split("+"):n;let p=e,y=r;const S=[Mr.DEFAULT,Mr.LSTM_ONLY].includes(e)&&!u.legacyCore;let P,C;const D=new Promise((ue,_e)=>{C=ue,P=_e}),B=ue=>{P(ue.message)};let R=jf(u);R.onerror=B,Aa+=1;const I=({id:ue,action:_e,payload:k})=>new Promise((M,j)=>{Ta(`[${l}]: Start ${ue}, action=${_e}`);const se=`${_e}-${ue}`;f[se]={resolve:M,reject:j},qf(R,{workerId:l,jobId:ue,action:_e,payload:k})}),K=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),T=ue=>I(sr({id:ue,action:"load",payload:{options:{lstmOnly:S,corePath:u.corePath,logging:u.logging}}})),ie=(ue,_e,k)=>I(sr({id:k,action:"FS",payload:{method:"writeFile",args:[ue,_e]}})),ne=(ue,_e)=>I(sr({id:_e,action:"FS",payload:{method:"readFile",args:[ue,{encoding:"utf8"}]}})),J=(ue,_e)=>I(sr({id:_e,action:"FS",payload:{method:"unlink",args:[ue]}})),Ce=(ue,_e,k)=>I(sr({id:k,action:"FS",payload:{method:ue,args:_e}})),he=(ue,_e)=>I(sr({id:_e,action:"loadLanguage",payload:{langs:ue,options:{langPath:u.langPath,dataPath:u.dataPath,cachePath:u.cachePath,cacheMethod:u.cacheMethod,gzip:u.gzip,lstmOnly:[Mr.DEFAULT,Mr.LSTM_ONLY].includes(p)&&!u.legacyLang}}})),$=(ue,_e,k,M)=>I(sr({id:M,action:"initialize",payload:{langs:ue,oem:_e,config:k}})),ge=(ue="eng",_e,k,M)=>{if(S&&[Mr.TESSERACT_ONLY,Mr.TESSERACT_LSTM_COMBINED].includes(_e))throw Error("Legacy model requested but code missing.");const j=_e||p;p=j;const se=k||y;y=se;const Y=(typeof ue=="string"?ue.split("+"):ue).filter(le=>!h.includes(le));return h.push(...Y),Y.length>0?he(Y,M).then(()=>$(ue,j,se,M)):$(ue,j,se,M)},De=(ue={},_e)=>I(sr({id:_e,action:"setParameters",payload:{params:ue}})),ye=async(ue,_e={},k={text:!0},M)=>I(sr({id:M,action:"recognize",payload:{image:await Ia(ue),options:_e,output:k}})),fe=async(ue,_e)=>{if(S)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return I(sr({id:_e,action:"detect",payload:{image:await Ia(ue)}}))},ke=async()=>(R!==null&&(Hf(R),R=null),Promise.resolve());Vf(R,({workerId:ue,jobId:_e,status:k,action:M,data:j})=>{const se=`${M}-${_e}`;if(k==="resolve")Ta(`[${ue}]: Complete ${_e}`),f[se].resolve({jobId:_e,data:j}),delete f[se];else if(k==="reject")if(f[se].reject(j),delete f[se],M==="load"&&P(j),s)s(j);else throw Error(j);else k==="progress"&&o({...j,userJobId:_e})});const pe={id:l,worker:R,load:K,writeText:ie,readText:ne,removeFile:J,FS:Ce,reinitialize:ge,setParameters:De,recognize:ye,detect:fe,terminate:ke};return T().then(()=>he(n)).then(()=>$(n,e,r)).then(()=>C(pe)).catch(()=>{}),D};const po=ho,Uf=async(n,e,t)=>{const r=await po(e,1,t);return r.recognize(n).finally(async()=>{await r.terminate()})},Gf=async(n,e)=>{const t=await po("osd",0,e);return t.detect(n).finally(async()=>{await t.terminate()})};var Wf={recognize:Uf,detect:Gf},Yf={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Zf={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Jf=Zc,Qf=ho,Xf=Wf,xf=Yf,$f=fo,ed=Zf,{setLogging:td}=Jr;var nd={languages:xf,OEM:$f,PSM:ed,createScheduler:Jf,createWorker:Qf,setLogging:td,...Xf};const Oa=no(nd);function Pa(n,e,t){const r=n.slice();return r[32]=e[t],r}function Ma(n,e,t){const r=n.slice();return r[35]=e[t],r}function La(n,e,t){const r=n.slice();return r[38]=e[t],r}function Ra(n){let e,t,r,l,o,s,u,f,h,p,y,S="Receipt description",P,C,D,B,R,I,K,T="Receipt Date",ie,ne,J,Ce,he,$,ge="Receipt value:",De,ye,fe,ke,pe,ue,_e,k="Receipt Type",M,j,se,N="--Please choose type--",Y,le,W,Se="Receipt Currency",Ve,me,te,xe,Ee,Pe,Ue,x="Scanning image...",Ge,ze,we,tt,Ct,zt="Stop scan and enter manually",It,ht,it,Ye,Je,Mt,rt,ln;function tn(ve,We){return ve[1]?id:rd}let kt=tn(n),Tt=kt(n);function yn(ve,We){return ve[9]?sd:ld}let Yt=yn(n),He=Yt(n);function Mn(ve,We){return ve[1]?od:ad}let nn=Mn(n),sn=nn(n),Ae=ot(n[2]),qt=[];for(let ve=0;ve<Ae.length;ve+=1)qt[ve]=Na(La(n,Ae,ve));function Kn(ve){n[21](ve)}let an={format:"yyyy-MM-dd",closeOnSelection:!0,id:"rDate"};n[4]!==void 0&&(an.value=n[4]),ne=new di({props:an}),Ut.push(()=>Qn(ne,"value",Kn));let Ot=ot(n[3]),Vt=[];for(let ve=0;ve<Ot.length;ve+=1)Vt[ve]=Ba(Ma(n,Ot,ve));let mt=ot(Object.values(Pl)),_t=[];for(let ve=0;ve<mt.length;ve+=1)_t[ve]=Fa(Pa(n,mt,ve));function ut(ve){n[24](ve)}let At={options:n[12],inputId:"rCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[5]!==void 0&&(At.value=n[5]),me=new mi({props:At}),Ut.push(()=>Qn(me,"value",ut));function fn(ve,We){return ve[1]?cd:ud}let dn=fn(n),lt=dn(n);return{c(){Tt.c(),e=ae(),He.c(),t=ae(),r=A("div"),l=A("input"),o=ae(),s=A("div"),u=A("div"),sn.c(),f=ae(),h=A("div"),p=A("div"),y=A("label"),y.textContent=S,P=ae(),C=A("input"),D=ae(),B=A("datalist");for(let ve=0;ve<qt.length;ve+=1)qt[ve].c();R=ae(),I=A("div"),K=A("label"),K.textContent=T,ie=ae(),Jt(ne.$$.fragment),Ce=ae(),he=A("div"),$=A("label"),$.textContent=ge,De=ae(),ye=A("input"),fe=ae(),ke=A("datalist");for(let ve=0;ve<Vt.length;ve+=1)Vt[ve].c();pe=ae(),ue=A("div"),_e=A("label"),_e.textContent=k,M=ae(),j=A("select"),se=A("option"),se.textContent=N;for(let ve=0;ve<_t.length;ve+=1)_t[ve].c();Y=ae(),le=A("div"),W=A("label"),W.textContent=Se,Ve=ae(),Jt(me.$$.fragment),xe=ae(),lt.c(),Ee=ae(),Pe=A("div"),Ue=A("h4"),Ue.textContent=x,Ge=ae(),ze=A("div"),we=A("div"),tt=ae(),Ct=A("button"),Ct.textContent=zt,It=ae(),ht=A("div"),it=A("a"),Ye=Ne("Cancel"),this.h()},l(ve){Tt.l(ve),e=oe(ve),He.l(ve),t=oe(ve),r=O(ve,"DIV",{class:!0});var We=z(r);l=O(We,"INPUT",{id:!0,type:!0,accept:!0}),We.forEach(_),o=oe(ve),s=O(ve,"DIV",{id:!0});var St=z(s);u=O(St,"DIV",{class:!0});var vt=z(u);sn.l(vt),vt.forEach(_),f=oe(St),h=O(St,"DIV",{class:!0});var Qe=z(h);p=O(Qe,"DIV",{class:!0});var $t=z(p);y=O($t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(y)!=="svelte-1glg0dd"&&(y.textContent=S),P=oe($t),C=O($t,"INPUT",{class:!0,list:!0,id:!0,name:!0,placeholder:!0}),D=oe($t),B=O($t,"DATALIST",{id:!0});var Ln=z(B);for(let Lt=0;Lt<qt.length;Lt+=1)qt[Lt].l(Ln);Ln.forEach(_),$t.forEach(_),R=oe(Qe),I=O(Qe,"DIV",{class:!0});var wn=z(I);K=O(wn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(K)!=="svelte-cn0bms"&&(K.textContent=T),ie=oe(wn),Qt(ne.$$.fragment,wn),wn.forEach(_),Ce=oe(Qe),he=O(Qe,"DIV",{class:!0});var Zt=z(he);$=O(Zt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe($)!=="svelte-1y6fy9c"&&($.textContent=ge),De=oe(Zt),ye=O(Zt,"INPUT",{class:!0,list:!0,id:!0,name:!0,type:!0,step:!0,placeholder:!0}),fe=oe(Zt),ke=O(Zt,"DATALIST",{id:!0});var er=z(ke);for(let Lt=0;Lt<Vt.length;Lt+=1)Vt[Lt].l(er);er.forEach(_),Zt.forEach(_),pe=oe(Qe),ue=O(Qe,"DIV",{class:!0});var ct=z(ue);_e=O(ct,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(_e)!=="svelte-1vxf1l8"&&(_e.textContent=k),M=oe(ct),j=O(ct,"SELECT",{id:!0,class:!0});var hn=z(j);se=O(hn,"OPTION",{"data-svelte-h":!0}),Xe(se)!=="svelte-ua8958"&&(se.textContent=N);for(let Lt=0;Lt<_t.length;Lt+=1)_t[Lt].l(hn);hn.forEach(_),ct.forEach(_),Y=oe(Qe),le=O(Qe,"DIV",{class:!0});var Et=z(le);W=O(Et,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(W)!=="svelte-15s44q2"&&(W.textContent=Se),Ve=oe(Et),Qt(me.$$.fragment,Et),Et.forEach(_),xe=oe(Qe),lt.l(Qe),Qe.forEach(_),St.forEach(_),Ee=oe(ve),Pe=O(ve,"DIV",{class:!0});var Kt=z(Pe);Ue=O(Kt,"H4",{"data-svelte-h":!0}),Xe(Ue)!=="svelte-7jxjwi"&&(Ue.textContent=x),Ge=oe(Kt),ze=O(Kt,"DIV",{class:!0});var xn=z(ze);we=O(xn,"DIV",{class:!0,style:!0,role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),z(we).forEach(_),xn.forEach(_),tt=oe(Kt),Ct=O(Kt,"BUTTON",{class:!0,"data-svelte-h":!0}),Xe(Ct)!=="svelte-1741erf"&&(Ct.textContent=zt),Kt.forEach(_),It=oe(ve),ht=O(ve,"DIV",{class:!0});var tr=z(ht);it=O(tr,"A",{href:!0,class:!0});var Pt=z(it);Ye=Be(Pt,"Cancel"),Pt.forEach(_),tr.forEach(_),this.h()},h(){m(l,"id","imageInput"),m(l,"type","file"),m(l,"accept","image/*;capture=camera"),m(r,"class","mb-3"),m(u,"class","img-scan d-flex col-md-6 col-sm-12"),m(y,"for","rDesc"),m(y,"class","form-label"),m(C,"class","form-control"),m(C,"list","descOptions"),m(C,"id","rDesc"),m(C,"name","rDesc"),m(C,"placeholder","Double-click for suggestions"),m(B,"id","descOptions"),m(p,"class","mb-3"),m(K,"for","rDate"),m(K,"class","form-label"),m(I,"class","mb-3"),m($,"for","rVal"),m($,"class","form-label"),m(ye,"class","form-control"),m(ye,"list","valOptions"),m(ye,"id","rVal"),m(ye,"name","rVal"),m(ye,"type","number"),m(ye,"step","0.01"),m(ye,"placeholder","Double-click for suggestions"),m(ke,"id","valOptions"),m(he,"class","mb-3"),m(_e,"for","rType"),m(_e,"class","form-label"),se.selected=!0,se.__value="--Please choose type--",Ht(se,se.__value),m(j,"id","rType"),m(j,"class","form-control"),n[8]===void 0&&Xa(()=>n[23].call(j)),m(ue,"class","mb-3"),m(W,"for","rCurrency"),m(W,"class","form-label"),m(le,"class","mb-3"),m(h,"class","d-flex flex-column col-md-6 col-sm-12"),m(s,"id","receiptEntry"),Me(s,"show",n[10]),m(we,"class","progress-bar"),Rr(we,"width",n[11]+"%"),m(we,"role","progressbar"),m(we,"aria-valuenow",n[11]),m(we,"aria-valuemin","0"),m(we,"aria-valuemax","100"),m(ze,"class","progress"),m(Ct,"class","d-block mt-3 btn btn-outline-primary"),m(Pe,"class","flex-column hide"),Me(Pe,"show",!n[10]&&n[9]),m(it,"href",Je="#/trip/"+n[0].id),m(it,"class","btn btn-outline-primary"),m(ht,"class","mt-3 d-grid d-md-block")},m(ve,We){Tt.m(ve,We),ee(ve,e,We),He.m(ve,We),ee(ve,t,We),ee(ve,r,We),v(r,l),ee(ve,o,We),ee(ve,s,We),v(s,u),sn.m(u,null),v(s,f),v(s,h),v(h,p),v(p,y),v(p,P),v(p,C),Ht(C,n[6]),v(p,D),v(p,B);for(let St=0;St<qt.length;St+=1)qt[St]&&qt[St].m(B,null);v(h,R),v(h,I),v(I,K),v(I,ie),Xt(ne,I,null),v(h,Ce),v(h,he),v(he,$),v(he,De),v(he,ye),Ht(ye,n[7]),v(he,fe),v(he,ke);for(let St=0;St<Vt.length;St+=1)Vt[St]&&Vt[St].m(ke,null);v(h,pe),v(h,ue),v(ue,_e),v(ue,M),v(ue,j),v(j,se);for(let St=0;St<_t.length;St+=1)_t[St]&&_t[St].m(j,null);Gr(j,n[8],!0),v(h,Y),v(h,le),v(le,W),v(le,Ve),Xt(me,le,null),v(h,xe),lt.m(h,null),ee(ve,Ee,We),ee(ve,Pe,We),v(Pe,Ue),v(Pe,Ge),v(Pe,ze),v(ze,we),v(Pe,tt),v(Pe,Ct),ee(ve,It,We),ee(ve,ht,We),v(ht,it),v(it,Ye),Mt=!0,rt||(ln=[Ze(l,"change",n[16]),Ze(C,"input",n[20]),Ze(ye,"input",n[22]),Ze(j,"change",n[23]),Ze(Ct,"click",n[25])],rt=!0)},p(ve,We){if(kt===(kt=tn(ve))&&Tt?Tt.p(ve,We):(Tt.d(1),Tt=kt(ve),Tt&&(Tt.c(),Tt.m(e.parentNode,e))),Yt!==(Yt=yn(ve))&&(He.d(1),He=Yt(ve),He&&(He.c(),He.m(t.parentNode,t))),nn===(nn=Mn(ve))&&sn?sn.p(ve,We):(sn.d(1),sn=nn(ve),sn&&(sn.c(),sn.m(u,null))),We[0]&64&&C.value!==ve[6]&&Ht(C,ve[6]),We[0]&4){Ae=ot(ve[2]);let Qe;for(Qe=0;Qe<Ae.length;Qe+=1){const $t=La(ve,Ae,Qe);qt[Qe]?qt[Qe].p($t,We):(qt[Qe]=Na($t),qt[Qe].c(),qt[Qe].m(B,null))}for(;Qe<qt.length;Qe+=1)qt[Qe].d(1);qt.length=Ae.length}const St={};if(!J&&We[0]&16&&(J=!0,St.value=ve[4],Zn(()=>J=!1)),ne.$set(St),We[0]&128&&$a(ye.value)!==ve[7]&&Ht(ye,ve[7]),We[0]&8){Ot=ot(ve[3]);let Qe;for(Qe=0;Qe<Ot.length;Qe+=1){const $t=Ma(ve,Ot,Qe);Vt[Qe]?Vt[Qe].p($t,We):(Vt[Qe]=Ba($t),Vt[Qe].c(),Vt[Qe].m(ke,null))}for(;Qe<Vt.length;Qe+=1)Vt[Qe].d(1);Vt.length=Ot.length}if(We&0){mt=ot(Object.values(Pl));let Qe;for(Qe=0;Qe<mt.length;Qe+=1){const $t=Pa(ve,mt,Qe);_t[Qe]?_t[Qe].p($t,We):(_t[Qe]=Fa($t),_t[Qe].c(),_t[Qe].m(j,null))}for(;Qe<_t.length;Qe+=1)_t[Qe].d(1);_t.length=mt.length}We[0]&256&&Gr(j,ve[8]);const vt={};We[0]&4096&&(vt.options=ve[12]),!te&&We[0]&32&&(te=!0,vt.value=ve[5],Zn(()=>te=!1)),me.$set(vt),dn===(dn=fn(ve))&&lt?lt.p(ve,We):(lt.d(1),lt=dn(ve),lt&&(lt.c(),lt.m(h,null))),(!Mt||We[0]&1024)&&Me(s,"show",ve[10]),(!Mt||We[0]&2048)&&Rr(we,"width",ve[11]+"%"),(!Mt||We[0]&2048)&&m(we,"aria-valuenow",ve[11]),(!Mt||We[0]&1536)&&Me(Pe,"show",!ve[10]&&ve[9]),(!Mt||We[0]&1&&Je!==(Je="#/trip/"+ve[0].id))&&m(it,"href",Je)},i(ve){Mt||(Le(ne.$$.fragment,ve),Le(me.$$.fragment,ve),Mt=!0)},o(ve){qe(ne.$$.fragment,ve),qe(me.$$.fragment,ve),Mt=!1},d(ve){ve&&(_(e),_(t),_(r),_(o),_(s),_(Ee),_(Pe),_(It),_(ht)),Tt.d(ve),He.d(ve),sn.d(),Bn(qt,ve),xt(ne),Bn(Vt,ve),Bn(_t,ve),xt(me),lt.d(),rt=!1,Xn(ln)}}}function rd(n){let e,t,r=n[0].name+"",l,o;return{c(){e=A("h1"),t=Ne('Add Receipt to "'),l=Ne(r),o=Ne('"')},l(s){e=O(s,"H1",{});var u=z(e);t=Be(u,'Add Receipt to "'),l=Be(u,r),o=Be(u,'"'),u.forEach(_)},m(s,u){ee(s,e,u),v(e,t),v(e,l),v(e,o)},p(s,u){u[0]&1&&r!==(r=s[0].name+"")&&$e(l,r)},d(s){s&&_(e)}}}function id(n){let e,t,r=n[1].description+"",l,o;return{c(){e=A("h1"),t=Ne('Update Receipt for "'),l=Ne(r),o=Ne('"')},l(s){e=O(s,"H1",{});var u=z(e);t=Be(u,'Update Receipt for "'),l=Be(u,r),o=Be(u,'"'),u.forEach(_)},m(s,u){ee(s,e,u),v(e,t),v(e,l),v(e,o)},p(s,u){u[0]&2&&r!==(r=s[1].description+"")&&$e(l,r)},d(s){s&&_(e)}}}function ld(n){let e,t="Choose image to begin";return{c(){e=A("p"),e.textContent=t},l(r){e=O(r,"P",{"data-svelte-h":!0}),Xe(e)!=="svelte-1rdbglw"&&(e.textContent=t)},m(r,l){ee(r,e,l)},d(r){r&&_(e)}}}function sd(n){let e,t="Click 'Browse' to start again";return{c(){e=A("p"),e.textContent=t},l(r){e=O(r,"P",{"data-svelte-h":!0}),Xe(e)!=="svelte-1raiglx"&&(e.textContent=t)},m(r,l){ee(r,e,l)},d(r){r&&_(e)}}}function ad(n){let e;return{c(){e=A("img"),this.h()},l(t){e=O(t,"IMG",{id:!0,class:!0,alt:!0}),this.h()},h(){m(e,"id","imgChosen"),m(e,"class","img-fluid"),m(e,"alt","Your chosen receipt")},m(t,r){ee(t,e,r)},p:wt,d(t){t&&_(e)}}}function od(n){let e,t;return{c(){e=A("img"),this.h()},l(r){e=O(r,"IMG",{id:!0,class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"id","imgChosen"),m(e,"class","img-fluid"),Ki(e.src,t=n[9])||m(e,"src",t),m(e,"alt","Your chosen receipt")},m(r,l){ee(r,e,l)},p(r,l){l[0]&512&&!Ki(e.src,t=r[9])&&m(e,"src",t)},d(r){r&&_(e)}}}function Na(n){let e,t;return{c(){e=A("option"),this.h()},l(r){e=O(r,"OPTION",{}),z(e).forEach(_),this.h()},h(){e.__value=t=n[38],Ht(e,e.__value)},m(r,l){ee(r,e,l)},p(r,l){l[0]&4&&t!==(t=r[38])&&(e.__value=t,Ht(e,e.__value))},d(r){r&&_(e)}}}function Ba(n){let e,t=n[35]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(_),this.h()},h(){e.__value=l=n[35],Ht(e,e.__value)},m(o,s){ee(o,e,s),v(e,r)},p(o,s){s[0]&8&&t!==(t=o[35]+"")&&$e(r,t),s[0]&8&&l!==(l=o[35])&&(e.__value=l,Ht(e,e.__value))},d(o){o&&_(e)}}}function Fa(n){let e,t=n[32]+"",r;return{c(){e=A("option"),r=Ne(t),this.h()},l(l){e=O(l,"OPTION",{});var o=z(e);r=Be(o,t),o.forEach(_),this.h()},h(){e.__value=n[32],Ht(e,e.__value)},m(l,o){ee(l,e,o),v(e,r)},p:wt,d(l){l&&_(e)}}}function ud(n){let e,t="Add Receipt",r,l;return{c(){e=A("button"),e.textContent=t,this.h()},l(o){e=O(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Xe(e)!=="svelte-1059pct"&&(e.textContent=t),this.h()},h(){m(e,"type","button"),m(e,"class","btn btn-primary")},m(o,s){ee(o,e,s),r||(l=Ze(e,"click",n[13]),r=!0)},p:wt,d(o){o&&_(e),r=!1,l()}}}function cd(n){let e,t="Update Receipt",r,l;return{c(){e=A("button"),e.textContent=t,this.h()},l(o){e=O(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Xe(e)!=="svelte-jbq1gp"&&(e.textContent=t),this.h()},h(){m(e,"type","button"),m(e,"class","btn btn-primary")},m(o,s){ee(o,e,s),r||(l=Ze(e,"click",n[14]),r=!0)},p:wt,d(o){o&&_(e),r=!1,l()}}}function fd(n){let e,t,r=n[0]&&Ra(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r&&r.l(o),o.forEach(_),this.h()},h(){m(e,"class","w-100")},m(l,o){ee(l,e,o),r&&r.m(e,null),t=!0},p(l,o){l[0]?r?(r.p(l,o),o[0]&1&&Le(r,1)):(r=Ra(l),r.c(),Le(r,1),r.m(e,null)):r&&(un(),qe(r,1,1,()=>{r=null}),cn())},i(l){t||(Le(r),t=!0)},o(l){qe(r),t=!1},d(l){l&&_(e),r&&r.d()}}}function dd(n){return/,\d{2}$/.test(n)}function za(n,e){if(n.src.startsWith("data:image/jpeg;base64"))return n.src;const t=document.createElement("canvas"),r=t.getContext("2d");return t.width=n.width,t.height=n.height,r.drawImage(n,0,0,n.width,n.height),t.toDataURL("image/jpeg",e)}function hd(n,e,t){let r,l;Jn(n,pi,k=>t(19,l=k));const{createWorker:o}=Oa;let{tripId:s}=e,{receiptId:u}=e,f,h,p=[],y=[],S=new Date,P,C,D,B,R,I,K,T=!1,ie=0,ne;s>-1&&Wt.trips.get(s).then(k=>{t(0,f=k),u<0&&t(5,P=f.defaultCurrency)}),u>-1&&Wt.receipts.get(u).then(k=>{t(1,h=k),t(4,S=new Date(h.receiptDateString)),t(5,P=h.currency),t(6,C=h.description),t(7,D=h.total),t(8,B=h.receiptType),t(9,R=h.imageData),t(10,T=!0)});async function J(){const k=document.getElementById("imgChosen");K=k.naturalWidth,I=k.naturalHeight,t(9,R=za(k,.9)),await Wt.receipts.add({description:C,currency:P,receiptDate:S,receiptDateString:S.toDateString(),receiptType:B,total:D,tripId:s,imageData:R,imageHeight:I,imageWidth:K}),window.location.href="#/trip/"+s}async function Ce(){const k=document.getElementById("imgChosen");K=k.naturalWidth,I=k.naturalHeight,t(9,R=za(k,.9)),await Wt.receipts.update(h.id,{description:C,currency:P,receiptDate:S,receiptDateString:S.toDateString(),receiptType:B,total:D,tripId:h.tripId,imageData:R,imageHeight:I,imageWidth:K}),window.location.href="#/trip/"+h.tripId}function he(k){k.status=="recognizing text"&&t(11,ie=Math.floor(k.progress*100))}async function $(k){ne=await o("eng",1,{logger:j=>he(j)}),await ne.setParameters({tessedit_pageseg_mode:Oa.PSM.SPARSE_TEXT});var M=await ne.recognize(k,{},{blocks:!0});return M.data.blocks?M.data.blocks:[]}async function ge(k){t(11,ie=0),!T&&ne&&await ne.terminate(),k&&t(10,T=!0)}async function De(k){t(2,p=[]),t(3,y=[]),t(10,T=!1),await ge(!1);var M=k.target.files[0],j=URL.createObjectURL(M);const se=document.getElementById("imgChosen");se.src=j,t(9,R=j);var N=await $(j);for(let Y of N){if(Y.confidence<40)continue;let le=Y.text.trim();p.push(le);let W=or(le,{decimal:dd(le)?",":"."});W.value>0&&y.push(W.format({symbol:"",separator:"",decimal:"."}))}t(2,p),t(3,y=y.reverse()),t(10,T=!0)}No(()=>{ge(!1)});function ye(){C=this.value,t(6,C)}function fe(k){S=k,t(4,S)}function ke(){D=$a(this.value),t(7,D)}function pe(){B=Io(this),t(8,B)}function ue(k){P=k,t(5,P)}const _e=()=>ge(!0);return n.$$set=k=>{"tripId"in k&&t(17,s=k.tripId),"receiptId"in k&&t(18,u=k.receiptId)},n.$$.update=()=>{n.$$.dirty[0]&524288&&t(12,r=Bl(l))},[f,h,p,y,S,P,C,D,B,R,T,ie,r,J,Ce,ge,De,s,u,l,ye,fe,ke,pe,ue,_e]}class mo extends Fn{constructor(e){super(),zn(this,e,hd,fd,Pn,{tripId:17,receiptId:18},null,[-1,-1])}}function pd(n){let e,t,r="Preferences",l,o,s,u="Default Currency",f,h,p,y,S,P="The currency that each trip will default to",C,D,B,R="Favourite Currencies",I,K,T,ie,ne,J="These currencies will always appear at the top of the currency list",Ce,he,$,ge="Done",De,ye,fe;function ke(k){n[7](k)}let pe={options:n[5],inputId:"defCurrency"};n[2]!==void 0&&(pe.value=n[2]),h=new mi({props:pe}),Ut.push(()=>Qn(h,"value",ke));function ue(k){n[8](k)}let _e={options:n[5],inputId:"favCurrency",multiple:!0,placeholder:"Choose currencies"};return n[3]!==void 0&&(_e.value=n[3]),K=new mi({props:_e}),Ut.push(()=>Qn(K,"value",ue)),{c(){e=A("div"),t=A("h1"),t.textContent=r,l=ae(),o=A("div"),s=A("label"),s.textContent=u,f=ae(),Jt(h.$$.fragment),y=ae(),S=A("div"),S.textContent=P,C=ae(),D=A("div"),B=A("label"),B.textContent=R,I=ae(),Jt(K.$$.fragment),ie=ae(),ne=A("div"),ne.textContent=J,Ce=ae(),he=A("div"),$=A("button"),$.textContent=ge,this.h()},l(k){e=O(k,"DIV",{class:!0});var M=z(e);t=O(M,"H1",{"data-svelte-h":!0}),Xe(t)!=="svelte-nxbse8"&&(t.textContent=r),l=oe(M),o=O(M,"DIV",{class:!0});var j=z(o);s=O(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(s)!=="svelte-it9jnu"&&(s.textContent=u),f=oe(j),Qt(h.$$.fragment,j),y=oe(j),S=O(j,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Xe(S)!=="svelte-2gnq35"&&(S.textContent=P),j.forEach(_),C=oe(M),D=O(M,"DIV",{class:!0});var se=z(D);B=O(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(B)!=="svelte-18qx5ce"&&(B.textContent=R),I=oe(se),Qt(K.$$.fragment,se),ie=oe(se),ne=O(se,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Xe(ne)!=="svelte-13r3flk"&&(ne.textContent=J),se.forEach(_),Ce=oe(M),he=O(M,"DIV",{class:!0});var N=z(he);$=O(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Xe($)!=="svelte-1nqleos"&&($.textContent=ge),N.forEach(_),M.forEach(_),this.h()},h(){m(s,"for","defCurrency"),m(s,"class","form-label"),m(S,"id","defCurrencyHelp"),m(S,"class","form-text"),m(o,"class","mb-3"),m(B,"for","favCurrency"),m(B,"class","form-label"),m(ne,"id","favCurrencyHelp"),m(ne,"class","form-text"),m(D,"class","mb-3"),m($,"class","btn btn-primary"),m(he,"class","d-grid d-md-block"),m(e,"class","row")},m(k,M){ee(k,e,M),v(e,t),v(e,l),v(e,o),v(o,s),v(o,f),Xt(h,o,null),v(o,y),v(o,S),v(e,C),v(e,D),v(D,B),v(D,I),Xt(K,D,null),v(D,ie),v(D,ne),v(e,Ce),v(e,he),v(he,$),De=!0,ye||(fe=Ze($,"click",n[6]),ye=!0)},p(k,M){const j={};!p&&M&4&&(p=!0,j.value=k[2],Zn(()=>p=!1)),h.$set(j);const se={};!T&&M&8&&(T=!0,se.value=k[3],Zn(()=>T=!1)),K.$set(se)},i(k){De||(Le(h.$$.fragment,k),Le(K.$$.fragment,k),De=!0)},o(k){qe(h.$$.fragment,k),qe(K.$$.fragment,k),De=!1},d(k){k&&_(e),xt(h),xt(K),ye=!1,fe()}}}function md(n){let e,t,r="Welcome!",l,o,s,u='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"></path><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"></path></svg>',f,h,p="Create a trip using the button at the top",y,S,P="Or add receipts by selecting a trip",C,D,B,R,I=n[1]&&Ka(n);return{c(){e=A("h1"),t=A("span"),t.textContent=r,l=ae(),o=A("span"),s=A("button"),s.innerHTML=u,f=ae(),h=A("p"),h.textContent=p,y=ae(),S=A("p"),S.textContent=P,C=ae(),I&&I.c(),D=gt(),this.h()},l(K){e=O(K,"H1",{class:!0});var T=z(e);t=O(T,"SPAN",{"data-svelte-h":!0}),Xe(t)!=="svelte-d14puh"&&(t.textContent=r),l=oe(T),o=O(T,"SPAN",{});var ie=z(o);s=O(ie,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Xe(s)!=="svelte-1g2ob46"&&(s.innerHTML=u),ie.forEach(_),T.forEach(_),f=oe(K),h=O(K,"P",{"data-svelte-h":!0}),Xe(h)!=="svelte-xbo4ew"&&(h.textContent=p),y=oe(K),S=O(K,"P",{"data-svelte-h":!0}),Xe(S)!=="svelte-1g1vmu2"&&(S.textContent=P),C=oe(K),I&&I.l(K),D=gt(),this.h()},h(){m(s,"class","btn btn-outline-secondary no-outline"),m(s,"title","Preferences"),m(e,"class","d-flex justify-content-between")},m(K,T){ee(K,e,T),v(e,t),v(e,l),v(e,o),v(o,s),ee(K,f,T),ee(K,h,T),ee(K,y,T),ee(K,S,T),ee(K,C,T),I&&I.m(K,T),ee(K,D,T),B||(R=Ze(s,"click",n[6]),B=!0)},p(K,T){K[1]?I?I.p(K,T):(I=Ka(K),I.c(),I.m(D.parentNode,D)):I&&(I.d(1),I=null)},i:wt,o:wt,d(K){K&&(_(e),_(f),_(h),_(y),_(S),_(C),_(D)),I&&I.d(K),B=!1,R()}}}function Ka(n){let e,t,r="Your most recent trip:",l,o,s,u,f,h=n[1].name+"",p,y,S,P=n[1].startDateString+"",C,D,B=n[1].endDateString+"",R,I;return{c(){e=A("div"),t=A("h4"),t.textContent=r,l=ae(),o=A("div"),s=A("a"),u=A("div"),f=A("strong"),p=Ne(h),y=ae(),S=A("div"),C=Ne(P),D=Ne(" - "),R=Ne(B),this.h()},l(K){e=O(K,"DIV",{class:!0});var T=z(e);t=O(T,"H4",{"data-svelte-h":!0}),Xe(t)!=="svelte-1dpo13w"&&(t.textContent=r),l=oe(T),o=O(T,"DIV",{class:!0});var ie=z(o);s=O(ie,"A",{href:!0,class:!0});var ne=z(s);u=O(ne,"DIV",{class:!0});var J=z(u);f=O(J,"STRONG",{class:!0});var Ce=z(f);p=Be(Ce,h),Ce.forEach(_),y=oe(J),S=O(J,"DIV",{class:!0});var he=z(S);C=Be(he,P),D=Be(he," - "),R=Be(he,B),he.forEach(_),J.forEach(_),ne.forEach(_),ie.forEach(_),T.forEach(_),this.h()},h(){m(f,"class","mb-1"),m(S,"class","col-10 mb-1 text-center"),m(u,"class","d-flex w-100 align-items-center justify-content-between flex-column"),m(s,"href",I="#/trip/"+n[1].id),m(s,"class","py-3 lh-sm m-2 welcomeTrip"),m(o,"class","col-lg-6 col-md-12"),m(e,"class","row mb-4")},m(K,T){ee(K,e,T),v(e,t),v(e,l),v(e,o),v(o,s),v(s,u),v(u,f),v(f,p),v(u,y),v(u,S),v(S,C),v(S,D),v(S,R)},p(K,T){T&2&&h!==(h=K[1].name+"")&&$e(p,h),T&2&&P!==(P=K[1].startDateString+"")&&$e(C,P),T&2&&B!==(B=K[1].endDateString+"")&&$e(R,B),T&2&&I!==(I="#/trip/"+K[1].id)&&m(s,"href",I)},d(K){K&&_(e)}}}function gd(n){let e,t,r,l;const o=[md,pd],s=[];function u(f,h){return f[0]?f[0]?1:-1:0}return~(t=u(n))&&(r=s[t]=o[t](n)),{c(){e=A("div"),r&&r.c(),this.h()},l(f){e=O(f,"DIV",{class:!0});var h=z(e);r&&r.l(h),h.forEach(_),this.h()},h(){m(e,"class","col-sm-12")},m(f,h){ee(f,e,h),~t&&s[t].m(e,null),l=!0},p(f,[h]){let p=t;t=u(f),t===p?~t&&s[t].p(f,h):(r&&(un(),qe(s[p],1,1,()=>{s[p]=null}),cn()),~t?(r=s[t],r?r.p(f,h):(r=s[t]=o[t](f),r.c()),Le(r,1),r.m(e,null)):r=null)},i(f){l||(Le(r),l=!0)},o(f){qe(r),l=!1},d(f){f&&_(e),~t&&s[t].d()}}}function _d(n,e,t){let r,l,o;Jn(n,Ml,S=>t(2,l=S)),Jn(n,pi,S=>t(3,o=S));let s=hi(()=>Wt.trips.orderBy("endDate").reverse().first());Jn(n,s,S=>t(1,r=S));let u=[],f=!1;for(let S of Object.keys(rn))u.push({value:S,text:`${S} (${rn[S].symbol})`});function h(){t(0,f=!f)}function p(S){l=S,Ml.set(l)}function y(S){o=S,pi.set(o)}return[f,r,l,o,s,u,h,p,y]}class vd extends Fn{constructor(e){super(),zn(this,e,_d,gd,Pn,{})}}function ja(n,e,t){const r=n.slice();return r[8]=e[t],r}function Ha(n,e,t){const r=n.slice();return r[11]=e[t],r}function Va(n,e,t){const r=n.slice();return r[8]=e[t],r}function Cl(n){const e=n.slice(),t=Array.from(new Set(e[3].map(r=>r.currency)));return e[7]=t,e}function qa(n){let e,t,r="After clicking 'Export/Print', you should be able to print/save to PDF",l,o,s,u,f,h,p,y="Export/Print",S,P,C=n[0].name+"",D,B,R,I=n[0].startDateString+"",K,T,ie=n[0].endDateString+"",ne,J,Ce,he="Receipt Summary",$,ge,De,ye,fe=n[3]&&Ua(Cl(n));return{c(){e=A("div"),t=A("p"),t.textContent=r,l=ae(),o=A("p"),s=A("label"),u=A("input"),f=Ne(`
            Include notes`),h=ae(),p=A("button"),p.textContent=y,S=ae(),P=A("h1"),D=Ne(C),B=ae(),R=A("h4"),K=Ne(I),T=Ne(" - "),ne=Ne(ie),J=ae(),Ce=A("h5"),Ce.textContent=he,$=ae(),fe&&fe.c(),ge=gt(),this.h()},l(ke){e=O(ke,"DIV",{class:!0,id:!0});var pe=z(e);t=O(pe,"P",{"data-svelte-h":!0}),Xe(t)!=="svelte-drk65c"&&(t.textContent=r),l=oe(pe),o=O(pe,"P",{});var ue=z(o);s=O(ue,"LABEL",{});var _e=z(s);u=O(_e,"INPUT",{type:!0}),f=Be(_e,`
            Include notes`),_e.forEach(_),ue.forEach(_),h=oe(pe),p=O(pe,"BUTTON",{class:!0,onclick:!0,"data-svelte-h":!0}),Xe(p)!=="svelte-1fkvb7c"&&(p.textContent=y),pe.forEach(_),S=oe(ke),P=O(ke,"H1",{});var k=z(P);D=Be(k,C),k.forEach(_),B=oe(ke),R=O(ke,"H4",{});var M=z(R);K=Be(M,I),T=Be(M," - "),ne=Be(M,ie),M.forEach(_),J=oe(ke),Ce=O(ke,"H5",{"data-svelte-h":!0}),Xe(Ce)!=="svelte-1hbjnf6"&&(Ce.textContent=he),$=oe(ke),fe&&fe.l(ke),ge=gt(),this.h()},h(){m(u,"type","checkbox"),m(p,"class","btn btn-primary"),m(p,"onclick","window.print()"),m(e,"class","no-print mt-3 hide"),m(e,"id","printMessage")},m(ke,pe){ee(ke,e,pe),v(e,t),v(e,l),v(e,o),v(o,s),v(s,u),u.checked=n[2],v(s,f),v(e,h),v(e,p),ee(ke,S,pe),ee(ke,P,pe),v(P,D),ee(ke,B,pe),ee(ke,R,pe),v(R,K),v(R,T),v(R,ne),ee(ke,J,pe),ee(ke,Ce,pe),ee(ke,$,pe),fe&&fe.m(ke,pe),ee(ke,ge,pe),De||(ye=Ze(u,"change",n[5]),De=!0)},p(ke,pe){pe&4&&(u.checked=ke[2]),pe&1&&C!==(C=ke[0].name+"")&&$e(D,C),pe&1&&I!==(I=ke[0].startDateString+"")&&$e(K,I),pe&1&&ie!==(ie=ke[0].endDateString+"")&&$e(ne,ie),ke[3]?fe?fe.p(Cl(ke),pe):(fe=Ua(Cl(ke)),fe.c(),fe.m(ge.parentNode,ge)):fe&&(fe.d(1),fe=null)},d(ke){ke&&(_(e),_(S),_(P),_(B),_(R),_(J),_(Ce),_($),_(ge)),fe&&fe.d(ke),De=!1,ye()}}}function Ua(n){let e,t,r="<tr><th>Receipt Description</th> <th>Receipt Date</th> <th>Receipt Type</th> <th>Receipt Total</th></tr>",l,o,s=[],u=new Map,f,h,p,y,S,P,C,D,B="<strong>Total</strong>",R,I,K,T,ie,ne,J=[],Ce=new Map,he,$,ge=`// Wait for images to render before printing
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
              incrementCounter();
            else
              img.addEventListener( 'load', incrementCounter, false );
        } );

        function printDiaglog() {
          window.print()
        }
        function incrementCounter() {
            counter++;
            if ( counter === len ) {
              document.getElementById("printMessage").classList.remove("hide");
            }
        }`,De=ot(n[3]);const ye=k=>k[8].id;for(let k=0;k<De.length;k+=1){let M=Va(n,De,k),j=ye(M);u.set(j,s[k]=Ga(j,M))}let fe=ot(n[7]),ke=[];for(let k=0;k<fe.length;k+=1)ke[k]=Wa(Ha(n,fe,k));let pe=n[2]&&Ya(n),ue=ot(n[3]);const _e=k=>k[8].id;for(let k=0;k<ue.length;k+=1){let M=ja(n,ue,k),j=_e(M);Ce.set(j,J[k]=Za(j,M))}return{c(){e=A("table"),t=A("thead"),t.innerHTML=r,l=ae(),o=A("tbody");for(let k=0;k<s.length;k+=1)s[k].c();f=ae(),h=A("tfoot"),p=A("tr"),y=A("td"),S=ae(),P=A("td"),C=ae(),D=A("td"),D.innerHTML=B,R=ae(),I=A("td");for(let k=0;k<ke.length;k+=1)ke[k].c();K=ae(),T=A("td"),ie=ae(),pe&&pe.c(),ne=ae();for(let k=0;k<J.length;k+=1)J[k].c();he=ae(),$=A("script"),$.textContent=ge,this.h()},l(k){e=O(k,"TABLE",{class:!0});var M=z(e);t=O(M,"THEAD",{"data-svelte-h":!0}),Xe(t)!=="svelte-1yqevk1"&&(t.innerHTML=r),l=oe(M),o=O(M,"TBODY",{});var j=z(o);for(let le=0;le<s.length;le+=1)s[le].l(j);j.forEach(_),f=oe(M),h=O(M,"TFOOT",{class:!0});var se=z(h);p=O(se,"TR",{});var N=z(p);y=O(N,"TD",{}),z(y).forEach(_),S=oe(N),P=O(N,"TD",{}),z(P).forEach(_),C=oe(N),D=O(N,"TD",{class:!0,"data-svelte-h":!0}),Xe(D)!=="svelte-14afisz"&&(D.innerHTML=B),R=oe(N),I=O(N,"TD",{});var Y=z(I);for(let le=0;le<ke.length;le+=1)ke[le].l(Y);Y.forEach(_),K=oe(N),T=O(N,"TD",{}),z(T).forEach(_),N.forEach(_),se.forEach(_),M.forEach(_),ie=oe(k),pe&&pe.l(k),ne=oe(k);for(let le=0;le<J.length;le+=1)J[le].l(k);he=oe(k),$=O(k,"SCRIPT",{"data-svelte-h":!0}),Xe($)!=="svelte-wsa5ae"&&($.textContent=ge),this.h()},h(){m(D,"class","text-end"),m(h,"class","table-group-divider"),m(e,"class","table table-striped table-hover")},m(k,M){ee(k,e,M),v(e,t),v(e,l),v(e,o);for(let j=0;j<s.length;j+=1)s[j]&&s[j].m(o,null);v(e,f),v(e,h),v(h,p),v(p,y),v(p,S),v(p,P),v(p,C),v(p,D),v(p,R),v(p,I);for(let j=0;j<ke.length;j+=1)ke[j]&&ke[j].m(I,null);v(p,K),v(p,T),ee(k,ie,M),pe&&pe.m(k,M),ee(k,ne,M);for(let j=0;j<J.length;j+=1)J[j]&&J[j].m(k,M);ee(k,he,M),ee(k,$,M)},p(k,M){if(M&8&&(De=ot(k[3]),s=Nr(s,M,ye,1,k,De,u,o,Yr,Ga,null,Va)),M&8){fe=ot(k[7]);let j;for(j=0;j<fe.length;j+=1){const se=Ha(k,fe,j);ke[j]?ke[j].p(se,M):(ke[j]=Wa(se),ke[j].c(),ke[j].m(I,null))}for(;j<ke.length;j+=1)ke[j].d(1);ke.length=fe.length}k[2]?pe?pe.p(k,M):(pe=Ya(k),pe.c(),pe.m(ne.parentNode,ne)):pe&&(pe.d(1),pe=null),M&8&&(ue=ot(k[3]),J=Nr(J,M,_e,1,k,ue,Ce,he.parentNode,Yr,Za,he,ja))},d(k){k&&(_(e),_(ie),_(ne),_(he),_($));for(let M=0;M<s.length;M+=1)s[M].d();Bn(ke,k),pe&&pe.d(k);for(let M=0;M<J.length;M+=1)J[M].d(k)}}}function Ga(n,e){let t,r,l=e[8].description+"",o,s,u,f=e[8].receiptDateString+"",h,p,y,S=e[8].receiptType+"",P,C,D,B=rn[e[8].currency].symbol+"",R,I,K=e[8].total.toFixed(2)+"",T,ie;return{key:n,first:null,c(){t=A("tr"),r=A("td"),o=Ne(l),s=ae(),u=A("td"),h=Ne(f),p=ae(),y=A("td"),P=Ne(S),C=ae(),D=A("td"),R=Ne(B),I=ae(),T=Ne(K),ie=ae(),this.h()},l(ne){t=O(ne,"TR",{});var J=z(t);r=O(J,"TD",{});var Ce=z(r);o=Be(Ce,l),Ce.forEach(_),s=oe(J),u=O(J,"TD",{});var he=z(u);h=Be(he,f),he.forEach(_),p=oe(J),y=O(J,"TD",{});var $=z(y);P=Be($,S),$.forEach(_),C=oe(J),D=O(J,"TD",{});var ge=z(D);R=Be(ge,B),I=oe(ge),T=Be(ge,K),ge.forEach(_),ie=oe(J),J.forEach(_),this.h()},h(){this.first=t},m(ne,J){ee(ne,t,J),v(t,r),v(r,o),v(t,s),v(t,u),v(u,h),v(t,p),v(t,y),v(y,P),v(t,C),v(t,D),v(D,R),v(D,I),v(D,T),v(t,ie)},p(ne,J){e=ne,J&8&&l!==(l=e[8].description+"")&&$e(o,l),J&8&&f!==(f=e[8].receiptDateString+"")&&$e(h,f),J&8&&S!==(S=e[8].receiptType+"")&&$e(P,S),J&8&&B!==(B=rn[e[8].currency].symbol+"")&&$e(R,B),J&8&&K!==(K=e[8].total.toFixed(2)+"")&&$e(T,K)},d(ne){ne&&_(t)}}}function Wa(n){let e=rn[n[11]].symbol+"",t,r,l=n[3].filter(f).reduce(Ja,0).toFixed(2)+"",o,s,u;function f(...h){return n[6](n[11],...h)}return{c(){t=Ne(e),r=ae(),o=Ne(l),s=ae(),u=A("br")},l(h){t=Be(h,e),r=oe(h),o=Be(h,l),s=oe(h),u=O(h,"BR",{})},m(h,p){ee(h,t,p),ee(h,r,p),ee(h,o,p),ee(h,s,p),ee(h,u,p)},p(h,p){n=h,p&8&&e!==(e=rn[n[11]].symbol+"")&&$e(t,e),p&8&&l!==(l=n[3].filter(f).reduce(Ja,0).toFixed(2)+"")&&$e(o,l)},d(h){h&&(_(t),_(r),_(o),_(s),_(u))}}}function Ya(n){let e,t="Notes:",r,l,o=n[0].notes+"",s;return{c(){e=A("h5"),e.textContent=t,r=ae(),l=A("p"),s=Ne(o),this.h()},l(u){e=O(u,"H5",{"data-svelte-h":!0}),Xe(e)!=="svelte-srqctx"&&(e.textContent=t),r=oe(u),l=O(u,"P",{style:!0});var f=z(l);s=Be(f,o),f.forEach(_),this.h()},h(){Rr(l,"white-space","pre-wrap")},m(u,f){ee(u,e,f),ee(u,r,f),ee(u,l,f),v(l,s)},p(u,f){f&1&&o!==(o=u[0].notes+"")&&$e(s,o)},d(u){u&&(_(e),_(r),_(l))}}}function Za(n,e){let t,r=e[8].description+"",l,o,s,u=rn[e[8].currency].symbol+"",f,h,p=e[8].total.toFixed(2)+"",y,S,P,C,D;return{key:n,first:null,c(){t=A("div"),l=Ne(r),o=ae(),s=A("strong"),f=Ne(u),h=ae(),y=Ne(p),S=ae(),P=A("img"),this.h()},l(B){t=O(B,"DIV",{class:!0});var R=z(t);l=Be(R,r),o=oe(R),s=O(R,"STRONG",{});var I=z(s);f=Be(I,u),h=oe(I),y=Be(I,p),I.forEach(_),R.forEach(_),S=oe(B),P=O(B,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){m(t,"class","page-print mb-2"),m(P,"class","img-print"),m(P,"alt",C="receipt with description '"+e[8].description+"'"),Ki(P.src,D=e[8].imageData)||m(P,"src",D),this.first=t},m(B,R){ee(B,t,R),v(t,l),v(t,o),v(t,s),v(s,f),v(s,h),v(s,y),ee(B,S,R),ee(B,P,R)},p(B,R){e=B,R&8&&r!==(r=e[8].description+"")&&$e(l,r),R&8&&u!==(u=rn[e[8].currency].symbol+"")&&$e(f,u),R&8&&p!==(p=e[8].total.toFixed(2)+"")&&$e(y,p),R&8&&C!==(C="receipt with description '"+e[8].description+"'")&&m(P,"alt",C),R&8&&!Ki(P.src,D=e[8].imageData)&&m(P,"src",D)},d(B){B&&(_(t),_(S),_(P))}}}function bd(n){let e,t=n[0]&&qa(n);return{c(){e=A("div"),t&&t.c()},l(r){e=O(r,"DIV",{});var l=z(e);t&&t.l(l),l.forEach(_)},m(r,l){ee(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]?t?t.p(r,l):(t=qa(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:wt,o:wt,d(r){r&&_(e),t&&t.d()}}}const Ja=(n,e)=>n+e.total;function yd(n,e,t){let r,l=wt,o=()=>(l(),l=ui(f,S=>t(3,r=S)),f);n.$$.on_destroy.push(()=>l());let{tripId:s=-1}=e,u,f,h=!1;s>-1&&Wt.trips.get(s).then(S=>{t(0,u=S),o(t(1,f=hi(()=>Wt.receipts.where({tripId:s}).reverse().sortBy("receiptDate")))),document.title=u==null?void 0:u.name});function p(){h=this.checked,t(2,h)}const y=(S,P)=>P.currency==S;return n.$$set=S=>{"tripId"in S&&t(4,s=S.tripId)},[u,f,h,r,s,p,y]}class wd extends Fn{constructor(e){super(),zn(this,e,yd,bd,Pn,{tripId:4})}}function kd(n){let e,t,r,l=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="38" viewBox="0 0 375.91 152.28" style="enable-background:new 0 0 375.91 152.28;" xml:space="preserve"><style type="text/css">.st0{fill:currentColor;}
		   </style><g id="Layer_1"><g><path class="st0" d="M0,19.62h59.19V36.2H0V19.62z M20.94,27.62h17.24v88.06H20.94V27.62z" fill="currentColor"></path><path class="st0" d="M60.18,47.1h17.84v68.58H60.18V47.1z M93.28,63.69c-1.01-0.22-2.14-0.33-3.37-0.33
					   c-3.74,0-6.66,1.17-8.75,3.5c-2.09,2.33-3.14,5.57-3.14,9.71l-1.39-17.51c1.94-4.1,4.44-7.3,7.5-9.61
					   c3.06-2.31,6.42-3.47,10.08-3.47c1.41,0,2.7,0.23,3.87,0.69c1.17,0.46,2.17,1.13,3.01,2.01l-5.22,16.05
					   C95.15,64.26,94.29,63.91,93.28,63.69z"></path><path class="st0" d="M109,19.62h17.24v17.11H109V19.62z M109,47.1h17.24v68.58H109V47.1z"></path><path class="st0" d="M140.58,47.1h17.18v96.46h-17.18V47.1z M162.68,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C168.4,116.67,165.3,115.65,162.68,113.6z"></path><path class="st0" d="M204.6,47.1h17.18v96.46H204.6V47.1z M226.7,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C232.42,116.67,229.32,115.65,226.7,113.6z"></path><path class="st0" d="M267.43,19.62h17.24v17.11h-17.24V19.62z M267.43,47.1h17.24v68.58h-17.24V47.1z"></path><path class="st0" d="M299.01,47.1h17.24v68.58h-17.24V47.1z M332.31,70.62c0-2.73-0.72-4.83-2.15-6.31
					   c-1.43-1.48-3.45-2.21-6.04-2.21c-2.51,0-4.45,0.74-5.81,2.21c-1.37,1.48-2.05,3.6-2.05,6.38l-1.39-11.63
					   c1.72-4.27,3.96-7.52,6.74-9.74c2.77-2.22,6.05-3.34,9.84-3.34c5.72,0,10.16,1.98,13.31,5.95c3.15,3.96,4.72,9.54,4.72,16.71
					   v47.04h-17.18V70.62z"></path><path class="st0" d="M356.55,19.62h17.24v23.65l-17.24,16.91V19.62z"></path></g></g></svg>`,o,s,u,f='<li class="nav-item"><a class="btn btn-outline-light" href="#/add">+ Add Trip</a></li>',h,p,y=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg>
				My Trips`,S,P,C,D,B,R,I,K,T,ie,ne,J;B=new Nc({props:{tripId:n[3]}});const Ce=[Ad,Id,Td,Cd,Dd,Ed],he=[];function $(ge,De){return ge[4]==="add"?0:ge[4]==="trip"&&ge[3]>-1?1:ge[4]==="update"&&ge[3]>-1?2:ge[4]==="addreceipt"&&ge[3]>-1?3:ge[4]==="editreceipt"&&ge[3]>-1?4:5}return K=$(n),T=he[K]=Ce[K](n),{c(){e=A("nav"),t=A("div"),r=A("a"),r.innerHTML=l,o=ae(),s=A("div"),u=A("ul"),u.innerHTML=f,h=ae(),p=A("button"),p.innerHTML=y,S=ae(),P=A("main"),C=A("div"),D=A("div"),Jt(B.$$.fragment),R=ae(),I=A("div"),T.c(),this.h()},l(ge){e=O(ge,"NAV",{class:!0,"aria-label":!0});var De=z(e);t=O(De,"DIV",{class:!0});var ye=z(t);r=O(ye,"A",{"aria-current":!0,class:!0,href:!0,"data-svelte-h":!0}),Xe(r)!=="svelte-184qgqe"&&(r.innerHTML=l),o=oe(ye),s=O(ye,"DIV",{class:!0});var fe=z(s);u=O(fe,"UL",{class:!0,"data-svelte-h":!0}),Xe(u)!=="svelte-d6xdjk"&&(u.innerHTML=f),h=oe(fe),p=O(fe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Xe(p)!=="svelte-1yyazi7"&&(p.innerHTML=y),fe.forEach(_),ye.forEach(_),De.forEach(_),S=oe(ge),P=O(ge,"MAIN",{class:!0});var ke=z(P);C=O(ke,"DIV",{class:!0});var pe=z(C);D=O(pe,"DIV",{class:!0,id:!0});var ue=z(D);Qt(B.$$.fragment,ue),ue.forEach(_),pe.forEach(_),R=oe(ke),I=O(ke,"DIV",{class:!0,id:!0});var _e=z(I);T.l(_e),_e.forEach(_),ke.forEach(_),this.h()},h(){m(r,"aria-current","page"),m(r,"class","navbar-brand text-light"),m(r,"href","#"),m(u,"class","navbar-nav me-auto"),m(p,"class","listTitleSmall btn btn-outline-light me-2"),m(p,"type","button"),m(s,"class","collapse navbar-collapse"),m(t,"class","container-fluid"),m(e,"class","navbar navbar-expand navbar-dark bg-dark"),m(e,"aria-label","Second navbar example"),m(D,"class","list-group scrollarea d-none"),m(D,"id","tripToggle"),m(C,"class","tripList d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary"),m(I,"class","d-flex p-3 w-100"),m(I,"id","mainPane"),m(P,"class","d-flex flex-nowrap")},m(ge,De){ee(ge,e,De),v(e,t),v(t,r),v(t,o),v(t,s),v(s,u),v(s,h),v(s,p),ee(ge,S,De),ee(ge,P,De),v(P,C),v(C,D),Xt(B,D,null),v(P,R),v(P,I),he[K].m(I,null),ie=!0,ne||(J=Ze(p,"click",oo),ne=!0)},p(ge,De){const ye={};De&8&&(ye.tripId=ge[3]),B.$set(ye);let fe=K;K=$(ge),K===fe?he[K].p(ge,De):(un(),qe(he[fe],1,1,()=>{he[fe]=null}),cn(),T=he[K],T?T.p(ge,De):(T=he[K]=Ce[K](ge),T.c()),Le(T,1),T.m(I,null))},i(ge){ie||(Le(B.$$.fragment,ge),Le(T),ie=!0)},o(ge){qe(B.$$.fragment,ge),qe(T),ie=!1},d(ge){ge&&(_(e),_(S),_(P)),xt(B),he[K].d(),ne=!1,J()}}}function Sd(n){let e,t;return e=new wd({props:{tripId:n[3]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Ed(n){let e,t;return e=new vd({}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p:wt,i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Dd(n){let e,t;return e=new mo({props:{tripId:n[3],receiptId:n[5]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),l&32&&(o.receiptId=r[5]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Cd(n){let e,t;return e=new mo({props:{tripId:n[3],receiptId:-1}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Td(n){let e,t;return e=new zc({props:{tripId:n[3]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Id(n){let e=n[3],t,r,l=Qa(n);return{c(){l.c(),t=gt()},l(o){l.l(o),t=gt()},m(o,s){l.m(o,s),ee(o,t,s),r=!0},p(o,s){s&8&&Pn(e,e=o[3])?(un(),qe(l,1,1,wt),cn(),l=Qa(o),l.c(),Le(l,1),l.m(t.parentNode,t)):l.p(o,s)},i(o){r||(Le(l),r=!0)},o(o){qe(l),r=!1},d(o){o&&_(t),l.d(o)}}}function Ad(n){let e,t;return e=new hc({}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p:wt,i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Qa(n){let e,t;return e=new Mc({props:{tripId:n[3]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Od(n){let e,t,r,l;const o=[Sd,kd],s=[];function u(f,h){return f[4]==="print"&&f[3]>-1?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=gt()},l(f){t.l(f),r=gt()},m(f,h){s[e].m(f,h),ee(f,r,h),l=!0},p(f,[h]){let p=e;e=u(f),e===p?s[e].p(f,h):(un(),qe(s[p],1,1,()=>{s[p]=null}),cn(),t=s[e],t?t.p(f,h):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&_(r),s[e].d(f)}}}function Pd(n,e,t){let r,l,o,s,u,f=wt,h=()=>(f(),f=ui(r,K=>t(3,u=K)),r),p,y=wt,S=()=>(y(),y=ui(o,K=>t(4,p=K)),o),P,C=wt,D=()=>(C(),C=ui(l,K=>t(5,P=K)),l),B;Jn(n,Fo,K=>t(6,B=K)),n.$$.on_destroy.push(()=>f()),n.$$.on_destroy.push(()=>y()),n.$$.on_destroy.push(()=>C());const R=new RegExp("#/(?<route>[a-z]+)(?<tripId>/[0-9]+|$)");function I(){var K;(K=document.getElementById("tripToggle"))==null||K.classList.remove("show"),s?(ri(o,p=s.groups.route||"",p),p=="editreceipt"?ri(l,P=parseInt(s.groups.tripId.replace("/","")||"-1"),P):ri(r,u=parseInt(s.groups.tripId.replace("/","")||"-1"),u)):(ri(o,p="",p),ri(r,u=-1,u))}return Ao(()=>{I()}),n.$$.update=()=>{n.$$.dirty&64&&(s=R.exec(B.url.hash))},h(t(2,r=Wr(-1))),D(t(1,l=Wr(-1))),S(t(0,o=Wr(""))),[o,l,r,u,p,P,B]}class Md extends Fn{constructor(e){super(),zn(this,e,Pd,Od,Pn,{})}}function Ld(n){let e,t,r;return t=new Md({}),{c(){e=ae(),Jt(t.$$.fragment),this.h()},l(l){Oo("svelte-1mxz4jk",document.head).forEach(_),e=oe(l),Qt(t.$$.fragment,l),this.h()},h(){document.title="Trippin'"},m(l,o){ee(l,e,o),Xt(t,l,o),r=!0},p:wt,i(l){r||(Le(t.$$.fragment,l),r=!0)},o(l){qe(t.$$.fragment,l),r=!1},d(l){l&&_(e),xt(t,l)}}}class Jd extends Fn{constructor(e){super(),zn(this,e,null,Ld,Pn,{})}}export{Jd as component};
