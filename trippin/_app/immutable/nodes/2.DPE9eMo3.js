import{n as Ct,G as Co,C as Xn,s as Pn,p as yt,k as te,i as v,e as A,t as Ne,b as se,d as O,f as z,h as Be,j as ae,v as m,l as _,S as Qe,T as zi,x as Ut,c as Tn,U as Rt,V as Xe,W as Nt,X as Gr,Y as Zn,u as In,g as An,a as On,Z as Bn,_ as Gi,$ as Ht,m as $e,a0 as Tl,a1 as Me,a2 as xl,o as Jn,w as Rr,E as Xa,D as Zr,I as Vn,r as xa,a3 as To,a4 as $l,a5 as ci,a6 as Il,z as dr,a7 as Wi,a8 as Yi,a9 as ui,aa as $a,ab as Io,ac as Ki,ad as Ao,ae as ri,af as Oo}from"../chunks/scheduler.3uQO6TRy.js";import{n as Po,l as Mo,f as Lo,h as Ro,t as Le,a as qe,S as Fn,i as zn,j as Qn,b as Jt,d as Qt,m as Xt,e as xt,g as un,c as cn,k as es}from"../chunks/index.erv1zw9P.js";import{w as Wr,b as No}from"../chunks/entry.ooHQmus8.js";import{_ as Bo}from"../chunks/preload-helper.D6kgxu3v.js";import{p as Fo}from"../chunks/stores.C3xQrfJm.js";function zo(n,e,t,r){if(!e)return Ct;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return Ct;const{delay:o=0,duration:s=300,easing:u=Co,start:f=Po()+o,end:p=f+s,tick:d=Ct,css:y}=t(n,{from:e,to:l},r);let C=!0,T=!1,k;function S(){y&&(k=Lo(n,0,1,s,o,u,y)),o||(T=!0)}function L(){y&&Ro(n,k),C=!1}return Mo(N=>{if(!T&&N>=f&&(T=!0),T&&N>=p&&(d(1,0),L()),!C)return!1;if(T){const P=N-f,G=0+1*u(P/s);d(G,1-G)}return!0}),S(),d(0,1),L}function Ko(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,jo(n,l)}}function jo(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ot(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Yr(n,e){n.d(1),e.delete(n.key)}function Ho(n,e){qe(n,1,1,()=>{e.delete(n.key)})}function Vo(n,e){n.f(),Yr(n,e)}function Nr(n,e,t,r,l,o,s,u,f,p,d,y){let C=n.length,T=o.length,k=C;const S={};for(;k--;)S[n[k].key]=k;const L=[],N=new Map,P=new Map,G=[];for(k=T;k--;){const J=y(l,o,k),De=t(J);let me=s.get(De);me?G.push(()=>me.p(J,e)):(me=p(De,J),me.c()),N.set(De,L[k]=me),De in S&&P.set(De,Math.abs(k-S[De]))}const I=new Set,oe=new Set;function ne(J){Le(J,1),J.m(u,d),s.set(J.key,J),d=J.first,T--}for(;C&&T;){const J=L[T-1],De=n[C-1],me=J.key,ee=De.key;J===De?(d=J.first,C--,T--):N.has(ee)?!s.has(me)||I.has(me)?ne(J):oe.has(ee)?C--:P.get(me)>P.get(ee)?(oe.add(me),ne(J)):(I.add(ee),C--):(f(De,s),C--)}for(;C--;){const J=n[C];N.has(J.key)||f(J,s)}for(;T;)ne(L[T-1]);return Xn(G),L}function ts(n){let e,t,r=("00"+n[0].getHours()).slice(-2)+"",l,o,s,u=("00"+n[0].getMinutes()).slice(-2)+"",f,p,d,y,C=n[1]!=="minute"&&ns(n);return{c(){e=A("div"),t=A("span"),l=Ne(r),o=Ne(`:
		`),s=A("span"),f=Ne(u),p=se(),C&&C.c(),this.h()},l(T){e=O(T,"DIV",{class:!0,role:!0});var k=z(e);t=O(k,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var S=z(t);l=Be(S,r),S.forEach(v),o=Be(k,`:
		`),s=O(k,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var L=z(s);f=Be(L,u),L.forEach(v),p=ae(k),C&&C.l(k),k.forEach(v),this.h()},h(){m(t,"role","spinbutton"),m(t,"aria-label","Hours"),m(t,"tabindex","0"),m(t,"contenteditable",""),m(t,"inputmode","numeric"),m(t,"class","svelte-mzlxg7"),m(s,"role","spinbutton"),m(s,"aria-label","Minutes"),m(s,"tabindex","0"),m(s,"contenteditable",""),m(s,"inputmode","numeric"),m(s,"class","svelte-mzlxg7"),m(e,"class","time-picker svelte-mzlxg7"),m(e,"role","none")},m(T,k){te(T,e,k),_(e,t),_(t,l),n[6](t),_(e,o),_(e,s),_(s,f),n[7](s),_(e,p),C&&C.m(e,null),d||(y=[Qe(t,"keydown",n[3]),Qe(t,"input",n[4]),Qe(t,"focus",ji),Qe(s,"keydown",n[3]),Qe(s,"input",n[4]),Qe(s,"focus",ji),Qe(e,"mousedown",n[10])],d=!0)},p(T,k){k&1&&r!==(r=("00"+T[0].getHours()).slice(-2)+"")&&zi(l,r),k&1&&u!==(u=("00"+T[0].getMinutes()).slice(-2)+"")&&zi(f,u),T[1]!=="minute"?C?C.p(T,k):(C=ns(T),C.c(),C.m(e,null)):C&&(C.d(1),C=null)},d(T){T&&v(e),n[6](null),n[7](null),C&&C.d(),d=!1,Xn(y)}}}function ns(n){let e,t,r=("00"+n[0].getSeconds()).slice(-2)+"",l,o,s,u,f,p=n[1]!=="second"&&rs(n);return{c(){e=Ne(":"),t=A("span"),l=Ne(r),o=se(),p&&p.c(),s=yt(),this.h()},l(d){e=Be(d,":"),t=O(d,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var y=z(t);l=Be(y,r),y.forEach(v),o=ae(d),p&&p.l(d),s=yt(),this.h()},h(){m(t,"role","spinbutton"),m(t,"aria-label","Seconds"),m(t,"tabindex","0"),m(t,"contenteditable",""),m(t,"inputmode","numeric"),m(t,"class","svelte-mzlxg7")},m(d,y){te(d,e,y),te(d,t,y),_(t,l),n[8](t),te(d,o,y),p&&p.m(d,y),te(d,s,y),u||(f=[Qe(t,"keydown",n[3]),Qe(t,"input",n[4]),Qe(t,"focus",ji)],u=!0)},p(d,y){y&1&&r!==(r=("00"+d[0].getSeconds()).slice(-2)+"")&&zi(l,r),d[1]!=="second"?p?p.p(d,y):(p=rs(d),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null)},d(d){d&&(v(e),v(t),v(o),v(s)),n[8](null),p&&p.d(d),u=!1,Xn(f)}}}function rs(n){let e,t,r=("000"+n[0].getMilliseconds()).slice(-3)+"",l,o,s;return{c(){e=Ne("."),t=A("span"),l=Ne(r),this.h()},l(u){e=Be(u,"."),t=O(u,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var f=z(t);l=Be(f,r),f.forEach(v),this.h()},h(){m(t,"role","spinbutton"),m(t,"aria-label","Milliseconds"),m(t,"tabindex","0"),m(t,"contenteditable",""),m(t,"inputmode","numeric"),m(t,"class","svelte-mzlxg7")},m(u,f){te(u,e,f),te(u,t,f),_(t,l),n[9](t),o||(s=[Qe(t,"keydown",n[3]),Qe(t,"input",n[4]),Qe(t,"focus",ji)],o=!0)},p(u,f){f&1&&r!==(r=("000"+u[0].getMilliseconds()).slice(-3)+"")&&zi(l,r)},d(u){u&&(v(e),v(t)),n[9](null),o=!1,Xn(s)}}}function qo(n){let e,t=n[1]&&ts(n);return{c(){t&&t.c(),e=yt()},l(r){t&&t.l(r),e=yt()},m(r,l){t&&t.m(r,l),te(r,e,l)},p(r,[l]){r[1]?t?t.p(r,l):(t=ts(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ct,o:Ct,d(r){r&&v(e),t&&t.d(r)}}}function Bi(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e==null||e.removeAllRanges(),e==null||e.addRange(t)}function Uo(n,e,t){return t&&n<0?e:t&&n>e?0:Math.max(0,Math.min(e,n))}function gl(n){const e=n.getAttribute("aria-label");if(e==="Hours")return{label:e,len:2,max:23};if(e==="Minutes")return{label:e,len:2,max:59};if(e==="Seconds")return{label:e,len:2,max:59};if(e==="Milliseconds")return{label:e,len:3,max:999};throw new Error("Invalid label "+e)}function _l(n,e){return parseInt(n.replace(/[^\d]/g,"").slice(-e))}function ji(n){Bi(n.currentTarget)}function Go(n,e,t){let{browseDate:r}=e,{timePrecision:l}=e,{setTime:o}=e,s=[];function u(N){if(N.key==="ArrowUp"||N.key==="ArrowDown"){const P=f(N.currentTarget),G=N.key==="ArrowUp"?1:-1;d(N.currentTarget,P+G,!0),N.preventDefault(),Bi(N.currentTarget)}else if(N.key==="ArrowLeft"||N.key==="ArrowRight"||":;-,.".includes(N.key)){const P=s.indexOf(N.currentTarget),G=N.key==="ArrowLeft"?-1:1,I=s[P+G];N.preventDefault(),I&&(I.focus(),Bi(I))}}function f(N){const P=gl(N).label;return P==="Hours"?r.getHours():P==="Minutes"?r.getMinutes():P==="Seconds"?r.getSeconds():r.getMilliseconds()}function p(N){const P=("00"+N.getHours()).slice(-2),G=("00"+N.getMinutes()).slice(-2),I=("00"+N.getSeconds()).slice(-2),oe=("000"+N.getMilliseconds()).slice(-3);s[0]&&s[0].innerText!==P&&t(2,s[0].innerText=P,s),s[1]&&s[1].innerText!==G&&t(2,s[1].innerText=G,s),s[2]&&s[2].innerText!==I&&t(2,s[2].innerText=I,s),s[3]&&s[3].innerText!==oe&&t(2,s[3].innerText=oe,s)}function d(N,P,G=!1){const I=gl(N);P=Uo(P,I.max,G),I.label==="Hours"?r.setHours(P):I.label==="Minutes"?r.setMinutes(P):I.label==="Seconds"?r.setSeconds(P):I.label==="Milliseconds"&&r.setMilliseconds(P),t(0,r=o(r)),p(r)}function y(N){const P=N,G=gl(P.currentTarget);let I;if(P.inputType==="insertText"){const oe="000"+f(P.currentTarget);I=_l(oe+P.currentTarget.innerText,G.len),I>G.max&&P.data&&(I=_l(P.data,G.len))}else I=_l("000"+P.currentTarget.innerText,G.len);d(P.currentTarget,I),Bi(P.currentTarget)}function C(N){Ut[N?"unshift":"push"](()=>{s[0]=N,t(2,s)})}function T(N){Ut[N?"unshift":"push"](()=>{s[1]=N,t(2,s)})}function k(N){Ut[N?"unshift":"push"](()=>{s[2]=N,t(2,s)})}function S(N){Ut[N?"unshift":"push"](()=>{s[3]=N,t(2,s)})}const L=N=>{N.target instanceof HTMLElement&&N.target.tagName==="SPAN"&&(N.target.focus(),N.preventDefault())};return n.$$set=N=>{"browseDate"in N&&t(0,r=N.browseDate),"timePrecision"in N&&t(1,l=N.timePrecision),"setTime"in N&&t(5,o=N.setTime)},n.$$.update=()=>{n.$$.dirty&1&&p(r)},[r,l,s,u,y,o,C,T,k,S,L]}class Wo extends Fn{constructor(e){super(),zn(this,e,Go,qo,Pn,{browseDate:0,timePrecision:1,setTime:5})}}function Yo(n){return n%4===0&&n%100!==0||n%400===0}function fi(n,e){return[31,Yo(n)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function is(n,e){let t="";if(n)for(const r of e)typeof r=="string"?t+=r:t+=r.toString(n);return t}function vl(n,e){const t=fi(n,e),r=[];for(let l=0;l<t;l++)r.push({year:n,month:e,number:l+1});return r}function Zo(n,e){const t=n.getFullYear(),r=n.getMonth(),l=new Date(t,r,1).getDay();let o=[];const s=(l-e+7)%7;if(s>0){let d=r-1,y=t;d===-1&&(d=11,y=t-1),o=vl(y,d).slice(-s)}o=o.concat(vl(t,r));let u=r+1,f=t;u===12&&(u=0,f=t+1);const p=42-o.length;return o=o.concat(vl(f,u).slice(0,p)),o}function Jo(){return{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStartsOn:1}}function eo(n){const e=Jo();return typeof n.weekStartsOn=="number"&&(e.weekStartsOn=n.weekStartsOn),n.months&&(e.months=n.months),n.shortMonths&&(e.shortMonths=n.shortMonths),n.weekdays&&(e.weekdays=n.weekdays),e}function ls(n,e,t){const r=n.slice();return r[36]=e[t],r[38]=t,r}function ss(n,e,t){const r=n.slice();return r[39]=e[t],r}function as(n,e,t){const r=n.slice();return r[36]=e[t],r[43]=t,r}function os(n,e,t){const r=n.slice();return r[44]=e[t],r}function us(n,e,t){const r=n.slice();return r[44]=e[t],r}function cs(n,e,t){const r=n.slice();return r[49]=e[t],r[43]=t,r}function fs(n,e,t){const r=n.slice();return r[49]=e[t],r[43]=t,r}function ds(n){let e,t=n[49]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(v),this.h()},h(){e.disabled=l=new Date(n[9],n[43],fi(n[9],n[43]),23,59,59,999)<n[2]||new Date(n[9],n[43])>n[3],e.__value=n[43],Ht(e,e.__value)},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&32&&t!==(t=o[49]+"")&&$e(r,t),s[0]&588&&l!==(l=new Date(o[9],o[43],fi(o[9],o[43]),23,59,59,999)<o[2]||new Date(o[9],o[43])>o[3])&&(e.disabled=l)},d(o){o&&v(e)}}}function hs(n){let e,t=n[49]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(v),this.h()},h(){e.__value=n[43],Ht(e,e.__value),e.selected=l=n[43]===n[8]},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&32&&t!==(t=o[49]+"")&&$e(r,t),s[0]&256&&l!==(l=o[43]===o[8])&&(e.selected=l)},d(o){o&&v(e)}}}function ps(n){let e,t=n[44]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(v),this.h()},h(){e.__value=l=n[44],Ht(e,e.__value)},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&64&&t!==(t=o[44]+"")&&$e(r,t),s[0]&64&&l!==(l=o[44])&&(e.__value=l,Ht(e,e.__value))},d(o){o&&v(e)}}}function ms(n){let e,t=n[44]+"",r,l,o;return{c(){e=A("option"),r=Ne(t),this.h()},l(s){e=O(s,"OPTION",{});var u=z(e);r=Be(u,t),u.forEach(v),this.h()},h(){e.__value=l=n[44],Ht(e,e.__value),e.selected=o=n[44]===n[4].getFullYear()},m(s,u){te(s,e,u),_(e,r)},p(s,u){u[0]&64&&t!==(t=s[44]+"")&&$e(r,t),u[0]&64&&l!==(l=s[44])&&(e.__value=l,Ht(e,e.__value)),u[0]&80&&o!==(o=s[44]===s[4].getFullYear())&&(e.selected=o)},d(s){s&&v(e)}}}function Qo(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[43]-7]+"",r;return{c(){e=A("div"),r=Ne(t),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r=Be(o,t),o.forEach(v),this.h()},h(){m(e,"class","header-cell svelte-w239uu")},m(l,o){te(l,e,o),_(e,r)},p(l,o){o[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[43]-7]+"")&&$e(r,t)},d(l){l&&v(e)}}}function Xo(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[43]]+"",r;return{c(){e=A("div"),r=Ne(t),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r=Be(o,t),o.forEach(v),this.h()},h(){m(e,"class","header-cell svelte-w239uu")},m(l,o){te(l,e,o),_(e,r)},p(l,o){o[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[43]]+"")&&$e(r,t)},d(l){l&&v(e)}}}function gs(n){let e;function t(o,s){return o[43]+o[5].weekStartsOn<7?Xo:Qo}let r=t(n),l=r(n);return{c(){l.c(),e=yt()},l(o){l.l(o),e=yt()},m(o,s){l.m(o,s),te(o,e,s)},p(o,s){r===(r=t(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){o&&v(e),l.d(o)}}}function _s(n){let e,t,r=n[39].number+"",l,o,s;function u(){return n[27](n[39])}return{c(){e=A("div"),t=A("span"),l=Ne(r),this.h()},l(f){e=O(f,"DIV",{class:!0});var p=z(e);t=O(p,"SPAN",{class:!0});var d=z(t);l=Be(d,r),d.forEach(v),p.forEach(v),this.h()},h(){m(t,"class","svelte-w239uu"),m(e,"class","cell svelte-w239uu"),Me(e,"disabled",!Al(n[39],n[2],n[3])),Me(e,"selected",n[0]&&n[39].year===n[0].getFullYear()&&n[39].month===n[0].getMonth()&&n[39].number===n[0].getDate()),Me(e,"today",n[39].year===n[11].getFullYear()&&n[39].month===n[11].getMonth()&&n[39].number===n[11].getDate()),Me(e,"other-month",n[39].month!==n[8])},m(f,p){te(f,e,p),_(e,t),_(t,l),o||(s=Qe(e,"click",u),o=!0)},p(f,p){n=f,p[0]&128&&r!==(r=n[39].number+"")&&$e(l,r),p[0]&140&&Me(e,"disabled",!Al(n[39],n[2],n[3])),p[0]&129&&Me(e,"selected",n[0]&&n[39].year===n[0].getFullYear()&&n[39].month===n[0].getMonth()&&n[39].number===n[0].getDate()),p[0]&2176&&Me(e,"today",n[39].year===n[11].getFullYear()&&n[39].month===n[11].getMonth()&&n[39].number===n[11].getDate()),p[0]&384&&Me(e,"other-month",n[39].month!==n[8])},d(f){f&&v(e),o=!1,s()}}}function vs(n){let e,t=ot(n[7].slice(n[38]*7,n[38]*7+7)),r=[];for(let l=0;l<t.length;l+=1)r[l]=_s(ss(n,t,l));return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(v),this.h()},h(){m(e,"class","week svelte-w239uu")},m(l,o){te(l,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,o){if(o[0]&18829){t=ot(l[7].slice(l[38]*7,l[38]*7+7));let s;for(s=0;s<t.length;s+=1){const u=ss(l,t,s);r[s]?r[s].p(u,o):(r[s]=_s(u),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&v(e),Bn(r,l)}}}function xo(n){let e,t,r,l,o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z" transform="rotate(180, 12, 12)"></path></svg>',s,u,f,p,d,y,C,T,k,S,L,N,P,G,I,oe,ne,J,De='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"></path></svg>',me,ee,be,Ce,ue,le,ge,de,ce,we,D=ot(n[5].months),M=[];for(let x=0;x<D.length;x+=1)M[x]=ds(fs(n,D,x));let j=ot(n[5].months),he=[];for(let x=0;x<j.length;x+=1)he[x]=hs(cs(n,j,x));let B=ot(n[6]),Y=[];for(let x=0;x<B.length;x+=1)Y[x]=ps(us(n,B,x));let ie=ot(n[6]),W=[];for(let x=0;x<ie.length;x+=1)W[x]=ms(os(n,ie,x));let Se=ot(Array(7)),Ve=[];for(let x=0;x<Se.length;x+=1)Ve[x]=gs(as(n,Se,x));let _e=ot(Array(6)),$=[];for(let x=0;x<_e.length;x+=1)$[x]=vs(ls(n,_e,x));function xe(x){n[28](x)}let Ee={timePrecision:n[1],setTime:n[10]};n[4]!==void 0&&(Ee.browseDate=n[4]),ue=new Wo({props:Ee}),Ut.push(()=>Qn(ue,"browseDate",xe));const Pe=n[21].default,Ue=Tn(Pe,n,n[20],null);return{c(){e=A("div"),t=A("div"),r=A("div"),l=A("button"),l.innerHTML=o,s=se(),u=A("div"),f=A("select");for(let x=0;x<M.length;x+=1)M[x].c();p=se(),d=A("select");for(let x=0;x<he.length;x+=1)he[x].c();y=se(),C=Rt("svg"),T=Rt("path"),k=se(),S=A("div"),L=A("select");for(let x=0;x<Y.length;x+=1)Y[x].c();N=se(),P=A("select");for(let x=0;x<W.length;x+=1)W[x].c();G=se(),I=Rt("svg"),oe=Rt("path"),ne=se(),J=A("button"),J.innerHTML=De,me=se(),ee=A("div");for(let x=0;x<Ve.length;x+=1)Ve[x].c();be=se();for(let x=0;x<$.length;x+=1)$[x].c();Ce=se(),Jt(ue.$$.fragment),ge=se(),Ue&&Ue.c(),this.h()},l(x){e=O(x,"DIV",{class:!0,tabindex:!0});var Ge=z(e);t=O(Ge,"DIV",{class:!0,tabindex:!0});var ze=z(t);r=O(ze,"DIV",{class:!0});var ke=z(r);l=O(ke,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Xe(l)!=="svelte-t4cock"&&(l.innerHTML=o),s=ae(ke),u=O(ke,"DIV",{class:!0});var tt=z(u);f=O(tt,"SELECT",{class:!0});var Dt=z(f);for(let rt=0;rt<M.length;rt+=1)M[rt].l(Dt);Dt.forEach(v),p=ae(tt),d=O(tt,"SELECT",{class:!0,tabindex:!0});var zt=z(d);for(let rt=0;rt<he.length;rt+=1)he[rt].l(zt);zt.forEach(v),y=ae(tt),C=Nt(tt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var It=z(C);T=Nt(It,"path",{d:!0,transform:!0}),z(T).forEach(v),It.forEach(v),tt.forEach(v),k=ae(ke),S=O(ke,"DIV",{class:!0});var ht=z(S);L=O(ht,"SELECT",{class:!0});var it=z(L);for(let rt=0;rt<Y.length;rt+=1)Y[rt].l(it);it.forEach(v),N=ae(ht),P=O(ht,"SELECT",{class:!0,tabindex:!0});var Ye=z(P);for(let rt=0;rt<W.length;rt+=1)W[rt].l(Ye);Ye.forEach(v),G=ae(ht),I=Nt(ht,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var Ze=z(I);oe=Nt(Ze,"path",{d:!0,transform:!0}),z(oe).forEach(v),Ze.forEach(v),ht.forEach(v),ne=ae(ke),J=O(ke,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Xe(J)!=="svelte-1a006lp"&&(J.innerHTML=De),ke.forEach(v),me=ae(ze),ee=O(ze,"DIV",{class:!0});var Mt=z(ee);for(let rt=0;rt<Ve.length;rt+=1)Ve[rt].l(Mt);Mt.forEach(v),be=ae(ze);for(let rt=0;rt<$.length;rt+=1)$[rt].l(ze);Ce=ae(ze),Qt(ue.$$.fragment,ze),ge=ae(ze),Ue&&Ue.l(ze),ze.forEach(v),Ge.forEach(v),this.h()},h(){m(l,"type","button"),m(l,"class","page-button svelte-w239uu"),m(l,"tabindex","-1"),m(f,"class","svelte-w239uu"),m(d,"class","dummy-select svelte-w239uu"),m(d,"tabindex","-1"),m(T,"d","M6 0l12 12-12 12z"),m(T,"transform","rotate(90, 12, 12)"),m(C,"xmlns","http://www.w3.org/2000/svg"),m(C,"width","24"),m(C,"height","24"),m(C,"viewBox","0 0 24 24"),m(C,"class","svelte-w239uu"),m(u,"class","dropdown month svelte-w239uu"),m(L,"class","svelte-w239uu"),m(P,"class","dummy-select svelte-w239uu"),m(P,"tabindex","-1"),m(oe,"d","M6 0l12 12-12 12z"),m(oe,"transform","rotate(90, 12, 12)"),m(I,"xmlns","http://www.w3.org/2000/svg"),m(I,"width","24"),m(I,"height","24"),m(I,"viewBox","0 0 24 24"),m(I,"class","svelte-w239uu"),m(S,"class","dropdown year svelte-w239uu"),m(J,"type","button"),m(J,"class","page-button svelte-w239uu"),m(J,"tabindex","-1"),m(r,"class","top svelte-w239uu"),m(ee,"class","header svelte-w239uu"),m(t,"class","tab-container svelte-w239uu"),m(t,"tabindex","-1"),m(e,"class","date-time-picker svelte-w239uu"),m(e,"tabindex","0")},m(x,Ge){te(x,e,Ge),_(e,t),_(t,r),_(r,l),_(r,s),_(r,u),_(u,f);for(let ze=0;ze<M.length;ze+=1)M[ze]&&M[ze].m(f,null);Gr(f,n[8]),_(u,p),_(u,d);for(let ze=0;ze<he.length;ze+=1)he[ze]&&he[ze].m(d,null);_(u,y),_(u,C),_(C,T),_(r,k),_(r,S),_(S,L);for(let ze=0;ze<Y.length;ze+=1)Y[ze]&&Y[ze].m(L,null);Gr(L,n[9]),_(S,N),_(S,P);for(let ze=0;ze<W.length;ze+=1)W[ze]&&W[ze].m(P,null);_(S,G),_(S,I),_(I,oe),_(r,ne),_(r,J),_(t,me),_(t,ee);for(let ze=0;ze<Ve.length;ze+=1)Ve[ze]&&Ve[ze].m(ee,null);_(t,be);for(let ze=0;ze<$.length;ze+=1)$[ze]&&$[ze].m(t,null);_(t,Ce),Xt(ue,t,null),_(t,ge),Ue&&Ue.m(t,null),de=!0,ce||(we=[Qe(l,"click",n[23]),Qe(f,"keydown",n[16]),Qe(f,"input",n[24]),Qe(L,"input",n[25]),Qe(L,"keydown",n[15]),Qe(J,"click",n[26]),Qe(e,"focusout",n[22]),Qe(e,"keydown",n[17])],ce=!0)},p(x,Ge){if(Ge[0]&556){D=ot(x[5].months);let ke;for(ke=0;ke<D.length;ke+=1){const tt=fs(x,D,ke);M[ke]?M[ke].p(tt,Ge):(M[ke]=ds(tt),M[ke].c(),M[ke].m(f,null))}for(;ke<M.length;ke+=1)M[ke].d(1);M.length=D.length}if((!de||Ge[0]&256)&&Gr(f,x[8]),Ge[0]&288){j=ot(x[5].months);let ke;for(ke=0;ke<j.length;ke+=1){const tt=cs(x,j,ke);he[ke]?he[ke].p(tt,Ge):(he[ke]=hs(tt),he[ke].c(),he[ke].m(d,null))}for(;ke<he.length;ke+=1)he[ke].d(1);he.length=j.length}if(Ge[0]&64){B=ot(x[6]);let ke;for(ke=0;ke<B.length;ke+=1){const tt=us(x,B,ke);Y[ke]?Y[ke].p(tt,Ge):(Y[ke]=ps(tt),Y[ke].c(),Y[ke].m(L,null))}for(;ke<Y.length;ke+=1)Y[ke].d(1);Y.length=B.length}if((!de||Ge[0]&576)&&Gr(L,x[9]),Ge[0]&80){ie=ot(x[6]);let ke;for(ke=0;ke<ie.length;ke+=1){const tt=os(x,ie,ke);W[ke]?W[ke].p(tt,Ge):(W[ke]=ms(tt),W[ke].c(),W[ke].m(P,null))}for(;ke<W.length;ke+=1)W[ke].d(1);W.length=ie.length}if(Ge[0]&32){Se=ot(Array(7));let ke;for(ke=0;ke<Se.length;ke+=1){const tt=as(x,Se,ke);Ve[ke]?Ve[ke].p(tt,Ge):(Ve[ke]=gs(tt),Ve[ke].c(),Ve[ke].m(ee,null))}for(;ke<Ve.length;ke+=1)Ve[ke].d(1);Ve.length=Se.length}if(Ge[0]&18829){_e=ot(Array(6));let ke;for(ke=0;ke<_e.length;ke+=1){const tt=ls(x,_e,ke);$[ke]?$[ke].p(tt,Ge):($[ke]=vs(tt),$[ke].c(),$[ke].m(t,Ce))}for(;ke<$.length;ke+=1)$[ke].d(1);$.length=_e.length}const ze={};Ge[0]&2&&(ze.timePrecision=x[1]),!le&&Ge[0]&16&&(le=!0,ze.browseDate=x[4],Zn(()=>le=!1)),ue.$set(ze),Ue&&Ue.p&&(!de||Ge[0]&1048576)&&In(Ue,Pe,x,x[20],de?On(Pe,x[20],Ge,null):An(x[20]),null)},i(x){de||(Le(ue.$$.fragment,x),Le(Ue,x),de=!0)},o(x){qe(ue.$$.fragment,x),qe(Ue,x),de=!1},d(x){x&&v(e),Bn(M,x),Bn(he,x),Bn(Y,x),Bn(W,x),Bn(Ve,x),Bn($,x),xt(ue),Ue&&Ue.d(x),ce=!1,Xn(we)}}}function ar(n){return new Date(n.getTime())}function Hi(n,e,t){return n>t?ar(t):n<e?ar(e):ar(n)}function bl(n,e,t){const r=Hi(n,e,t);return r.getTime()!==n.getTime()&&(n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),n=Hi(n,e,t)),n}function bs(n,e){let t=[];for(let r=n.getFullYear();r<=e.getFullYear();r++)t.push(r);return t}function Al(n,e,t){const r=new Date(n.year,n.month,n.number),l=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate());return r>=l&&r<=o}function $o(n,e,t){let r,l,o,s,{$$slots:u={},$$scope:f}=e;const p=Gi();let{value:d=null}=e;function y(B){B.getTime()!==(d==null?void 0:d.getTime())&&(t(4,I=Hi(B,P,G)),t(0,d=ar(I)))}function C(B){B.getTime()!==(d==null?void 0:d.getTime())&&(t(4,I=bl(B,P,G)),t(0,d=ar(I)))}function T(B){t(4,I=bl(B,P,G)),!De&&d&&y(I)}function k(B){return t(4,I=Hi(B,P,G)),d&&y(I),I}const S=new Date,L=new Date;let{timePrecision:N=null}=e,{min:P=new Date(L.getFullYear()-20,0,1)}=e,{max:G=new Date(L.getFullYear(),11,31,23,59,59,999)}=e,I=ar(d||bl(L,P,G));function oe(B){I.getTime()!==(B==null?void 0:B.getTime())&&t(4,I=B?ar(B):I)}let ne=bs(P,G),{locale:J={}}=e,{browseWithoutSelecting:De=!1}=e;function me(B){I.setFullYear(B),T(I)}function ee(B){let Y=I.getFullYear();B===12?(B=0,Y++):B===-1&&(B=11,Y--);const ie=fi(Y,B),W=Math.min(I.getDate(),ie);T(new Date(Y,B,W,I.getHours(),I.getMinutes(),I.getSeconds(),I.getMilliseconds()))}function be(B){Al(B,P,G)&&(I.setFullYear(0),I.setMonth(0),I.setDate(1),I.setFullYear(B.year),I.setMonth(B.month),I.setDate(B.number),C(I),p("select",ar(I)))}function Ce(B){if(B.shiftKey&&B.key==="ArrowUp")me(I.getFullYear()-1);else if(B.shiftKey&&B.key==="ArrowDown")me(I.getFullYear()+1);else if(B.shiftKey&&B.key==="ArrowLeft")ee(I.getMonth()-1);else if(B.shiftKey&&B.key==="ArrowRight")ee(I.getMonth()+1);else return!1;return B.preventDefault(),!0}function ue(B){if(B.shiftKey||B.altKey){Ce(B);return}else if(B.key==="ArrowUp")me(I.getFullYear()-1);else if(B.key==="ArrowDown")me(I.getFullYear()+1);else if(B.key==="ArrowLeft")ee(I.getMonth()-1);else if(B.key==="ArrowRight")ee(I.getMonth()+1);else{Ce(B);return}B.preventDefault()}function le(B){if(B.shiftKey||B.altKey){Ce(B);return}else if(B.key==="ArrowUp"||B.key==="ArrowLeft")ee(I.getMonth()-1);else if(B.key==="ArrowDown"||B.key==="ArrowRight")ee(I.getMonth()+1);else{Ce(B);return}B.preventDefault()}function ge(B){var ie,W;let Y=B.shiftKey||B.altKey;if(!(((ie=B.target)==null?void 0:ie.tagName)==="SELECT"||((W=B.target)==null?void 0:W.tagName)==="SPAN")){if(Y){Ce(B);return}else if(B.key==="ArrowUp")I.setDate(I.getDate()-7),C(I);else if(B.key==="ArrowDown")I.setDate(I.getDate()+7),C(I);else if(B.key==="ArrowLeft")I.setDate(I.getDate()-1),C(I);else if(B.key==="ArrowRight")I.setDate(I.getDate()+1),C(I);else if(B.key==="Enter")y(I),p("select",ar(I));else return;B.preventDefault()}}function de(B){Tl.call(this,n,B)}const ce=()=>ee(I.getMonth()-1),we=B=>ee(parseInt(B.currentTarget.value)),D=B=>me(parseInt(B.currentTarget.value)),M=()=>ee(I.getMonth()+1),j=B=>be(B);function he(B){I=B,t(4,I)}return n.$$set=B=>{"value"in B&&t(0,d=B.value),"timePrecision"in B&&t(1,N=B.timePrecision),"min"in B&&t(2,P=B.min),"max"in B&&t(3,G=B.max),"locale"in B&&t(18,J=B.locale),"browseWithoutSelecting"in B&&t(19,De=B.browseWithoutSelecting),"$$scope"in B&&t(20,f=B.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&13&&(d&&d>G?y(G):d&&d<P&&y(P)),n.$$.dirty[0]&1&&oe(d),n.$$.dirty[0]&12&&t(6,ne=bs(P,G)),n.$$.dirty[0]&262144&&t(5,r=eo(J)),n.$$.dirty[0]&16&&t(9,l=I.getFullYear()),n.$$.dirty[0]&16&&t(8,o=I.getMonth()),n.$$.dirty[0]&48&&t(7,s=Zo(I,r.weekStartsOn))},[d,N,P,G,I,r,ne,s,o,l,k,S,me,ee,be,ue,le,ge,J,De,f,u,de,ce,we,D,M,j,he]}class eu extends Fn{constructor(e){super(),zn(this,e,$o,xo,Pn,{value:0,timePrecision:1,min:2,max:3,locale:18,browseWithoutSelecting:19},null,[-1,-1])}}function tu(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function to(n){const e=n-1;return e*e*e+1}function nu(n,{delay:e=0,duration:t=400,easing:r=to,x:l=0,y:o=0,opacity:s=0}={}){const u=getComputedStyle(n),f=+u.opacity,p=u.transform==="none"?"":u.transform,d=f*(1-s),[y,C]=xl(l),[T,k]=xl(o);return{delay:e,duration:t,easing:r,css:(S,L)=>`
			transform: ${p} translate(${(1-S)*y}${C}, ${(1-S)*T}${k});
			opacity: ${f-d*L}`}}function ys(n,e,t){let r="",l=!0;t=t||new Date(2020,0,1,0,0,0,0);let o=t.getFullYear(),s=t.getMonth(),u=t.getDate(),f=t.getHours(),p=t.getMinutes(),d=t.getSeconds();const y=t.getMilliseconds();function C(N){for(let P=0;P<N.length;P++)if(n.startsWith(N[P]))n=n.slice(1);else{l=!1,n.length===0&&(r=N.slice(P));return}}function T(N,P,G){const I=n.match(N);if(I!=null&&I[0]){n=n.slice(I[0].length);const oe=parseInt(I[0]);return oe>G||oe<P?(l=!1,null):oe}else return l=!1,null}function k(N){const P=N.findIndex(G=>G.toLowerCase()===n.slice(0,G.length).toLowerCase());return P>=0?(n=n.slice(N[P].length),P):(l=!1,null)}function S(N){if(typeof N=="string")C(N);else if(N.id==="yy"){const P=T(/^[0-9]{2}/,0,99);P!==null&&(o=2e3+P)}else if(N.id==="yyyy"){const P=T(/^[0-9]{4}/,0,9999);P!==null&&(o=P)}else if(N.id==="MM"){const P=T(/^[0-9]{2}/,1,12);P!==null&&(s=P-1)}else if(N.id==="MMM"){const P=k(N.allowedValues||[]);P!==null&&(s=P)}else if(N.id==="dd"){const P=T(/^[0-9]{2}/,1,31);P!==null&&(u=P)}else if(N.id==="HH"){const P=T(/^[0-9]{2}/,0,23);P!==null&&(f=P)}else if(N.id==="mm"){const P=T(/^[0-9]{2}/,0,59);P!==null&&(p=P)}else if(N.id==="ss"){const P=T(/^[0-9]{2}/,0,59);P!==null&&(d=P)}}for(const N of e)if(S(N),!l)break;const L=fi(o,s);return u>L&&(l=!1),{date:l?new Date(o,s,u,f,p,d,y):null,missingPunctuation:r}}function ii(n){return("0"+n.toString()).slice(-2)}function ru(n,e){if(n.startsWith("yyyy"))return{id:"yyyy",toString:t=>t.getFullYear().toString()};if(n.startsWith("yy"))return{id:"yy",toString:t=>t.getFullYear().toString().slice(-2)};if(n.startsWith("MMM"))return{id:"MMM",allowedValues:e.shortMonths,toString:t=>e.shortMonths[t.getMonth()]};if(n.startsWith("MM"))return{id:"MM",toString:t=>ii(t.getMonth()+1)};if(n.startsWith("dd"))return{id:"dd",toString:t=>ii(t.getDate())};if(n.startsWith("HH"))return{id:"HH",toString:t=>ii(t.getHours())};if(n.startsWith("mm"))return{id:"mm",toString:t=>ii(t.getMinutes())};if(n.startsWith("ss"))return{id:"ss",toString:t=>ii(t.getSeconds())}}function ws(n,e={}){const t=eo(e),r=[];for(;n.length>0;){const l=ru(n,t);l?(r.push(l),n=n.slice(l.id.length)):typeof r[r.length-1]=="string"?(r[r.length-1]+=n[0],n=n.slice(1)):(r.push(n[0]),n=n.slice(1))}return r}function ks(n){let e,t,r,l,o=`${n[18]}px`,s;function u(p){n[34](p)}let f={min:n[3],max:n[4],locale:n[10],browseWithoutSelecting:n[11],timePrecision:n[12],$$slots:{default:[iu]},$$scope:{ctx:n}};return n[14]!==void 0&&(f.value=n[14]),t=new eu({props:f}),Ut.push(()=>Qn(t,"value",u)),t.$on("focusout",n[21]),t.$on("select",n[23]),{c(){e=A("div"),Jt(t.$$.fragment),this.h()},l(p){e=O(p,"DIV",{class:!0});var d=z(e);Qt(t.$$.fragment,d),d.forEach(v),this.h()},h(){m(e,"class","picker svelte-1vabmef"),Me(e,"visible",n[2]),Me(e,"above",n[17]),Rr(e,"--picker-left-position",o)},m(p,d){te(p,e,d),Xt(t,e,null),n[35](e),s=!0},p(p,d){const y={};d[0]&8&&(y.min=p[3]),d[0]&16&&(y.max=p[4]),d[0]&1024&&(y.locale=p[10]),d[0]&2048&&(y.browseWithoutSelecting=p[11]),d[0]&4096&&(y.timePrecision=p[12]),d[1]&32&&(y.$$scope={dirty:d,ctx:p}),!r&&d[0]&16384&&(r=!0,y.value=p[14],Zn(()=>r=!1)),t.$set(y),(!s||d[0]&4)&&Me(e,"visible",p[2]),(!s||d[0]&131072)&&Me(e,"above",p[17]),d[0]&262144&&o!==(o=`${p[18]}px`)&&Rr(e,"--picker-left-position",o)},i(p){s||(Le(t.$$.fragment,p),p&&Xa(()=>{s&&(l||(l=es(e,n[24],{},!0)),l.run(1))}),s=!0)},o(p){qe(t.$$.fragment,p),p&&(l||(l=es(e,n[24],{},!1)),l.run(0)),s=!1},d(p){p&&v(e),xt(t),n[35](null),p&&l&&l.end()}}}function iu(n){let e;const t=n[29].default,r=Tn(t,n,n[36],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o[1]&32)&&In(r,t,l,l[36],e?On(t,l[36],o,null):An(l[36]),null)},i(l){e||(Le(r,l),e=!0)},o(l){qe(r,l),e=!1},d(l){r&&r.d(l)}}}function lu(n){let e,t,r,l,o,s,u,f=n[2]&&!n[7]&&ks(n);return{c(){e=A("div"),t=A("input"),r=se(),f&&f.c(),this.h()},l(p){e=O(p,"DIV",{class:!0});var d=z(e);t=O(d,"INPUT",{type:!0,autocomplete:!0,id:!0,placeholder:!0,class:!0}),r=ae(d),f&&f.l(d),d.forEach(v),this.h()},h(){m(t,"type","text"),m(t,"autocomplete","off"),t.value=n[0],m(t,"id",n[5]),m(t,"placeholder",n[6]),t.disabled=n[7],t.required=n[8],m(t,"class","svelte-1vabmef"),Me(t,"invalid",!n[1]),m(e,"class",l="date-time-field "+n[9]+" svelte-1vabmef")},m(p,d){te(p,e,d),_(e,t),n[30](t),_(e,r),f&&f.m(e,null),o=!0,s||(u=[Qe(t,"focus",n[31]),Qe(t,"mousedown",n[32]),Qe(t,"input",n[33]),Qe(e,"focusout",n[21]),Qe(e,"keydown",n[22])],s=!0)},p(p,d){(!o||d[0]&1&&t.value!==p[0])&&(t.value=p[0]),(!o||d[0]&32)&&m(t,"id",p[5]),(!o||d[0]&64)&&m(t,"placeholder",p[6]),(!o||d[0]&128)&&(t.disabled=p[7]),(!o||d[0]&256)&&(t.required=p[8]),(!o||d[0]&2)&&Me(t,"invalid",!p[1]),p[2]&&!p[7]?f?(f.p(p,d),d[0]&132&&Le(f,1)):(f=ks(p),f.c(),Le(f,1),f.m(e,null)):f&&(un(),qe(f,1,1,()=>{f=null}),cn()),(!o||d[0]&512&&l!==(l="date-time-field "+p[9]+" svelte-1vabmef"))&&m(e,"class",l)},i(p){o||(Le(f),o=!0)},o(p){qe(f),o=!1},d(p){p&&v(e),n[30](null),f&&f.d(),s=!1,Xn(u)}}}function su(n,e,t){let r,l,{$$slots:o={},$$scope:s}=e;const u=Gi(),f=new Date,p=Wr(null);Jn(n,p,$=>t(37,l=$));const d={subscribe:p.subscribe,set:$=>{$==null?(p.set(null),t(25,y=$)):$.getTime()!==(l==null?void 0:l.getTime())&&(p.set($),t(25,y=$))}};Jn(n,d,$=>t(14,r=$));let{value:y=null}=e,{min:C=new Date(f.getFullYear()-20,0,1)}=e,{max:T=new Date(f.getFullYear(),11,31,23,59,59,999)}=e,{id:k=null}=e,{placeholder:S="2020-12-31 23:00:00"}=e,{valid:L=!0}=e,{disabled:N=!1}=e,{required:P=!1}=e,{class:G=""}=e,{locale:I={}}=e,{format:oe="yyyy-MM-dd HH:mm:ss"}=e,ne=ws(oe,I);function J($,xe){t(0,De=is($,xe))}let{text:De=is(r,ne)}=e;function me($,xe){if($.length){const Ee=ys($,xe,r);Ee.date!==null?(t(1,L=!0),d.set(Ee.date)):t(1,L=!1)}else t(1,L=!0),y&&(t(25,y=null),d.set(null))}let{visible:ee=!1}=e,{closeOnSelection:be=!1}=e,{browseWithoutSelecting:Ce=!1}=e,{timePrecision:ue=null}=e;function le($){($==null?void 0:$.currentTarget)instanceof HTMLElement&&$.relatedTarget&&$.relatedTarget instanceof Node&&$.currentTarget.contains($.relatedTarget)||t(2,ee=!1)}function ge($){$.key==="Escape"&&ee?(t(2,ee=!1),$.preventDefault(),$.stopPropagation()):$.key==="Enter"&&(t(2,ee=!ee),$.preventDefault())}function de($){u("select",$.detail),be&&t(2,ee=!1)}let{dynamicPositioning:ce=!1}=e,we,D,M=!1,j=null;function he(){if(t(17,M=!1),t(18,j=null),ee&&D&&ce){const $=we.getBoundingClientRect(),xe=D.offsetWidth-$.width,Ee=$.bottom+D.offsetHeight+5,Pe=$.left+D.offsetWidth+5;if(Ee>window.innerHeight&&t(17,M=!0),Pe>window.innerWidth&&(t(18,j=-xe),$.left<xe+5)){const x=window.innerWidth/2-D.offsetWidth/2;t(18,j=x-$.left)}}}function B($){return he(),nu($,{duration:200,easing:tu,y:M?5:-5})}function Y($){Ut[$?"unshift":"push"](()=>{we=$,t(15,we)})}const ie=()=>t(2,ee=!0),W=()=>t(2,ee=!0),Se=$=>{if($ instanceof InputEvent&&$.inputType==="insertText"&&typeof $.data=="string"&&$.currentTarget.value===De+$.data){let xe=ys(De,ne,r);if(xe.missingPunctuation!==""&&!xe.missingPunctuation.startsWith($.data)){t(0,De=De+xe.missingPunctuation+$.data);return}}t(0,De=$.currentTarget.value)};function Ve($){r=$,d.set(r)}function _e($){Ut[$?"unshift":"push"](()=>{D=$,t(16,D)})}return n.$$set=$=>{"value"in $&&t(25,y=$.value),"min"in $&&t(3,C=$.min),"max"in $&&t(4,T=$.max),"id"in $&&t(5,k=$.id),"placeholder"in $&&t(6,S=$.placeholder),"valid"in $&&t(1,L=$.valid),"disabled"in $&&t(7,N=$.disabled),"required"in $&&t(8,P=$.required),"class"in $&&t(9,G=$.class),"locale"in $&&t(10,I=$.locale),"format"in $&&t(26,oe=$.format),"text"in $&&t(0,De=$.text),"visible"in $&&t(2,ee=$.visible),"closeOnSelection"in $&&t(27,be=$.closeOnSelection),"browseWithoutSelecting"in $&&t(11,Ce=$.browseWithoutSelecting),"timePrecision"in $&&t(12,ue=$.timePrecision),"dynamicPositioning"in $&&t(28,ce=$.dynamicPositioning),"$$scope"in $&&t(36,s=$.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&33554432&&d.set(y),n.$$.dirty[0]&67109888&&t(13,ne=ws(oe,I)),n.$$.dirty[0]&24576&&J(r,ne),n.$$.dirty[0]&8193&&me(De,ne)},[De,L,ee,C,T,k,S,N,P,G,I,Ce,ue,ne,r,we,D,M,j,p,d,le,ge,de,B,y,oe,be,ce,o,Y,ie,W,Se,Ve,_e,s]}class di extends Fn{constructor(e){super(),zn(this,e,su,lu,Pn,{value:25,min:3,max:4,id:5,placeholder:6,valid:1,disabled:7,required:8,class:9,locale:10,format:26,text:0,visible:2,closeOnSelection:27,browseWithoutSelecting:11,timePrecision:12,dynamicPositioning:28},null,[-1,-1])}}var Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function no(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ro={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Ss,function(){var t=function(i,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(c[g]=h[g])})(i,a)},r=function(){return(r=Object.assign||function(i){for(var a,c=1,h=arguments.length;c<h;c++)for(var g in a=arguments[c])Object.prototype.hasOwnProperty.call(a,g)&&(i[g]=a[g]);return i}).apply(this,arguments)};function l(i,a,c){for(var h,g=0,b=a.length;g<b;g++)!h&&g in a||((h=h||Array.prototype.slice.call(a,0,g))[g]=a[g]);return i.concat(h||Array.prototype.slice.call(a))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ss,s=Object.keys,u=Array.isArray;function f(i,a){return typeof a!="object"||s(a).forEach(function(c){i[c]=a[c]}),i}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var p=Object.getPrototypeOf,d={}.hasOwnProperty;function y(i,a){return d.call(i,a)}function C(i,a){typeof a=="function"&&(a=a(p(i))),(typeof Reflect>"u"?s:Reflect.ownKeys)(a).forEach(function(c){k(i,c,a[c])})}var T=Object.defineProperty;function k(i,a,c,h){T(i,a,f(c&&y(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},h))}function S(i){return{from:function(a){return i.prototype=Object.create(a.prototype),k(i.prototype,"constructor",i),{extend:C.bind(null,i.prototype)}}}}var L=Object.getOwnPropertyDescriptor,N=[].slice;function P(i,a,c){return N.call(i,a,c)}function G(i,a){return a(i)}function I(i){if(!i)throw new Error("Assertion Failed")}function oe(i){o.setImmediate?setImmediate(i):setTimeout(i,0)}function ne(i,a){if(typeof a=="string"&&y(i,a))return i[a];if(!a)return i;if(typeof a!="string"){for(var c=[],h=0,g=a.length;h<g;++h){var b=ne(i,a[h]);c.push(b)}return c}var E=a.indexOf(".");if(E!==-1){var R=i[a.substr(0,E)];return R==null?void 0:ne(R,a.substr(E+1))}}function J(i,a,c){if(i&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof a!="string"&&"length"in a){I(typeof c!="string"&&"length"in c);for(var h=0,g=a.length;h<g;++h)J(i,a[h],c[h])}else{var b,E,R=a.indexOf(".");R!==-1?(b=a.substr(0,R),(E=a.substr(R+1))===""?c===void 0?u(i)&&!isNaN(parseInt(b))?i.splice(b,1):delete i[b]:i[b]=c:J(R=!(R=i[b])||!y(i,b)?i[b]={}:R,E,c)):c===void 0?u(i)&&!isNaN(parseInt(a))?i.splice(a,1):delete i[a]:i[a]=c}}function De(i){var a,c={};for(a in i)y(i,a)&&(c[a]=i[a]);return c}var me=[].concat;function ee(i){return me.apply([],i)}var Nn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ee([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(a){return a+i+"Array"})}))).filter(function(i){return o[i]}),be=new Set(Nn.map(function(i){return o[i]})),Ce=null;function ue(i){return Ce=new WeakMap,i=function a(c){if(!c||typeof c!="object")return c;var h=Ce.get(c);if(h)return h;if(u(c)){h=[],Ce.set(c,h);for(var g=0,b=c.length;g<b;++g)h.push(a(c[g]))}else if(be.has(c.constructor))h=c;else{var E,R=p(c);for(E in h=R===Object.prototype?{}:Object.create(R),Ce.set(c,h),c)y(c,E)&&(h[E]=a(c[E]))}return h}(i),Ce=null,i}var le={}.toString;function ge(i){return le.call(i).slice(8,-1)}var de=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ce=typeof de=="symbol"?function(i){var a;return i!=null&&(a=i[de])&&a.apply(i)}:function(){return null};function we(i,a){return a=i.indexOf(a),0<=a&&i.splice(a,1),0<=a}var D={};function M(i){var a,c,h,g;if(arguments.length===1){if(u(i))return i.slice();if(this===D&&typeof i=="string")return[i];if(g=ce(i)){for(c=[];!(h=g.next()).done;)c.push(h.value);return c}if(i==null)return[i];if(typeof(a=i.length)!="number")return[i];for(c=new Array(a);a--;)c[a]=i[a];return c}for(a=arguments.length,c=new Array(a);a--;)c[a]=arguments[a];return c}var j=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ye=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Wn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ye),he={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function B(i,a){this.name=i,this.message=a}function Y(i,a){return i+". Errors: "+Object.keys(a).map(function(c){return a[c].toString()}).filter(function(c,h,g){return g.indexOf(c)===h}).join(`
`)}function ie(i,a,c,h){this.failures=a,this.failedKeys=h,this.successCount=c,this.message=Y(i,a)}function W(i,a){this.name="BulkError",this.failures=Object.keys(a).map(function(c){return a[c]}),this.failuresByPos=a,this.message=Y(i,this.failures)}S(B).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(ie).from(B),S(W).from(B);var Se=Wn.reduce(function(i,a){return i[a]=a+"Error",i},{}),Ve=B,_e=Wn.reduce(function(i,a){var c=a+"Error";function h(g,b){this.name=c,g?typeof g=="string"?(this.message="".concat(g).concat(b?`
 `+b:""),this.inner=b||null):typeof g=="object"&&(this.message="".concat(g.name," ").concat(g.message),this.inner=g):(this.message=he[a]||c,this.inner=null)}return S(h).from(Ve),i[a]=h,i},{});_e.Syntax=SyntaxError,_e.Type=TypeError,_e.Range=RangeError;var $=Ye.reduce(function(i,a){return i[a+"Error"]=_e[a],i},{}),xe=Wn.reduce(function(i,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(i[a+"Error"]=_e[a]),i},{});function Ee(){}function Pe(i){return i}function Ue(i,a){return i==null||i===Pe?a:function(c){return a(i(c))}}function x(i,a){return function(){i.apply(this,arguments),a.apply(this,arguments)}}function Ge(i,a){return i===Ee?a:function(){var c=i.apply(this,arguments);c!==void 0&&(arguments[0]=c);var h=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var b=a.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?x(h,this.onsuccess):h),g&&(this.onerror=this.onerror?x(g,this.onerror):g),b!==void 0?b:c}}function ze(i,a){return i===Ee?a:function(){i.apply(this,arguments);var c=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?x(c,this.onsuccess):c),h&&(this.onerror=this.onerror?x(h,this.onerror):h)}}function ke(i,a){return i===Ee?a:function(c){var h=i.apply(this,arguments);f(c,h);var g=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,c=a.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?x(g,this.onsuccess):g),b&&(this.onerror=this.onerror?x(b,this.onerror):b),h===void 0?c===void 0?void 0:c:f(h,c)}}function tt(i,a){return i===Ee?a:function(){return a.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Dt(i,a){return i===Ee?a:function(){var c=i.apply(this,arguments);if(c&&typeof c.then=="function"){for(var h=this,g=arguments.length,b=new Array(g);g--;)b[g]=arguments[g];return c.then(function(){return a.apply(h,b)})}return a.apply(this,arguments)}}xe.ModifyError=ie,xe.DexieError=B,xe.BulkError=W;var zt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function It(i){zt=i}var ht={},it=100,Nn=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,p(i),i];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,p(a),i]}(),Ye=Nn[0],Wn=Nn[1],Nn=Nn[2],Wn=Wn&&Wn.then,Ze=Ye&&Ye.constructor,Mt=!!Nn,rt=function(i,a){Mn.push([i,a]),tn&&(queueMicrotask(gt),tn=!1)},ln=!0,tn=!0,wt=[],Tt=[],yn=Pe,Yt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},He=Yt,Mn=[],nn=0,sn=[];function Ae(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=He;if(typeof i!="function"){if(i!==ht)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&an(this,this._value))}this._state=null,this._value=null,++a.ref,function c(h,g){try{g(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var E=h._lib&&ut();b&&typeof b.then=="function"?c(h,function(R,V){b instanceof Ae?b._then(R,V):b.then(R,V)}):(h._state=!0,h._value=b,Ot(h)),E&&At()}},an.bind(null,h))}catch(b){an(h,b)}}(this,i)}var qt={get:function(){var i=He,a=Je;function c(h,g){var b=this,E=!i.global&&(i!==He||a!==Je),R=E&&!Zt(),V=new Ae(function(K,Z){Vt(b,new Kn(xn(h,i,E,R),xn(g,i,E,R),K,Z,i))});return this._consoleTask&&(V._consoleTask=this._consoleTask),V}return c.prototype=ht,c},set:function(i){k(this,"then",i&&i.prototype===ht?qt:{get:function(){return i},set:qt.set})}};function Kn(i,a,c,h,g){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof a=="function"?a:null,this.resolve=c,this.reject=h,this.psd=g}function an(i,a){var c,h;Tt.push(a),i._state===null&&(c=i._lib&&ut(),a=yn(a),i._state=!1,i._value=a,h=i,wt.some(function(g){return g._value===h._value})||wt.push(h),Ot(i),c&&At())}function Ot(i){var a=i._listeners;i._listeners=[];for(var c=0,h=a.length;c<h;++c)Vt(i,a[c]);var g=i._PSD;--g.ref||g.finalize(),nn===0&&(++nn,rt(function(){--nn==0&&fn()},[]))}function Vt(i,a){if(i._state!==null){var c=i._state?a.onFulfilled:a.onRejected;if(c===null)return(i._state?a.resolve:a.reject)(i._value);++a.psd.ref,++nn,rt(mt,[c,i,a])}else i._listeners.push(a)}function mt(i,a,c){try{var h,g=a._value;!a._state&&Tt.length&&(Tt=[]),h=zt&&a._consoleTask?a._consoleTask.run(function(){return i(g)}):i(g),a._state||Tt.indexOf(g)!==-1||function(b){for(var E=wt.length;E;)if(wt[--E]._value===b._value)return wt.splice(E,1)}(a),c.resolve(h)}catch(b){c.reject(b)}finally{--nn==0&&fn(),--c.psd.ref||c.psd.finalize()}}function gt(){Kt(Yt,function(){ut()&&At()})}function ut(){var i=ln;return tn=ln=!1,i}function At(){var i,a,c;do for(;0<Mn.length;)for(i=Mn,Mn=[],c=i.length,a=0;a<c;++a){var h=i[a];h[0].apply(null,h[1])}while(0<Mn.length);tn=ln=!0}function fn(){var i=wt;wt=[],i.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var a=sn.slice(0),c=a.length;c;)a[--c]()}function dn(i){return new Ae(ht,!1,i)}function lt(i,a){var c=He;return function(){var h=ut(),g=He;try{return hn(c,!0),i.apply(this,arguments)}catch(b){a&&a(b)}finally{hn(g,!1),h&&At()}}}C(Ae.prototype,{then:qt,_then:function(i,a){Vt(this,new Kn(null,null,i,a,He))},catch:function(i){if(arguments.length===1)return this.then(null,i);var a=i,c=arguments[1];return typeof a=="function"?this.then(null,function(h){return(h instanceof a?c:dn)(h)}):this.then(null,function(h){return(h&&h.name===a?c:dn)(h)})},finally:function(i){return this.then(function(a){return Ae.resolve(i()).then(function(){return a})},function(a){return Ae.resolve(i()).then(function(){return dn(a)})})},timeout:function(i,a){var c=this;return i<1/0?new Ae(function(h,g){var b=setTimeout(function(){return g(new _e.Timeout(a))},i);c.then(h,g).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Yt.env=St(),C(Ae,{all:function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a,c){i.length===0&&a([]);var h=i.length;i.forEach(function(g,b){return Ae.resolve(g).then(function(E){i[b]=E,--h||a(i)},c)})})},resolve:function(i){return i instanceof Ae?i:i&&typeof i.then=="function"?new Ae(function(a,c){i.then(a,c)}):new Ae(ht,!0,i)},reject:dn,race:function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a,c){i.map(function(h){return Ae.resolve(h).then(a,c)})})},PSD:{get:function(){return He},set:function(i){return He=i}},totalEchoes:{get:function(){return Je}},newPSD:Ln,usePSD:Kt,scheduler:{get:function(){return rt},set:function(i){rt=i}},rejectionMapper:{get:function(){return yn},set:function(i){yn=i}},follow:function(i,a){return new Ae(function(c,h){return Ln(function(g,b){var E=He;E.unhandleds=[],E.onunhandled=b,E.finalize=x(function(){var R,V=this;R=function(){V.unhandleds.length===0?g():b(V.unhandleds[0])},sn.push(function K(){R(),sn.splice(sn.indexOf(K),1)}),++nn,rt(function(){--nn==0&&fn()},[])},E.finalize),i()},a,c,h)})}}),Ze&&(Ze.allSettled&&k(Ae,"allSettled",function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a){i.length===0&&a([]);var c=i.length,h=new Array(c);i.forEach(function(g,b){return Ae.resolve(g).then(function(E){return h[b]={status:"fulfilled",value:E}},function(E){return h[b]={status:"rejected",reason:E}}).then(function(){return--c||a(h)})})})}),Ze.any&&typeof AggregateError<"u"&&k(Ae,"any",function(){var i=M.apply(null,arguments).map(er);return new Ae(function(a,c){i.length===0&&c(new AggregateError([]));var h=i.length,g=new Array(h);i.forEach(function(b,E){return Ae.resolve(b).then(function(R){return a(R)},function(R){g[E]=R,--h||c(new AggregateError(g))})})})}));var ve={awaits:0,echoes:0,id:0},We=0,kt=[],_t=0,Je=0,$t=0;function Ln(i,a,c,h){var g=He,b=Object.create(g);return b.parent=g,b.ref=0,b.global=!1,b.id=++$t,Yt.env,b.env=Mt?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},a&&f(b,a),++g.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},h=Kt(b,i,c,h),b.ref===0&&b.finalize(),h}function wn(){return ve.id||(ve.id=++We),++ve.awaits,ve.echoes+=it,ve.id}function Zt(){return!!ve.awaits&&(--ve.awaits==0&&(ve.id=0),ve.echoes=ve.awaits*it,!0)}function er(i){return ve.echoes&&i&&i.constructor===Ze?(wn(),i.then(function(a){return Zt(),a},function(a){return Zt(),Pt(a)})):i}function ct(){var i=kt[kt.length-1];kt.pop(),hn(i,!1)}function hn(i,a){var c,h=He;(a?!ve.echoes||_t++&&i===He:!_t||--_t&&i===He)||queueMicrotask(a?(function(g){++Je,ve.echoes&&--ve.echoes!=0||(ve.echoes=ve.awaits=ve.id=0),kt.push(He),hn(g,!0)}).bind(null,i):ct),i!==He&&(He=i,h===Yt&&(Yt.env=St()),Mt&&(c=Yt.env.Promise,a=i.env,(h.global||i.global)&&(Object.defineProperty(o,"Promise",a.PromiseProp),c.all=a.all,c.race=a.race,c.resolve=a.resolve,c.reject=a.reject,a.allSettled&&(c.allSettled=a.allSettled),a.any&&(c.any=a.any))))}function St(){var i=o.Promise;return Mt?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Kt(i,a,c,h,g){var b=He;try{return hn(i,!0),a(c,h,g)}finally{hn(b,!1)}}function xn(i,a,c,h){return typeof i!="function"?i:function(){var g=He;c&&wn(),hn(a,!0);try{return i.apply(this,arguments)}finally{hn(g,!1),h&&queueMicrotask(Zt)}}}function tr(i){Promise===Ze&&ve.echoes===0?_t===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Wn).indexOf("[native code]")===-1&&(wn=Zt=Ee);var Pt=Ae.reject,Lt="ï¿¿",Rn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qr="String expected.",qn=[],br="__dbnames",Un="readonly",Bt="readwrite";function pn(i,a){return i?a?function(){return i.apply(this,arguments)&&a.apply(this,arguments)}:i:a}var mn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nr(i){return typeof i!="string"||/\./.test(i)?function(a){return a}:function(a){return a[i]===void 0&&i in a&&delete(a=ue(a))[i],a}}function kn(){throw _e.Type()}function Et(i,a){try{var c=gi(i),h=gi(a);if(c!==h)return c==="Array"?1:h==="Array"?-1:c==="binary"?1:h==="binary"?-1:c==="string"?1:h==="string"?-1:c==="Date"?1:h!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return a<i?1:i<a?-1:0;case"binary":return function(g,b){for(var E=g.length,R=b.length,V=E<R?E:R,K=0;K<V;++K)if(g[K]!==b[K])return g[K]<b[K]?-1:1;return E===R?0:E<R?-1:1}(Fr(i),Fr(a));case"Array":return function(g,b){for(var E=g.length,R=b.length,V=E<R?E:R,K=0;K<V;++K){var Z=Et(g[K],b[K]);if(Z!==0)return Z}return E===R?0:E<R?-1:1}(i,a)}}catch{}return NaN}function gi(i){var a=typeof i;return a!="object"?a:ArrayBuffer.isView(i)?"binary":(i=ge(i),i==="ArrayBuffer"?"binary":i)}function Fr(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var _i=(Ft.prototype._trans=function(i,a,c){var h=this._tx||He.trans,g=this.name,b=zt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function E(K,Z,F){if(!F.schema[g])throw new _e.NotFound("Table "+g+" not part of transaction");return a(F.idbtrans,F)}var R=ut();try{var V=h&&h.db._novip===this.db._novip?h===He.trans?h._promise(i,E,c):Ln(function(){return h._promise(i,E,c)},{trans:h,transless:He.transless||He}):function K(Z,F,Q,H){if(Z.idbdb&&(Z._state.openComplete||He.letThrough||Z._vip)){var U=Z._createTransaction(F,Q,Z._dbSchema);try{U.create(),Z._state.PR1398_maxLoop=3}catch(X){return X.name===Se.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return K(Z,F,Q,H)})):Pt(X)}return U._promise(F,function(X,q){return Ln(function(){return He.trans=U,H(X,q,U)})}).then(function(X){if(F==="readwrite")try{U.idbtrans.commit()}catch{}return F==="readonly"?X:U._completion.then(function(){return X})})}if(Z._state.openComplete)return Pt(new _e.DatabaseClosed(Z._state.dbOpenError));if(!Z._state.isBeingOpened){if(!Z._state.autoOpen)return Pt(new _e.DatabaseClosed);Z.open().catch(Ee)}return Z._state.dbReadyPromise.then(function(){return K(Z,F,Q,H)})}(this.db,i,[this.name],E);return b&&(V._consoleTask=b,V=V.catch(function(K){return console.trace(K),Pt(K)})),V}finally{R&&At()}},Ft.prototype.get=function(i,a){var c=this;return i&&i.constructor===Object?this.where(i).first(a):i==null?Pt(new _e.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return c.core.get({trans:h,key:i}).then(function(g){return c.hook.reading.fire(g)})}).then(a)},Ft.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(u(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var a=s(i);if(a.length===1)return this.where(a[0]).equals(i[a[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(V){if(V.compound&&a.every(function(Z){return 0<=V.keyPath.indexOf(Z)})){for(var K=0;K<a.length;++K)if(a.indexOf(V.keyPath[K])===-1)return!1;return!0}return!1}).sort(function(V,K){return V.keyPath.length-K.keyPath.length})[0];if(c&&this.db._maxKey!==Lt){var E=c.keyPath.slice(0,a.length);return this.where(E).equals(E.map(function(K){return i[K]}))}!c&&zt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var h=this.schema.idxByName,g=this.db._deps.indexedDB;function b(V,K){return g.cmp(V,K)===0}var R=a.reduce(function(Q,K){var Z=Q[0],F=Q[1],Q=h[K],H=i[K];return[Z||Q,Z||!Q?pn(F,Q&&Q.multi?function(U){return U=ne(U,K),u(U)&&U.some(function(X){return b(H,X)})}:function(U){return b(H,ne(U,K))}):F]},[null,null]),E=R[0],R=R[1];return E?this.where(E.name).equals(i[E.keyPath]).filter(R):c?this.filter(R):this.where(a).equals("")},Ft.prototype.filter=function(i){return this.toCollection().and(i)},Ft.prototype.count=function(i){return this.toCollection().count(i)},Ft.prototype.offset=function(i){return this.toCollection().offset(i)},Ft.prototype.limit=function(i){return this.toCollection().limit(i)},Ft.prototype.each=function(i){return this.toCollection().each(i)},Ft.prototype.toArray=function(i){return this.toCollection().toArray(i)},Ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ft.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,u(i)?"[".concat(i.join("+"),"]"):i))},Ft.prototype.reverse=function(){return this.toCollection().reverse()},Ft.prototype.mapToClass=function(i){var a,c=this.db,h=this.name;function g(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof kn&&(function(V,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function Z(){this.constructor=V}t(V,K),V.prototype=K===null?Object.create(K):(Z.prototype=K.prototype,new Z)}(g,a=i),Object.defineProperty(g.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),g.prototype.table=function(){return h},i=g);for(var b=new Set,E=i.prototype;E;E=p(E))Object.getOwnPropertyNames(E).forEach(function(V){return b.add(V)});function R(V){if(!V)return V;var K,Z=Object.create(i.prototype);for(K in V)if(!b.has(K))try{Z[K]=V[K]}catch{}return Z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=R,this.hook("reading",R),i},Ft.prototype.defineClass=function(){return this.mapToClass(function(i){f(this,i)})},Ft.prototype.add=function(i,a){var c=this,h=this.schema.primKey,g=h.auto,b=h.keyPath,E=i;return b&&g&&(E=nr(b)(i)),this._trans("readwrite",function(R){return c.core.mutate({trans:R,type:"add",keys:a!=null?[a]:null,values:[E]})}).then(function(R){return R.numFailures?Ae.reject(R.failures[0]):R.lastResult}).then(function(R){if(b)try{J(i,b,R)}catch{}return R})},Ft.prototype.update=function(i,a){return typeof i!="object"||u(i)?this.where(":id").equals(i).modify(a):(i=ne(i,this.schema.primKey.keyPath),i===void 0?Pt(new _e.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(a))},Ft.prototype.put=function(i,a){var c=this,h=this.schema.primKey,g=h.auto,b=h.keyPath,E=i;return b&&g&&(E=nr(b)(i)),this._trans("readwrite",function(R){return c.core.mutate({trans:R,type:"put",values:[E],keys:a!=null?[a]:null})}).then(function(R){return R.numFailures?Ae.reject(R.failures[0]):R.lastResult}).then(function(R){if(b)try{J(i,b,R)}catch{}return R})},Ft.prototype.delete=function(i){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"delete",keys:[i]})}).then(function(c){return c.numFailures?Ae.reject(c.failures[0]):void 0})},Ft.prototype.clear=function(){var i=this;return this._trans("readwrite",function(a){return i.core.mutate({trans:a,type:"deleteRange",range:mn})}).then(function(a){return a.numFailures?Ae.reject(a.failures[0]):void 0})},Ft.prototype.bulkGet=function(i){var a=this;return this._trans("readonly",function(c){return a.core.getMany({keys:i,trans:c}).then(function(h){return h.map(function(g){return a.hook.reading.fire(g)})})})},Ft.prototype.bulkAdd=function(i,a,c){var h=this,g=Array.isArray(a)?a:void 0,b=(c=c||(g?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(E){var K=h.schema.primKey,R=K.auto,K=K.keyPath;if(K&&g)throw new _e.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var V=i.length,K=K&&R?i.map(nr(K)):i;return h.core.mutate({trans:E,type:"add",keys:g,values:K,wantResults:b}).then(function(U){var F=U.numFailures,Q=U.results,H=U.lastResult,U=U.failures;if(F===0)return b?Q:H;throw new W("".concat(h.name,".bulkAdd(): ").concat(F," of ").concat(V," operations failed"),U)})})},Ft.prototype.bulkPut=function(i,a,c){var h=this,g=Array.isArray(a)?a:void 0,b=(c=c||(g?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(E){var K=h.schema.primKey,R=K.auto,K=K.keyPath;if(K&&g)throw new _e.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var V=i.length,K=K&&R?i.map(nr(K)):i;return h.core.mutate({trans:E,type:"put",keys:g,values:K,wantResults:b}).then(function(U){var F=U.numFailures,Q=U.results,H=U.lastResult,U=U.failures;if(F===0)return b?Q:H;throw new W("".concat(h.name,".bulkPut(): ").concat(F," of ").concat(V," operations failed"),U)})})},Ft.prototype.bulkUpdate=function(i){var a=this,c=this.core,h=i.map(function(E){return E.key}),g=i.map(function(E){return E.changes}),b=[];return this._trans("readwrite",function(E){return c.getMany({trans:E,keys:h,cache:"clone"}).then(function(R){var V=[],K=[];i.forEach(function(F,Q){var H=F.key,U=F.changes,X=R[Q];if(X){for(var q=0,re=Object.keys(U);q<re.length;q++){var fe=re[q],pe=U[fe];if(fe===a.schema.primKey.keyPath){if(Et(pe,H)!==0)throw new _e.Constraint("Cannot update primary key in bulkUpdate()")}else J(X,fe,pe)}b.push(Q),V.push(H),K.push(X)}});var Z=V.length;return c.mutate({trans:E,type:"put",keys:V,values:K,updates:{keys:h,changeSpecs:g}}).then(function(F){var Q=F.numFailures,H=F.failures;if(Q===0)return Z;for(var U=0,X=Object.keys(H);U<X.length;U++){var q,re=X[U],fe=b[Number(re)];fe!=null&&(q=H[re],delete H[re],H[fe]=q)}throw new W("".concat(a.name,".bulkUpdate(): ").concat(Q," of ").concat(Z," operations failed"),H)})})})},Ft.prototype.bulkDelete=function(i){var a=this,c=i.length;return this._trans("readwrite",function(h){return a.core.mutate({trans:h,type:"delete",keys:i})}).then(function(E){var g=E.numFailures,b=E.lastResult,E=E.failures;if(g===0)return b;throw new W("".concat(a.name,".bulkDelete(): ").concat(g," of ").concat(c," operations failed"),E)})},Ft);function Ft(){}function pr(i){function a(E,R){if(R){for(var V=arguments.length,K=new Array(V-1);--V;)K[V-1]=arguments[V];return c[E].subscribe.apply(null,K),i}if(typeof E=="string")return c[E]}var c={};a.addEventType=b;for(var h=1,g=arguments.length;h<g;++h)b(arguments[h]);return a;function b(E,R,V){if(typeof E!="object"){var K;R=R||tt;var Z={subscribers:[],fire:V=V||Ee,subscribe:function(F){Z.subscribers.indexOf(F)===-1&&(Z.subscribers.push(F),Z.fire=R(Z.fire,F))},unsubscribe:function(F){Z.subscribers=Z.subscribers.filter(function(Q){return Q!==F}),Z.fire=Z.subscribers.reduce(R,V)}};return c[E]=a[E]=Z}s(K=E).forEach(function(F){var Q=K[F];if(u(Q))b(F,K[F][0],K[F][1]);else{if(Q!=="asap")throw new _e.InvalidArgument("Invalid event config");var H=b(F,Pe,function(){for(var U=arguments.length,X=new Array(U);U--;)X[U]=arguments[U];H.subscribers.forEach(function(q){oe(function(){q.apply(null,X)})})})}})}}function yr(i,a){return S(a).from({prototype:i}),a}function ur(i,a){return!(i.filter||i.algorithm||i.or)&&(a?i.justLimit:!i.replayFilter)}function Xr(i,a){i.filter=pn(i.filter,a)}function cr(i,a,c){var h=i.replayFilter;i.replayFilter=h?function(){return pn(h(),a())}:a,i.justLimit=c&&!h}function zr(i,a){if(i.isPrimKey)return a.primaryKey;var c=a.getIndexByKeyPath(i.index);if(!c)throw new _e.Schema("KeyPath "+i.index+" on object store "+a.name+" is not indexed");return c}function mr(i,a,c){var h=zr(i,a.schema);return a.openCursor({trans:c,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:h,range:i.range}})}function wr(i,a,c,h){var g=i.replayFilter?pn(i.filter,i.replayFilter()):i.filter;if(i.or){var b={},E=function(R,V,K){var Z,F;g&&!g(V,K,function(Q){return V.stop(Q)},function(Q){return V.fail(Q)})||((F=""+(Z=V.primaryKey))=="[object ArrayBuffer]"&&(F=""+new Uint8Array(Z)),y(b,F)||(b[F]=!0,a(R,V,K)))};return Promise.all([i.or._iterate(E,c),Kr(mr(i,h,c),i.algorithm,E,!i.keysOnly&&i.valueMapper)])}return Kr(mr(i,h,c),pn(i.algorithm,g),a,!i.keysOnly&&i.valueMapper)}function Kr(i,a,c,h){var g=lt(h?function(b,E,R){return c(h(b),E,R)}:c);return i.then(function(b){if(b)return b.start(function(){var E=function(){return b.continue()};a&&!a(b,function(R){return E=R},function(R){b.stop(R),E=Ee},function(R){b.fail(R),E=Ee})||g(b.value,b,function(R){return E=R}),E()})})}var Nn=Symbol(),kr=(gr.prototype.execute=function(i){if(this.add!==void 0){var a=this.add;if(u(a))return l(l([],u(i)?i:[],!0),a).sort();if(typeof a=="number")return(Number(i)||0)+a;if(typeof a=="bigint")try{return BigInt(i)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(this.remove!==void 0){var c=this.remove;if(u(c))return u(i)?i.filter(function(h){return!c.includes(h)}).sort():[];if(typeof c=="number")return Number(i)-c;if(typeof c=="bigint")try{return BigInt(i)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return a=(a=this.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof i=="string"&&i.startsWith(a)?this.replacePrefix[1]+i.substring(a.length):i},gr);function gr(i){Object.assign(this,i)}var Zi=(vt.prototype._read=function(i,a){var c=this._ctx;return c.error?c.table._trans(null,Pt.bind(null,c.error)):c.table._trans("readonly",i).then(a)},vt.prototype._write=function(i){var a=this._ctx;return a.error?a.table._trans(null,Pt.bind(null,a.error)):a.table._trans("readwrite",i,"locked")},vt.prototype._addAlgorithm=function(i){var a=this._ctx;a.algorithm=pn(a.algorithm,i)},vt.prototype._iterate=function(i,a){return wr(this._ctx,i,a,this._ctx.table.core)},vt.prototype.clone=function(i){var a=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return i&&f(c,i),a._ctx=c,a},vt.prototype.raw=function(){return this._ctx.valueMapper=null,this},vt.prototype.each=function(i){var a=this._ctx;return this._read(function(c){return wr(a,i,c,a.table.core)})},vt.prototype.count=function(i){var a=this;return this._read(function(c){var h=a._ctx,g=h.table.core;if(ur(h,!0))return g.count({trans:c,query:{index:zr(h,g.schema),range:h.range}}).then(function(E){return Math.min(E,h.limit)});var b=0;return wr(h,function(){return++b,!1},c,g).then(function(){return b})}).then(i)},vt.prototype.sortBy=function(i,a){var c=i.split(".").reverse(),h=c[0],g=c.length-1;function b(V,K){return K?b(V[c[K]],K-1):V[h]}var E=this._ctx.dir==="next"?1:-1;function R(V,K){return V=b(V,g),K=b(K,g),V<K?-E:K<V?E:0}return this.toArray(function(V){return V.sort(R)}).then(a)},vt.prototype.toArray=function(i){var a=this;return this._read(function(c){var h=a._ctx;if(h.dir==="next"&&ur(h,!0)&&0<h.limit){var g=h.valueMapper,b=zr(h,h.table.core.schema);return h.table.core.query({trans:c,limit:h.limit,values:!0,query:{index:b,range:h.range}}).then(function(R){return R=R.result,g?R.map(g):R})}var E=[];return wr(h,function(R){return E.push(R)},c,h.table.core).then(function(){return E})},i)},vt.prototype.offset=function(i){var a=this._ctx;return i<=0||(a.offset+=i,ur(a)?cr(a,function(){var c=i;return function(h,g){return c===0||(c===1?--c:g(function(){h.advance(c),c=0}),!1)}}):cr(a,function(){var c=i;return function(){return--c<0}})),this},vt.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),cr(this._ctx,function(){var a=i;return function(c,h,g){return--a<=0&&h(g),0<=a}},!0),this},vt.prototype.until=function(i,a){return Xr(this._ctx,function(c,h,g){return!i(c.value)||(h(g),a)}),this},vt.prototype.first=function(i){return this.limit(1).toArray(function(a){return a[0]}).then(i)},vt.prototype.last=function(i){return this.reverse().first(i)},vt.prototype.filter=function(i){var a;return Xr(this._ctx,function(c){return i(c.value)}),(a=this._ctx).isMatch=pn(a.isMatch,i),this},vt.prototype.and=function(i){return this.filter(i)},vt.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},vt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},vt.prototype.desc=function(){return this.reverse()},vt.prototype.eachKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,h){i(h.key,h)})},vt.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},vt.prototype.eachPrimaryKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,h){i(h.primaryKey,h)})},vt.prototype.keys=function(i){var a=this._ctx;a.keysOnly=!a.isMatch;var c=[];return this.each(function(h,g){c.push(g.key)}).then(function(){return c}).then(i)},vt.prototype.primaryKeys=function(i){var a=this._ctx;if(a.dir==="next"&&ur(a,!0)&&0<a.limit)return this._read(function(h){var g=zr(a,a.table.core.schema);return a.table.core.query({trans:h,values:!1,limit:a.limit,query:{index:g,range:a.range}})}).then(function(h){return h.result}).then(i);a.keysOnly=!a.isMatch;var c=[];return this.each(function(h,g){c.push(g.primaryKey)}).then(function(){return c}).then(i)},vt.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},vt.prototype.firstKey=function(i){return this.limit(1).keys(function(a){return a[0]}).then(i)},vt.prototype.lastKey=function(i){return this.reverse().firstKey(i)},vt.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var a={};return Xr(this._ctx,function(g){var h=g.primaryKey.toString(),g=y(a,h);return a[h]=!0,!g}),this},vt.prototype.modify=function(i){var a=this,c=this._ctx;return this._write(function(h){var g,b,E;E=typeof i=="function"?i:(g=s(i),b=g.length,function(q){for(var re=!1,fe=0;fe<b;++fe){var pe=g[fe],ye=i[pe],Te=ne(q,pe);ye instanceof kr?(J(q,pe,ye.execute(Te)),re=!0):Te!==ye&&(J(q,pe,ye),re=!0)}return re});function R(q,pe){var fe=pe.failures,pe=pe.numFailures;U+=q-pe;for(var ye=0,Te=s(fe);ye<Te.length;ye++){var Ke=Te[ye];H.push(fe[Ke])}}var V=c.table.core,K=V.schema.primaryKey,Z=K.outbound,F=K.extractKey,Q=a.db._options.modifyChunkSize||200,H=[],U=0,X=[];return a.clone().primaryKeys().then(function(q){function re(pe){var ye=Math.min(Q,q.length-pe);return V.getMany({trans:h,keys:q.slice(pe,pe+ye),cache:"immutable"}).then(function(Te){for(var Ke=[],Oe=[],Fe=Z?[]:null,je=[],Re=0;Re<ye;++Re){var st=Te[Re],at={value:ue(st),primKey:q[pe+Re]};E.call(at,at.value,at)!==!1&&(at.value==null?je.push(q[pe+Re]):Z||Et(F(st),F(at.value))===0?(Oe.push(at.value),Z&&Fe.push(q[pe+Re])):(je.push(q[pe+Re]),Ke.push(at.value)))}return Promise.resolve(0<Ke.length&&V.mutate({trans:h,type:"add",values:Ke}).then(function(pt){for(var ft in pt.failures)je.splice(parseInt(ft),1);R(Ke.length,pt)})).then(function(){return(0<Oe.length||fe&&typeof i=="object")&&V.mutate({trans:h,type:"put",keys:Fe,values:Oe,criteria:fe,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<pe}).then(function(pt){return R(Oe.length,pt)})}).then(function(){return(0<je.length||fe&&i===xr)&&V.mutate({trans:h,type:"delete",keys:je,criteria:fe,isAdditionalChunk:0<pe}).then(function(pt){return R(je.length,pt)})}).then(function(){return q.length>pe+ye&&re(pe+Q)})})}var fe=ur(c)&&c.limit===1/0&&(typeof i!="function"||i===xr)&&{index:c.index,range:c.range};return re(0).then(function(){if(0<H.length)throw new ie("Error modifying one or more objects",H,U,X);return q.length})})})},vt.prototype.delete=function(){var i=this._ctx,a=i.range;return ur(i)&&(i.isPrimKey||a.type===3)?this._write(function(c){var h=i.table.core.schema.primaryKey,g=a;return i.table.core.count({trans:c,query:{index:h,range:g}}).then(function(b){return i.table.core.mutate({trans:c,type:"deleteRange",range:g}).then(function(E){var R=E.failures;if(E.lastResult,E.results,E=E.numFailures,E)throw new ie("Could not delete some values",Object.keys(R).map(function(V){return R[V]}),b-E);return b-E})})}):this.modify(xr)},vt);function vt(){}var xr=function(i,a){return a.value=null};function Ji(i,a){return i<a?-1:i===a?0:1}function Qi(i,a){return a<i?-1:i===a?0:1}function Sn(i,a,c){return i=i instanceof Sr?new i.Collection(i):i,i._ctx.error=new(c||TypeError)(a),i}function _r(i){return new i.Collection(i,function(){return vi("")}).limit(0)}function jr(i,a,c,h){var g,b,E,R,V,K,Z,F=c.length;if(!c.every(function(U){return typeof U=="string"}))return Sn(i,Qr);function Q(U){g=U==="next"?function(q){return q.toUpperCase()}:function(q){return q.toLowerCase()},b=U==="next"?function(q){return q.toLowerCase()}:function(q){return q.toUpperCase()},E=U==="next"?Ji:Qi;var X=c.map(function(q){return{lower:b(q),upper:g(q)}}).sort(function(q,re){return E(q.lower,re.lower)});R=X.map(function(q){return q.upper}),V=X.map(function(q){return q.lower}),Z=(K=U)==="next"?"":h}Q("next"),i=new i.Collection(i,function(){return rr(R[0],V[F-1]+h)}),i._ondirectionchange=function(U){Q(U)};var H=0;return i._addAlgorithm(function(U,X,q){var re=U.key;if(typeof re!="string")return!1;var fe=b(re);if(a(fe,V,H))return!0;for(var pe=null,ye=H;ye<F;++ye){var Te=function(Ke,Oe,Fe,je,Re,st){for(var at=Math.min(Ke.length,je.length),pt=-1,ft=0;ft<at;++ft){var $n=Oe[ft];if($n!==je[ft])return Re(Ke[ft],Fe[ft])<0?Ke.substr(0,ft)+Fe[ft]+Fe.substr(ft+1):Re(Ke[ft],je[ft])<0?Ke.substr(0,ft)+je[ft]+Fe.substr(ft+1):0<=pt?Ke.substr(0,pt)+Oe[pt]+Fe.substr(pt+1):null;Re(Ke[ft],$n)<0&&(pt=ft)}return at<je.length&&st==="next"?Ke+Fe.substr(Ke.length):at<Ke.length&&st==="prev"?Ke.substr(0,Fe.length):pt<0?null:Ke.substr(0,pt)+je[pt]+Fe.substr(pt+1)}(re,fe,R[ye],V[ye],E,K);Te===null&&pe===null?H=ye+1:(pe===null||0<E(pe,Te))&&(pe=Te)}return X(pe!==null?function(){U.continue(pe+Z)}:q),!1}),i}function rr(i,a,c,h){return{type:2,lower:i,upper:a,lowerOpen:c,upperOpen:h}}function vi(i){return{type:1,lower:i,upper:i}}var Sr=(Object.defineProperty(Gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Gt.prototype.between=function(i,a,c,h){c=c!==!1,h=h===!0;try{return 0<this._cmp(i,a)||this._cmp(i,a)===0&&(c||h)&&(!c||!h)?_r(this):new this.Collection(this,function(){return rr(i,a,!c,!h)})}catch{return Sn(this,Rn)}},Gt.prototype.equals=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return vi(i)})},Gt.prototype.above=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(i,void 0,!0)})},Gt.prototype.aboveOrEqual=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(i,void 0,!1)})},Gt.prototype.below=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(void 0,i,!1,!0)})},Gt.prototype.belowOrEqual=function(i){return i==null?Sn(this,Rn):new this.Collection(this,function(){return rr(void 0,i)})},Gt.prototype.startsWith=function(i){return typeof i!="string"?Sn(this,Qr):this.between(i,i+Lt,!0,!0)},Gt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):jr(this,function(a,c){return a.indexOf(c[0])===0},[i],Lt)},Gt.prototype.equalsIgnoreCase=function(i){return jr(this,function(a,c){return a===c[0]},[i],"")},Gt.prototype.anyOfIgnoreCase=function(){var i=M.apply(D,arguments);return i.length===0?_r(this):jr(this,function(a,c){return c.indexOf(a)!==-1},i,"")},Gt.prototype.startsWithAnyOfIgnoreCase=function(){var i=M.apply(D,arguments);return i.length===0?_r(this):jr(this,function(a,c){return c.some(function(h){return a.indexOf(h)===0})},i,Lt)},Gt.prototype.anyOf=function(){var i=this,a=M.apply(D,arguments),c=this._cmp;try{a.sort(c)}catch{return Sn(this,Rn)}if(a.length===0)return _r(this);var h=new this.Collection(this,function(){return rr(a[0],a[a.length-1])});h._ondirectionchange=function(b){c=b==="next"?i._ascending:i._descending,a.sort(c)};var g=0;return h._addAlgorithm(function(b,E,R){for(var V=b.key;0<c(V,a[g]);)if(++g===a.length)return E(R),!1;return c(V,a[g])===0||(E(function(){b.continue(a[g])}),!1)}),h},Gt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Gt.prototype.noneOf=function(){var i=M.apply(D,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Sn(this,Rn)}var a=i.reduce(function(c,h){return c?c.concat([[c[c.length-1][1],h]]):[[-1/0,h]]},null);return a.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},Gt.prototype.inAnyRange=function(re,a){var c=this,h=this._cmp,g=this._ascending,b=this._descending,E=this._min,R=this._max;if(re.length===0)return _r(this);if(!re.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&g(fe[0],fe[1])<=0}))return Sn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",_e.InvalidArgument);var V=!a||a.includeLowers!==!1,K=a&&a.includeUppers===!0,Z,F=g;function Q(fe,pe){return F(fe[0],pe[0])}try{(Z=re.reduce(function(fe,pe){for(var ye=0,Te=fe.length;ye<Te;++ye){var Ke=fe[ye];if(h(pe[0],Ke[1])<0&&0<h(pe[1],Ke[0])){Ke[0]=E(Ke[0],pe[0]),Ke[1]=R(Ke[1],pe[1]);break}}return ye===Te&&fe.push(pe),fe},[])).sort(Q)}catch{return Sn(this,Rn)}var H=0,U=K?function(fe){return 0<g(fe,Z[H][1])}:function(fe){return 0<=g(fe,Z[H][1])},X=V?function(fe){return 0<b(fe,Z[H][0])}:function(fe){return 0<=b(fe,Z[H][0])},q=U,re=new this.Collection(this,function(){return rr(Z[0][0],Z[Z.length-1][1],!V,!K)});return re._ondirectionchange=function(fe){F=fe==="next"?(q=U,g):(q=X,b),Z.sort(Q)},re._addAlgorithm(function(fe,pe,ye){for(var Te,Ke=fe.key;q(Ke);)if(++H===Z.length)return pe(ye),!1;return!U(Te=Ke)&&!X(Te)||(c._cmp(Ke,Z[H][1])===0||c._cmp(Ke,Z[H][0])===0||pe(function(){F===g?fe.continue(Z[H][0]):fe.continue(Z[H][1])}),!1)}),re},Gt.prototype.startsWithAnyOf=function(){var i=M.apply(D,arguments);return i.every(function(a){return typeof a=="string"})?i.length===0?_r(this):this.inAnyRange(i.map(function(a){return[a,a+Lt]})):Sn(this,"startsWithAnyOf() only works with strings")},Gt);function Gt(){}function on(i){return lt(function(a){return Er(a),i(a.target.error),!1})}function Er(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Dr="storagemutated",Cr="x-storagemutated-1",ir=pr(null,Dr),$r=(Gn.prototype._lock=function(){return I(!He.global),++this._reculock,this._reculock!==1||He.global||(He.lockOwnerFor=this),this},Gn.prototype._unlock=function(){if(I(!He.global),--this._reculock==0)for(He.global||(He.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Kt(i[1],i[0])}catch{}}return this},Gn.prototype._locked=function(){return this._reculock&&He.lockOwnerFor!==this},Gn.prototype.create=function(i){var a=this;if(!this.mode)return this;var c=this.db.idbdb,h=this.db._state.dbOpenError;if(I(!this.idbtrans),!i&&!c)switch(h&&h.name){case"DatabaseClosedError":throw new _e.DatabaseClosed(h);case"MissingAPIError":throw new _e.MissingAPI(h.message,h);default:throw new _e.OpenFailed(h)}if(!this.active)throw new _e.TransactionInactive;return I(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(g){Er(g),a._reject(i.error)}),i.onabort=lt(function(g){Er(g),a.active&&a._reject(new _e.Abort(i.error)),a.active=!1,a.on("abort").fire(g)}),i.oncomplete=lt(function(){a.active=!1,a._resolve(),"mutatedParts"in i&&ir.storagemutated.fire(i.mutatedParts)}),this},Gn.prototype._promise=function(i,a,c){var h=this;if(i==="readwrite"&&this.mode!=="readwrite")return Pt(new _e.ReadOnly("Transaction is readonly"));if(!this.active)return Pt(new _e.TransactionInactive);if(this._locked())return new Ae(function(b,E){h._blockedFuncs.push([function(){h._promise(i,a,c).then(b,E)},He])});if(c)return Ln(function(){var b=new Ae(function(E,R){h._lock();var V=a(E,R,h);V&&V.then&&V.then(E,R)});return b.finally(function(){return h._unlock()}),b._lib=!0,b});var g=new Ae(function(b,E){var R=a(b,E,h);R&&R.then&&R.then(b,E)});return g._lib=!0,g},Gn.prototype._root=function(){return this.parent?this.parent._root():this},Gn.prototype.waitFor=function(i){var a,c=this._root(),h=Ae.resolve(i);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return h}):(c._waitingFor=h,c._waitingQueue=[],a=c.idbtrans.objectStore(c.storeNames[0]),function b(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(a.get(-1/0).onsuccess=b)}());var g=c._waitingFor;return new Ae(function(b,E){h.then(function(R){return c._waitingQueue.push(lt(b.bind(null,R)))},function(R){return c._waitingQueue.push(lt(E.bind(null,R)))}).finally(function(){c._waitingFor===g&&(c._waitingFor=null)})})},Gn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new _e.Abort))},Gn.prototype.table=function(i){var a=this._memoizedTables||(this._memoizedTables={});if(y(a,i))return a[i];var c=this.schema[i];if(!c)throw new _e.NotFound("Table "+i+" not part of transaction");return c=new this.db.Table(i,c,this),c.core=this.db.core.table(i),a[i]=c},Gn);function Gn(){}function jn(i,a,c,h,g,b,E){return{name:i,keyPath:a,unique:c,multi:h,auto:g,compound:b,src:(c&&!E?"&":"")+(h?"*":"")+(g?"++":"")+bi(a)}}function bi(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Hr(i,a,c){return{name:i,primKey:a,indexes:c,mappedClass:null,idxByName:(h=function(g){return[g.name,g]},c.reduce(function(g,b,E){return E=h(b,E),E&&(g[E[0]]=E[1]),g},{}))};var h}var Tr=function(i){try{return i.only([[]]),Tr=function(){return[[]]},[[]]}catch{return Tr=function(){return Lt},Lt}};function ei(i){return i==null?function(){}:typeof i=="string"?(a=i).split(".").length===1?function(c){return c[a]}:function(c){return ne(c,a)}:function(c){return ne(c,i)};var a}function yi(i){return[].slice.call(i)}var Xi=0;function Ir(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function xi(i,a,V){function h(q){if(q.type===3)return null;if(q.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var H=q.lower,U=q.upper,X=q.lowerOpen,q=q.upperOpen;return H===void 0?U===void 0?null:a.upperBound(U,!!q):U===void 0?a.lowerBound(H,!!X):a.bound(H,U,!!X,!!q)}function g(Q){var H,U=Q.name;return{name:U,schema:Q,mutate:function(X){var q=X.trans,re=X.type,fe=X.keys,pe=X.values,ye=X.range;return new Promise(function(Te,Ke){Te=lt(Te);var Oe=q.objectStore(U),Fe=Oe.keyPath==null,je=re==="put"||re==="add";if(!je&&re!=="delete"&&re!=="deleteRange")throw new Error("Invalid operation type: "+re);var Re,st=(fe||pe||{length:1}).length;if(fe&&pe&&fe.length!==pe.length)throw new Error("Given keys array must have same length as given values array.");if(st===0)return Te({numFailures:0,failures:{},results:[],lastResult:void 0});function at(Cn){++$n,Er(Cn)}var pt=[],ft=[],$n=0;if(re==="deleteRange"){if(ye.type===4)return Te({numFailures:$n,failures:ft,results:[],lastResult:void 0});ye.type===3?pt.push(Re=Oe.clear()):pt.push(Re=Oe.delete(h(ye)))}else{var Fe=je?Fe?[pe,fe]:[pe,null]:[fe,null],dt=Fe[0],vn=Fe[1];if(je)for(var bn=0;bn<st;++bn)pt.push(Re=vn&&vn[bn]!==void 0?Oe[re](dt[bn],vn[bn]):Oe[re](dt[bn])),Re.onerror=at;else for(bn=0;bn<st;++bn)pt.push(Re=Oe[re](dt[bn])),Re.onerror=at}function Ii(Cn){Cn=Cn.target.result,pt.forEach(function(Pr,ml){return Pr.error!=null&&(ft[ml]=Pr.error)}),Te({numFailures:$n,failures:ft,results:re==="delete"?fe:pt.map(function(Pr){return Pr.result}),lastResult:Cn})}Re.onerror=function(Cn){at(Cn),Ii(Cn)},Re.onsuccess=Ii})},getMany:function(X){var q=X.trans,re=X.keys;return new Promise(function(fe,pe){fe=lt(fe);for(var ye,Te=q.objectStore(U),Ke=re.length,Oe=new Array(Ke),Fe=0,je=0,Re=function(pt){pt=pt.target,Oe[pt._pos]=pt.result,++je===Fe&&fe(Oe)},st=on(pe),at=0;at<Ke;++at)re[at]!=null&&((ye=Te.get(re[at]))._pos=at,ye.onsuccess=Re,ye.onerror=st,++Fe);Fe===0&&fe(Oe)})},get:function(X){var q=X.trans,re=X.key;return new Promise(function(fe,pe){fe=lt(fe);var ye=q.objectStore(U).get(re);ye.onsuccess=function(Te){return fe(Te.target.result)},ye.onerror=on(pe)})},query:(H=K,function(X){return new Promise(function(q,re){q=lt(q);var fe,pe,ye,Fe=X.trans,Te=X.values,Ke=X.limit,Re=X.query,Oe=Ke===1/0?void 0:Ke,je=Re.index,Re=Re.range,Fe=Fe.objectStore(U),je=je.isPrimaryKey?Fe:Fe.index(je.name),Re=h(Re);if(Ke===0)return q({result:[]});H?((Oe=Te?je.getAll(Re,Oe):je.getAllKeys(Re,Oe)).onsuccess=function(st){return q({result:st.target.result})},Oe.onerror=on(re)):(fe=0,pe=!Te&&"openKeyCursor"in je?je.openKeyCursor(Re):je.openCursor(Re),ye=[],pe.onsuccess=function(st){var at=pe.result;return at?(ye.push(Te?at.value:at.primaryKey),++fe===Ke?q({result:ye}):void at.continue()):q({result:ye})},pe.onerror=on(re))})}),openCursor:function(X){var q=X.trans,re=X.values,fe=X.query,pe=X.reverse,ye=X.unique;return new Promise(function(Te,Ke){Te=lt(Te);var je=fe.index,Oe=fe.range,Fe=q.objectStore(U),Fe=je.isPrimaryKey?Fe:Fe.index(je.name),je=pe?ye?"prevunique":"prev":ye?"nextunique":"next",Re=!re&&"openKeyCursor"in Fe?Fe.openKeyCursor(h(Oe),je):Fe.openCursor(h(Oe),je);Re.onerror=on(Ke),Re.onsuccess=lt(function(st){var at,pt,ft,$n,dt=Re.result;dt?(dt.___id=++Xi,dt.done=!1,at=dt.continue.bind(dt),pt=(pt=dt.continuePrimaryKey)&&pt.bind(dt),ft=dt.advance.bind(dt),$n=function(){throw new Error("Cursor not stopped")},dt.trans=q,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=function(){throw new Error("Cursor not started")},dt.fail=lt(Ke),dt.next=function(){var vn=this,bn=1;return this.start(function(){return bn--?vn.continue():vn.stop()}).then(function(){return vn})},dt.start=function(vn){function bn(){if(Re.result)try{vn()}catch(Cn){dt.fail(Cn)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()}var Ii=new Promise(function(Cn,Pr){Cn=lt(Cn),Re.onerror=on(Pr),dt.fail=Pr,dt.stop=function(ml){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=$n,Cn(ml)}});return Re.onsuccess=lt(function(Cn){Re.onsuccess=bn,bn()}),dt.continue=at,dt.continuePrimaryKey=pt,dt.advance=ft,bn(),Ii},Te(dt)):Te(null)},Ke)})},count:function(X){var q=X.query,re=X.trans,fe=q.index,pe=q.range;return new Promise(function(ye,Te){var Ke=re.objectStore(U),Oe=fe.isPrimaryKey?Ke:Ke.index(fe.name),Ke=h(pe),Oe=Ke?Oe.count(Ke):Oe.count();Oe.onsuccess=lt(function(Fe){return ye(Fe.target.result)}),Oe.onerror=on(Te)})}}}var b,E,R,Z=(E=V,R=yi((b=i).objectStoreNames),{schema:{name:b.name,tables:R.map(function(Q){return E.objectStore(Q)}).map(function(Q){var H=Q.keyPath,q=Q.autoIncrement,U=u(H),X={},q={name:Q.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:H==null,compound:U,keyPath:H,autoIncrement:q,unique:!0,extractKey:ei(H)},indexes:yi(Q.indexNames).map(function(re){return Q.index(re)}).map(function(ye){var fe=ye.name,pe=ye.unique,Te=ye.multiEntry,ye=ye.keyPath,Te={name:fe,compound:u(ye),keyPath:ye,unique:pe,multiEntry:Te,extractKey:ei(ye)};return X[Ir(ye)]=Te}),getIndexByKeyPath:function(re){return X[Ir(re)]}};return X[":id"]=q.primaryKey,H!=null&&(X[Ir(H)]=q.primaryKey),q})},hasGetAll:0<R.length&&"getAll"in E.objectStore(R[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),V=Z.schema,K=Z.hasGetAll,Z=V.tables.map(g),F={};return Z.forEach(function(Q){return F[Q.name]=Q}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(Q){if(!F[Q])throw new Error("Table '".concat(Q,"' not found"));return F[Q]},MIN_KEY:-1/0,MAX_KEY:Tr(a),schema:V}}function $i(i,a,c,h){var g=c.IDBKeyRange;return c.indexedDB,{dbcore:(h=xi(a,g,h),i.dbcore.reduce(function(b,E){return E=E.create,r(r({},b),E(b))},h))}}function Vr(i,h){var c=h.db,h=$i(i._middlewares,c,i._deps,h);i.core=h.dbcore,i.tables.forEach(function(g){var b=g.name;i.core.schema.tables.some(function(E){return E.name===b})&&(g.core=i.core.table(b),i[b]instanceof i.Table&&(i[b].core=g.core))})}function qr(i,a,c,h){c.forEach(function(g){var b=h[g];a.forEach(function(E){var R=function V(K,Z){return L(K,Z)||(K=p(K))&&V(K,Z)}(E,g);(!R||"value"in R&&R.value===void 0)&&(E===i.Transaction.prototype||E instanceof i.Transaction?k(E,g,{get:function(){return this.table(g)},set:function(V){T(this,g,{value:V,writable:!0,configurable:!0,enumerable:!0})}}):E[g]=new i.Table(g,b))})})}function w(i,a){a.forEach(function(c){for(var h in c)c[h]instanceof i.Table&&delete c[h]})}function Ie(i,a){return i._cfg.version-a._cfg.version}function nt(i,a,c,h){var g=i._dbSchema;c.objectStoreNames.contains("$meta")&&!g.$meta&&(g.$meta=Hr("$meta",jl("")[0],[]),i._storeNames.push("$meta"));var b=i._createTransaction("readwrite",i._storeNames,g);b.create(c),b._completion.catch(h);var E=b._reject.bind(b),R=He.transless||He;Ln(function(){return He.trans=b,He.transless=R,a!==0?(Vr(i,c),K=a,((V=b).storeNames.includes("$meta")?V.table("$meta").get("version").then(function(Z){return Z??K}):Ae.resolve(K)).then(function(Z){return Q=Z,H=b,U=c,X=[],Z=(F=i)._versions,q=F._dbSchema=Hn(0,F.idbdb,U),(Z=Z.filter(function(re){return re._cfg.version>=Q})).length!==0?(Z.forEach(function(re){X.push(function(){var fe=q,pe=re._cfg.dbschema;lr(F,fe,U),lr(F,pe,U),q=F._dbSchema=pe;var ye=jt(fe,pe);ye.add.forEach(function(je){En(U,je[0],je[1].primKey,je[1].indexes)}),ye.change.forEach(function(je){if(je.recreate)throw new _e.Upgrade("Not yet support for changing primary key");var Re=U.objectStore(je.name);je.add.forEach(function(st){return gn(Re,st)}),je.change.forEach(function(st){Re.deleteIndex(st.name),gn(Re,st)}),je.del.forEach(function(st){return Re.deleteIndex(st)})});var Te=re._cfg.contentUpgrade;if(Te&&re._cfg.version>Q){Vr(F,U),H._memoizedTables={};var Ke=De(pe);ye.del.forEach(function(je){Ke[je]=fe[je]}),w(F,[F.Transaction.prototype]),qr(F,[F.Transaction.prototype],s(Ke),Ke),H.schema=Ke;var Oe,Fe=j(Te);return Fe&&wn(),ye=Ae.follow(function(){var je;(Oe=Te(H))&&Fe&&(je=Zt.bind(null,null),Oe.then(je,je))}),Oe&&typeof Oe.then=="function"?Ae.resolve(Oe):ye.then(function(){return Oe})}}),X.push(function(fe){var pe,ye,Te=re._cfg.dbschema;pe=Te,ye=fe,[].slice.call(ye.db.objectStoreNames).forEach(function(Ke){return pe[Ke]==null&&ye.db.deleteObjectStore(Ke)}),w(F,[F.Transaction.prototype]),qr(F,[F.Transaction.prototype],F._storeNames,F._dbSchema),H.schema=F._dbSchema}),X.push(function(fe){F.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(F.idbdb.version/10)===re._cfg.version?(F.idbdb.deleteObjectStore("$meta"),delete F._dbSchema.$meta,F._storeNames=F._storeNames.filter(function(pe){return pe!=="$meta"})):fe.objectStore("$meta").put(re._cfg.version,"version"))})}),function re(){return X.length?Ae.resolve(X.shift()(H.idbtrans)).then(re):Ae.resolve()}().then(function(){Dn(q,U)})):Ae.resolve();var F,Q,H,U,X,q}).catch(E)):(s(g).forEach(function(Z){En(c,Z,g[Z].primKey,g[Z].indexes)}),Vr(i,c),void Ae.follow(function(){return i.on.populate.fire(b)}).catch(E));var V,K})}function et(i,a){Dn(i._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var c=Hn(0,i.idbdb,a);lr(i,i._dbSchema,a);for(var h=0,g=jt(c,i._dbSchema).change;h<g.length;h++){var b=function(E){if(E.change.length||E.recreate)return console.warn("Unable to patch indexes of table ".concat(E.name," because it has changes on the type of index or primary key.")),{value:void 0};var R=a.objectStore(E.name);E.add.forEach(function(V){zt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(E.name,".").concat(V.src)),gn(R,V)})}(g[h]);if(typeof b=="object")return b.value}}function jt(i,a){var c,h={del:[],add:[],change:[]};for(c in i)a[c]||h.del.push(c);for(c in a){var g=i[c],b=a[c];if(g){var E={name:c,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(g.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||g.primKey.auto!==b.primKey.auto)E.recreate=!0,h.change.push(E);else{var R=g.idxByName,V=b.idxByName,K=void 0;for(K in R)V[K]||E.del.push(K);for(K in V){var Z=R[K],F=V[K];Z?Z.src!==F.src&&E.change.push(F):E.add.push(F)}(0<E.del.length||0<E.add.length||0<E.change.length)&&h.change.push(E)}}else h.add.push([c,b])}return h}function En(i,a,c,h){var g=i.db.createObjectStore(a,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return h.forEach(function(b){return gn(g,b)}),g}function Dn(i,a){s(i).forEach(function(c){a.db.objectStoreNames.contains(c)||(zt&&console.debug("Dexie: Creating missing table",c),En(a,c,i[c].primKey,i[c].indexes))})}function gn(i,a){i.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function Hn(i,a,c){var h={};return P(a.objectStoreNames,0).forEach(function(g){for(var b=c.objectStore(g),E=jn(bi(K=b.keyPath),K||"",!0,!1,!!b.autoIncrement,K&&typeof K!="string",!0),R=[],V=0;V<b.indexNames.length;++V){var Z=b.index(b.indexNames[V]),K=Z.keyPath,Z=jn(Z.name,K,!!Z.unique,!!Z.multiEntry,!1,K&&typeof K!="string",!1);R.push(Z)}h[g]=Hr(g,E,R)}),h}function lr(i,a,c){for(var h=c.db.objectStoreNames,g=0;g<h.length;++g){var b=h[g],E=c.objectStore(b);i._hasGetAll="getAll"in E;for(var R=0;R<E.indexNames.length;++R){var V=E.indexNames[R],K=E.index(V).keyPath,Z=typeof K=="string"?K:"["+P(K).join("+")+"]";!a[b]||(K=a[b].idxByName[Z])&&(K.name=V,delete a[b].idxByName[Z],a[b].idxByName[V]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function jl(i){return i.split(",").map(function(a,c){var h=(a=a.trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return jn(h,g||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),u(g),c===0)})}var go=(wi.prototype._parseStoresSpec=function(i,a){s(i).forEach(function(c){if(i[c]!==null){var h=jl(i[c]),g=h.shift();if(g.unique=!0,g.multi)throw new _e.Schema("Primary key cannot be multi-valued");h.forEach(function(b){if(b.auto)throw new _e.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new _e.Schema("Index must have a name and cannot be an empty string")}),a[c]=Hr(c,g,h)}})},wi.prototype.stores=function(c){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c;var c=a._versions,h={},g={};return c.forEach(function(b){f(h,b._cfg.storesSource),g=b._cfg.dbschema={},b._parseStoresSpec(h,g)}),a._dbSchema=g,w(a,[a._allTables,a,a.Transaction.prototype]),qr(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],s(g),g),a._storeNames=s(g),this},wi.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Dt(this._cfg.contentUpgrade||Ee,i),this},wi);function wi(){}function el(i,a){var c=i._dbNamesDB;return c||(c=i._dbNamesDB=new fr(br,{addons:[],indexedDB:i,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function tl(i){return i&&typeof i.databases=="function"}function nl(i){return Ln(function(){return He.letThrough=!0,i()})}function rl(i){return!("from"in i)}var _n=function(i,a){if(!this){var c=new _n;return i&&"d"in i&&f(c,i),c}f(this,arguments.length?{d:1,from:i,to:1<arguments.length?a:i}:{d:0})};function ti(i,a,c){var h=Et(a,c);if(!isNaN(h)){if(0<h)throw RangeError();if(rl(i))return f(i,{from:a,to:c,d:1});var g=i.l,h=i.r;if(Et(c,i.from)<0)return g?ti(g,a,c):i.l={from:a,to:c,d:1,l:null,r:null},Hl(i);if(0<Et(a,i.to))return h?ti(h,a,c):i.r={from:a,to:c,d:1,l:null,r:null},Hl(i);Et(a,i.from)<0&&(i.from=a,i.l=null,i.d=h?h.d+1:1),0<Et(c,i.to)&&(i.to=c,i.r=null,i.d=i.l?i.l.d+1:1),c=!i.r,g&&!i.l&&ni(i,g),h&&c&&ni(i,h)}}function ni(i,a){rl(a)||function c(h,V){var b=V.from,E=V.to,R=V.l,V=V.r;ti(h,b,E),R&&c(h,R),V&&c(h,V)}(i,a)}function ki(i,a){var c=il(a),h=c.next();if(h.done)return!1;for(var g=h.value,b=il(i),E=b.next(g.from),R=E.value;!h.done&&!E.done;){if(Et(R.from,g.to)<=0&&0<=Et(R.to,g.from))return!0;Et(g.from,R.from)<0?g=(h=c.next(R.from)).value:R=(E=b.next(g.from)).value}return!1}function il(i){var a=rl(i)?null:{s:0,n:i};return{next:function(c){for(var h=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,h)for(;a.n.l&&Et(c,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!h||Et(c,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function Hl(i){var a,c,h=(((a=i.r)===null||a===void 0?void 0:a.d)||0)-(((c=i.l)===null||c===void 0?void 0:c.d)||0),g=1<h?"r":h<-1?"l":"";g&&(a=g=="r"?"l":"r",c=r({},i),h=i[g],i.from=h.from,i.to=h.to,i[g]=h[g],c[g]=h[a],(i[a]=c).d=Vl(c)),i.d=Vl(i)}function Vl(c){var a=c.r,c=c.l;return(a?c?Math.max(a.d,c.d):a.d:c?c.d:0)+1}function Si(i,a){return s(a).forEach(function(c){i[c]?ni(i[c],a[c]):i[c]=function h(g){var b,E,R={};for(b in g)y(g,b)&&(E=g[b],R[b]=!E||typeof E!="object"||be.has(E.constructor)?E:h(E));return R}(a[c])}),i}function ll(i,a){return i.all||a.all||Object.keys(i).some(function(c){return a[c]&&ki(a[c],i[c])})}C(_n.prototype,((Wn={add:function(i){return ni(this,i),this},addKey:function(i){return ti(this,i,i),this},addKeys:function(i){var a=this;return i.forEach(function(c){return ti(a,c,c)}),this}})[de]=function(){return il(this)},Wn));var Ar={},sl={},al=!1;function Ei(i){Si(sl,i),al||(al=!0,setTimeout(function(){al=!1,ol(sl,!(sl={}))},0))}function ol(i,a){a===void 0&&(a=!1);var c=new Set;if(i.all)for(var h=0,g=Object.values(Ar);h<g.length;h++)ql(E=g[h],i,c,a);else for(var b in i){var E,R=/^idb\:\/\/(.*)\/(.*)\//.exec(b);R&&(b=R[1],R=R[2],(E=Ar["idb://".concat(b,"/").concat(R)])&&ql(E,i,c,a))}c.forEach(function(V){return V()})}function ql(i,a,c,h){for(var g=[],b=0,E=Object.entries(i.queries.query);b<E.length;b++){for(var R=E[b],V=R[0],K=[],Z=0,F=R[1];Z<F.length;Z++){var Q=F[Z];ll(a,Q.obsSet)?Q.subscribers.forEach(function(q){return c.add(q)}):h&&K.push(Q)}h&&g.push([V,K])}if(h)for(var H=0,U=g;H<U.length;H++){var X=U[H],V=X[0],K=X[1];i.queries.query[V]=K}}function _o(i){var a=i._state,c=i._deps.indexedDB;if(a.isBeingOpened||i.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?Pt(a.dbOpenError):i});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var h=a.openCanceller,g=Math.round(10*i.verno),b=!1;function E(){if(a.openCanceller!==h)throw new _e.DatabaseClosed("db.open() was cancelled")}function R(){return new Ae(function(Q,H){if(E(),!c)throw new _e.MissingAPI;var U=i.name,X=a.autoSchema||!g?c.open(U):c.open(U,g);if(!X)throw new _e.MissingAPI;X.onerror=on(H),X.onblocked=lt(i._fireOnBlocked),X.onupgradeneeded=lt(function(q){var re;Z=X.transaction,a.autoSchema&&!i._options.allowEmptyDB?(X.onerror=Er,Z.abort(),X.result.close(),(re=c.deleteDatabase(U)).onsuccess=re.onerror=lt(function(){H(new _e.NoSuchDatabase("Database ".concat(U," doesnt exist")))})):(Z.onerror=on(H),q=q.oldVersion>Math.pow(2,62)?0:q.oldVersion,F=q<1,i.idbdb=X.result,b&&et(i,Z),nt(i,q/10,Z,H))},H),X.onsuccess=lt(function(){Z=null;var q,re,fe,pe,ye,Te=i.idbdb=X.result,Ke=P(Te.objectStoreNames);if(0<Ke.length)try{var Oe=Te.transaction((pe=Ke).length===1?pe[0]:pe,"readonly");if(a.autoSchema)re=Te,fe=Oe,(q=i).verno=re.version/10,fe=q._dbSchema=Hn(0,re,fe),q._storeNames=P(re.objectStoreNames,0),qr(q,[q._allTables],s(fe),fe);else if(lr(i,i._dbSchema,Oe),((ye=jt(Hn(0,(ye=i).idbdb,Oe),ye._dbSchema)).add.length||ye.change.some(function(Fe){return Fe.add.length||Fe.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Te.close(),g=Te.version+1,b=!0,Q(R());Vr(i,Oe)}catch{}qn.push(i),Te.onversionchange=lt(function(Fe){a.vcFired=!0,i.on("versionchange").fire(Fe)}),Te.onclose=lt(function(Fe){i.on("close").fire(Fe)}),F&&(ye=i._deps,Oe=U,Te=ye.indexedDB,ye=ye.IDBKeyRange,tl(Te)||Oe===br||el(Te,ye).put({name:Oe}).catch(Ee)),Q()},H)}).catch(function(Q){switch(Q==null?void 0:Q.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),R();break;case"VersionError":if(0<g)return g=0,R()}return Ae.reject(Q)})}var V,K=a.dbReadyResolve,Z=null,F=!1;return Ae.race([h,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Q){function H(){return indexedDB.databases().finally(Q)}V=setInterval(H,100),H()}).finally(function(){return clearInterval(V)}):Promise.resolve()).then(R)]).then(function(){return E(),a.onReadyBeingFired=[],Ae.resolve(nl(function(){return i.on.ready.fire(i.vip)})).then(function Q(){if(0<a.onReadyBeingFired.length){var H=a.onReadyBeingFired.reduce(Dt,Ee);return a.onReadyBeingFired=[],Ae.resolve(nl(function(){return H(i.vip)})).then(Q)}})}).finally(function(){a.openCanceller===h&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(Q){a.dbOpenError=Q;try{Z&&Z.abort()}catch{}return h===a.openCanceller&&i._close(),Pt(Q)}).finally(function(){a.openComplete=!0,K()}).then(function(){var Q;return F&&(Q={},i.tables.forEach(function(H){H.schema.indexes.forEach(function(U){U.name&&(Q["idb://".concat(i.name,"/").concat(H.name,"/").concat(U.name)]=new _n(-1/0,[[[]]]))}),Q["idb://".concat(i.name,"/").concat(H.name,"/")]=Q["idb://".concat(i.name,"/").concat(H.name,"/:dels")]=new _n(-1/0,[[[]]])}),ir(Dr).fire(Q),ol(Q,!0)),i})}function ul(i){function a(b){return i.next(b)}var c=g(a),h=g(function(b){return i.throw(b)});function g(b){return function(V){var R=b(V),V=R.value;return R.done?V:V&&typeof V.then=="function"?V.then(c,h):u(V)?Promise.all(V).then(c,h):c(V)}}return g(a)()}function Di(i,a,c){for(var h=u(i)?i.slice():[i],g=0;g<c;++g)h.push(a);return h}var vo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(a){var c=i.table(a),h=c.schema,g={},b=[];function E(F,Q,H){var U=Ir(F),X=g[U]=g[U]||[],q=F==null?0:typeof F=="string"?1:F.length,re=0<Q,re=r(r({},H),{name:re?"".concat(U,"(virtual-from:").concat(H.name,")"):H.name,lowLevelIndex:H,isVirtual:re,keyTail:Q,keyLength:q,extractKey:ei(F),unique:!re&&H.unique});return X.push(re),re.isPrimaryKey||b.push(re),1<q&&E(q===2?F[0]:F.slice(0,q-1),Q+1,H),X.sort(function(fe,pe){return fe.keyTail-pe.keyTail}),re}a=E(h.primaryKey.keyPath,0,h.primaryKey),g[":id"]=[a];for(var R=0,V=h.indexes;R<V.length;R++){var K=V[R];E(K.keyPath,0,K)}function Z(F){var Q,H=F.query.index;return H.isVirtual?r(r({},F),{query:{index:H.lowLevelIndex,range:(Q=F.query.range,H=H.keyTail,{type:Q.type===1?2:Q.type,lower:Di(Q.lower,Q.lowerOpen?i.MAX_KEY:i.MIN_KEY,H),lowerOpen:!0,upper:Di(Q.upper,Q.upperOpen?i.MIN_KEY:i.MAX_KEY,H),upperOpen:!0})}}):F}return r(r({},c),{schema:r(r({},h),{primaryKey:a,indexes:b,getIndexByKeyPath:function(F){return(F=g[Ir(F)])&&F[0]}}),count:function(F){return c.count(Z(F))},query:function(F){return c.query(Z(F))},openCursor:function(F){var Q=F.query.index,H=Q.keyTail,U=Q.isVirtual,X=Q.keyLength;return U?c.openCursor(Z(F)).then(function(re){return re&&q(re)}):c.openCursor(F);function q(re){return Object.create(re,{continue:{value:function(fe){fe!=null?re.continue(Di(fe,F.reverse?i.MAX_KEY:i.MIN_KEY,H)):F.unique?re.continue(re.key.slice(0,X).concat(F.reverse?i.MIN_KEY:i.MAX_KEY,H)):re.continue()}},continuePrimaryKey:{value:function(fe,pe){re.continuePrimaryKey(Di(fe,i.MAX_KEY,H),pe)}},primaryKey:{get:function(){return re.primaryKey}},key:{get:function(){var fe=re.key;return X===1?fe[0]:fe.slice(0,X)}},value:{get:function(){return re.value}}})}}})}})}};function cl(i,a,c,h){return c=c||{},h=h||"",s(i).forEach(function(g){var b,E,R;y(a,g)?(b=i[g],E=a[g],typeof b=="object"&&typeof E=="object"&&b&&E?(R=ge(b))!==ge(E)?c[h+g]=a[g]:R==="Object"?cl(b,E,c,h+g+"."):b!==E&&(c[h+g]=a[g]):b!==E&&(c[h+g]=a[g])):c[h+g]=void 0}),s(a).forEach(function(g){y(i,g)||(c[h+g]=a[g])}),c}function fl(i,a){return a.type==="delete"?a.keys:a.keys||a.values.map(i.extractKey)}var bo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(a){var c=i.table(a),h=c.schema.primaryKey;return r(r({},c),{mutate:function(g){var b=He.trans,E=b.table(a).hook,R=E.deleting,V=E.creating,K=E.updating;switch(g.type){case"add":if(V.fire===Ee)break;return b._promise("readwrite",function(){return Z(g)},!0);case"put":if(V.fire===Ee&&K.fire===Ee)break;return b._promise("readwrite",function(){return Z(g)},!0);case"delete":if(R.fire===Ee)break;return b._promise("readwrite",function(){return Z(g)},!0);case"deleteRange":if(R.fire===Ee)break;return b._promise("readwrite",function(){return function F(Q,H,U){return c.query({trans:Q,values:!1,query:{index:h,range:H},limit:U}).then(function(X){var q=X.result;return Z({type:"delete",keys:q,trans:Q}).then(function(re){return 0<re.numFailures?Promise.reject(re.failures[0]):q.length<U?{failures:[],numFailures:0,lastResult:void 0}:F(Q,r(r({},H),{lower:q[q.length-1],lowerOpen:!0}),U)})})}(g.trans,g.range,1e4)},!0)}return c.mutate(g);function Z(F){var Q,H,U,X=He.trans,q=F.keys||fl(h,F);if(!q)throw new Error("Keys missing");return(F=F.type==="add"||F.type==="put"?r(r({},F),{keys:q}):r({},F)).type!=="delete"&&(F.values=l([],F.values)),F.keys&&(F.keys=l([],F.keys)),Q=c,U=q,((H=F).type==="add"?Promise.resolve([]):Q.getMany({trans:H.trans,keys:U,cache:"immutable"})).then(function(re){var fe=q.map(function(pe,ye){var Te,Ke,Oe,Fe=re[ye],je={onerror:null,onsuccess:null};return F.type==="delete"?R.fire.call(je,pe,Fe,X):F.type==="add"||Fe===void 0?(Te=V.fire.call(je,pe,F.values[ye],X),pe==null&&Te!=null&&(F.keys[ye]=pe=Te,h.outbound||J(F.values[ye],h.keyPath,pe))):(Te=cl(Fe,F.values[ye]),(Ke=K.fire.call(je,Te,pe,Fe,X))&&(Oe=F.values[ye],Object.keys(Ke).forEach(function(Re){y(Oe,Re)?Oe[Re]=Ke[Re]:J(Oe,Re,Ke[Re])}))),je});return c.mutate(F).then(function(pe){for(var ye=pe.failures,Te=pe.results,Ke=pe.numFailures,pe=pe.lastResult,Oe=0;Oe<q.length;++Oe){var Fe=(Te||q)[Oe],je=fe[Oe];Fe==null?je.onerror&&je.onerror(ye[Oe]):je.onsuccess&&je.onsuccess(F.type==="put"&&re[Oe]?F.values[Oe]:Fe)}return{failures:ye,results:Te,numFailures:Ke,lastResult:pe}}).catch(function(pe){return fe.forEach(function(ye){return ye.onerror&&ye.onerror(pe)}),Promise.reject(pe)})})}}})}})}};function Ul(i,a,c){try{if(!a||a.keys.length<i.length)return null;for(var h=[],g=0,b=0;g<a.keys.length&&b<i.length;++g)Et(a.keys[g],i[b])===0&&(h.push(c?ue(a.values[g]):a.values[g]),++b);return h.length===i.length?h:null}catch{return null}}var yo={stack:"dbcore",level:-1,create:function(i){return{table:function(a){var c=i.table(a);return r(r({},c),{getMany:function(h){if(!h.cache)return c.getMany(h);var g=Ul(h.keys,h.trans._cache,h.cache==="clone");return g?Ae.resolve(g):c.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?ue(b):b},b})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),c.mutate(h)}})}}}};function Gl(i,a){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function Wl(i,a){switch(i){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var wo={stack:"dbcore",level:0,name:"Observability",create:function(i){var a=i.schema.name,c=new _n(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(h,g,b){if(He.subscr&&g!=="readonly")throw new _e.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(He.querier));return i.transaction(h,g,b)},table:function(h){var g=i.table(h),b=g.schema,E=b.primaryKey,F=b.indexes,R=E.extractKey,V=E.outbound,K=E.autoIncrement&&F.filter(function(H){return H.compound&&H.keyPath.includes(E.keyPath)}),Z=r(r({},g),{mutate:function(H){function U(Re){return Re="idb://".concat(a,"/").concat(h,"/").concat(Re),pe[Re]||(pe[Re]=new _n)}var X,q,re,fe=H.trans,pe=H.mutatedParts||(H.mutatedParts={}),ye=U(""),Te=U(":dels"),Ke=H.type,je=H.type==="deleteRange"?[H.range]:H.type==="delete"?[H.keys]:H.values.length<50?[fl(E,H).filter(function(Re){return Re}),H.values]:[],Oe=je[0],Fe=je[1],je=H.trans._cache;return u(Oe)?(ye.addKeys(Oe),(je=Ke==="delete"||Oe.length===Fe.length?Ul(Oe,je):null)||Te.addKeys(Oe),(je||Fe)&&(X=U,q=je,re=Fe,b.indexes.forEach(function(Re){var st=X(Re.name||"");function at(ft){return ft!=null?Re.extractKey(ft):null}function pt(ft){return Re.multiEntry&&u(ft)?ft.forEach(function($n){return st.addKey($n)}):st.addKey(ft)}(q||re).forEach(function(ft,vn){var dt=q&&at(q[vn]),vn=re&&at(re[vn]);Et(dt,vn)!==0&&(dt!=null&&pt(dt),vn!=null&&pt(vn))})}))):Oe?(Fe={from:Oe.lower,to:Oe.upper},Te.add(Fe),ye.add(Fe)):(ye.add(c),Te.add(c),b.indexes.forEach(function(Re){return U(Re.name).add(c)})),g.mutate(H).then(function(Re){return!Oe||H.type!=="add"&&H.type!=="put"||(ye.addKeys(Re.results),K&&K.forEach(function(st){var at=H.values.map(function(ft){return st.extractKey(ft)}),pt=st.keyPath.findIndex(function(ft){return ft===E.keyPath});Re.results.forEach(function(ft){return at[pt]=ft}),U(st.name).addKeys(at)})),fe.mutatedParts=Si(fe.mutatedParts||{},pe),Re})}}),F=function(U){var X=U.query,U=X.index,X=X.range;return[U,new _n((U=X.lower)!==null&&U!==void 0?U:i.MIN_KEY,(X=X.upper)!==null&&X!==void 0?X:i.MAX_KEY)]},Q={get:function(H){return[E,new _n(H.key)]},getMany:function(H){return[E,new _n().addKeys(H.keys)]},count:F,query:F,openCursor:F};return s(Q).forEach(function(H){Z[H]=function(U){var X=He.subscr,q=!!X,re=Gl(He,g)&&Wl(H,U)?U.obsSet={}:X;if(q){var fe=function(Fe){return Fe="idb://".concat(a,"/").concat(h,"/").concat(Fe),re[Fe]||(re[Fe]=new _n)},pe=fe(""),ye=fe(":dels"),X=Q[H](U),q=X[0],X=X[1];if((H==="query"&&q.isPrimaryKey&&!U.values?ye:fe(q.name||"")).add(X),!q.isPrimaryKey){if(H!=="count"){var Te=H==="query"&&V&&U.values&&g.query(r(r({},U),{values:!1}));return g[H].apply(this,arguments).then(function(Fe){if(H==="query"){if(V&&U.values)return Te.then(function(at){return at=at.result,pe.addKeys(at),Fe});var je=U.values?Fe.result.map(R):Fe.result;(U.values?pe:ye).addKeys(je)}else if(H==="openCursor"){var Re=Fe,st=U.values;return Re&&Object.create(Re,{key:{get:function(){return ye.addKey(Re.primaryKey),Re.key}},primaryKey:{get:function(){var at=Re.primaryKey;return ye.addKey(at),at}},value:{get:function(){return st&&pe.addKey(Re.primaryKey),Re.value}}})}return Fe})}ye.add(c)}}return g[H].apply(this,arguments)}}),Z}})}};function Yl(i,a,c){if(c.numFailures===0)return a;if(a.type==="deleteRange")return null;var h=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return c.numFailures===h?null:(a=r({},a),u(a.keys)&&(a.keys=a.keys.filter(function(g,b){return!(b in c.failures)})),"values"in a&&u(a.values)&&(a.values=a.values.filter(function(g,b){return!(b in c.failures)})),a)}function dl(i,a){return c=i,((h=a).lower===void 0||(h.lowerOpen?0<Et(c,h.lower):0<=Et(c,h.lower)))&&(i=i,(a=a).upper===void 0||(a.upperOpen?Et(i,a.upper)<0:Et(i,a.upper)<=0));var c,h}function Zl(i,a,Q,h,g,b){if(!Q||Q.length===0)return i;var E=a.query.index,R=E.multiEntry,V=a.query.range,K=h.schema.primaryKey.extractKey,Z=E.extractKey,F=(E.lowLevelIndex||E).extractKey,Q=Q.reduce(function(H,U){var X=H,q=U.type==="add"||U.type==="put"?U.values.filter(function(ye){return ye=Z(ye),R&&u(ye)?ye.some(function(Te){return dl(Te,V)}):dl(ye,V)}).map(function(ye){return ye=ue(ye),b&&Object.freeze(ye),ye}):[];switch(U.type){case"add":X=H.concat(a.values?q:q.map(function(Te){return K(Te)}));break;case"put":var re=new _n().addKeys(U.values.map(function(Te){return K(Te)})),X=H.filter(function(Te){return Te=a.values?K(Te):Te,!ki(new _n(Te),re)}).concat(a.values?q:q.map(function(Te){return K(Te)}));break;case"delete":var fe=new _n().addKeys(U.keys);X=H.filter(function(Te){return Te=a.values?K(Te):Te,!ki(new _n(Te),fe)});break;case"deleteRange":var pe=U.range;X=H.filter(function(Te){return!dl(K(Te),pe)})}return X},i);return Q===i?i:(Q.sort(function(H,U){return Et(F(H),F(U))||Et(K(H),K(U))}),a.limit&&a.limit<1/0&&(Q.length>a.limit?Q.length=a.limit:i.length===a.limit&&Q.length<a.limit&&(g.dirty=!0)),b?Object.freeze(Q):Q)}function Jl(i,a){return Et(i.lower,a.lower)===0&&Et(i.upper,a.upper)===0&&!!i.lowerOpen==!!a.lowerOpen&&!!i.upperOpen==!!a.upperOpen}function ko(i,a){return function(c,h,g,b){if(c===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((h=Et(c,h))===0){if(g&&b)return 0;if(g)return 1;if(b)return-1}return h}(i.lower,a.lower,i.lowerOpen,a.lowerOpen)<=0&&0<=function(c,h,g,b){if(c===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((h=Et(c,h))===0){if(g&&b)return 0;if(g)return-1;if(b)return 1}return h}(i.upper,a.upper,i.upperOpen,a.upperOpen)}function So(i,a,c,h){i.subscribers.add(c),h.addEventListener("abort",function(){var g,b;i.subscribers.delete(c),i.subscribers.size===0&&(g=i,b=a,setTimeout(function(){g.subscribers.size===0&&we(b,g)},3e3))})}var Eo={stack:"dbcore",level:0,name:"Cache",create:function(i){var a=i.schema.name;return r(r({},i),{transaction:function(c,h,g){var b,E,R=i.transaction(c,h,g);return h==="readwrite"&&(E=(b=new AbortController).signal,g=function(V){return function(){if(b.abort(),h==="readwrite"){for(var K=new Set,Z=0,F=c;Z<F.length;Z++){var Q=F[Z],H=Ar["idb://".concat(a,"/").concat(Q)];if(H){var U=i.table(Q),X=H.optimisticOps.filter(function(st){return st.trans===R});if(R._explicit&&V&&R.mutatedParts)for(var q=0,re=Object.values(H.queries.query);q<re.length;q++)for(var fe=0,pe=(Ke=re[q]).slice();fe<pe.length;fe++)ll((Oe=pe[fe]).obsSet,R.mutatedParts)&&(we(Ke,Oe),Oe.subscribers.forEach(function(st){return K.add(st)}));else if(0<X.length){H.optimisticOps=H.optimisticOps.filter(function(st){return st.trans!==R});for(var ye=0,Te=Object.values(H.queries.query);ye<Te.length;ye++)for(var Ke,Oe,Fe,je=0,Re=(Ke=Te[ye]).slice();je<Re.length;je++)(Oe=Re[je]).res!=null&&R.mutatedParts&&(V&&!Oe.dirty?(Fe=Object.isFrozen(Oe.res),Fe=Zl(Oe.res,Oe.req,X,U,Oe,Fe),Oe.dirty?(we(Ke,Oe),Oe.subscribers.forEach(function(st){return K.add(st)})):Fe!==Oe.res&&(Oe.res=Fe,Oe.promise=Ae.resolve({result:Fe}))):(Oe.dirty&&we(Ke,Oe),Oe.subscribers.forEach(function(st){return K.add(st)})))}}}K.forEach(function(st){return st()})}}},R.addEventListener("abort",g(!1),{signal:E}),R.addEventListener("error",g(!1),{signal:E}),R.addEventListener("complete",g(!0),{signal:E})),R},table:function(c){var h=i.table(c),g=h.schema.primaryKey;return r(r({},h),{mutate:function(b){var E=He.trans;if(g.outbound||E.db._options.cache==="disabled"||E.explicit)return h.mutate(b);var R=Ar["idb://".concat(a,"/").concat(c)];return R?(E=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||fl(g,b).some(function(V){return V==null}))?(R.optimisticOps.push(b),b.mutatedParts&&Ei(b.mutatedParts),E.then(function(V){0<V.numFailures&&(we(R.optimisticOps,b),(V=Yl(0,b,V))&&R.optimisticOps.push(V),b.mutatedParts&&Ei(b.mutatedParts))}),E.catch(function(){we(R.optimisticOps,b),b.mutatedParts&&Ei(b.mutatedParts)})):E.then(function(V){var K=Yl(0,r(r({},b),{values:b.values.map(function(H,F){var Q,H=(Q=g.keyPath)!==null&&Q!==void 0&&Q.includes(".")?ue(H):r({},H);return J(H,g.keyPath,V.results[F]),H})}),V);R.optimisticOps.push(K),queueMicrotask(function(){return b.mutatedParts&&Ei(b.mutatedParts)})}),E):h.mutate(b)},query:function(b){if(!Gl(He,h)||!Wl("query",b))return h.query(b);var E=((K=He.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",F=He,R=F.requery,V=F.signal,K=function(U,X,q,re){var fe=Ar["idb://".concat(U,"/").concat(X)];if(!fe)return[];if(!(X=fe.queries[q]))return[null,!1,fe,null];var pe=X[(re.query?re.query.index.name:null)||""];if(!pe)return[null,!1,fe,null];switch(q){case"query":var ye=pe.find(function(Te){return Te.req.limit===re.limit&&Te.req.values===re.values&&Jl(Te.req.query.range,re.query.range)});return ye?[ye,!0,fe,pe]:[pe.find(function(Te){return("limit"in Te.req?Te.req.limit:1/0)>=re.limit&&(!re.values||Te.req.values)&&ko(Te.req.query.range,re.query.range)}),!1,fe,pe];case"count":return ye=pe.find(function(Te){return Jl(Te.req.query.range,re.query.range)}),[ye,!!ye,fe,pe]}}(a,c,"query",b),Z=K[0],F=K[1],Q=K[2],H=K[3];return Z&&F?Z.obsSet=b.obsSet:(F=h.query(b).then(function(U){var X=U.result;if(Z&&(Z.res=X),E){for(var q=0,re=X.length;q<re;++q)Object.freeze(X[q]);Object.freeze(X)}else U.result=ue(X);return U}).catch(function(U){return H&&Z&&we(H,Z),Promise.reject(U)}),Z={obsSet:b.obsSet,promise:F,subscribers:new Set,type:"query",req:b,dirty:!1},H?H.push(Z):(H=[Z],(Q=Q||(Ar["idb://".concat(a,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=H)),So(Z,H,R,V),Z.promise.then(function(U){return{result:Zl(U.result,b,Q==null?void 0:Q.optimisticOps,h,Z,E)}})}})}})}};function Ci(i,a){return new Proxy(i,{get:function(c,h,g){return h==="db"?a:Reflect.get(c,h,g)}})}var fr=(en.prototype.version=function(i){if(isNaN(i)||i<.1)throw new _e.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new _e.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var a=this._versions,c=a.filter(function(h){return h._cfg.version===i})[0];return c||(c=new this.Version(i),a.push(c),a.sort(Ie),c.stores({}),this._state.autoSchema=!1,c)},en.prototype._whenReady=function(i){var a=this;return this.idbdb&&(this._state.openComplete||He.letThrough||this._vip)?i():new Ae(function(c,h){if(a._state.openComplete)return h(new _e.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void h(new _e.DatabaseClosed);a.open().catch(Ee)}a._state.dbReadyPromise.then(c,h)}).then(i)},en.prototype.use=function(i){var a=i.stack,c=i.create,h=i.level,g=i.name;return g&&this.unuse({stack:a,name:g}),i=this._middlewares[a]||(this._middlewares[a]=[]),i.push({stack:a,create:c,level:h??10,name:g}),i.sort(function(b,E){return b.level-E.level}),this},en.prototype.unuse=function(i){var a=i.stack,c=i.name,h=i.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(g){return h?g.create!==h:!!c&&g.name!==c})),this},en.prototype.open=function(){var i=this;return Kt(Yt,function(){return _o(i)})},en.prototype._close=function(){var i=this._state,a=qn.indexOf(this);if(0<=a&&qn.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Ae(function(c){i.dbReadyResolve=c}),i.openCanceller=new Ae(function(c,h){i.cancelOpen=h}))},en.prototype.close=function(c){var a=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;a?(c.isBeingOpened&&c.cancelOpen(new _e.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new _e.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},en.prototype.delete=function(i){var a=this;i===void 0&&(i={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",h=this._state;return new Ae(function(g,b){function E(){a.close(i);var R=a._deps.indexedDB.deleteDatabase(a.name);R.onsuccess=lt(function(){var V,K,Z;V=a._deps,K=a.name,Z=V.indexedDB,V=V.IDBKeyRange,tl(Z)||K===br||el(Z,V).delete(K).catch(Ee),g()}),R.onerror=on(b),R.onblocked=a._fireOnBlocked}if(c)throw new _e.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(E):E()})},en.prototype.backendDB=function(){return this.idbdb},en.prototype.isOpen=function(){return this.idbdb!==null},en.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},en.prototype.hasFailed=function(){return this._state.dbOpenError!==null},en.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(en.prototype,"tables",{get:function(){var i=this;return s(this._allTables).map(function(a){return i._allTables[a]})},enumerable:!1,configurable:!0}),en.prototype.transaction=function(){var i=(function(a,c,h){var g=arguments.length;if(g<2)throw new _e.InvalidArgument("Too few arguments");for(var b=new Array(g-1);--g;)b[g-1]=arguments[g];return h=b.pop(),[a,ee(b),h]}).apply(this,arguments);return this._transaction.apply(this,i)},en.prototype._transaction=function(i,a,c){var h=this,g=He.trans;g&&g.db===this&&i.indexOf("!")===-1||(g=null);var b,E,R=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(E=a.map(function(K){if(K=K instanceof h.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),i=="r"||i===Un)b=Un;else{if(i!="rw"&&i!=Bt)throw new _e.InvalidArgument("Invalid transaction mode: "+i);b=Bt}if(g){if(g.mode===Un&&b===Bt){if(!R)throw new _e.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g=null}g&&E.forEach(function(K){if(g&&g.storeNames.indexOf(K)===-1){if(!R)throw new _e.SubTransaction("Table "+K+" not included in parent transaction.");g=null}}),R&&g&&!g.active&&(g=null)}}catch(K){return g?g._promise(null,function(Z,F){F(K)}):Pt(K)}var V=(function K(Z,F,Q,H,U){return Ae.resolve().then(function(){var X=He.transless||He,q=Z._createTransaction(F,Q,Z._dbSchema,H);if(q.explicit=!0,X={trans:q,transless:X},H)q.idbtrans=H.idbtrans;else try{q.create(),q.idbtrans._explicit=!0,Z._state.PR1398_maxLoop=3}catch(pe){return pe.name===Se.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return K(Z,F,Q,null,U)})):Pt(pe)}var re,fe=j(U);return fe&&wn(),X=Ae.follow(function(){var pe;(re=U.call(q,q))&&(fe?(pe=Zt.bind(null,null),re.then(pe,pe)):typeof re.next=="function"&&typeof re.throw=="function"&&(re=ul(re)))},X),(re&&typeof re.then=="function"?Ae.resolve(re).then(function(pe){return q.active?pe:Pt(new _e.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return re})).then(function(pe){return H&&q._resolve(),q._completion.then(function(){return pe})}).catch(function(pe){return q._reject(pe),Pt(pe)})})}).bind(null,this,b,E,g,c);return g?g._promise(b,V,"lock"):He.trans?Kt(He.transless,function(){return h._whenReady(V)}):this._whenReady(V)},en.prototype.table=function(i){if(!y(this._allTables,i))throw new _e.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},en);function en(i,a){var c=this;this._middlewares={},this.verno=0;var h=en.dependencies;this._options=a=r({addons:en.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},h=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var g,b,E,R,V,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};K.dbReadyPromise=new Ae(function(F){K.dbReadyResolve=F}),K.openCanceller=new Ae(function(F,Q){K.cancelOpen=Q}),this._state=K,this.name=i,this.on=pr(this,"populate","blocked","versionchange","close",{ready:[Dt,Ee]}),this.on.ready.subscribe=G(this.on.ready.subscribe,function(F){return function(Q,H){en.vip(function(){var U,X=c._state;X.openComplete?(X.dbOpenError||Ae.resolve().then(Q),H&&F(Q)):X.onReadyBeingFired?(X.onReadyBeingFired.push(Q),H&&F(Q)):(F(Q),U=c,H||F(function q(){U.on.ready.unsubscribe(Q),U.on.ready.unsubscribe(q)}))})}}),this.Collection=(g=this,yr(Zi.prototype,function(re,q){this.db=g;var H=mn,U=null;if(q)try{H=q()}catch(fe){U=fe}var X=re._ctx,q=X.table,re=q.hook.reading.fire;this._ctx={table:q,index:X.index,isPrimKey:!X.index||q.schema.primKey.keyPath&&X.index===q.schema.primKey.name,range:H,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:U,or:X.or,valueMapper:re!==Pe?re:null}})),this.Table=(b=this,yr(_i.prototype,function(F,Q,H){this.db=b,this._tx=H,this.name=F,this.schema=Q,this.hook=b._allTables[F]?b._allTables[F].hook:pr(null,{creating:[Ge,Ee],reading:[Ue,Pe],updating:[ke,Ee],deleting:[ze,Ee]})})),this.Transaction=(E=this,yr($r.prototype,function(F,Q,H,U,X){var q=this;this.db=E,this.mode=F,this.storeNames=Q,this.schema=H,this.chromeTransactionDurability=U,this.idbtrans=null,this.on=pr(this,"complete","error","abort"),this.parent=X||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(re,fe){q._resolve=re,q._reject=fe}),this._completion.then(function(){q.active=!1,q.on.complete.fire()},function(re){var fe=q.active;return q.active=!1,q.on.error.fire(re),q.parent?q.parent._reject(re):fe&&q.idbtrans&&q.idbtrans.abort(),Pt(re)})})),this.Version=(R=this,yr(go.prototype,function(F){this.db=R,this._cfg={version:F,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(V=this,yr(Sr.prototype,function(F,Q,H){if(this.db=V,this._ctx={table:F,index:Q===":id"?null:Q,or:H},this._cmp=this._ascending=Et,this._descending=function(U,X){return Et(X,U)},this._max=function(U,X){return 0<Et(U,X)?U:X},this._min=function(U,X){return Et(U,X)<0?U:X},this._IDBKeyRange=V._deps.IDBKeyRange,!this._IDBKeyRange)throw new _e.MissingAPI})),this.on("versionchange",function(F){0<F.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(F){!F.newVersion||F.newVersion<F.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(F.oldVersion/10))}),this._maxKey=Tr(a.IDBKeyRange),this._createTransaction=function(F,Q,H,U){return new c.Transaction(F,Q,H,c._options.chromeTransactionDurability,U)},this._fireOnBlocked=function(F){c.on("blocked").fire(F),qn.filter(function(Q){return Q.name===c.name&&Q!==c&&!Q._state.vcFired}).map(function(Q){return Q.on("versionchange").fire(F)})},this.use(yo),this.use(Eo),this.use(wo),this.use(vo),this.use(bo);var Z=new Proxy(this,{get:function(F,Q,H){if(Q==="_vip")return!0;if(Q==="table")return function(X){return Ci(c.table(X),Z)};var U=Reflect.get(F,Q,H);return U instanceof _i?Ci(U,Z):Q==="tables"?U.map(function(X){return Ci(X,Z)}):Q==="_createTransaction"?function(){return Ci(U.apply(this,arguments),Z)}:U}});this.vip=Z,h.forEach(function(F){return F(c)})}var Ti,Wn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Do=(hl.prototype.subscribe=function(i,a,c){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:a,complete:c})},hl.prototype[Wn]=function(){return this},hl);function hl(i){this._subscribe=i}try{Ti={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Ti={indexedDB:null,IDBKeyRange:null}}function Ql(i){var a,c=!1,h=new Do(function(g){var b=j(i),E,R=!1,V={},K={},Z={get closed(){return R},unsubscribe:function(){R||(R=!0,E&&E.abort(),F&&ir.storagemutated.unsubscribe(H))}};g.start&&g.start(Z);var F=!1,Q=function(){return tr(U)},H=function(X){Si(V,X),ll(K,V)&&Q()},U=function(){var X,q,re;!R&&Ti.indexedDB&&(V={},X={},E&&E.abort(),E=new AbortController,re=function(fe){var pe=ut();try{b&&wn();var ye=Ln(i,fe);return ye=b?ye.finally(Zt):ye}finally{pe&&At()}}(q={subscr:X,signal:E.signal,requery:Q,querier:i,trans:null}),Promise.resolve(re).then(function(fe){c=!0,a=fe,R||q.signal.aborted||(V={},function(pe){for(var ye in pe)if(y(pe,ye))return;return 1}(K=X)||F||(ir(Dr,H),F=!0),tr(function(){return!R&&g.next&&g.next(fe)}))},function(fe){c=!1,["DatabaseClosedError","AbortError"].includes(fe==null?void 0:fe.name)||R||tr(function(){R||g.error&&g.error(fe)})}))};return setTimeout(Q,0),Z});return h.hasValue=function(){return c},h.getValue=function(){return a},h}var Or=fr;function pl(i){var a=vr;try{vr=!0,ir.storagemutated.fire(i),ol(i,!0)}finally{vr=a}}C(Or,r(r({},xe),{delete:function(i){return new Or(i,{addons:[]}).delete()},exists:function(i){return new Or(i,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return a=Or.dependencies,c=a.indexedDB,a=a.IDBKeyRange,(tl(c)?Promise.resolve(c.databases()).then(function(h){return h.map(function(g){return g.name}).filter(function(g){return g!==br})}):el(c,a).toCollection().primaryKeys()).then(i)}catch{return Pt(new _e.MissingAPI)}var a,c},defineClass:function(){return function(i){f(this,i)}},ignoreTransaction:function(i){return He.trans?Kt(He.transless,i):i()},vip:nl,async:function(i){return function(){try{var a=ul(i.apply(this,arguments));return a&&typeof a.then=="function"?a:Ae.resolve(a)}catch(c){return Pt(c)}}},spawn:function(i,a,c){try{var h=ul(i.apply(c,a||[]));return h&&typeof h.then=="function"?h:Ae.resolve(h)}catch(g){return Pt(g)}},currentTransaction:{get:function(){return He.trans||null}},waitFor:function(i,a){return a=Ae.resolve(typeof i=="function"?Or.ignoreTransaction(i):i).timeout(a||6e4),He.trans?He.trans.waitFor(a):a},Promise:Ae,debug:{get:function(){return zt},set:function(i){It(i)}},derive:S,extend:f,props:C,override:G,Events:pr,on:ir,liveQuery:Ql,extendObservabilitySet:Si,getByKeyPath:ne,setByKeyPath:J,delByKeyPath:function(i,a){typeof a=="string"?J(i,a,void 0):"length"in a&&[].map.call(a,function(c){J(i,c,void 0)})},shallowClone:De,deepClone:ue,getObjectDiff:cl,cmp:Et,asap:oe,minKey:-1/0,addons:[],connections:qn,errnames:Se,dependencies:Ti,cache:Ar,semVer:"4.0.7",version:"4.0.7".split(".").map(function(i){return parseInt(i)}).reduce(function(i,a,c){return i+a/Math.pow(10,2*c)})})),Or.maxKey=Tr(Or.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ir(Dr,function(i){vr||(i=new CustomEvent(Cr,{detail:i}),vr=!0,dispatchEvent(i),vr=!1)}),addEventListener(Cr,function(i){i=i.detail,vr||pl(i)}));var Ur,vr=!1,Xl=function(){};return typeof BroadcastChannel<"u"&&((Xl=function(){(Ur=new BroadcastChannel(Cr)).onmessage=function(i){return i.data&&pl(i.data)}})(),typeof Ur.unref=="function"&&Ur.unref(),ir(Dr,function(i){vr||Ur.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!fr.disableBfCache&&i.persisted){zt&&console.debug("Dexie: handling persisted pagehide"),Ur!=null&&Ur.close();for(var a=0,c=qn;a<c.length;a++)c[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!fr.disableBfCache&&i.persisted&&(zt&&console.debug("Dexie: handling persisted pageshow"),Xl(),pl({all:new _n(-1/0,[[]])}))})),Ae.rejectionMapper=function(i,a){return!i||i instanceof B||i instanceof TypeError||i instanceof SyntaxError||!i.name||!$[i.name]?i:(a=new $[i.name](a||i.message,i),"stack"in i&&k(a,"stack",{get:function(){return this.inner.stack}}),a)},It(zt),r(fr,Object.freeze({__proto__:null,Dexie:fr,liveQuery:Ql,Entity:kn,cmp:Et,PropModSymbol:Nn,PropModification:kr,replacePrefix:function(i,a){return new kr({replacePrefix:[i,a]})},add:function(i){return new kr({add:i})},remove:function(i){return new kr({remove:i})},default:fr,RangeSet:_n,mergeRanges:ni,rangesOverlap:ki}),{default:fr}),fr})})(ro);var au=ro.exports;const Ol=no(au),Es=Symbol.for("Dexie"),Vi=globalThis[Es]||(globalThis[Es]=Ol);if(Ol.semVer!==Vi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ol.semVer} and ${Vi.semVer}`);const{liveQuery:hi,mergeRanges:zd,rangesOverlap:Kd,RangeSet:jd,cmp:Hd,Entity:Vd,PropModSymbol:qd,PropModification:Ud,replacePrefix:Gd,add:Wd,remove:Yd}=Vi;var Pl=(n=>(n.Accomodation="Accomodation",n.Food="Food & Drink",n.Transport="Transport",n.Other="Other",n))(Pl||{});const Ds={Accomodation:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/></svg>',"Food & Drink":'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/><path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/></svg>',Transport:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16"> <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>',Other:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16"><path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/><path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/></svg>'},Wt=new Vi("ExpensesDatabase");Wt.version(2).stores({trips:"++id, name, defaultCurrency, startDate, endDate",receipts:"++id, description, total, receiptDate, receiptType, currency, tripId, imageData"});Wt.version(3).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("trips").toCollection().modify(e=>{e.startDateString=e.startDate.toDateString(),e.endDateString=e.endDate.toDateString()}).then(function(){n.table("receipts").toCollection().modify(e=>{e.receiptDateString=e.receiptDate.toDateString()})}));Wt.version(4).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("receipts").where("receiptType").equals("Food").modify(e=>{e.receiptType="Food & Drink"}));Wt.version(6).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"}).upgrade(n=>n.table("receipts").toCollection().modify(e=>{e.imageData=URL.createObjectURL(e.imageData)}));Wt.version(7).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString, notes",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"});function io(n,e){const t=Wr(e);return localStorage&&localStorage.getItem(n)&&t.set(JSON.parse(localStorage.getItem(n)!=null?localStorage.getItem(n):e)),t.subscribe(r=>{if(localStorage)try{r!==void 0?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)}catch(l){console.warn(l)}}),t}const rn={AED:{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"Ø¯.Ø¥.â",decimal_digits:2,rounding:0,code:"AED",name_plural:"UAE dirhams"},AFN:{symbol:"Af",name:"Afghan Afghani",symbol_native:"Ø",decimal_digits:0,rounding:0,code:"AFN",name_plural:"Afghan Afghanis"},ALL:{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL",name_plural:"Albanian lekÃ«"},AMD:{symbol:"AMD",name:"Armenian Dram",symbol_native:"Õ¤Ö.",decimal_digits:0,rounding:0,code:"AMD",name_plural:"Armenian drams"},ARS:{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS",name_plural:"Argentine pesos"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"},AZN:{symbol:"man.",name:"Azerbaijani Manat",symbol_native:"Ð¼Ð°Ð½.",decimal_digits:2,rounding:0,code:"AZN",name_plural:"Azerbaijani manats"},BAM:{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM",name_plural:"Bosnia-Herzegovina convertible marks"},BDT:{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"à§³",decimal_digits:2,rounding:0,code:"BDT",use_indian_numbering_system:!0,name_plural:"Bangladeshi takas"},BGN:{symbol:"BGN",name:"Bulgarian Lev",symbol_native:"Ð»Ð².",decimal_digits:2,rounding:0,code:"BGN",name_plural:"Bulgarian leva"},BHD:{symbol:"BD",name:"Bahraini Dinar",symbol_native:"Ø¯.Ø¨.â",decimal_digits:3,rounding:0,code:"BHD",name_plural:"Bahraini dinars"},BIF:{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF",name_plural:"Burundian francs"},BND:{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND",name_plural:"Brunei dollars"},BOB:{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB",name_plural:"Bolivian bolivianos"},BRL:{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL",name_plural:"Brazilian reals"},BWP:{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP",name_plural:"Botswanan pulas"},BYN:{symbol:"Br",name:"Belarusian Ruble",symbol_native:"ÑÑÐ±.",decimal_digits:2,rounding:0,code:"BYN",name_plural:"Belarusian rubles"},BZD:{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD",name_plural:"Belize dollars"},CAD:{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD",name_plural:"Canadian dollars"},CDF:{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF",name_plural:"Congolese francs"},CHF:{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF",name_plural:"Swiss francs"},CLP:{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP",name_plural:"Chilean pesos"},CNY:{symbol:"CNÂ¥",name:"Chinese Yuan",symbol_native:"CNÂ¥",decimal_digits:2,rounding:0,code:"CNY",name_plural:"Chinese yuan"},COP:{symbol:"CO$",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP",name_plural:"Colombian pesos"},CRC:{symbol:"â¡",name:"Costa Rican ColÃ³n",symbol_native:"â¡",decimal_digits:0,rounding:0,code:"CRC",name_plural:"Costa Rican colÃ³ns"},CVE:{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE",name_plural:"Cape Verdean escudos"},CZK:{symbol:"KÄ",name:"Czech Republic Koruna",symbol_native:"KÄ",decimal_digits:2,rounding:0,code:"CZK",name_plural:"Czech Republic korunas"},DJF:{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF",name_plural:"Djiboutian francs"},DKK:{symbol:"Dkr",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK",name_plural:"Danish kroner"},DOP:{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP",name_plural:"Dominican pesos"},DZD:{symbol:"DA",name:"Algerian Dinar",symbol_native:"Ø¯.Ø¬.â",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",symbol_native:"Ø¬.Ù.â",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},EUR:{symbol:"â¬",name:"Euro",symbol_native:"â¬",decimal_digits:2,rounding:0,code:"EUR",name_plural:"euros"},GBP:{symbol:"Â£",name:"British Pound Sterling",symbol_native:"Â£",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},GEL:{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GHâµ",name:"Ghanaian Cedi",symbol_native:"GHâµ",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"âª",name:"Israeli New Sheqel",symbol_native:"âª",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",name:"Indian Rupee",symbol_native:"à¦à¦à¦¾",decimal_digits:2,rounding:0,code:"INR",use_indian_numbering_system:!0,name_plural:"Indian rupees"},IQD:{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"Ø¯.Ø¹.â",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",name:"Iranian Rial",symbol_native:"ï·¼",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",name:"Icelandic KrÃ³na",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krÃ³nur"},JMD:{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",name:"Jordanian Dinar",symbol_native:"Ø¯.Ø£.â",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"Â¥",name:"Japanese Yen",symbol_native:"ï¿¥",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",name:"Cambodian Riel",symbol_native:"á",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"â©",name:"South Korean Won",symbol_native:"â©",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:"ÑÒ£Ð³.",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"L.L.",name:"Lebanese Pound",symbol_native:"Ù.Ù.â",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",name:"Libyan Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"Ø¯.Ù.â",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"â¦",name:"Nigerian Naira",symbol_native:"â¦",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",name:"Nicaraguan CÃ³rdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan cÃ³rdobas"},NOK:{symbol:"Nkr",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"à¤¨à¥à¤°à¥",decimal_digits:2,rounding:0,code:"NPR",use_indian_numbering_system:!0,name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",name:"Omani Rial",symbol_native:"Ø±.Ø¹.â",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"â±",name:"Philippine Peso",symbol_native:"â±",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"â¨",decimal_digits:0,rounding:0,code:"PKR",use_indian_numbering_system:!0,name_plural:"Pakistani rupees"},PLN:{symbol:"zÅ",name:"Polish Zloty",symbol_native:"zÅ",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"â²",name:"Paraguayan Guarani",symbol_native:"â²",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",name:"Qatari Rial",symbol_native:"Ø±.Ù.â",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",name:"Serbian Dinar",symbol_native:"Ð´Ð¸Ð½.",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",name:"Russian Ruble",symbol_native:"â½.",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",name:"Saudi Riyal",symbol_native:"Ø±.Ø³.â",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SYÂ£",name:"Syrian Pound",symbol_native:"Ù.Ø³.â",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"à¸¿",name:"Thai Baht",symbol_native:"à¸¿",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",name:"Tunisian Dinar",symbol_native:"Ø¯.Øª.â",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",name:"Tongan PaÊ»anga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paÊ»anga"},TRY:{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"â´",name:"Ukrainian Hryvnia",symbol_native:"â´",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},UYU:{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",name:"Venezuelan BolÃ­var",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolÃ­vars"},VND:{symbol:"â«",name:"Vietnamese Dong",symbol_native:"â«",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",name:"Yemeni Rial",symbol_native:"Ø±.Ù.â",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"},ZWL:{symbol:"ZWL$",name:"Zimbabwean Dollar",symbol_native:"ZWL$",decimal_digits:0,rounding:0,code:"ZWL",name_plural:"Zimbabwean Dollar"}},Ml=io("defaultCurrency","GBP"),pi=io("favCurrencies",["GBP","USD","EUR"]);function Bl(n){let e=[],t=[];for(let r of Object.keys(rn))e.push({value:r,text:`${r} (${rn[r].symbol})`});for(let r of n)t.push({value:r,text:`${r} (${rn[r].symbol})`});return[{groupHeader:"Favourite Currencies",items:t},{groupHeader:"All Currencies",items:e}]}var Br=function(n,e){this.items=n,this.settings=e||{diacritics:!0}};Br.prototype.tokenize=function(n,e,t){if(n=uu(String(n||"").toLowerCase()),!n||!n.length)return[];var r,l,o,s,u=[],f=n.split(/ +/);for(r=0,l=f.length;r<l;r++){if(o=cu(f[r]),this.settings.diacritics)for(s in Lr)Lr.hasOwnProperty(s)&&(o=o.replace(new RegExp(s,"g"),Lr[s]));e?o="\\b"+o:t&&(o="\\b^"+o),u.push({string:f[r],regex:new RegExp(o,"i")})}return u};Br.prototype.iterator=function(n,e){var t;Array.isArray(n)?t=Array.prototype.forEach||function(r){for(var l=0,o=this.length;l<o;l++)r(this[l],l,this)}:t=function(r){for(var l in this)this.hasOwnProperty(l)&&r(this[l],l,this)},t.apply(n,[e])};Br.prototype.getScoreFunction=function(n,e){var t,r,l,o,s;t=this,n=t.prepareSearch(n,e),l=n.tokens,r=n.options.fields,o=l.length,s=n.options.nesting;var u=function(p,d){var y,C;return!p||(p=String(p||""),C=p.search(d.regex),C===-1)?0:(y=d.string.length/p.length,C===0&&(y+=.5),y)},f=function(){var p=r.length;return p?p===1?function(d,y){return u(Ll(y,r[0],s),d)}:function(d,y){for(var C=0,T=0;C<p;C++)T+=u(Ll(y,r[C],s),d);return T/p}:function(){return 0}}();return o?o===1?function(p){return f(l[0],p)}:n.options.conjunction==="and"?function(p){for(var d,y=0,C=0;y<o;y++){if(d=f(l[y],p),d<=0)return 0;C+=d}return C/o}:function(p){for(var d=0,y=0;d<o;d++)y+=f(l[d],p);return y/o}:function(){return 0}};Br.prototype.getSortFunction=function(n,e){var t,r,l,o,s,u,f,p,d,y,C;if(l=this,n=l.prepareSearch(n,e),C=!n.query&&e.sort_empty||e.sort,d=function(T,k){return T==="$score"?k.score:Ll(l.items[k.id],T,e.nesting)},s=[],C)for(t=0,r=C.length;t<r;t++)(n.query||C[t].field!=="$score")&&s.push(C[t]);if(n.query){for(y=!0,t=0,r=s.length;t<r;t++)if(s[t].field==="$score"){y=!1;break}y&&s.unshift({field:"$score",direction:"desc"})}else for(t=0,r=s.length;t<r;t++)if(s[t].field==="$score"){s.splice(t,1);break}for(p=[],t=0,r=s.length;t<r;t++)p.push(s[t].direction==="desc"?-1:1);return u=s.length,u?u===1?(o=s[0].field,f=p[0],function(T,k){return f*Cs(d(o,T),d(o,k))}):function(T,k){var S,L,N;for(S=0;S<u;S++)if(N=s[S].field,L=p[S]*Cs(d(N,T),d(N,k)),L)return L;return 0}:null};Br.prototype.prepareSearch=function(n,e){if(typeof n=="object")return n;e=ou({},e);var t=e.fields,r=e.sort,l=e.sort_empty;return t&&!Array.isArray(t)&&(e.fields=[t]),r&&!Array.isArray(r)&&(e.sort=[r]),l&&!Array.isArray(l)&&(e.sort_empty=[l]),{options:e,query:String(n||"").toLowerCase(),tokens:this.tokenize(n,e.wordsOnly,e.startOnly),total:0,items:[]}};Br.prototype.search=function(n,e){var t=this,r,l,o,s;return l=this.prepareSearch(n,e),e=l.options,n=l.query,s=e.score||t.getScoreFunction(l),n.length?t.iterator(t.items,function(u,f){r=s(u),(e.filter===!1||r>0)&&l.items.push({score:r,id:f})}):t.iterator(t.items,function(u,f){l.items.push({score:1,id:f})}),o=t.getSortFunction(l,e),o&&l.items.sort(o),l.total=l.items.length,typeof e.limit=="number"&&(l.items=l.items.slice(0,e.limit)),l};var Cs=function(n,e){return typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=qi(String(n||"")),e=qi(String(e||"")),n>e?1:e>n?-1:0)},ou=function(n,e){var t,r,l,o;for(t=1,r=arguments.length;t<r;t++)if(o=arguments[t],!!o)for(l in o)o.hasOwnProperty(l)&&(n[l]=o[l]);return n},Ll=function(n,e,t){if(!(!n||!e)){if(!t)return n[e];for(var r=e.split(".");r.length&&(n=n[r.shift()]););return n}},uu=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},cu=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Lr={a:"[aá¸á¸ÄÄÃÃ¢ÇÇÈºâ±¥È¦È§áº áº¡ÃÃ¤ÃÃ ÃÃ¡ÄÄÃÃ£ÃÃ¥ÄÄÃÄÄ]",b:"[bâ¢Î²ÎBà¸¿ðá]",c:"[cÄÄÄÄÄÄÄÄCÌcÌÃÃ§á¸á¸È»È¼ÆÆÉá´ï¼£ï½]",d:"[dÄÄá¸á¸á¸á¸á¸á¸á¸á¸á¸á¸ÄÄDÌ¦dÌ¦ÆÉÆÉÆÆáµ­á¶á¶È¡á´ï¼¤ï½Ã°]",e:"[eÃÃ©ÃÃ¨ÃÃªá¸á¸ÄÄÄÄáº¼áº½á¸á¸áººáº»ÄÄÃÃ«ÄÄÈ¨È©ÄÄá¶ÉÉÈÈáº¾áº¿á»á»á»á»á»á»á¸á¸á¸á¸á¸á¸ÈÈáº¸áº¹á»á»â±¸á´ï¼¥ï½ÉÇÆÆÎµ]",f:"[fÆÆá¸á¸]",g:"[gÉ¢â²Ç¤Ç¥ÄÄÄÄÄ¢Ä£ÆÉ Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áºáºá¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ]",i:"[iÃÃ­ÃÃ¬Ä¬Ä­ÃÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»á»ÈÈÈÈá»á»á¸¬á¸­ÆÉ¨É¨Ìáµ»á¶Ä°iIÄ±Éªï¼©ï½]",j:"[jÈ·Ä´ÄµÉÉÊÉÊ²]",k:"[kÆÆêêá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â­]",l:"[lÅÅÄ½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿ÅÈ½Æâ± â±¡â±¢É«É¬á¶É­È´Êï¼¬ï½]",n:"[nÅÅÇ¸Ç¹ÅÅÃÃ±á¹á¹ÅÅá¹á¹á¹á¹á¹á¹NÌnÌÆÉ²È Æáµ°á¶É³ÈµÉ´ï¼®ï½ÅÅ]",o:"[oÃÃ¸ÃÃ¶ÃÃ³ÃÃ²ÃÃ´ÇÇÅÅÅÅÈ®È¯á»á»ÆÉµÆ Æ¡á»á»ÅÅÃÃµÇªÇ«ÈÈÕÖ]",p:"[pá¹á¹á¹á¹â±£áµ½Æ¤Æ¥áµ±]",q:"[qêêÊ ÉÉêêqÌ]",r:"[rÅÅÉÉÅÅÅÅá¹á¹ÈÈÈÈá¹á¹â±¤É½]",s:"[sÅÅá¹ á¹¡á¹¢á¹£ê¨ê©ÅÅÅ Å¡ÅÅÈÈSÌsÌ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊÈÈá¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­ÉÊá»¤á»¥ÃÃ¼ÃÃºÃÃ¹ÃÃ»ÇÇÅ°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³ÈÈâª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Êêêâ±±Ê]",w:"[wáºáºáºáºÅ´Åµáºáºáºáºáºáº]",x:"[xáºáºáºáºÏ]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºáºá»´á»µÉÉÆ³Æ´]",z:"[zÅ¹ÅºáºáºÅ½Å¾Å»Å¼áºáºáºáºÆµÆ¶]"};const qi=function(){var n,e,t,r,l="",o={};for(t in Lr)if(Lr.hasOwnProperty(t))for(r=Lr[t].substring(2,Lr[t].length-1),l+=r,n=0,e=r.length;n<e;n++)o[r.charAt(n)]=t;var s=new RegExp("["+l+"]","g");return function(u){return u.replace(s,function(f){return o[f]}).toLowerCase()}}();let li;function Ui(n,e,t,r,l){const o=r(n,e,t);if(t==""||n.isSelected||l)return o;li||(li=document.createElement("div")),li.innerHTML=o;const s=qi(t);return(s.includes("|")?s.split("|").map(u=>u.trim()):s.split(" ")).filter(u=>u).forEach(u=>{lo(li,u)}),li.innerHTML}function lo(n,e){let t=0;if(n.nodeType===3){const l=qi(n.data);let o=l.indexOf(e);if(o-=l.substr(0,o).toUpperCase().length-l.substr(0,o).length,o>=0){const s=document.createElement("span");s.className="highlight";const u=n.splitText(o);u.splitText(e.length);const f=u.cloneNode(!0);s.appendChild(f),u.parentNode.replaceChild(s,u),t=1}}else if(n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN"))for(var r=0;r<n.childNodes.length;++r)r+=lo(n.childNodes[r],e);return t}function fu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ts(){return navigator.userAgent.toLowerCase().includes("android")}function yl(n){return(n||"").replace(/\t/g," ").trim().split(" ").filter(e=>e).join(" ")}function du(n){return`${n}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function hu(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(this,r)},e)}}function pu(n,{url:e,parentValue:t,initial:r},l){t&&(e=e.replace("[parent]",encodeURIComponent(t))),n&&(e=e.replace("[query]",encodeURIComponent(n))),Array.isArray(r)&&r.length===0&&(r=null),r&&(e=e.replace("[query]","init"));const o=e[0]==="/"?new URL(e,window.location.origin):new URL(e);if(r){const f=Array.isArray(r)?r:[r];o.searchParams.append("init",f.join(","))}const s=new AbortController,u=Object.assign({},l,{signal:s.signal});return{request:new Request(o,u),controller:s}}const bt={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{aria_label:"",aria_describedby:"",aria_selected:n=>n.length?`Option${n.length>1?"s":""} ${n.join(", ")} selected.`:"",aria_listActive:(n,e,t)=>`You are currently focused on option ${n[e]}. ${t} result${t>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",empty:"No options",nomatch:"No matching options",max:n=>`Maximum items ${n} selected`,fetchBefore:"Type to start searching",fetchQuery:(n,e)=>`Type at least ${n} character${n>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:n=>`${n} selected`,createRowLabel:n=>`Add '${n}'`,emptyCreatable:"Add new by typing"},requestFactory:null};function mu(n,{from:e,to:t},r={}){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform,[s,u]=l.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*s/t.width-(t.left+s),p=e.top+e.height*u/t.height-(t.top+u),{delay:d=0,duration:y=T=>Math.sqrt(T)*120,easing:C=to}=r;return{delay:d,duration:Zr(y)?y(Math.sqrt(f*f+p*p)):y,easing:C,css:(T,k)=>{const S=k*f,L=k*p,N=T+k*e.width/t.width,P=T+k*e.height/t.height;return`transform: ${o} translate(${S}px, ${L}px) scale(${N}, ${P});`}}}const Ai={AUTO:"auto",START:"start",CENTER:"center",END:"end"},hr={HORIZONTAL:"horizontal",VERTICAL:"vertical"},si={OBSERVED:0,REQUESTED:1},gu={[hr.VERTICAL]:"top",[hr.HORIZONTAL]:"left"},Is={[hr.VERTICAL]:"scrollTop",[hr.HORIZONTAL]:"scrollLeft"};class _u{constructor({itemSize:e,itemCount:t,estimatedItemSize:r}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:r}){t!=null&&(this.itemCount=t),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const r=this.getSize(t),l=e;e+=r,this.itemSizeAndPositionData[t]={offset:l,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let r=t.offset+t.size;for(let l=this.lastMeasuredIndex+1;l<=e;l++){const o=this.getSize(l);if(o==null||isNaN(o))throw Error(`Invalid size returned for index ${l} of value ${o}`);this.itemSizeAndPositionData[l]={offset:r,size:o},r+=o}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Ai.START,containerSize:t,currentOffset:r,targetIndex:l}){if(t<=0)return 0;const o=this.getSizeAndPositionForIndex(l),s=o.offset,u=s-t+o.size;let f;switch(e){case Ai.END:f=u;break;case Ai.CENTER:f=s-(t-o.size)/2;break;case Ai.START:f=s;break;default:f=Math.max(u,Math.min(s,r))}const p=this.getTotalSize();return Math.max(0,Math.min(p-t,f))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:r}){if(this.getTotalSize()===0)return{};const o=t+e;let s=this.findNearestItem(t);if(s===void 0)throw Error(`Invalid offset ${t} specified`);const u=this.getSizeAndPositionForIndex(s);t=u.offset+u.size;let f=s;for(;t<o&&f<this.itemCount-1;)f++,t+=this.getSizeAndPositionForIndex(f).size;return r&&(s=Math.max(0,s-r),f=Math.min(f+r,this.itemCount-1)),{start:s,stop:f}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:t,offset:r}){let l=0,o=0;for(;e<=t;){if(l=e+Math.floor((t-e)/2),o=this.getSizeAndPositionForIndex(l).offset,o===r)return l;o<r?e=l+1:o>r&&(t=l-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const vu=n=>({}),As=n=>({});function Os(n,e,t){const r=n.slice();return r[37]=e[t],r}const bu=n=>({style:n[0]&4,index:n[0]&4}),Ps=n=>({style:n[37].style,index:n[37].index}),yu=n=>({}),Ms=n=>({});function Ls(n,e){let t,r;const l=e[21].item,o=Tn(l,e,e[20],Ps);return{key:n,first:null,c(){t=yt(),o&&o.c(),this.h()},l(s){t=yt(),o&&o.l(s),this.h()},h(){this.first=t},m(s,u){te(s,t,u),o&&o.m(s,u),r=!0},p(s,u){e=s,o&&o.p&&(!r||u[0]&1048580)&&In(o,l,e,e[20],r?On(l,e[20],u,bu):An(e[20]),Ps)},i(s){r||(Le(o,s),r=!0)},o(s){qe(o,s),r=!1},d(s){s&&v(t),o&&o.d(s)}}}function wu(n){let e,t,r,l=[],o=new Map,s,u;const f=n[21].header,p=Tn(f,n,n[20],Ms);let d=ot(n[2]);const y=k=>k[0]?k[0](k[37].index):k[37].index;for(let k=0;k<d.length;k+=1){let S=Os(n,d,k),L=y(S);o.set(L,l[k]=Ls(L,S))}const C=n[21].footer,T=Tn(C,n,n[20],As);return{c(){e=A("div"),p&&p.c(),t=se(),r=A("div");for(let k=0;k<l.length;k+=1)l[k].c();s=se(),T&&T.c(),this.h()},l(k){e=O(k,"DIV",{class:!0,style:!0});var S=z(e);p&&p.l(S),t=ae(S),r=O(S,"DIV",{class:!0,style:!0});var L=z(r);for(let N=0;N<l.length;N+=1)l[N].l(L);L.forEach(v),s=ae(S),T&&T.l(S),S.forEach(v),this.h()},h(){m(r,"class","virtual-list-inner svelte-dwpad5"),m(r,"style",n[4]),m(e,"class","virtual-list-wrapper svelte-dwpad5"),m(e,"style",n[3])},m(k,S){te(k,e,S),p&&p.m(e,null),_(e,t),_(e,r);for(let L=0;L<l.length;L+=1)l[L]&&l[L].m(r,null);_(e,s),T&&T.m(e,null),n[22](e),u=!0},p(k,S){p&&p.p&&(!u||S[0]&1048576)&&In(p,f,k,k[20],u?On(f,k[20],S,yu):An(k[20]),Ms),S[0]&1048581&&(d=ot(k[2]),un(),l=Nr(l,S,y,1,k,d,o,r,Ho,Ls,null,Os),cn()),(!u||S[0]&16)&&m(r,"style",k[4]),T&&T.p&&(!u||S[0]&1048576)&&In(T,C,k,k[20],u?On(C,k[20],S,vu):An(k[20]),As),(!u||S[0]&8)&&m(e,"style",k[3])},i(k){if(!u){Le(p,k);for(let S=0;S<d.length;S+=1)Le(l[S]);Le(T,k),u=!0}},o(k){qe(p,k);for(let S=0;S<l.length;S+=1)qe(l[S]);qe(T,k),u=!1},d(k){k&&v(e),p&&p.d(k);for(let S=0;S<l.length;S+=1)l[S].d();T&&T.d(k),n[22](null)}}}const ku=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();function Su(n,e,t){let{$$slots:r={},$$scope:l}=e,{height:o}=e,{width:s="100%"}=e,{itemCount:u}=e,{itemSize:f}=e,{estimatedItemSize:p=null}=e,{stickyIndices:d=null}=e,{getKey:y=null}=e,{scrollDirection:C=hr.VERTICAL}=e,{scrollOffset:T=null}=e,{scrollToIndex:k=null}=e,{scrollToAlignment:S=null}=e,{scrollToBehaviour:L="instant"}=e,{overscanCount:N=3}=e;const P=Gi(),G=new _u({itemCount:u,itemSize:f,estimatedItemSize:j()});let I=!1,oe,ne=[],J={offset:T||k!=null&&ne.length&&we(k)||0,scrollChangeReason:si.REQUESTED},De=J,me={scrollToIndex:k,scrollToAlignment:S,scrollOffset:T,itemCount:u,itemSize:f,estimatedItemSize:p},ee={},be="",Ce="";ge(),xa(()=>{t(18,I=!0),oe.addEventListener("scroll",D,ku),T!=null?de(T):k!=null&&de(we(k))}),To(()=>{I&&oe.removeEventListener("scroll",D)});function ue(){if(!I)return;const Y=me.scrollToIndex!==k||me.scrollToAlignment!==S,ie=me.itemCount!==u||me.itemSize!==f||me.estimatedItemSize!==p;ie&&(G.updateConfig({itemSize:f,itemCount:u,estimatedItemSize:j()}),ce()),me.scrollOffset!==T?t(19,J={offset:T||0,scrollChangeReason:si.REQUESTED}):typeof k=="number"&&(Y||ie)&&t(19,J={offset:we(k,S,u),scrollChangeReason:si.REQUESTED}),me={scrollToIndex:k,scrollToAlignment:S,scrollOffset:T,itemCount:u,itemSize:f,estimatedItemSize:p}}function le(){if(!I)return;const{offset:Y,scrollChangeReason:ie}=J;(De.offset!==Y||De.scrollChangeReason!==ie)&&ge(),De.offset!==Y&&ie===si.REQUESTED&&de(Y),De=J}function ge(){const{offset:Y}=J,{start:ie,stop:W}=G.getVisibleRange({containerSize:C===hr.VERTICAL?o:s,offset:Y,overscanCount:N});let Se=[];const Ve=G.getTotalSize();C===hr.VERTICAL?(t(3,be=`height:${o}${typeof o=="number"?"px":""};width:${s};`),t(4,Ce=`flex-direction:column;height:${Ve}px;`)):(t(3,be=`height:${o};width:${s}${typeof s=="number"?"px":""}`),t(4,Ce=`min-height:100%;width:${Ve}px;`));const _e=d!=null&&d.length!==0;if(_e)for(let $=0;$<d.length;$++){const xe=d[$];Se.push({index:xe,style:he(xe,!0)})}if(ie!==void 0&&W!==void 0){for(let $=ie;$<=W;$++)_e&&d.includes($)||Se.push({index:$,style:he($,!1)});P("itemsUpdated",{start:ie,end:W})}t(2,ne=Se)}function de(Y){"scroll"in oe?oe.scroll({[gu[C]]:Y,behavior:L}):t(1,oe[Is[C]]=Y,oe)}function ce(Y=0){ee={},G.resetItem(Y),ge()}function we(Y,ie=S,W=u){return(Y<0||Y>=W)&&(Y=0),G.getUpdatedOffsetForIndex({align:ie,containerSize:C===hr.VERTICAL?o:s,currentOffset:J.offset||0,targetIndex:Y})}function D(Y){const ie=M();ie<0||J.offset===ie||Y.target!==oe||(t(19,J={offset:ie,scrollChangeReason:si.OBSERVED}),P("afterScroll",{offset:ie,event:Y}))}function M(){return oe[Is[C]]}function j(){return p||typeof f=="number"&&f||50}function he(Y,ie){if(ee[Y])return ee[Y];const{size:W,offset:Se}=G.getSizeAndPositionForIndex(Y);let Ve;return C===hr.VERTICAL?(Ve=`left:0;width:100%;height:${W}px;`,ie?Ve+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${Se}px;margin-bottom:${-(Se+W)}px;`:Ve+=`position:absolute;top:${Se}px;`):(Ve=`top:0;width:${W}px;`,ie?Ve+=`position:sticky;z-index:1;left:0;margin-left:${Se}px;margin-right:${-(Se+W)}px;`:Ve+=`position:absolute;height:100%;left:${Se}px;`),ee[Y]=Ve}function B(Y){Ut[Y?"unshift":"push"](()=>{oe=Y,t(1,oe)})}return n.$$set=Y=>{"height"in Y&&t(5,o=Y.height),"width"in Y&&t(6,s=Y.width),"itemCount"in Y&&t(7,u=Y.itemCount),"itemSize"in Y&&t(8,f=Y.itemSize),"estimatedItemSize"in Y&&t(9,p=Y.estimatedItemSize),"stickyIndices"in Y&&t(10,d=Y.stickyIndices),"getKey"in Y&&t(0,y=Y.getKey),"scrollDirection"in Y&&t(11,C=Y.scrollDirection),"scrollOffset"in Y&&t(12,T=Y.scrollOffset),"scrollToIndex"in Y&&t(13,k=Y.scrollToIndex),"scrollToAlignment"in Y&&t(14,S=Y.scrollToAlignment),"scrollToBehaviour"in Y&&t(15,L=Y.scrollToBehaviour),"overscanCount"in Y&&t(16,N=Y.overscanCount),"$$scope"in Y&&t(20,l=Y.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&29568&&ue(),n.$$.dirty[0]&524288&&le(),n.$$.dirty[0]&263264&&I&&ce(0)},[y,oe,ne,be,Ce,o,s,u,f,p,d,C,T,k,S,L,N,ce,I,J,l,r,B]}class Eu extends Fn{constructor(e){super(),zn(this,e,Su,wu,Pn,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get height(){return this.$$.ctx[5]}set height(e){this.$$set({height:e}),Vn()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),Vn()}get itemCount(){return this.$$.ctx[7]}set itemCount(e){this.$$set({itemCount:e}),Vn()}get itemSize(){return this.$$.ctx[8]}set itemSize(e){this.$$set({itemSize:e}),Vn()}get estimatedItemSize(){return this.$$.ctx[9]}set estimatedItemSize(e){this.$$set({estimatedItemSize:e}),Vn()}get stickyIndices(){return this.$$.ctx[10]}set stickyIndices(e){this.$$set({stickyIndices:e}),Vn()}get getKey(){return this.$$.ctx[0]}set getKey(e){this.$$set({getKey:e}),Vn()}get scrollDirection(){return this.$$.ctx[11]}set scrollDirection(e){this.$$set({scrollDirection:e}),Vn()}get scrollOffset(){return this.$$.ctx[12]}set scrollOffset(e){this.$$set({scrollOffset:e}),Vn()}get scrollToIndex(){return this.$$.ctx[13]}set scrollToIndex(e){this.$$set({scrollToIndex:e}),Vn()}get scrollToAlignment(){return this.$$.ctx[14]}set scrollToAlignment(e){this.$$set({scrollToAlignment:e}),Vn()}get scrollToBehaviour(){return this.$$.ctx[15]}set scrollToBehaviour(e){this.$$set({scrollToBehaviour:e}),Vn()}get overscanCount(){return this.$$.ctx[16]}set overscanCount(e){this.$$set({overscanCount:e}),Vn()}get recomputeSizes(){return this.$$.ctx[17]}}function wl(n,e){const t=window.getComputedStyle(n);let{groups:{value:r,unit:l}}=t[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),o=parseFloat(r);if(l!=="px"){const s=l==="rem"?document.documentElement:n.parentElement.parentElement;o=parseFloat(window.getComputedStyle(s).fontSize.match(/\d+/).shift())*o}return o}function Du(n){const e=n.parentElement.parentElement.getBoundingClientRect(),t=n.getBoundingClientRect(),r={};return r.top=e.top<0,r.left=e.left<0,r.bottom=e.bottom+t.height>(window.innerHeight||document.documentElement.clientHeight)&&e.top>t.height&&(window.innerHeight||document.documentElement.clientHeight)>t.height+50,r.right=e.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function kl(n,e,t){if(!e||!t)return;const r=Du(e);r.bottom&&!r.top?e.parentElement.style.bottom=e.parentElement.parentElement.clientHeight+1+"px":(!n||r.top||e.parentElement.style.bottom!=="")&&(e.parentElement.style.bottom="")}function Cu(n,e,t){let r;const l=wl(e,"maxHeight")-wl(e,"paddingTop")-wl(e,"paddingBottom");e.parentElement.style.cssText="opacity: 0; display: block";const o=n.$$.ctx[1].firstElementChild.firstElementChild;if(o){o.style="";const s=o.getBoundingClientRect().height,u=n.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let f;if(u&&(u.style="",f=u.getBoundingClientRect().height),f&&s!==f){const p=t[0].$isGroupHeader?s:f,d=t[0].$isGroupHeader?f:s;r=t.map(y=>y.$isGroupHeader?p:d)}else r=s}return e.parentElement.style.cssText="",{size:r,height:l}}function Oi({container:n,scrollContainer:e,virtualList:t,center:r},l){if(t||!n)return;const o=n.querySelector(`[data-pos="${l}"]`);if(!o)return;const s=o.getBoundingClientRect(),u=e.getBoundingClientRect(),f=o.offsetHeight/3,p=r?e.offsetHeight/2:0;switch(!0){case o.offsetTop<e.scrollTop:e.scrollTop=o.offsetTop-f+p;break;case o.offsetTop+s.height>e.scrollTop+u.height:e.scrollTop=o.offsetTop+s.height-e.offsetHeight+f+p;break}}function Tu(n,e,t,r){return{optionProps:[],optionsWithGroups:!1,valueField:n,labelField:e,optLabel:t,optItems:r}}function Iu(n,e,t,r,l){if(t)return Array.isArray(e)?e:[e];const o=Array.isArray(e)?e:[e];return n.reduce((u,f,p)=>{const d=f[r]&&Array.isArray(f)?f[r]:null;if(d){const y=d.reduce((C,T)=>(o.includes(T[l])&&C.push(T),C),[]);if(y.length)return u.push(...y),u}return u},[]).sort((u,f)=>o.indexOf(u[l])<o.indexOf(f[l])?-1:1)}function Rs(n,e,t){return typeof n[0]=="object"?JSON.parse(JSON.stringify(n)):n.map(r=>({[e||"value"]:r,[t||"text"]:r}))}function Au(n,e){const t=n.reduce((r,l,o)=>l[e.optItems]?(l[e.optItems].length===0||(e.optionsWithGroups=!0,r.push({label:l[e.optLabel],$isGroupHeader:!0}),r.push(...l[e.optItems].map(s=>(s.$isGroupItem=!0,s)))),r):(r.push(l),r),[]);return Ou(t,e),t}function Ou(n,e){n.some(t=>t.$isGroupHeader?!1:(e.optionProps=Pu(t),!0))}function Pu(n){const e=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(n).filter(t=>!e.includes(t))}function Mu(n,e,t,r,l){if(t&&(n=n.filter(p=>!t.has(p[r.valueField])).filter((p,d,y)=>!(p.$isGroupHeader&&(y[d+1]&&y[d+1].$isGroupHeader||y.length<=1||y.length-1===d)))),l.disabled||!e)return n;const o=new Br(n);(r.optionsWithGroups||l.skipSort)&&(o.getSortFunction=()=>null);let s="and";e.includes("|")&&(s="or",e=e.split("|").map(p=>p.trim()).join(" "));const u=o.search(e,{fields:l.fields||r.optionProps,sort:l.sort||Lu(r.labelField),conjunction:l.conjunction||s,nesting:l.nesting||!1,wordsOnly:l.wordsOnly||!1,startOnly:l.startOnly||!1});return r.optionsWithGroups?u.items.reduce((p,d)=>{const y=n[d.id];if(t&&y.isSelected)return p;const C=p.push(y);if(y.$isGroupItem){const T=n.slice(0,d.id);let k=null;do k=T.pop(),k&&k.$isGroupHeader&&!p.includes(k)&&p.splice(C-1,0,k);while(k&&!k.$isGroupHeader)}return p},[]):u.items.map(p=>n[p.id])}function Lu(n){return[{field:n,direction:"asc"}]}function Pi(n,e,t){const r=n==="value";let l=r?"value":"text";if(e&&e.length){const o=e[0][t]?e[0][t][0]:e[0];if(!o||typeof o=="string")return l;const s=r?0:1,u=r?["id","value","ID"]:["name","title","label"];l=Object.keys(o).filter(f=>u.includes(f)).concat([Object.keys(o)[s]]).shift()}return l}function so(n,e){return n.bound_item=e,{destroy:()=>{}}}const Ru=n=>({isCreating:n[1]&16,inputValue:n[0]&8388608,i18n:n[0]&16777216}),Ns=n=>({isCreating:n[35],inputValue:n[23],i18n:n[24]});function Bs(n,e,t){const r=n.slice();return r[164]=e[t],r[166]=t,r}const Nu=n=>({item:n[0]&33554432,inputValue:n[0]&8388608}),Fs=n=>({item:n[164],inputValue:n[23]});function zs(n){const e=n[25][n[163]];n[164]=e}const Bu=n=>({item:n[0]&33554432|n[5]&256,inputValue:n[0]&8388608}),Ks=n=>({item:n[164],inputValue:n[23]}),Fu=n=>({}),js=n=>({}),zu=n=>({}),Hs=n=>({}),Ku=n=>({isOpen:n[0]&1048576}),Vs=n=>({isOpen:n[20]}),ju=n=>({selectedOptions:n[0]&524288,inputValue:n[0]&8388608}),qs=n=>({selectedOptions:n[19],inputValue:n[23]});function Us(n,e,t){const r=n.slice();return r[164]=e[t],r}const Hu=n=>({selectedOptions:n[0]&524288}),Gs=n=>({selectedOptions:n[19],bindItem:so}),Vu=n=>({selectedOptions:n[0]&524288,i18n:n[0]&16777216}),Ws=n=>({selectedOptions:n[19],i18n:n[24]}),qu=n=>({}),Ys=n=>({});function Zs(n,e,t){const r=n.slice();return r[164]=e[t],r}function Js(n){let e,t,r,l,o;return{c(){e=A("span"),t=Ne(n[46]),r=se(),l=A("span"),o=Ne(n[45]),this.h()},l(s){e=O(s,"SPAN",{id:!0});var u=z(e);t=Be(u,n[46]),u.forEach(v),r=ae(s),l=O(s,"SPAN",{id:!0});var f=z(l);o=Be(f,n[45]),f.forEach(v),this.h()},h(){m(e,"id","aria-selection"),m(l,"id","aria-context")},m(s,u){te(s,e,u),_(e,t),te(s,r,u),te(s,l,u),_(l,o)},p(s,u){u[1]&32768&&$e(t,s[46]),u[1]&16384&&$e(o,s[45])},d(s){s&&(v(e),v(r),v(l))}}}function Qs(n){let e,t=[],r=new Map,l,o,s,u=ot(n[19]);const f=p=>p[164][p[27]];for(let p=0;p<u.length;p+=1){let d=Zs(n,u,p),y=f(d);r.set(y,t[p]=Xs(y,d))}return{c(){e=A("select");for(let p=0;p<t.length;p+=1)t[p].c();this.h()},l(p){e=O(p,"SELECT",{name:!0,size:!0,class:!0,id:!0,tabindex:!0,"aria-hidden":!0});var d=z(e);for(let y=0;y<t.length;y+=1)t[y].l(d);d.forEach(v),this.h()},h(){m(e,"name",n[4]),e.required=n[5],e.multiple=n[0],e.disabled=n[3],m(e,"size","1"),m(e,"class","sv-hidden-element form-select"),m(e,"id",n[50]),m(e,"tabindex","-1"),m(e,"aria-hidden","true")},m(p,d){te(p,e,d);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);n[112](e),o||(s=ci(l=n[60].call(null,e,n[13])),o=!0)},p(p,d){d[0]&134742016&&(u=ot(p[19]),t=Nr(t,d,f,1,p,u,r,e,Yr,Xs,null,Zs)),d[0]&16&&m(e,"name",p[4]),d[0]&32&&(e.required=p[5]),d[0]&1&&(e.multiple=p[0]),d[0]&8&&(e.disabled=p[3]),l&&Zr(l.update)&&d[0]&8192&&l.update.call(null,p[13])},d(p){p&&v(e);for(let d=0;d<t.length;d+=1)t[d].d();n[112](null),o=!1,s()}}}function Xs(n,e){let t,r;return{key:n,first:null,c(){t=A("option"),this.h()},l(l){t=O(l,"OPTION",{}),z(t).forEach(v),this.h()},h(){t.__value=r=e[164][e[27]],Ht(t,t.__value),t.selected=!0,this.first=t},m(l,o){te(l,t,o)},p(l,o){e=l,o[0]&134742016&&r!==(r=e[164][e[27]])&&(t.__value=r,Ht(t,t.__value))},d(l){l&&v(t)}}}function xs(n){let e,t,r,l;const o=[Gu,Uu],s=[];function u(f,p){return f[0]&&f[33]?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=yt()},l(f){t.l(f),r=yt()},m(f,p){s[e].m(f,p),te(f,r,p),l=!0},p(f,p){let d=e;e=u(f),e===d?s[e].p(f,p):(un(),qe(s[d],1,1,()=>{s[d]=null}),cn(),t=s[e],t?t.p(f,p):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function Uu(n){let e;const t=n[109].selection,r=Tn(t,n,n[118],Gs),l=r||Wu(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r?r.p&&(!e||s[0]&524288|s[3]&33554432)&&In(r,t,o,o[118],e?On(t,o[118],s,Hu):An(o[118]),Gs):l&&l.p&&(!e||s[0]&524289|s[1]&8192)&&l.p(o,e?s:[-1,-1,-1,-1,-1,-1])},i(o){e||(Le(l,o),e=!0)},o(o){qe(l,o),e=!1},d(o){l&&l.d(o)}}}function Gu(n){let e;const t=n[109].collapsedSelection,r=Tn(t,n,n[118],Ws),l=r||Yu(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r?r.p&&(!e||s[0]&17301504|s[3]&33554432)&&In(r,t,o,o[118],e?On(t,o[118],s,Vu):An(o[118]),Ws):l&&l.p&&(!e||s[0]&17301504)&&l.p(o,e?s:[-1,-1,-1,-1,-1,-1])},i(o){e||(Le(l,o),e=!0)},o(o){qe(l,o),e=!1},d(o){l&&l.d(o)}}}function $s(n){let e,t='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',r,l,o;return{c(){e=A("button"),e.innerHTML=t,this.h()},l(s){e=O(s,"BUTTON",{class:!0,tabindex:!0,type:!0,"data-action":!0,"data-svelte-h":!0}),Xe(e)!=="svelte-179wtvk"&&(e.innerHTML=t),this.h()},h(){m(e,"class","sv-item--btn"),m(e,"tabindex","-1"),m(e,"type","button"),m(e,"data-action","deselect")},m(s,u){te(s,e,u),l||(o=ci(r=so.call(null,e,n[164])),l=!0)},p(s,u){n=s,r&&Zr(r.update)&&u[0]&524288&&r.update.call(null,n[164])},d(s){s&&v(e),l=!1,o()}}}function ea(n,e){let t,r,l,o,s=e[44](e[164],!0)+"",u,f,p,d=Ct,y,C,T=e[0]&&$s(e);return{key:n,first:null,c(){t=A("div"),r=A("div"),l=A("div"),o=new Wi(!1),u=se(),T&&T.c(),f=se(),this.h()},l(k){t=O(k,"DIV",{class:!0});var S=z(t);r=O(S,"DIV",{class:!0});var L=z(r);l=O(L,"DIV",{class:!0});var N=z(l);o=Yi(N,!1),N.forEach(v),L.forEach(v),u=ae(S),T&&T.l(S),f=ae(S),S.forEach(v),this.h()},h(){o.a=null,m(l,"class","sv-item--content"),m(r,"class","sv-item--wrap"),Me(r,"is-multi",e[0]),m(t,"class","sv-item--container svelte-hi60qz"),this.first=t},m(k,S){te(k,t,S),_(t,r),_(r,l),o.m(s,l),_(t,u),T&&T.m(t,null),_(t,f),y||(C=Qe(t,"mousedown",Il(e[111])),y=!0)},p(k,S){e=k,S[0]&524288|S[1]&8192&&s!==(s=e[44](e[164],!0)+"")&&o.p(s),S[0]&1&&Me(r,"is-multi",e[0]),e[0]?T?T.p(e,S):(T=$s(e),T.c(),T.m(t,f)):T&&(T.d(1),T=null)},r(){p=t.getBoundingClientRect()},f(){Ko(t),d()},a(){d(),d=zo(t,p,mu,{duration:e[36]})},d(k){k&&v(t),T&&T.d(),y=!1,C()}}}function Wu(n){let e=[],t=new Map,r,l=ot(n[19]);const o=s=>s[164][s[27]];for(let s=0;s<l.length;s+=1){let u=Us(n,l,s),f=o(u);t.set(f,e[s]=ea(f,u))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=yt()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);r=yt()},m(s,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,u);te(s,r,u)},p(s,u){if(u[0]&134742017|u[1]&8192){l=ot(s[19]);for(let f=0;f<e.length;f+=1)e[f].r();e=Nr(e,u,o,1,s,l,t,r.parentNode,Vo,ea,r,Us);for(let f=0;f<e.length;f+=1)e[f].a()}},d(s){s&&v(r);for(let u=0;u<e.length;u+=1)e[u].d(s)}}}function Yu(n){let e=n[24].collapsedSelection(n[19].length)+"",t;return{c(){t=Ne(e)},l(r){t=Be(r,e)},m(r,l){te(r,t,l)},p(r,l){l[0]&17301504&&e!==(e=r[24].collapsedSelection(r[19].length)+"")&&$e(t,e)},d(r){r&&v(t)}}}function ta(n){let e,t;const r=n[109]["clear-icon"],l=Tn(r,n,n[118],qs),o=l||Zu(n);return{c(){e=A("button"),o&&o.c(),this.h()},l(s){e=O(s,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var u=z(e);o&&o.l(u),u.forEach(v),this.h()},h(){m(e,"type","button"),m(e,"class","sv-btn-indicator svelte-hi60qz"),m(e,"data-action","deselect"),m(e,"tabindex","-1"),Me(e,"sv-has-selection",n[19].length)},m(s,u){te(s,e,u),o&&o.m(e,null),t=!0},p(s,u){l?l.p&&(!t||u[0]&8912896|u[3]&33554432)&&In(l,r,s,s[118],t?On(r,s[118],u,ju):An(s[118]),qs):o&&o.p&&(!t||u[0]&524288)&&o.p(s,t?u:[-1,-1,-1,-1,-1,-1]),(!t||u[0]&524288)&&Me(e,"sv-has-selection",s[19].length)},i(s){t||(Le(o,s),t=!0)},o(s){qe(o,s),t=!1},d(s){s&&v(e),o&&o.d(s)}}}function na(n){let e,t;return{c(){e=Rt("svg"),t=Rt("path"),this.h()},l(r){e=Nt(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=z(e);t=Nt(l,"path",{d:!0}),z(t).forEach(v),l.forEach(v),this.h()},h(){m(t,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),m(e,"class","indicator-icon svelte-hi60qz"),m(e,"viewBox","0 0 20 20"),m(e,"aria-hidden","true"),m(e,"focusable","false")},m(r,l){te(r,e,l),_(e,t)},d(r){r&&v(e)}}}function Zu(n){let e,t=n[19].length&&na();return{c(){t&&t.c(),e=yt()},l(r){t&&t.l(r),e=yt()},m(r,l){t&&t.m(r,l),te(r,e,l)},p(r,l){r[19].length?t||(t=na(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&v(e),t&&t.d(r)}}}function ra(n){let e;return{c(){e=A("span"),this.h()},l(t){e=O(t,"SPAN",{class:!0}),z(e).forEach(v),this.h()},h(){m(e,"class","sv-btn-separator svelte-hi60qz")},m(t,r){te(t,e,r)},d(t){t&&v(e)}}}function Ju(n){let e,t;return{c(){e=Rt("svg"),t=Rt("path"),this.h()},l(r){e=Nt(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=z(e);t=Nt(l,"path",{d:!0}),z(t).forEach(v),l.forEach(v),this.h()},h(){m(t,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),m(e,"class","indicator-icon svelte-hi60qz"),m(e,"viewBox","0 0 20 20"),m(e,"aria-hidden","true"),m(e,"focusable","false")},m(r,l){te(r,e,l),_(e,t)},p:Ct,d(r){r&&v(e)}}}function ia(n){let e,t,r,l,o,s,u,f;const p=n[109]["list-header"],d=Tn(p,n,n[118],js),y=[Xu,Qu],C=[];function T(S,L){return S[25].length?0:S[25].length===0&&(!S[14]||!S[23])||S[26]?1:-1}~(l=T(n))&&(o=C[l]=y[l](n));let k=n[14]&&n[23]&&!n[26]&&sa(n);return{c(){d&&d.c(),e=se(),t=A("div"),r=A("div"),o&&o.c(),s=se(),k&&k.c(),u=yt(),this.h()},l(S){d&&d.l(S),e=ae(S),t=O(S,"DIV",{class:!0,tabindex:!0});var L=z(t);r=O(L,"DIV",{class:!0});var N=z(r);o&&o.l(N),N.forEach(v),L.forEach(v),s=ae(S),k&&k.l(S),u=yt(),this.h()},h(){m(r,"class","sv-dropdown-content"),Me(r,"max-reached",n[26]),m(t,"class","sv-dropdown-scroll svelte-hi60qz"),m(t,"tabindex","-1"),Me(t,"has-items",n[25].length>0),Me(t,"is-virtual",n[15])},m(S,L){d&&d.m(S,L),te(S,e,L),te(S,t,L),_(t,r),~l&&C[l].m(r,null),n[116](r),n[117](t),te(S,s,L),k&&k.m(S,L),te(S,u,L),f=!0},p(S,L){d&&d.p&&(!f||L[3]&33554432)&&In(d,p,S,S[118],f?On(p,S[118],L,Fu):An(S[118]),js);let N=l;l=T(S),l===N?~l&&C[l].p(S,L):(o&&(un(),qe(C[N],1,1,()=>{C[N]=null}),cn()),~l?(o=C[l],o?o.p(S,L):(o=C[l]=y[l](S),o.c()),Le(o,1),o.m(r,null)):o=null),(!f||L[0]&67108864)&&Me(r,"max-reached",S[26]),(!f||L[0]&33554432)&&Me(t,"has-items",S[25].length>0),(!f||L[0]&32768)&&Me(t,"is-virtual",S[15]),S[14]&&S[23]&&!S[26]?k?(k.p(S,L),L[0]&75513856&&Le(k,1)):(k=sa(S),k.c(),Le(k,1),k.m(u.parentNode,u)):k&&(un(),qe(k,1,1,()=>{k=null}),cn())},i(S){f||(Le(d,S),Le(o),Le(k),f=!0)},o(S){qe(d,S),qe(o),qe(k),f=!1},d(S){S&&(v(e),v(t),v(s),v(u)),d&&d.d(S),~l&&C[l].d(),n[116](null),n[117](null),k&&k.d(S)}}}function Qu(n){let e,t,r,l;return{c(){e=A("div"),t=A("div"),r=A("div"),l=Ne(n[42]),this.h()},l(o){e=O(o,"DIV",{class:!0});var s=z(e);t=O(s,"DIV",{class:!0});var u=z(t);r=O(u,"DIV",{class:!0});var f=z(r);l=Be(f,n[42]),f.forEach(v),u.forEach(v),s.forEach(v),this.h()},h(){m(r,"class","sv-item--content"),m(t,"class","sv-item--wrap"),m(e,"class","is-dropdown-row svelte-hi60qz")},m(o,s){te(o,e,s),_(e,t),_(t,r),_(r,l)},p(o,s){s[1]&2048&&$e(l,o[42])},i:Ct,o:Ct,d(o){o&&v(e)}}}function Xu(n){let e,t,r,l;const o=[$u,xu],s=[];function u(f,p){return f[15]?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=yt()},l(f){t.l(f),r=yt()},m(f,p){s[e].m(f,p),te(f,r,p),l=!0},p(f,p){let d=e;e=u(f),e===d?s[e].p(f,p):(un(),qe(s[d],1,1,()=>{s[d]=null}),cn(),t=s[e],t?t.p(f,p):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function xu(n){let e,t,r=ot(n[25]),l=[];for(let s=0;s<r.length;s+=1)l[s]=la(Bs(n,r,s));const o=s=>qe(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=yt()},l(s){for(let u=0;u<l.length;u+=1)l[u].l(s);e=yt()},m(s,u){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,u);te(s,e,u),t=!0},p(s,u){if(u[0]&44041344|u[1]&8192|u[3]&33554432){r=ot(s[25]);let f;for(f=0;f<r.length;f+=1){const p=Bs(s,r,f);l[f]?(l[f].p(p,u),Le(l[f],1)):(l[f]=la(p),l[f].c(),Le(l[f],1),l[f].m(e.parentNode,e))}for(un(),f=r.length;f<l.length;f+=1)o(f);cn()}},i(s){if(!t){for(let u=0;u<r.length;u+=1)Le(l[u]);t=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)qe(l[u]);t=!1},d(s){s&&v(e),Bn(l,s)}}}function $u(n){let e,t,r={width:"100%",height:n[49],itemCount:n[25].length,itemSize:n[22],scrollToAlignment:"auto",scrollToIndex:n[21],$$slots:{item:[sc,({style:l,index:o})=>({162:l,163:o}),({style:l,index:o})=>[0,0,0,0,0,(l?128:0)|(o?256:0)]]},$$scope:{ctx:n}};return e=new Eu({props:r}),n[115](e),{c(){Jt(e.$$.fragment)},l(l){Qt(e.$$.fragment,l)},m(l,o){Xt(e,l,o),t=!0},p(l,o){const s={};o[1]&262144&&(s.height=l[49]),o[0]&33554432&&(s.itemCount=l[25].length),o[0]&4194304&&(s.itemSize=l[22]),o[0]&2097152&&(s.scrollToIndex=l[21]),o[0]&44041344|o[1]&8192|o[3]&33554432|o[5]&384&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){t||(Le(e.$$.fragment,l),t=!0)},o(l){qe(e.$$.fragment,l),t=!1},d(l){n[115](null),xt(e,l)}}}function ec(n){let e,t,r;const l=n[109].option,o=Tn(l,n,n[118],Fs),s=o||nc(n);return{c(){e=A("div"),s&&s.c(),t=se(),this.h()},l(u){e=O(u,"DIV",{"data-pos":!0,class:!0});var f=z(e);s&&s.l(f),t=ae(f),f.forEach(v),this.h()},h(){m(e,"data-pos",n[166]),m(e,"class","sv-item--wrap in-dropdown svelte-hi60qz"),Me(e,"sv-dd-item-active",n[21]===n[166]),Me(e,"is-selected",n[164].$selected),Me(e,"is-disabled",n[164][n[7]])},m(u,f){te(u,e,f),s&&s.m(e,null),_(e,t),r=!0},p(u,f){o?o.p&&(!r||f[0]&41943040|f[3]&33554432)&&In(o,l,u,u[118],r?On(l,u[118],f,Nu):An(u[118]),Fs):s&&s.p&&(!r||f[0]&41944064|f[1]&8192)&&s.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[0]&2097152)&&Me(e,"sv-dd-item-active",u[21]===u[166]),(!r||f[0]&33554432)&&Me(e,"is-selected",u[164].$selected),(!r||f[0]&33554560)&&Me(e,"is-disabled",u[164][u[7]])},i(u){r||(Le(s,u),r=!0)},o(u){qe(s,u),r=!1},d(u){u&&v(e),s&&s.d(u)}}}function tc(n){let e,t,r=n[164].label+"",l;return{c(){e=A("div"),t=A("b"),l=Ne(r),this.h()},l(o){e=O(o,"DIV",{class:!0});var s=z(e);t=O(s,"B",{});var u=z(t);l=Be(u,r),u.forEach(v),s.forEach(v),this.h()},h(){m(e,"class","sv-optgroup-header")},m(o,s){te(o,e,s),_(e,t),_(t,l)},p(o,s){s[0]&33554432&&r!==(r=o[164].label+"")&&$e(l,r)},i:Ct,o:Ct,d(o){o&&v(e)}}}function nc(n){let e,t,r=Ui(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Wi(!1),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);t=Yi(o,!1),o.forEach(v),this.h()},h(){t.a=null,m(e,"class","sv-item--content")},m(l,o){te(l,e,o),t.m(r,e)},p(l,o){o[0]&41944064|o[1]&8192&&r!==(r=Ui(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&v(e)}}}function la(n){let e,t,r,l;const o=[tc,ec],s=[];function u(f,p){return f[164].$isGroupHeader?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=yt()},l(f){t.l(f),r=yt()},m(f,p){s[e].m(f,p),te(f,r,p),l=!0},p(f,p){let d=e;e=u(f),e===d?s[e].p(f,p):(un(),qe(s[d],1,1,()=>{s[d]=null}),cn(),t=s[e],t?t.p(f,p):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function rc(n){let e,t,r;const l=n[109].option,o=Tn(l,n,n[118],Ks),s=o||lc(n);return{c(){e=A("div"),s&&s.c(),this.h()},l(u){e=O(u,"DIV",{"data-pos":!0,class:!0});var f=z(e);s&&s.l(f),f.forEach(v),this.h()},h(){m(e,"data-pos",t=n[163]),m(e,"class","sv-item--wrap in-dropdown svelte-hi60qz"),Me(e,"sv-dd-item-active",n[21]===n[163]),Me(e,"is-selected",n[164].$selected),Me(e,"is-disabled",n[164][n[7]])},m(u,f){te(u,e,f),s&&s.m(e,null),r=!0},p(u,f){o?o.p&&(!r||f[0]&41943040|f[3]&33554432|f[5]&256)&&In(o,l,u,u[118],r?On(l,u[118],f,Bu):An(u[118]),Ks):s&&s.p&&(!r||f[0]&41944064|f[1]&8192|f[5]&256)&&s.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[5]&256&&t!==(t=u[163]))&&m(e,"data-pos",t),(!r||f[0]&2097152|f[5]&256)&&Me(e,"sv-dd-item-active",u[21]===u[163]),(!r||f[0]&33554432|f[5]&256)&&Me(e,"is-selected",u[164].$selected),(!r||f[0]&33554560|f[5]&256)&&Me(e,"is-disabled",u[164][u[7]])},i(u){r||(Le(s,u),r=!0)},o(u){qe(s,u),r=!1},d(u){u&&v(e),s&&s.d(u)}}}function ic(n){let e,t,r=n[164].label+"",l;return{c(){e=A("div"),t=A("b"),l=Ne(r),this.h()},l(o){e=O(o,"DIV",{class:!0});var s=z(e);t=O(s,"B",{});var u=z(t);l=Be(u,r),u.forEach(v),s.forEach(v),this.h()},h(){m(e,"class","sv-optgroup-header")},m(o,s){te(o,e,s),_(e,t),_(t,l)},p(o,s){s[0]&33554432|s[5]&256&&r!==(r=o[164].label+"")&&$e(l,r)},i:Ct,o:Ct,d(o){o&&v(e)}}}function lc(n){let e,t,r=Ui(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Wi(!1),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);t=Yi(o,!1),o.forEach(v),this.h()},h(){t.a=null,m(e,"class","sv-item--content")},m(l,o){te(l,e,o),t.m(r,e)},p(l,o){o[0]&41944064|o[1]&8192|o[5]&256&&r!==(r=Ui(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&v(e)}}}function sc(n){zs(n);let e,t,r,l,o;const s=[ic,rc],u=[];function f(p,d){return p[164].$isGroupHeader?0:1}return t=f(n),r=u[t]=s[t](n),{c(){e=A("div"),r.c(),this.h()},l(p){e=O(p,"DIV",{slot:!0,style:!0});var d=z(e);r.l(d),d.forEach(v),this.h()},h(){m(e,"slot","item"),m(e,"style",l=n[162])},m(p,d){te(p,e,d),u[t].m(e,null),o=!0},p(p,d){zs(p);let y=t;t=f(p),t===y?u[t].p(p,d):(un(),qe(u[y],1,1,()=>{u[y]=null}),cn(),r=u[t],r?r.p(p,d):(r=u[t]=s[t](p),r.c()),Le(r,1),r.m(e,null)),(!o||d[5]&128&&l!==(l=p[162]))&&m(e,"style",l)},i(p){o||(Le(r),o=!0)},o(p){qe(r),o=!1},d(p){p&&v(e),u[t].d()}}}function sa(n){let e,t,r,l,o,s;const u=n[109]["create-row"],f=Tn(u,n,n[118],Ns),p=f||ac(n);return{c(){e=A("div"),t=A("button"),p&&p.c(),this.h()},l(d){e=O(d,"DIV",{class:!0});var y=z(e);t=O(y,"BUTTON",{type:!0,class:!0});var C=z(t);p&&p.l(C),C.forEach(v),y.forEach(v),this.h()},h(){m(t,"type","button"),m(t,"class","creatable-row svelte-hi60qz"),t.disabled=r=n[1](n[23]),Me(t,"active",(n[25].length?n[25].length:0)===n[21]),Me(t,"is-disabled",n[1](n[23])),m(e,"class","is-dropdown-row svelte-hi60qz")},m(d,y){te(d,e,y),_(e,t),p&&p.m(t,null),l=!0,o||(s=[Qe(t,"click",Il(n[51])),Qe(t,"mousedown",Il(n[110]))],o=!0)},p(d,y){f?f.p&&(!l||y[0]&25165824|y[1]&16|y[3]&33554432)&&In(f,u,d,d[118],l?On(u,d[118],y,Ru):An(d[118]),Ns):p&&p.p&&(!l||y[0]&25165824|y[1]&18)&&p.p(d,l?y:[-1,-1,-1,-1,-1,-1]),(!l||y[0]&8388610&&r!==(r=d[1](d[23])))&&(t.disabled=r),(!l||y[0]&35651584)&&Me(t,"active",(d[25].length?d[25].length:0)===d[21]),(!l||y[0]&8388610)&&Me(t,"is-disabled",d[1](d[23]))},i(d){l||(Le(p,d),l=!0)},o(d){qe(p,d),l=!1},d(d){d&&v(e),p&&p.d(d),o=!1,Xn(s)}}}function ac(n){let e,t=n[24].createRowLabel(n[23])+"",r,l,o,s,u,f,p,d="Enter";return{c(){e=A("span"),r=Ne(t),l=se(),o=A("span"),s=A("kbd"),u=Ne(n[32]),f=Ne("+"),p=A("kbd"),p.textContent=d,this.h()},l(y){e=O(y,"SPAN",{class:!0});var C=z(e);r=Be(C,t),C.forEach(v),l=ae(y),o=O(y,"SPAN",{class:!0});var T=z(o);s=O(T,"KBD",{class:!0});var k=z(s);u=Be(k,n[32]),k.forEach(v),f=Be(T,"+"),p=O(T,"KBD",{class:!0,"data-svelte-h":!0}),Xe(p)!=="svelte-eby1n8"&&(p.textContent=d),T.forEach(v),this.h()},h(){m(e,"class","svelte-hi60qz"),Me(e,"is-loading",n[35]),m(s,"class","svelte-hi60qz"),m(p,"class","svelte-hi60qz"),m(o,"class","shortcut svelte-hi60qz")},m(y,C){te(y,e,C),_(e,r),te(y,l,C),te(y,o,C),_(o,s),_(s,u),_(o,f),_(o,p)},p(y,C){C[0]&25165824&&t!==(t=y[24].createRowLabel(y[23])+"")&&$e(r,t),C[1]&16&&Me(e,"is-loading",y[35]),C[1]&2&&$e(u,y[32])},d(y){y&&(v(e),v(l),v(o))}}}function oc(n){let e,t,r,l,o,s,u,f,p,d,y,C,T,k,S,L,N,P,G,I,oe,ne,J,De,me,ee,be,Ce,ue=n[28]&&Js(n),le=n[4]&&!n[6]&&Qs(n);const ge=n[109].icon,de=Tn(ge,n,n[118],Ys);let ce=n[19].length&&xs(n),we=n[9]&&!n[3]&&ta(n),D=n[9]&&ra();const M=n[109]["dropdown-toggle"],j=Tn(M,n,n[118],Vs),he=j||Ju(),B=n[109]["control-end"],Y=Tn(B,n,n[118],Hs);let ie=n[18]&&n[31]&&ia(n);return{c(){e=A("div"),t=A("span"),ue&&ue.c(),r=se(),le&&le.c(),l=se(),o=A("div"),de&&de.c(),s=se(),u=A("div"),ce&&ce.c(),f=se(),p=A("span"),d=A("input"),N=se(),P=A("div"),we&&we.c(),G=se(),D&&D.c(),I=se(),oe=A("button"),he&&he.c(),ne=se(),Y&&Y.c(),J=se(),De=A("div"),ie&&ie.c(),this.h()},l(W){e=O(W,"DIV",{class:!0,role:!0});var Se=z(e);t=O(Se,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Ve=z(t);ue&&ue.l(Ve),Ve.forEach(v),r=ae(Se),le&&le.l(Se),l=ae(Se),o=O(Se,"DIV",{class:!0});var _e=z(o);de&&de.l(_e),s=ae(_e),u=O(_e,"DIV",{class:!0});var $=z(u);ce&&ce.l($),f=ae($),p=O($,"SPAN",{class:!0,"data-value":!0});var xe=z(p);d=O(xe,"INPUT",{type:!0,class:!0,size:!0,id:!0,placeholder:!0,inputmode:!0,enterkeyhint:!0,"aria-label":!0,"aria-describedby":!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,"aria-autocomplete":!0,tabindex:!0}),xe.forEach(v),$.forEach(v),N=ae(_e),P=O(_e,"DIV",{class:!0});var Ee=z(P);we&&we.l(Ee),G=ae(Ee),D&&D.l(Ee),I=ae(Ee),oe=O(Ee,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var Pe=z(oe);he&&he.l(Pe),Pe.forEach(v),Ee.forEach(v),ne=ae(_e),Y&&Y.l(_e),_e.forEach(v),J=ae(Se),De=O(Se,"DIV",{class:!0});var Ue=z(De);ie&&ie.l(Ue),Ue.forEach(v),Se.forEach(v),this.h()},h(){m(t,"aria-live","polite"),m(t,"aria-atomic","false"),m(t,"aria-relevant","additions text"),m(t,"class","a11y-text svelte-hi60qz"),m(d,"type","text"),m(d,"class","sv-input--text form-control svelte-hi60qz"),m(d,"size","1"),m(d,"id",n[2]),m(d,"placeholder",y=n[23]?"":n[47]),m(d,"inputmode",n[48]),d.readOnly=C=!n[8],m(d,"enterkeyhint",n[43]),d.disabled=n[3],m(d,"aria-label",T=n[24].aria_label),m(d,"aria-describedby",k=n[24].aria_describedby),m(d,"autocapitalize","none"),m(d,"autocomplete","off"),m(d,"autocorrect","off"),m(d,"spellcheck","false"),m(d,"aria-autocomplete","list"),m(d,"tabindex","0"),Me(d,"keep-value",!n[11]),m(p,"class","sv-input--sizer form-control svelte-hi60qz"),m(p,"data-value",S=n[23]||n[47]),m(u,"class","sv-control--selection svelte-hi60qz"),Me(u,"is-single",n[0]===!1),Me(u,"has-items",n[19].length>0),Me(u,"has-input",n[23].length),m(oe,"type","button"),m(oe,"class","sv-btn-indicator svelte-hi60qz"),m(oe,"data-action","toggle"),m(oe,"tabindex","-1"),Me(oe,"sv-dropdown-opened",n[20]),m(P,"class","sv-buttons svelte-hi60qz"),Me(P,"is-loading",n[34]),m(o,"class","sv-control form-control svelte-hi60qz"),m(De,"class","sv_dropdown svelte-hi60qz"),Me(De,"is-open",n[30]),m(e,"class",me=$l(`svelecte ${n[16]}`)+" svelte-hi60qz"),m(e,"role","none"),Me(e,"is-required",n[5]),Me(e,"is-empty",n[19].length===0),Me(e,"is-invalid",n[5]&&n[19].length===0),Me(e,"is-tainted",n[29]),Me(e,"is-valid",n[5]?n[19].length>0:!0),Me(e,"is-focused",n[28]),Me(e,"is-open",n[20]),Me(e,"is-disabled",n[3])},m(W,Se){te(W,e,Se),_(e,t),ue&&ue.m(t,null),_(e,r),le&&le.m(e,null),_(e,l),_(e,o),de&&de.m(o,null),_(o,s),_(o,u),ce&&ce.m(u,null),_(u,f),_(u,p),_(p,d),n[113](d),Ht(d,n[23]),_(o,N),_(o,P),we&&we.m(P,null),_(P,G),D&&D.m(P,null),_(P,I),_(P,oe),he&&he.m(oe,null),_(o,ne),Y&&Y.m(o,null),_(e,J),_(e,De),ie&&ie.m(De,null),ee=!0,be||(Ce=[Qe(d,"input",n[114]),Qe(d,"focus",n[56]),Qe(d,"keydown",n[53]),Qe(d,"keyup",n[54]),Qe(d,"input",n[55]),Qe(d,"blur",n[57]),Qe(d,"paste",n[58]),ci(L=n[12].call(null,u,{items:n[19],flipDurationMs:n[36],type:n[2],dragDisabled:n[33]})),Qe(u,"consider",n[59]),Qe(u,"finalize",n[59]),Qe(o,"mousedown",aa),Qe(o,"click",n[52]),Qe(De,"mousedown",aa),Qe(De,"click",n[52]),ci(n[17].call(null,De))],be=!0)},p(W,Se){W[28]?ue?ue.p(W,Se):(ue=Js(W),ue.c(),ue.m(t,null)):ue&&(ue.d(1),ue=null),W[4]&&!W[6]?le?le.p(W,Se):(le=Qs(W),le.c(),le.m(e,l)):le&&(le.d(1),le=null),de&&de.p&&(!ee||Se[3]&33554432)&&In(de,ge,W,W[118],ee?On(ge,W[118],Se,qu):An(W[118]),Ys),W[19].length?ce?(ce.p(W,Se),Se[0]&524288&&Le(ce,1)):(ce=xs(W),ce.c(),Le(ce,1),ce.m(u,f)):ce&&(un(),qe(ce,1,1,()=>{ce=null}),cn()),(!ee||Se[0]&4)&&m(d,"id",W[2]),(!ee||Se[0]&8388608|Se[1]&65536&&y!==(y=W[23]?"":W[47]))&&m(d,"placeholder",y),(!ee||Se[1]&131072)&&m(d,"inputmode",W[48]),(!ee||Se[0]&256&&C!==(C=!W[8]))&&(d.readOnly=C),(!ee||Se[1]&4096)&&m(d,"enterkeyhint",W[43]),(!ee||Se[0]&8)&&(d.disabled=W[3]),(!ee||Se[0]&16777216&&T!==(T=W[24].aria_label))&&m(d,"aria-label",T),(!ee||Se[0]&16777216&&k!==(k=W[24].aria_describedby))&&m(d,"aria-describedby",k),Se[0]&8388608&&d.value!==W[23]&&Ht(d,W[23]),(!ee||Se[0]&2048)&&Me(d,"keep-value",!W[11]),(!ee||Se[0]&8388608|Se[1]&65536&&S!==(S=W[23]||W[47]))&&m(p,"data-value",S),L&&Zr(L.update)&&Se[0]&524292|Se[1]&36&&L.update.call(null,{items:W[19],flipDurationMs:W[36],type:W[2],dragDisabled:W[33]}),(!ee||Se[0]&1)&&Me(u,"is-single",W[0]===!1),(!ee||Se[0]&524288)&&Me(u,"has-items",W[19].length>0),(!ee||Se[0]&8388608)&&Me(u,"has-input",W[23].length),W[9]&&!W[3]?we?(we.p(W,Se),Se[0]&520&&Le(we,1)):(we=ta(W),we.c(),Le(we,1),we.m(P,G)):we&&(un(),qe(we,1,1,()=>{we=null}),cn()),W[9]?D||(D=ra(),D.c(),D.m(P,I)):D&&(D.d(1),D=null),j&&j.p&&(!ee||Se[0]&1048576|Se[3]&33554432)&&In(j,M,W,W[118],ee?On(M,W[118],Se,Ku):An(W[118]),Vs),(!ee||Se[0]&1048576)&&Me(oe,"sv-dropdown-opened",W[20]),(!ee||Se[1]&8)&&Me(P,"is-loading",W[34]),Y&&Y.p&&(!ee||Se[3]&33554432)&&In(Y,B,W,W[118],ee?On(B,W[118],Se,zu):An(W[118]),Hs),W[18]&&W[31]?ie?(ie.p(W,Se),Se[0]&262144|Se[1]&1&&Le(ie,1)):(ie=ia(W),ie.c(),Le(ie,1),ie.m(De,null)):ie&&(un(),qe(ie,1,1,()=>{ie=null}),cn()),(!ee||Se[0]&1073741824)&&Me(De,"is-open",W[30]),(!ee||Se[0]&65536&&me!==(me=$l(`svelecte ${W[16]}`)+" svelte-hi60qz"))&&m(e,"class",me),(!ee||Se[0]&65568)&&Me(e,"is-required",W[5]),(!ee||Se[0]&589824)&&Me(e,"is-empty",W[19].length===0),(!ee||Se[0]&589856)&&Me(e,"is-invalid",W[5]&&W[19].length===0),(!ee||Se[0]&536936448)&&Me(e,"is-tainted",W[29]),(!ee||Se[0]&589856)&&Me(e,"is-valid",W[5]?W[19].length>0:!0),(!ee||Se[0]&268500992)&&Me(e,"is-focused",W[28]),(!ee||Se[0]&1114112)&&Me(e,"is-open",W[20]),(!ee||Se[0]&65544)&&Me(e,"is-disabled",W[3])},i(W){ee||(Le(de,W),Le(ce),Le(we),Le(he,W),Le(Y,W),Le(ie),ee=!0)},o(W){qe(de,W),qe(ce),qe(we),qe(he,W),qe(Y,W),qe(ie),ee=!1},d(W){W&&v(e),ue&&ue.d(),le&&le.d(),de&&de.d(W),ce&&ce.d(),n[113](null),we&&we.d(),D&&D.d(),he&&he.d(W),Y&&Y.d(W),ie&&ie.d(),be=!1,Xn(Ce)}}}bt.requestFactory=pu;const Mi={default(n){return du(n[this.label])}},Li=n=>({destroy:()=>{}}),uc=bt;function aa(n){n.preventDefault()}function cc(n,e,t){let r,l,o,s,u,f,p,d,y,C,{$$slots:T={},$$scope:k}=e,{name:S="svelecte"}=e,{inputId:L=""}=e,{required:N=!1}=e,{disabled:P=!1}=e,{anchor_element:G=null}=e,{options:I=[]}=e,{optionResolver:oe=null}=e,{valueField:ne=bt.valueField}=e,{labelField:J=bt.labelField}=e,{groupLabelField:De=bt.groupLabelField}=e,{groupItemsField:me=bt.groupItemsField}=e,{disabledField:ee=bt.disabledField}=e,{placeholder:be=bt.placeholder}=e,{searchable:Ce=bt.searchable}=e,{clearable:ue=bt.clearable}=e,{renderer:le=null}=e,{disableHighlight:ge=!1}=e,{highlightFirstItem:de=bt.highlightFirstItem}=e,{selectOnTab:ce=bt.selectOnTab}=e,{resetOnBlur:we=bt.resetOnBlur}=e,{resetOnSelect:D=bt.resetOnSelect}=e,{closeAfterSelect:M=bt.closeAfterSelect}=e,{deselectMode:j="native"}=e,{dndzone:he=()=>({noop:!0,destroy:()=>{}})}=e,{validatorAction:B=[]}=e,{strictMode:Y=!0}=e,{multiple:ie=bt.multiple}=e,{max:W=bt.max}=e,{collapseSelection:Se=bt.collapseSelection}=e,{keepSelectionInList:Ve=bt.keepSelectionInList}=e,{creatable:_e=bt.creatable}=e,{creatablePrefix:$=bt.creatablePrefix}=e,{allowEditing:xe=bt.allowEditing}=e,{keepCreated:Ee=bt.keepCreated}=e,{delimiter:Pe=bt.delimiter}=e,{createFilter:Ue=null}=e,{createHandler:x=null}=e,{fetch:Ge=null}=e,{fetchProps:ze=bt.fetchProps}=e,{fetchMode:ke="auto"}=e,{fetchCallback:tt=bt.fetchCallback}=e,{fetchResetOnBlur:Dt=!0}=e,{fetchDebounceTime:zt=bt.fetchDebounceTime}=e,{minQuery:It=bt.minQuery}=e,{lazyDropdown:ht=bt.lazyDropdown}=e,{virtualList:it=bt.virtualList}=e,{vlHeight:Ye=bt.vlHeight}=e,{vlItemSize:Ze=bt.vlItemSize}=e,{searchProps:Mt=null}=e,{class:rt="form-control"}=e,{i18n:ln=null}=e,{readSelection:tn=null}=e,{value:wt=null}=e,{valueAsObject:Tt=bt.valueAsObject}=e,{parentValue:yn=void 0}=e,{positionResolver:Yt=Li}=e;function He(){Un.focus()}function Mn(w,Ie){Fr(w),Ie&&cr()}function nn(w){return w?wt:tn}function sn(w){Ge&&($r({init:!0,initValue:w,storedValue:Dt}),t(64,Dt=!1))}const Ae=Gi(),qt=`sv-${S}-select`;Ge&&wt&&Tt&&(!I||I&&I.length===0)&&(I=Array.isArray(wt)?wt:[wt]),L||(L=`${qt}-input`),ie=S&&!ie?S.endsWith("[]"):ie;let Kn=!1,an,Ot=oe?oe(I,new Set):Rs(I,ne,J),Vt,mt=ne||Pi("value",Ot,me),gt=J||Pi("label",Ot,me),ut=wt!==null?Iu(Ot,wt,Tt,me,mt):[];const At=ut.reduce((w,Ie)=>(w.add(Ie[mt]),w),new Set);let fn=ut.filter(w=>w.$created),dn=!1,lt=!1,ve=!1,We=!1,kt=!1,_t=de?0:null,Je=!ht,$t=null,Ln=it&&Ye===null&&Ze===null,wn=Ye,Zt=Ze,er,ct="",hn=!1,St,Kt=ke==="init"||Ge&&Ge.includes("[query]")===!1,xn=Kt||Ge&&I.length===0?wt:null,tr=null,Pt=Se!==null,Lt=!1,Rn=!1,Qr=100,qn=!1,br=!1,Un,Bt,pn,mn,nr;const kn=Tu(mt,gt,De,me);ur(ln,!0);function Et(w,Ie){Kn&&(w&&mt!==w&&(t(107,kn.valueField=t(27,mt=w),kn),At.size>0&&gr()),Ie&&(t(107,kn.labelField=t(104,gt=Ie),kn),(le===null||le==="default")&&t(44,s=Mi.default.bind({label:gt}))))}function gi(w){if(Kn){if(Ot!==w){if(w=Rs(w,mt,gt),!ne){const Ie=Pi("value",w||null,me);!ne&&mt!==Ie&&(t(107,kn.valueField=t(27,mt=Ie),kn),At.size>0&&gr())}if(!J){const Ie=Pi("label",w||null,me);!J&&gt!==Ie&&(t(107,kn.labelField=Ie,kn),t(104,gt=Ie),(le===null||le==="default")&&t(44,s=Mi.default.bind({label:gt})))}}t(61,I=w),t(103,Ot=oe?oe(w,At):w)}}function Fr(w,Ie){if(!(an===w&&!(Ie!=null&&Ie.skipEqualityCheck))){if(gr(),w!==null){if((ie&&!Array.isArray(w)||!ie&&Array.isArray(w))&&console.warn(`Passed 'value' property should ${ie?"be":"NOT be"} an array`),xn)return;const nt=Array.isArray(w)?w:[w],et=nt.reduce((En,Dn)=>{if(Tt&&(!Y||_e&&Dn.$created))return En.push(Dn),En;const gn=l.find(Hn=>Tt?Hn[mt]==Dn[mt]:Hn[mt]==Dn);return gn?En.push(gn):!Y&&En.push(x?x({inputValue:Dn,valueField:mt,labelField:gt,prefix:$}):{[mt]:Dn,[gt]:Dn}),En},[]);if(!(et.every(Kr)&&(ie?nt.length===et.length:et.length>0))){console.warn('[Svelecte]: provided "value" property is invalid',w),t(63,wt=ie?[]:null),t(65,tn=wt),Ae("invalidValue",w);return}t(65,tn=Array.isArray(w)?et:et.shift())}an=w}}function _i(w){if(qn)return;const Ie=w.map(et=>{const{$disabled:jt,$isGroupItem:En,...Dn}=et;return Dn}),nt=ie?Ie:Ie.length?Ie[0]:null;Tt?an=nt:an=ie?nt.map(et=>et[mt]):ut.length?nt[mt]:null,t(63,wt=an),t(65,tn=nt),W&&w.length===W&&t(42,on=St.max(W))}function Ft(w){if(w!==void 0&&Vt!==w||w===void 0&&Vt!==w){const Ie=w===void 0?!1:!w;gr(),an=ie?[]:null,t(3,P=Ie)}Vt=w,br=w!==void 0}function pr(w){!Kn||!Je||dr().then(()=>{if(!nr)return;const Ie=Cu(nr,mn,o);t(22,Zt=Ie.size),t(106,wn=Ie.height)}).then(()=>Yt===Li&&kl(We,mn,Je))}function yr(w){Kn&&(w&&!lt&&(lt=!0),!Je&&w&&t(31,Je=!0),dr().then(()=>{Ln&&pr()}).then(()=>{Yt===Li&&kl(w,mn,!0),w&&(de&&(ut.length===0||ie)&&jn(0,{asc:!0}),!ie&&ut.length&&t(21,_t=l.findIndex(Ie=>Ie===ut[0])),Oi({container:pn,scrollContainer:mn,virtualList:it,center:!1},_t)),dr().then(()=>t(30,kt=w))}),$t||($t=()=>Yt===Li&&kl(w,mn,!0)),document[w?"addEventListener":"removeEventListener"]("scroll",$t,{passive:!0}))}function ur(w,Ie=null){(Kn||Ie)&&t(24,St=Object.assign({},uc.i18n,w||{}))}function Xr(w,Ie){if(!(Ge&&!Kt)){if(w){t(42,on=St.max(W));return}t(42,on=Ie.length!==l.length&&ut.length!==l.length?_e?St.emptyCreatable:St.nomatch:_e?St.emptyCreatable:St.empty)}}function cr(){dr().then(()=>{Ae("change",tn),Bt&&(Bt.dispatchEvent(new Event("input")),Bt.dispatchEvent(new Event("change")))})}function zr(w){Ae("createoption",w)}function mr(w,Ie){if(Ie=Ie||w.detail,!(P||Ie[ee]||Ie.$isGroupHeader)){if(!Ie||ie&&r)return!1;if(At.has(Ie[mt]))return!ie&&j!=="toggle"?void 0:Nn(null,Ie);if(typeof Ie=="string"){if(!_e||(Ie=yl(Ie),fn.includes(Ie)||At.has(Ie)))return;t(35,Rn=!0),Promise.resolve().then(()=>x({inputValue:Ie,valueField:mt,labelField:gt,prefix:$})).then(nt=>{t(35,Rn=!1),!Ge&&fn.push(Ie),nt.$created=!0,Ee&&t(103,Ot=[...Ot,nt]),zr(nt),Kr(nt),wr(),cr()}).catch(nt=>{t(35,Rn=!1),Ae("createFail",{input:Ie,error:nt})});return}Kr(Ie),wr(),cr()}}function wr(){(ie&&D||!ie)&&t(23,ct=""),(M===!0||M==="auto"&&!ie)&&t(20,We=!1),W&&ut.length==W&&t(21,_t=0)}function Kr(w){if(w.$selected=!0,ie)ut.push(w),t(19,ut),At.add(w[mt]);else{const Ie=ut.shift();Ie&&(Ie.$selected=!1),t(19,ut=[w]),At.clear(),At.add(w[mt]),dr().then(()=>{t(21,_t=l.indexOf(w))})}return oe?(t(103,Ot=oe(I,At)),!0):(t(108,l),t(103,Ot),t(107,kn),!0)}function Nn(w={},Ie=null,nt){P||(Ie=Ie||w.detail,Ie?(kr(Ie,nt),Ve!==!0&&dr().then(()=>Oi({scrollContainer:mn,container:pn,virtualList:it,center:!1},_t))):gr(),cr())}function kr(w,Ie){if(w.$created){if(fn.splice(fn.findIndex(et=>et===w[mt]),1),t(105,fn),!Ee){const et=Ot.findIndex(jt=>jt[mt]===w[mt]);et!==-1&&Ot.splice(et,1),t(103,Ot)}Ie&&xe&&t(23,ct=w[gt].replace($,""))}w.$selected=!1;const nt=w[mt];if(At.delete(nt),ut.splice(ut.findIndex(et=>et[mt]==nt),1),t(19,ut),oe){t(103,Ot=oe(I,At));return}t(108,l=Ge&&!Kt&&Dt?[]:l)}function gr(){if(!(At.size===0||!ie&&j==="none")){if(At.clear(),t(19,ut=ut.reduce((w,Ie)=>(Ie.$selected=!1,[]),[])),Ee||t(105,fn=[]),t(26,r=!1),ct&&t(23,ct=""),oe){t(103,Ot=oe(I,At));return}t(108,l=Ge&&!Kt&&Dt?[]:l)}}function Zi(w){fn.includes(ct)||mr(null,ct)}function vt(w){if(_e&&Pe.indexOf(w.key)>-1){ct.length>0&&mr(null,ct),w.preventDefault();return}const Ie=ce&&We&&!w.shiftKey?"Tab":"No-tab";let nt=tr?w.metaKey:w.ctrlKey,et=["PageUp","PageDown"].includes(w.key),jt=!1,En=!1;switch(w.key){case"End":if(ct.length!==0)return;jn(o.length,{desc:!0});case"PageDown":if(et){const[Hn,lr]=Hr();t(21,_t=Math.min(Math.ceil((lr*_t+Hn)/lr),o.length))}case"ArrowUp":if(w.preventDefault(),!We){t(20,We=!0);return}jn(_t-1,{desc:!0}),dr().then(()=>Oi({scrollContainer:mn,container:pn,virtualList:it,center:!1},_t));break;case"Home":if(En=!0,ct.length!==0||ct.length===0&&o.length===0)return;jn(0,{asc:!0});case"PageUp":if(et){const[Hn,lr]=Hr();t(21,_t=Math.floor((lr*_t-Hn)/lr))}case"ArrowDown":if(w.preventDefault(),!We){t(20,We=!0);return}!En&&jn((_t===null?-1:_t)+1,{asc:!0}),dr().then(()=>Oi({scrollContainer:mn,container:pn,virtualList:it,center:!1},_t));break;case"Escape":We&&(w.preventDefault(),w.stopPropagation()),ct||t(20,We=!1),t(23,ct="");break;case Ie:case"Enter":if(!We){w.key!==Ie&&Ae("enterKey",w);return}let gn=nt?null:o[_t];if(_e&&ct){const Hn=Ue(yl(ct));gn=!gn||nt?yl(ct):gn,nt=Hn}if(!nt&&gn&&mr(null,gn),o.length<=_t&&jn(o.length-1),!gn&&ut.length){t(20,We=!1),w.key!==Ie&&Ae("enterKey",w);return}(w.key!==Ie||w.key===Ie&&ce!=="select-navigate")&&w.preventDefault();break;case" ":!Ge&&!We&&(t(20,We=!0),w.preventDefault());break;case"Backspace":if(Se==="always")return;jt=!0;case"Delete":if(ct===""&&ut.length){if(!ie&&j==="none")return;nt?Nn({}):Nn(null,ut[ut.length-1],jt),w.preventDefault()}default:!nt&&!["Tab","Shift"].includes(w.key)&&!We&&!Lt&&t(20,We=!0)}}function xr(w){if(P)return;const Ie=w.target.closest("[data-action]");if(lt||(lt=!0),(Ie==null?void 0:Ie.dataset.action)==="default")return;w.preventDefault();const nt=w.target.closest("[data-pos]");if(!Ie&&!nt)return bi(w.target);switch((Ie==null?void 0:Ie.dataset.action)||"select"){case"deselect":let jt=Ie.bound_item;if(!jt){const Dn=Ie.dataset.id;jt=ut.filter(gn=>gn[mt]==Dn).shift()}Nn({},jt),jt&&!dn&&Un.focus();break;case"select":const En=parseInt(nt.dataset.pos);mr(null,o[En]);break;case"toggle":t(20,We=!We);break}}function Ji(w){if(Ts()&&!d&&w.key==="Enter")return!0;hn=["Enter","Escape"].includes(w.key)&&We,vt(w)}function Qi(w){hn&&(w.stopImmediatePropagation(),w.preventDefault()),hn=!1}function Sn(){ut.length}function _r(){t(28,dn=!0),t(20,We=lt),ve||t(29,ve=!0),Se==="blur"&&!qn&&setTimeout(()=>{t(33,Pt=!1)},100),Ae("focus",Un)}function jr(){t(28,dn=!1),t(20,We=!1),lt=!1,we?t(23,ct=""):Sr&&!Kt&&Sr.abort("blur"),Se==="blur"&&!qn&&setTimeout(()=>{t(33,Pt=!0)},100),Ae("blur",Un)}function rr(w){if(_e){w.preventDefault();const Ie=new RegExp("([^"+Pe+"\\n]+)","g"),nt=w.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),et=nt.match(Ie);et.length===1&&nt.indexOf(",")===-1&&t(23,ct=et.pop().trim()),et.forEach(jt=>mr(null,jt.trim()))}}function vi(w){qn=w.type==="consider",t(19,ut=w.detail.items),qn||(cr(),Se==="blur"&&setTimeout(()=>{t(33,Pt=!0)},200))}let Sr,Gt,on=Ge?Kt?St.fetchInit:It>1?St.fetchQuery(It,0):St.fetchBefore:_e?St.emptyCreatable:St.empty;function Er(w,Ie){if(!w){Gt=null;return}(Kt||xn)&&(t(34,Lt=!0),$r({init:!0})),Gt=hu($r,zt)}let Dr=Wr({control:null});const Cr=(w=null)=>Dr.update(Ie=>{var nt;return(nt=Ie.control)==null||nt.abort(),{control:w}});function ir(w){Kt||r||Gt&&(Cr(),t(34,Lt=!0),ct.length<It&&t(34,Lt=!1),Dt&&t(25,o=[]),t(30,kt=!(w.length>=It)),t(42,on=It<=1?St.fetchBefore:St.fetchQuery(It,w.length)),Gt())}function $r(w={}){if(Cr(),w.init!==!0&&!ct.length||br&&!yn){t(34,Lt=!1),Dt&&t(103,Ot=oe?oe(I,At):[]);return}if(ct&&ct.length<It){t(34,Lt=!1);return}Kt&&an&&(!ie||(an==null?void 0:an.length)>0)&&(xn=an);const Ie=xn||w.initValue;Kt&&t(42,on=St.fetchInit);const nt=bt.requestFactory(ct,{parentValue:yn,url:Ge,initial:Ie},ze);Sr=nt.controller,Cr(nt.controller),window.fetch(nt.request).then(et=>et.json()).then(et=>(!Array.isArray(et)&&(et!=null&&et.error)&&Ae("fetchError",et.error),Promise.resolve(tt?tt(et):et.data||et.items||et.options||et).then(jt=>{Array.isArray(jt)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",jt),jt=[]),t(103,Ot=jt),Ae("fetch",jt),dr().then(()=>{Ie&&(xn=null,Fr(Ie,{skipEqualityCheck:!0}),"storedValue"in w&&t(64,Dt=w.storedValue))})}))).catch(et=>{if(et instanceof DOMException&&et.name==="AbortError")return!0;t(103,Ot=[]),Ae("fetchError",et),console.warn("[Svelecte] Fetch Error:",et)}).then(et=>{et!==!0&&(t(42,on=Kt?St.empty:Ie?It>1?St.fetchQuery(It,0):St.fetchBefore:St.fetchEmpty),Sr=null,t(34,Lt=!1),dn&&t(20,We=!0),We&&!kt&&t(30,kt=!0))})}function Gn(w){return Ve?Ve===!0?w?At:null:w||ie?At:null:At}function jn(w,Ie={},nt=0){var jt;const et=_e?o.length+1:o.length;if(!(nt>=2)){if(w<0&&(w=Ie.desc?et-1:0),(_t===null&&de||w>=et)&&(w=0),(jt=o[w])!=null&&jt.$isGroupHeader){jn(Ie.asc?w+1:w-1,Ie,++nt);return}t(21,_t=w)}}function bi(w){if(!P){if(!dn){Un.focus();return}w.tagName==="INPUT"&&ct||t(20,We=!We)}}function Hr(){return it?[mn.offsetHeight,Zt]:[mn.offsetHeight,pn.firstElementChild.offsetHeight]}const Tr=B.length?B.shift():()=>{};xa(()=>{t(18,Kn=!0),Ts(),tr=fu(),t(32,er=tr?"â":"Ctrl"),G?(t(38,Bt=document.getElementById(G)),t(38,Bt.className="sv-hidden-element",Bt),t(38,Bt.innerHTML="",Bt),t(38,Bt.tabIndex=-1,Bt),t(38,Bt.disabled=P,Bt),t(38,Bt.required=N,Bt),t(38,Bt.multiple=ie,Bt),!ie&&Bt.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),At.forEach(w=>{Bt.insertAdjacentHTML("beforeend",`<option value=${w} selected>${w}</option>`)})):ut.length&&setTimeout(()=>{Bt&&Array.from(Bt.children).forEach(w=>{w.selected=!0})},200),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t(36,Qr=0)});function ei(w){Tl.call(this,n,w)}function yi(w){Tl.call(this,n,w)}function Xi(w){Ut[w?"unshift":"push"](()=>{Bt=w,t(38,Bt),t(19,ut),t(27,mt)})}function Ir(w){Ut[w?"unshift":"push"](()=>{Un=w,t(37,Un)})}function xi(){ct=this.value,t(23,ct)}function $i(w){Ut[w?"unshift":"push"](()=>{nr=w,t(41,nr)})}function Vr(w){Ut[w?"unshift":"push"](()=>{pn=w,t(39,pn)})}function qr(w){Ut[w?"unshift":"push"](()=>{mn=w,t(40,mn)})}return n.$$set=w=>{"name"in w&&t(4,S=w.name),"inputId"in w&&t(2,L=w.inputId),"required"in w&&t(5,N=w.required),"disabled"in w&&t(3,P=w.disabled),"anchor_element"in w&&t(6,G=w.anchor_element),"options"in w&&t(61,I=w.options),"optionResolver"in w&&t(66,oe=w.optionResolver),"valueField"in w&&t(67,ne=w.valueField),"labelField"in w&&t(68,J=w.labelField),"groupLabelField"in w&&t(69,De=w.groupLabelField),"groupItemsField"in w&&t(70,me=w.groupItemsField),"disabledField"in w&&t(7,ee=w.disabledField),"placeholder"in w&&t(71,be=w.placeholder),"searchable"in w&&t(8,Ce=w.searchable),"clearable"in w&&t(9,ue=w.clearable),"renderer"in w&&t(72,le=w.renderer),"disableHighlight"in w&&t(10,ge=w.disableHighlight),"highlightFirstItem"in w&&t(73,de=w.highlightFirstItem),"selectOnTab"in w&&t(74,ce=w.selectOnTab),"resetOnBlur"in w&&t(11,we=w.resetOnBlur),"resetOnSelect"in w&&t(75,D=w.resetOnSelect),"closeAfterSelect"in w&&t(76,M=w.closeAfterSelect),"deselectMode"in w&&t(77,j=w.deselectMode),"dndzone"in w&&t(12,he=w.dndzone),"validatorAction"in w&&t(13,B=w.validatorAction),"strictMode"in w&&t(78,Y=w.strictMode),"multiple"in w&&t(0,ie=w.multiple),"max"in w&&t(79,W=w.max),"collapseSelection"in w&&t(80,Se=w.collapseSelection),"keepSelectionInList"in w&&t(81,Ve=w.keepSelectionInList),"creatable"in w&&t(14,_e=w.creatable),"creatablePrefix"in w&&t(82,$=w.creatablePrefix),"allowEditing"in w&&t(83,xe=w.allowEditing),"keepCreated"in w&&t(84,Ee=w.keepCreated),"delimiter"in w&&t(85,Pe=w.delimiter),"createFilter"in w&&t(1,Ue=w.createFilter),"createHandler"in w&&t(62,x=w.createHandler),"fetch"in w&&t(86,Ge=w.fetch),"fetchProps"in w&&t(87,ze=w.fetchProps),"fetchMode"in w&&t(88,ke=w.fetchMode),"fetchCallback"in w&&t(89,tt=w.fetchCallback),"fetchResetOnBlur"in w&&t(64,Dt=w.fetchResetOnBlur),"fetchDebounceTime"in w&&t(90,zt=w.fetchDebounceTime),"minQuery"in w&&t(91,It=w.minQuery),"lazyDropdown"in w&&t(92,ht=w.lazyDropdown),"virtualList"in w&&t(15,it=w.virtualList),"vlHeight"in w&&t(93,Ye=w.vlHeight),"vlItemSize"in w&&t(94,Ze=w.vlItemSize),"searchProps"in w&&t(95,Mt=w.searchProps),"class"in w&&t(16,rt=w.class),"i18n"in w&&t(96,ln=w.i18n),"readSelection"in w&&t(65,tn=w.readSelection),"value"in w&&t(63,wt=w.value),"valueAsObject"in w&&t(97,Tt=w.valueAsObject),"parentValue"in w&&t(98,yn=w.parentValue),"positionResolver"in w&&t(17,Yt=w.positionResolver),"$$scope"in w&&t(118,k=w.$$scope)},n.$$.update=()=>{n.$$.dirty[2]&96&&Et(ne,J),n.$$.dirty[0]&524288|n.$$.dirty[2]&131072&&t(26,r=W!==0&&ut.length==W),n.$$.dirty[1]&1073741824&&gi(I),n.$$.dirty[3]&17408&&t(108,l=Au(Ot,kn)),n.$$.dirty[2]&2&&Fr(wt),n.$$.dirty[0]&75497472|n.$$.dirty[3]&49156&&t(25,o=r?[]:Mu(l,ct,Gn(ct),kn,Mt||{})),n.$$.dirty[2]&2048&&de&&jn(0,{asc:!0}),n.$$.dirty[0]&35667968&&o.length<=_t&&jn(0,{asc:!_e,desc:_e}),n.$$.dirty[0]&2|n.$$.dirty[3]&4096&&(Ue||t(1,Ue=w=>fn.includes(w))),n.$$.dirty[2]&1&&(x||t(62,x=({inputValue:w,labelField:Ie,valueField:nt,prefix:et})=>({[nt]:w,[Ie]:`${et}${w}`}))),n.$$.dirty[3]&8&&ur(ln),n.$$.dirty[3]&32&&Ft(yn),n.$$.dirty[0]&524288&&_i(ut),n.$$.dirty[2]&1024|n.$$.dirty[3]&2048&&t(44,s=typeof le=="function"?le:Mi[le]||Mi.default.bind({label:gt})),n.$$.dirty[0]&37748736|n.$$.dirty[3]&8192&&t(49,u=Math.min(wn,Array.isArray(Zt)?Zt.reduce((w,Ie)=>(w+=Ie,w),0):o.length*Zt)),n.$$.dirty[0]&33554432&&Ln&&pr(),n.$$.dirty[0]&1048576&&yr(We),n.$$.dirty[0]&256&&t(48,f=Ce?"text":"none"),n.$$.dirty[0]&524288|n.$$.dirty[2]&512&&t(47,p=ut.length?"":be),n.$$.dirty[0]&524289&&t(43,d=ut.length>0&&ie===!1?null:"enter"),n.$$.dirty[0]&17301504|n.$$.dirty[3]&2048&&t(46,y=St.aria_selected(ut.map(w=>w[gt]))),n.$$.dirty[0]&61865984|n.$$.dirty[3]&2048&&t(45,C=o.length&&_t>0?We?St.aria_listActive(o[_t],gt,o.length):St.aria_inputFocused():ct.length?St.nomatch:St.empty),n.$$.dirty[0]&8388608&&ir(ct),n.$$.dirty[0]&262144|n.$$.dirty[2]&16777216|n.$$.dirty[3]&32&&Kn&&Er(Ge),n.$$.dirty[0]&100663296&&Xr(r,o)},[ie,Ue,L,P,S,N,G,ee,Ce,ue,ge,we,he,B,_e,it,rt,Yt,Kn,ut,We,_t,Zt,ct,St,o,r,mt,dn,ve,kt,Je,er,Pt,Lt,Rn,Qr,Un,Bt,pn,mn,nr,on,d,s,C,y,p,f,u,qt,Zi,xr,Ji,Qi,Sn,_r,jr,rr,vi,Tr,I,x,wt,Dt,tn,oe,ne,J,De,me,be,le,de,ce,D,M,j,Y,W,Se,Ve,$,xe,Ee,Pe,Ge,ze,ke,tt,zt,It,ht,Ye,Ze,Mt,ln,Tt,yn,He,Mn,nn,sn,Ot,gt,fn,wn,kn,l,T,ei,yi,Xi,Ir,xi,$i,Vr,qr,k]}class mi extends Fn{constructor(e){super(),zn(this,e,cc,oc,Pn,{name:4,inputId:2,required:5,disabled:3,anchor_element:6,options:61,optionResolver:66,valueField:67,labelField:68,groupLabelField:69,groupItemsField:70,disabledField:7,placeholder:71,searchable:8,clearable:9,renderer:72,disableHighlight:10,highlightFirstItem:73,selectOnTab:74,resetOnBlur:11,resetOnSelect:75,closeAfterSelect:76,deselectMode:77,dndzone:12,validatorAction:13,strictMode:78,multiple:0,max:79,collapseSelection:80,keepSelectionInList:81,creatable:14,creatablePrefix:82,allowEditing:83,keepCreated:84,delimiter:85,createFilter:1,createHandler:62,fetch:86,fetchProps:87,fetchMode:88,fetchCallback:89,fetchResetOnBlur:64,fetchDebounceTime:90,minQuery:91,lazyDropdown:92,virtualList:15,vlHeight:93,vlItemSize:94,searchProps:95,class:16,i18n:96,readSelection:65,value:63,valueAsObject:97,parentValue:98,positionResolver:17,focus:99,setSelection:100,getSelection:101,refetchWith:102},null,[-1,-1,-1,-1,-1,-1])}get focus(){return this.$$.ctx[99]}get setSelection(){return this.$$.ctx[100]}get getSelection(){return this.$$.ctx[101]}get refetchWith(){return this.$$.ctx[102]}}function fc(n){let e,t,r,l="Add New Trip",o,s,u,f="Trip Name",p,d,y,C,T,k="Trip Currency",S,L,N,P,G,I,oe="Trip Start",ne,J,De,me,ee,be,Ce="Trip End",ue,le,ge,de,ce,we,D="Add Trip",M,j,he="Cancel",B,Y,ie;function W(Ee){n[8](Ee)}let Se={options:n[4],inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[1]!==void 0&&(Se.value=n[1]),L=new mi({props:Se}),Ut.push(()=>Qn(L,"value",W));function Ve(Ee){n[9](Ee)}let _e={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[2]!==void 0&&(_e.value=n[2]),J=new di({props:_e}),Ut.push(()=>Qn(J,"value",Ve));function $(Ee){n[10](Ee)}let xe={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[2],id:"tripEnd"};return n[3]!==void 0&&(xe.value=n[3]),le=new di({props:xe}),Ut.push(()=>Qn(le,"value",$)),{c(){e=A("div"),t=A("form"),r=A("h1"),r.textContent=l,o=se(),s=A("div"),u=A("label"),u.textContent=f,p=se(),d=A("input"),y=se(),C=A("div"),T=A("label"),T.textContent=k,S=se(),Jt(L.$$.fragment),P=se(),G=A("div"),I=A("label"),I.textContent=oe,ne=se(),Jt(J.$$.fragment),me=se(),ee=A("div"),be=A("label"),be.textContent=Ce,ue=se(),Jt(le.$$.fragment),de=se(),ce=A("div"),we=A("button"),we.textContent=D,M=se(),j=A("a"),j.textContent=he,this.h()},l(Ee){e=O(Ee,"DIV",{class:!0});var Pe=z(e);t=O(Pe,"FORM",{});var Ue=z(t);r=O(Ue,"H1",{"data-svelte-h":!0}),Xe(r)!=="svelte-1x3twms"&&(r.textContent=l),o=ae(Ue),s=O(Ue,"DIV",{class:!0});var x=z(s);u=O(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(u)!=="svelte-1y8z10u"&&(u.textContent=f),p=ae(x),d=O(x,"INPUT",{id:!0,class:!0,type:!0}),x.forEach(v),y=ae(Ue),C=O(Ue,"DIV",{class:!0});var Ge=z(C);T=O(Ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(T)!=="svelte-1fzihue"&&(T.textContent=k),S=ae(Ge),Qt(L.$$.fragment,Ge),Ge.forEach(v),P=ae(Ue),G=O(Ue,"DIV",{class:!0});var ze=z(G);I=O(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(I)!=="svelte-4n7gli"&&(I.textContent=oe),ne=ae(ze),Qt(J.$$.fragment,ze),ze.forEach(v),me=ae(Ue),ee=O(Ue,"DIV",{class:!0});var ke=z(ee);be=O(ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(be)!=="svelte-1dn7717"&&(be.textContent=Ce),ue=ae(ke),Qt(le.$$.fragment,ke),ke.forEach(v),de=ae(Ue),ce=O(Ue,"DIV",{class:!0});var tt=z(ce);we=O(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Xe(we)!=="svelte-ik7jo4"&&(we.textContent=D),M=ae(tt),j=O(tt,"A",{href:!0,class:!0,"data-svelte-h":!0}),Xe(j)!=="svelte-wj5j6d"&&(j.textContent=he),tt.forEach(v),Ue.forEach(v),Pe.forEach(v),this.h()},h(){m(u,"for","tripName"),m(u,"class","form-label"),m(d,"id","tripName"),m(d,"class","form-control"),m(d,"type","text"),m(s,"class","mb-3"),m(T,"for","tripCurrency"),m(T,"class","form-label"),m(C,"class","mb-3"),m(I,"for","tripStart"),m(I,"class","form-label"),m(G,"class","mb-3"),m(be,"for","tripStart"),m(be,"class","form-label"),m(ee,"class","mb-3"),m(we,"class","btn btn-primary"),m(j,"href","#/"),m(j,"class","btn btn-outline-primary"),m(ce,"class","gap-3 d-grid d-md-block"),m(e,"class","w-100")},m(Ee,Pe){te(Ee,e,Pe),_(e,t),_(t,r),_(t,o),_(t,s),_(s,u),_(s,p),_(s,d),Ht(d,n[0]),_(t,y),_(t,C),_(C,T),_(C,S),Xt(L,C,null),_(t,P),_(t,G),_(G,I),_(G,ne),Xt(J,G,null),_(t,me),_(t,ee),_(ee,be),_(ee,ue),Xt(le,ee,null),_(t,de),_(t,ce),_(ce,we),_(ce,M),_(ce,j),B=!0,Y||(ie=[Qe(d,"input",n[7]),Qe(we,"click",n[5])],Y=!0)},p(Ee,[Pe]){Pe&1&&d.value!==Ee[0]&&Ht(d,Ee[0]);const Ue={};Pe&16&&(Ue.options=Ee[4]),!N&&Pe&2&&(N=!0,Ue.value=Ee[1],Zn(()=>N=!1)),L.$set(Ue);const x={};!De&&Pe&4&&(De=!0,x.value=Ee[2],Zn(()=>De=!1)),J.$set(x);const Ge={};Pe&4&&(Ge.min=Ee[2]),!ge&&Pe&8&&(ge=!0,Ge.value=Ee[3],Zn(()=>ge=!1)),le.$set(Ge)},i(Ee){B||(Le(L.$$.fragment,Ee),Le(J.$$.fragment,Ee),Le(le.$$.fragment,Ee),B=!0)},o(Ee){qe(L.$$.fragment,Ee),qe(J.$$.fragment,Ee),qe(le.$$.fragment,Ee),B=!1},d(Ee){Ee&&v(e),xt(L),xt(J),xt(le),Y=!1,Xn(ie)}}}function dc(n,e,t){let r,l,o;Jn(n,pi,S=>t(6,l=S)),Jn(n,Ml,S=>t(11,o=S));let s="My Trip",u=o,f=new Date,p=new Date;async function d(){try{const S=await Wt.trips.add({name:s,defaultCurrency:u,startDate:f,startDateString:f.toDateString(),endDate:p,endDateString:p.toDateString(),notes:""});window.location.href="#/trip/"+S}catch{window.location.href="#/"}}function y(){s=this.value,t(0,s)}function C(S){u=S,t(1,u)}function T(S){f=S,t(2,f)}function k(S){p=S,t(3,p)}return n.$$.update=()=>{n.$$.dirty&64&&t(4,r=Bl(l))},[s,u,f,p,r,d,l,y,C,T,k]}class hc extends Fn{constructor(e){super(),zn(this,e,dc,fc,Pn,{})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function ai(n,e,t){const r=document.createElement(e);return n&&(r.className=n),t&&t.appendChild(r),r}function pc(n,e,t){let r=`translate3d(${n}px,0px,0)`;return t!==void 0&&(r+=` scale3d(${t},${t},1)`),r}function Rl(n,e,t){n.style.width=typeof e=="number"?`${e}px`:e,n.style.height=typeof t=="number"?`${t}px`:t}const Yn={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function mc(n){return"button"in n&&n.button===1||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey}function oi(n,e,t=document){let r=[];if(n instanceof Element)r=[n];else if(n instanceof NodeList||Array.isArray(n))r=Array.from(n);else{const l=typeof n=="string"?n:e;l&&(r=Array.from(t.querySelectorAll(l)))}return r}function gc(n){return typeof n=="function"&&n.prototype&&n.prototype.goTo}function oa(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class _c{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class vc{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,r=100){var l,o,s;this._filters[e]||(this._filters[e]=[]),(l=this._filters[e])===null||l===void 0||l.push({fn:t,priority:r}),(o=this._filters[e])===null||o===void 0||o.sort((u,f)=>u.priority-f.priority),(s=this.pswp)===null||s===void 0||s.addFilter(e,t,r)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(l=>{t[0]=l.fn.apply(this,t)}),t[0]}on(e,t){var r,l;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(t),(l=this.pswp)===null||l===void 0||l.on(e,t)}off(e,t){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(l=>t!==l)),(r=this.pswp)===null||r===void 0||r.off(e,t)}dispatch(e,t){var r;if(this.pswp)return this.pswp.dispatch(e,t);const l=new _c(e,t);return(r=this._listeners[e])===null||r===void 0||r.forEach(o=>{o.call(this,l)}),l}}class bc{constructor(e,t){if(this.element=ai("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(Rl(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=pc(0,0,e/250)):Rl(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class yc{constructor(e,t,r){this.instance=t,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Yn.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{const r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new bc(r,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=ai("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=ai("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const l=this.element;this.updateSrcsetSizes(),this.data.srcset&&(l.srcset=this.data.srcset),l.src=(t=this.data.src)!==null&&t!==void 0?t:"",l.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=Yn.LOADING,l.complete?this.onLoaded():(l.onload=()=>{this.onLoaded()},l.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Yn.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Yn.LOADED||this.state===Yn.ERROR)&&this.removePlaceholder())}onError(){this.state=Yn.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Yn.LOADING,this)}isError(){return this.state===Yn.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(Rl(this.element,e,t),this.isImageContent()&&!this.isError()))){const r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Yn.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let r=ai("pswp__error-msg","div");r.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=ai("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Yn.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||oa())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!oa()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Yn.LOADED||this.state===Yn.ERROR)&&this.removePlaceholder()))}}function wc(n,e){if(n.getViewportSizeFn){const t=n.getViewportSizeFn(n,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Ri(n,e,t,r,l){let o=0;if(e.paddingFn)o=e.paddingFn(t,r,l)[n];else if(e.padding)o=e.padding[n];else{const s="padding"+n[0].toUpperCase()+n.slice(1);e[s]&&(o=e[s])}return Number(o)||0}function kc(n,e,t,r){return{x:e.x-Ri("left",n,e,t,r)-Ri("right",n,e,t,r),y:e.y-Ri("top",n,e,t,r)-Ri("bottom",n,e,t,r)}}const ua=4e3;class Sc{constructor(e,t,r,l){this.pswp=l,this.options=e,this.itemData=t,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,r){const l={x:e,y:t};this.elementSize=l,this.panAreaSize=r;const o=r.x/l.x,s=r.y/l.y;this.fit=Math.min(1,o<s?o:s),this.fill=Math.min(1,o>s?o:s),this.vFill=Math.min(1,s),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",r=this.options[t];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>ua&&(e=ua/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function ao(n,e,t){const r=e.createContentFromData(n,t);let l;const{options:o}=e;if(o){l=new Sc(o,n,-1);let s;e.pswp?s=e.pswp.viewportSize:s=wc(o,e);const u=kc(o,s,n,t);l.update(r.width,r.height,u)}return r.lazyLoad(),l&&r.setDisplayedSize(Math.ceil(r.width*l.initial),Math.ceil(r.height*l.initial)),r}function Ec(n,e){const t=e.getItemData(n);if(!e.dispatch("lazyLoadSlide",{index:n,itemData:t}).defaultPrevented)return ao(t,e,n)}class Dc extends vc{getNumItems(){var e;let t=0;const r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?t=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(t=r.items.length));const l=this.dispatch("numItems",{dataSource:r,numItems:t});return this.applyFilters("numItems",l.numItems,r)}createContentFromData(e,t){return new yc(e,this,t)}getItemData(e){var t;const r=(t=this.options)===null||t===void 0?void 0:t.dataSource;let l={};Array.isArray(r)?l=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),l=r.items[e]);let o=l;o instanceof Element&&(o=this._domElementToItemData(o));const s=this.dispatch("itemData",{itemData:o||{},index:e});return this.applyFilters("itemData",s.itemData,e)}_getGalleryDOMElements(e){var t,r;return(t=this.options)!==null&&t!==void 0&&t.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?oi(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){t.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(t.srcset=r.dataset.pswpSrcset),t.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,t.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,r.dataset.pswpType&&(t.type=r.dataset.pswpType);const o=e.querySelector("img");if(o){var l;t.msrc=o.currentSrc||o.src,t.alt=(l=o.getAttribute("alt"))!==null&&l!==void 0?l:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,r)}lazyLoadData(e,t){return ao(e,this,t)}}class Cc extends Dc{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){oi(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(mc(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);const l={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,l,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,l=oi(this.options.children,this.options.childSelector,e.currentTarget).findIndex(o=>o===t||o.contains(t));return l!==-1?l:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,r){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const l=oi(this.options.gallery);l[0]&&(t={gallery:l[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:r}=this;t&&(r.dataSource=t);const l=[],o=typeof r.pswpModule;if(gc(r.pswpModule))l.push(Promise.resolve(r.pswpModule));else{if(o==="string")throw new Error("pswpModule as string is no longer supported");if(o==="function")l.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&l.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=Ec(e,this));const s=++this._uid;Promise.all(l).then(u=>{if(this.shouldOpen){const f=u[0];this._openPhotoswipe(f,s)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(l=>{var o;(o=this._listeners[l])===null||o===void 0||o.forEach(s=>{r.on(l,s)})}),Object.keys(this._filters).forEach(l=>{var o;(o=this._filters[l])===null||o===void 0||o.forEach(s=>{r.addFilter(l,s.fn,s.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},oi(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}function ca(n,e,t){const r=n.slice();return r[16]=e[t],r}function fa(n,e,t){const r=n.slice();return r[19]=e[t],r}function Sl(n){const e=n.slice(),t=Array.from(new Set(e[4].map(r=>r.currency)));return e[15]=t,e}function da(n){let e,t,r=n[0].name+"",l,o,s,u,f,p,d,y,C,T,k='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',S,L,N=n[0].startDate.toDateString()+"",P,G,I=n[0].endDate.toDateString()+"",oe,ne,J,De,me=n[0].defaultCurrency+"",ee,be,Ce=rn[n[0].defaultCurrency].symbol+"",ue,le,ge,de,ce,we,D,M,j,he,B,Y,ie,W,Se,Ve,_e,$,xe="Notes:",Ee,Pe,Ue,x,Ge="Receipts:",ze,ke,tt,Dt;function zt(Ye,Ze){return Ye[2]?Tc:Ic}let It=zt(n),ht=It(n),it=n[4]&&ha(Sl(n));return{c(){e=A("h1"),t=A("span"),l=Ne(r),o=se(),s=A("span"),u=A("a"),f=Rt("svg"),p=Rt("path"),d=Rt("path"),C=se(),T=A("button"),T.innerHTML=k,S=se(),L=A("h4"),P=Ne(N),G=Ne(" - "),oe=Ne(I),ne=se(),J=A("p"),De=Ne("Default currency: "),ee=Ne(me),be=Ne(" ("),ue=Ne(Ce),le=Ne(")"),ge=se(),de=A("a"),ce=Ne("+ Add Receipt"),D=se(),M=A("button"),ht.c(),j=se(),he=A("a"),B=Rt("svg"),Y=Rt("path"),ie=Rt("path"),W=Ne(`
        Export/Print`),Ve=se(),_e=A("div"),$=A("h5"),$.textContent=xe,Ee=se(),Pe=A("textarea"),Ue=se(),x=A("h5"),x.textContent=Ge,ze=se(),it&&it.c(),ke=yt(),this.h()},l(Ye){e=O(Ye,"H1",{class:!0});var Ze=z(e);t=O(Ze,"SPAN",{});var Mt=z(t);l=Be(Mt,r),Mt.forEach(v),o=ae(Ze),s=O(Ze,"SPAN",{});var rt=z(s);u=O(rt,"A",{href:!0,class:!0,title:!0});var ln=z(u);f=Nt(ln,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var tn=z(f);p=Nt(tn,"path",{d:!0}),z(p).forEach(v),d=Nt(tn,"path",{"fill-rule":!0,d:!0}),z(d).forEach(v),tn.forEach(v),ln.forEach(v),C=ae(rt),T=O(rt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Xe(T)!=="svelte-7al2bn"&&(T.innerHTML=k),rt.forEach(v),Ze.forEach(v),S=ae(Ye),L=O(Ye,"H4",{});var wt=z(L);P=Be(wt,N),G=Be(wt," - "),oe=Be(wt,I),wt.forEach(v),ne=ae(Ye),J=O(Ye,"P",{});var Tt=z(J);De=Be(Tt,"Default currency: "),ee=Be(Tt,me),be=Be(Tt," ("),ue=Be(Tt,Ce),le=Be(Tt,")"),Tt.forEach(v),ge=ae(Ye),de=O(Ye,"A",{class:!0,href:!0});var yn=z(de);ce=Be(yn,"+ Add Receipt"),yn.forEach(v),D=ae(Ye),M=O(Ye,"BUTTON",{class:!0});var Yt=z(M);ht.l(Yt),Yt.forEach(v),j=ae(Ye),he=O(Ye,"A",{href:!0,target:!0,class:!0});var He=z(he);B=Nt(He,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Mn=z(B);Y=Nt(Mn,"path",{d:!0}),z(Y).forEach(v),ie=Nt(Mn,"path",{d:!0}),z(ie).forEach(v),Mn.forEach(v),W=Be(He,`
        Export/Print`),He.forEach(v),Ve=ae(Ye),_e=O(Ye,"DIV",{class:!0});var nn=z(_e);$=O(nn,"H5",{"data-svelte-h":!0}),Xe($)!=="svelte-srqctx"&&($.textContent=xe),Ee=ae(nn),Pe=O(nn,"TEXTAREA",{style:!0,class:!0,placeholder:!0,id:!0}),z(Pe).forEach(v),nn.forEach(v),Ue=ae(Ye),x=O(Ye,"H5",{class:!0,"data-svelte-h":!0}),Xe(x)!=="svelte-7onek5"&&(x.textContent=Ge),ze=ae(Ye),it&&it.l(Ye),ke=yt(),this.h()},h(){m(p,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),m(d,"fill-rule","evenodd"),m(d,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),m(f,"xmlns","http://www.w3.org/2000/svg"),m(f,"width","16"),m(f,"height","16"),m(f,"fill","currentColor"),m(f,"class","bi bi-pencil-square"),m(f,"viewBox","0 0 16 16"),m(u,"href",y="#/update/"+n[0].id),m(u,"class","btn btn-outline-secondary no-outline"),m(u,"title","Update Trip"),m(T,"class","btn btn-outline-secondary no-outline hover-red"),m(T,"title","Delete Trip"),m(e,"class","d-flex justify-content-between"),m(de,"class","btn btn-primary"),m(de,"href",we="#/addreceipt/"+n[0].id),m(M,"class","btn"),Me(M,"btn-outline-primary",!n[2]),Me(M,"btn-secondary",n[2]),m(Y,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),m(ie,"d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"),m(B,"xmlns","http://www.w3.org/2000/svg"),m(B,"width","16"),m(B,"height","16"),m(B,"fill","currentColor"),m(B,"class","bi bi-download"),m(B,"viewBox","0 0 16 16"),m(he,"href",Se="#/print/"+n[0].id),m(he,"target","_blank"),m(he,"class","btn btn-outline-primary"),Rr(Pe,"height","50vh"),m(Pe,"class","form-control d-block"),m(Pe,"placeholder","A space for notes about your trip"),m(Pe,"id","tripNotes"),m(_e,"class","hide mt-3 flex-column"),Me(_e,"show",n[2]),m(x,"class","mt-3")},m(Ye,Ze){te(Ye,e,Ze),_(e,t),_(t,l),_(e,o),_(e,s),_(s,u),_(u,f),_(f,p),_(f,d),_(s,C),_(s,T),te(Ye,S,Ze),te(Ye,L,Ze),_(L,P),_(L,G),_(L,oe),te(Ye,ne,Ze),te(Ye,J,Ze),_(J,De),_(J,ee),_(J,be),_(J,ue),_(J,le),te(Ye,ge,Ze),te(Ye,de,Ze),_(de,ce),te(Ye,D,Ze),te(Ye,M,Ze),ht.m(M,null),te(Ye,j,Ze),te(Ye,he,Ze),_(he,B),_(B,Y),_(B,ie),_(he,W),te(Ye,Ve,Ze),te(Ye,_e,Ze),_(_e,$),_(_e,Ee),_(_e,Pe),Ht(Pe,n[3]),te(Ye,Ue,Ze),te(Ye,x,Ze),te(Ye,ze,Ze),it&&it.m(Ye,Ze),te(Ye,ke,Ze),tt||(Dt=[Qe(T,"click",function(){Zr(n[5](n[0]))&&n[5](n[0]).apply(this,arguments)}),Qe(M,"click",n[8]),Qe(Pe,"input",n[11]),Qe(Pe,"input",n[7])],tt=!0)},p(Ye,Ze){n=Ye,Ze&1&&r!==(r=n[0].name+"")&&$e(l,r),Ze&1&&y!==(y="#/update/"+n[0].id)&&m(u,"href",y),Ze&1&&N!==(N=n[0].startDate.toDateString()+"")&&$e(P,N),Ze&1&&I!==(I=n[0].endDate.toDateString()+"")&&$e(oe,I),Ze&1&&me!==(me=n[0].defaultCurrency+"")&&$e(ee,me),Ze&1&&Ce!==(Ce=rn[n[0].defaultCurrency].symbol+"")&&$e(ue,Ce),Ze&1&&we!==(we="#/addreceipt/"+n[0].id)&&m(de,"href",we),It!==(It=zt(n))&&(ht.d(1),ht=It(n),ht&&(ht.c(),ht.m(M,null))),Ze&4&&Me(M,"btn-outline-primary",!n[2]),Ze&4&&Me(M,"btn-secondary",n[2]),Ze&1&&Se!==(Se="#/print/"+n[0].id)&&m(he,"href",Se),Ze&8&&Ht(Pe,n[3]),Ze&4&&Me(_e,"show",n[2]),n[4]?it?it.p(Sl(n),Ze):(it=ha(Sl(n)),it.c(),it.m(ke.parentNode,ke)):it&&(it.d(1),it=null)},d(Ye){Ye&&(v(e),v(S),v(L),v(ne),v(J),v(ge),v(de),v(D),v(M),v(j),v(he),v(Ve),v(_e),v(Ue),v(x),v(ze),v(ke)),ht.d(),it&&it.d(Ye),tt=!1,Xn(Dt)}}}function Tc(n){let e,t,r,l,o;return{c(){e=Rt("svg"),t=Rt("path"),r=Rt("path"),l=Rt("path"),o=Ne(`
          Hide`),this.h()},l(s){e=Nt(s,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=z(e);t=Nt(u,"path",{d:!0}),z(t).forEach(v),r=Nt(u,"path",{d:!0}),z(r).forEach(v),l=Nt(u,"path",{d:!0}),z(l).forEach(v),u.forEach(v),o=Be(s,`
          Hide`),this.h()},h(){m(t,"d","M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"),m(r,"d","M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"),m(l,"d","M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","16"),m(e,"height","16"),m(e,"fill","currentColor"),m(e,"class","bi bi-eye-slash"),m(e,"viewBox","0 0 16 16")},m(s,u){te(s,e,u),_(e,t),_(e,r),_(e,l),te(s,o,u)},d(s){s&&(v(e),v(o))}}}function Ic(n){let e,t,r,l,o;return{c(){e=Rt("svg"),t=Rt("path"),r=Rt("path"),l=Rt("path"),o=Ne(`
          Notes`),this.h()},l(s){e=Nt(s,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=z(e);t=Nt(u,"path",{d:!0}),z(t).forEach(v),r=Nt(u,"path",{d:!0}),z(r).forEach(v),l=Nt(u,"path",{d:!0}),z(l).forEach(v),u.forEach(v),o=Be(s,`
          Notes`),this.h()},h(){m(t,"d","M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"),m(r,"d","M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"),m(l,"d","M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","16"),m(e,"height","16"),m(e,"fill","currentColor"),m(e,"class","bi bi-journal-text"),m(e,"viewBox","0 0 16 16")},m(s,u){te(s,e,u),_(e,t),_(e,r),_(e,l),te(s,o,u)},d(s){s&&(v(e),v(o))}}}function ha(n){let e,t,r,l="<tr><th>Description</th> <th>Date</th> <th>Type</th> <th>Total</th> <th></th></tr>",o,s,u=[],f=new Map,p,d,y,C,T,k,S,L,N="<strong>Total</strong>",P,G,I,oe,ne,J,De=ot(n[4]);const me=Ce=>Ce[19].id;for(let Ce=0;Ce<De.length;Ce+=1){let ue=fa(n,De,Ce),le=me(ue);f.set(le,u[Ce]=pa(le,ue))}let ee=ot(n[15]),be=[];for(let Ce=0;Ce<ee.length;Ce+=1)be[Ce]=ma(ca(n,ee,Ce));return{c(){e=A("div"),t=A("table"),r=A("thead"),r.innerHTML=l,o=se(),s=A("tbody");for(let Ce=0;Ce<u.length;Ce+=1)u[Ce].c();p=se(),d=A("tfoot"),y=A("tr"),C=A("td"),T=se(),k=A("td"),S=se(),L=A("td"),L.innerHTML=N,P=se(),G=A("td");for(let Ce=0;Ce<be.length;Ce+=1)be[Ce].c();I=se(),oe=A("td"),this.h()},l(Ce){e=O(Ce,"DIV",{class:!0});var ue=z(e);t=O(ue,"TABLE",{class:!0});var le=z(t);r=O(le,"THEAD",{"data-svelte-h":!0}),Xe(r)!=="svelte-1vpbmbw"&&(r.innerHTML=l),o=ae(le),s=O(le,"TBODY",{});var ge=z(s);for(let D=0;D<u.length;D+=1)u[D].l(ge);ge.forEach(v),p=ae(le),d=O(le,"TFOOT",{class:!0});var de=z(d);y=O(de,"TR",{});var ce=z(y);C=O(ce,"TD",{}),z(C).forEach(v),T=ae(ce),k=O(ce,"TD",{}),z(k).forEach(v),S=ae(ce),L=O(ce,"TD",{class:!0,"data-svelte-h":!0}),Xe(L)!=="svelte-14afisz"&&(L.innerHTML=N),P=ae(ce),G=O(ce,"TD",{});var we=z(G);for(let D=0;D<be.length;D+=1)be[D].l(we);we.forEach(v),I=ae(ce),oe=O(ce,"TD",{}),z(oe).forEach(v),ce.forEach(v),de.forEach(v),le.forEach(v),ue.forEach(v),this.h()},h(){m(L,"class","text-end"),m(d,"class","table-group-divider"),m(t,"class","table table-striped table-hover"),m(e,"class","table-responsive")},m(Ce,ue){te(Ce,e,ue),_(e,t),_(t,r),_(t,o),_(t,s);for(let le=0;le<u.length;le+=1)u[le]&&u[le].m(s,null);_(t,p),_(t,d),_(d,y),_(y,C),_(y,T),_(y,k),_(y,S),_(y,L),_(y,P),_(y,G);for(let le=0;le<be.length;le+=1)be[le]&&be[le].m(G,null);_(y,I),_(y,oe),ne||(J=ci(n[9].call(null,s)),ne=!0)},p(Ce,ue){if(ue&80&&(De=ot(Ce[4]),u=Nr(u,ue,me,1,Ce,De,f,s,Yr,pa,null,fa)),ue&16){ee=ot(Ce[15]);let le;for(le=0;le<ee.length;le+=1){const ge=ca(Ce,ee,le);be[le]?be[le].p(ge,ue):(be[le]=ma(ge),be[le].c(),be[le].m(G,null))}for(;le<be.length;le+=1)be[le].d(1);be.length=ee.length}},d(Ce){Ce&&v(e);for(let ue=0;ue<u.length;ue+=1)u[ue].d();Bn(be,Ce),ne=!1,J()}}}function pa(n,e){let t,r,l,o,s,u,f,p,d,y,C,T,k,S=e[19].description+"",L,N,P,G=e[19].receiptDateString+"",I,oe,ne,J,De,me=Ds[e[19].receiptType]+"",ee,be,Ce=e[19].receiptType+"",ue,le,ge,de=rn[e[19].currency].symbol+"",ce,we,D=e[19].total.toFixed(2)+"",M,j,he,B,Y,ie,W,Se,Ve,_e,$='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',xe,Ee,Pe;return{key:n,first:null,c(){t=A("tr"),r=A("td"),l=A("div"),o=A("span"),s=A("a"),u=Rt("svg"),f=Rt("path"),p=Rt("path"),T=se(),k=A("span"),L=Ne(S),N=se(),P=A("td"),I=Ne(G),oe=se(),ne=A("td"),J=A("abbr"),De=new Wi(!1),be=A("span"),ue=Ne(Ce),le=se(),ge=A("td"),ce=Ne(de),we=se(),M=Ne(D),j=se(),he=A("td"),B=A("a"),Y=Rt("svg"),ie=Rt("path"),W=Rt("path"),Ve=se(),_e=A("button"),_e.innerHTML=$,xe=se(),this.h()},l(Ue){t=O(Ue,"TR",{});var x=z(t);r=O(x,"TD",{});var Ge=z(r);l=O(Ge,"DIV",{class:!0});var ze=z(l);o=O(ze,"SPAN",{});var ke=z(o);s=O(ke,"A",{class:!0,href:!0,"data-pswp-width":!0,"data-pswp-height":!0,target:!0,rel:!0,title:!0,style:!0});var tt=z(s);u=Nt(tt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Dt=z(u);f=Nt(Dt,"path",{d:!0}),z(f).forEach(v),p=Nt(Dt,"path",{d:!0}),z(p).forEach(v),Dt.forEach(v),tt.forEach(v),ke.forEach(v),T=ae(ze),k=O(ze,"SPAN",{});var zt=z(k);L=Be(zt,S),zt.forEach(v),ze.forEach(v),Ge.forEach(v),N=ae(x),P=O(x,"TD",{});var It=z(P);I=Be(It,G),It.forEach(v),oe=ae(x),ne=O(x,"TD",{});var ht=z(ne);J=O(ht,"ABBR",{class:!0,title:!0});var it=z(J);De=Yi(it,!1),it.forEach(v),be=O(ht,"SPAN",{class:!0});var Ye=z(be);ue=Be(Ye,Ce),Ye.forEach(v),ht.forEach(v),le=ae(x),ge=O(x,"TD",{class:!0});var Ze=z(ge);ce=Be(Ze,de),we=ae(Ze),M=Be(Ze,D),Ze.forEach(v),j=ae(x),he=O(x,"TD",{});var Mt=z(he);B=O(Mt,"A",{class:!0,href:!0,title:!0});var rt=z(B);Y=Nt(rt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var ln=z(Y);ie=Nt(ln,"path",{d:!0}),z(ie).forEach(v),W=Nt(ln,"path",{"fill-rule":!0,d:!0}),z(W).forEach(v),ln.forEach(v),rt.forEach(v),Ve=ae(Mt),_e=O(Mt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Xe(_e)!=="svelte-mho9l"&&(_e.innerHTML=$),Mt.forEach(v),xe=ae(x),x.forEach(v),this.h()},h(){m(f,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"),m(p,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"),m(u,"xmlns","http://www.w3.org/2000/svg"),m(u,"width","16"),m(u,"height","16"),m(u,"fill","currentColor"),m(u,"class","bi bi-image"),m(u,"viewBox","0 0 16 16"),m(s,"class","btn btn-outline-primary btn-sm rImages"),m(s,"href",d=e[19].imageData),m(s,"data-pswp-width",y=e[19].imageWidth),m(s,"data-pswp-height",C=e[19].imageHeight),m(s,"target","_blank"),m(s,"rel","noreferrer"),m(s,"title","View Image"),Rr(s,"border","none"),m(l,"class","receiptDesc"),De.a=null,m(J,"class","me-2 typeIcon"),m(J,"title",ee=e[19].receiptType),m(be,"class","typeText"),m(ge,"class","text-nowrap"),m(ie,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),m(W,"fill-rule","evenodd"),m(W,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),m(Y,"xmlns","http://www.w3.org/2000/svg"),m(Y,"width","16"),m(Y,"height","16"),m(Y,"fill","currentColor"),m(Y,"class","bi bi-pencil-square"),m(Y,"viewBox","0 0 16 16"),m(B,"class","btn btn-outline-dark no-outline btn-sm"),m(B,"href",Se="#/editreceipt/"+e[19].id),m(B,"title","Edit Receipt"),m(_e,"class","btn btn-outline-dark no-outline btn-sm hover-red"),m(_e,"title","Delete Receipt"),this.first=t},m(Ue,x){te(Ue,t,x),_(t,r),_(r,l),_(l,o),_(o,s),_(s,u),_(u,f),_(u,p),_(l,T),_(l,k),_(k,L),_(t,N),_(t,P),_(P,I),_(t,oe),_(t,ne),_(ne,J),De.m(me,J),_(ne,be),_(be,ue),_(t,le),_(t,ge),_(ge,ce),_(ge,we),_(ge,M),_(t,j),_(t,he),_(he,B),_(B,Y),_(Y,ie),_(Y,W),_(he,Ve),_(he,_e),_(t,xe),Ee||(Pe=Qe(_e,"click",function(){Zr(e[6](e[19]))&&e[6](e[19]).apply(this,arguments)}),Ee=!0)},p(Ue,x){e=Ue,x&16&&d!==(d=e[19].imageData)&&m(s,"href",d),x&16&&y!==(y=e[19].imageWidth)&&m(s,"data-pswp-width",y),x&16&&C!==(C=e[19].imageHeight)&&m(s,"data-pswp-height",C),x&16&&S!==(S=e[19].description+"")&&$e(L,S),x&16&&G!==(G=e[19].receiptDateString+"")&&$e(I,G),x&16&&me!==(me=Ds[e[19].receiptType]+"")&&De.p(me),x&16&&ee!==(ee=e[19].receiptType)&&m(J,"title",ee),x&16&&Ce!==(Ce=e[19].receiptType+"")&&$e(ue,Ce),x&16&&de!==(de=rn[e[19].currency].symbol+"")&&$e(ce,de),x&16&&D!==(D=e[19].total.toFixed(2)+"")&&$e(M,D),x&16&&Se!==(Se="#/editreceipt/"+e[19].id)&&m(B,"href",Se)},d(Ue){Ue&&v(t),Ee=!1,Pe()}}}function ma(n){let e=rn[n[16]].symbol+"",t,r,l=n[4].filter(f).reduce(ga,0).toFixed(2)+"",o,s,u;function f(...p){return n[12](n[16],...p)}return{c(){t=Ne(e),r=se(),o=Ne(l),s=se(),u=A("br")},l(p){t=Be(p,e),r=ae(p),o=Be(p,l),s=ae(p),u=O(p,"BR",{})},m(p,d){te(p,t,d),te(p,r,d),te(p,o,d),te(p,s,d),te(p,u,d)},p(p,d){n=p,d&16&&e!==(e=rn[n[16]].symbol+"")&&$e(t,e),d&16&&l!==(l=n[4].filter(f).reduce(ga,0).toFixed(2)+"")&&$e(o,l)},d(p){p&&(v(t),v(r),v(o),v(s),v(u))}}}function Ac(n){let e,t=n[0]&&da(n);return{c(){e=A("div"),t&&t.c(),this.h()},l(r){e=O(r,"DIV",{class:!0});var l=z(e);t&&t.l(l),l.forEach(v),this.h()},h(){m(e,"class","w-100")},m(r,l){te(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]?t?t.p(r,l):(t=da(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:Ct,o:Ct,d(r){r&&v(e),t&&t.d()}}}const Oc=2e3,ga=(n,e)=>n+e.total;function Pc(n,e,t){let r,l=Ct,o=()=>(l(),l=ui(f,I=>t(4,r=I)),f);n.$$.on_destroy.push(()=>l());let{tripId:s}=e,u,f,p=!1,d="",y;s>-1&&Wt.trips.get(s).then(I=>{t(0,u=I),t(3,d=u==null?void 0:u.notes),o(t(1,f=hi(async()=>await Wt.receipts.where({tripId:s}).reverse().sortBy("receiptDate"))))});async function C(I){if(confirm(`Are you sure you want to delete trip "${I.name}"? It will also delete all receipts for this trip`)){let ne=await Wt.trips.where("id").equals(I.id).delete();console.log(`Deleted ${ne} trip(s)`),ne=await Wt.receipts.where("tripId").equals(I.id).delete(),console.log(`Deleted ${ne} receipts(s)`),window.location.href="#/"}}async function T(I){if(confirm(`Are you sure you want to delete receipt for "${I.description}"?`)){let ne=await Wt.receipts.where("id").equals(I.id).delete();console.log(`Deleted ${ne} receipts(s)`)}}async function k(){y&&clearTimeout(y),y=setTimeout(S,Oc)}async function S(){if(u)try{const I=await Wt.trips.update(u.id,{notes:d})}catch(I){console.error(I)}}function L(){t(2,p=!p)}function N(I){new Cc({gallery:".rImages",pswpModule:()=>Bo(()=>import("../chunks/photoswipe.esm.GXRgw7eJ.js"),[],import.meta.url)}).init()}function P(){d=this.value,t(3,d)}const G=(I,oe)=>oe.currency==I;return n.$$set=I=>{"tripId"in I&&t(10,s=I.tripId)},[u,f,p,d,r,C,T,k,L,N,s,P,G]}class Mc extends Fn{constructor(e){super(),zn(this,e,Pc,Ac,Pn,{tripId:10})}}function oo(){let n=document.getElementById("tripToggle");n==null||n.classList.toggle("show")}function _a(n,e,t){const r=n.slice();return r[8]=e[t],r}function va(n,e,t){const r=n.slice();return r[12]=e[t],r}function El(n){const e=n.slice(),t=Array.from(new Set(e[2].filter(function(...l){return n[5](e[8],...l)}).map(r=>r.currency)));return e[11]=t,e}function ba(n){let e=[],t=new Map,r,l=ot(n[1]);const o=s=>s[8].id;for(let s=0;s<l.length;s+=1){let u=_a(n,l,s),f=o(u);t.set(f,e[s]=ka(f,u))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=yt()},l(s){for(let u=0;u<e.length;u+=1)e[u].l(s);r=yt()},m(s,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,u);te(s,r,u)},p(s,u){u&7&&(l=ot(s[1]),e=Nr(e,u,o,1,s,l,t,r.parentNode,Yr,ka,r,_a))},d(s){s&&v(r);for(let u=0;u<e.length;u+=1)e[u].d(s)}}}function ya(n){let e,t=ot(n[11]),r=[];for(let l=0;l<t.length;l+=1)r[l]=wa(va(n,t,l));return{c(){e=A("small");for(let l=0;l<r.length;l+=1)r[l].c()},l(l){e=O(l,"SMALL",{});var o=z(e);for(let s=0;s<r.length;s+=1)r[s].l(o);o.forEach(v)},m(l,o){te(l,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,o){if(o&6){t=ot(l[11]);let s;for(s=0;s<t.length;s+=1){const u=va(l,t,s);r[s]?r[s].p(u,o):(r[s]=wa(u),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&v(e),Bn(r,l)}}}function wa(n){let e=rn[n[12]].symbol+"",t,r,l=n[2].filter(f).filter(p).reduce(Sa,0).toFixed(2)+"",o,s,u;function f(...d){return n[6](n[8],...d)}function p(...d){return n[7](n[12],...d)}return{c(){t=Ne(e),r=se(),o=Ne(l),s=se(),u=A("br")},l(d){t=Be(d,e),r=ae(d),o=Be(d,l),s=ae(d),u=O(d,"BR",{})},m(d,y){te(d,t,y),te(d,r,y),te(d,o,y),te(d,s,y),te(d,u,y)},p(d,y){n=d,y&6&&e!==(e=rn[n[12]].symbol+"")&&$e(t,e),y&6&&l!==(l=n[2].filter(f).filter(p).reduce(Sa,0).toFixed(2)+"")&&$e(o,l)},d(d){d&&(v(t),v(r),v(o),v(s),v(u))}}}function ka(n,e){let t,r,l,o=e[8].name+"",s,u,f,p,d=e[8].startDateString+"",y,C,T=e[8].endDateString+"",k,S,L,N,P,G,I=e[2]&&ya(El(e));return{key:n,first:null,c(){t=A("a"),r=A("div"),l=A("strong"),s=Ne(o),u=se(),I&&I.c(),f=se(),p=A("div"),y=Ne(d),C=Ne(" - "),k=Ne(T),S=se(),this.h()},l(oe){t=O(oe,"A",{href:!0,class:!0,"aria-current":!0,"data-trip-id":!0});var ne=z(t);r=O(ne,"DIV",{class:!0});var J=z(r);l=O(J,"STRONG",{class:!0});var De=z(l);s=Be(De,o),De.forEach(v),u=ae(J),I&&I.l(J),J.forEach(v),f=ae(ne),p=O(ne,"DIV",{class:!0});var me=z(p);y=Be(me,d),C=Be(me," - "),k=Be(me,T),me.forEach(v),S=ae(ne),ne.forEach(v),this.h()},h(){m(l,"class","mb-1"),m(r,"class","d-flex w-100 align-items-center justify-content-between"),m(p,"class","col-10 mb-1 small"),m(t,"href",L="#/trip/"+e[8].id),m(t,"class","list-group-item list-group-item-action py-3 lh-sm m-2"),m(t,"aria-current","false"),m(t,"data-trip-id",N=e[8].id),Me(t,"active",e[0]==e[8].id),this.first=t},m(oe,ne){te(oe,t,ne),_(t,r),_(r,l),_(l,s),_(r,u),I&&I.m(r,null),_(t,f),_(t,p),_(p,y),_(p,C),_(p,k),_(t,S),P||(G=Qe(t,"click",oo),P=!0)},p(oe,ne){e=oe,ne&2&&o!==(o=e[8].name+"")&&$e(s,o),e[2]?I?I.p(El(e),ne):(I=ya(El(e)),I.c(),I.m(r,null)):I&&(I.d(1),I=null),ne&2&&d!==(d=e[8].startDateString+"")&&$e(y,d),ne&2&&T!==(T=e[8].endDateString+"")&&$e(k,T),ne&2&&L!==(L="#/trip/"+e[8].id)&&m(t,"href",L),ne&2&&N!==(N=e[8].id)&&m(t,"data-trip-id",N),ne&3&&Me(t,"active",e[0]==e[8].id)},d(oe){oe&&v(t),I&&I.d(),P=!1,G()}}}function Lc(n){let e,t=n[1]&&ba(n);return{c(){t&&t.c(),e=yt()},l(r){t&&t.l(r),e=yt()},m(r,l){t&&t.m(r,l),te(r,e,l)},p(r,[l]){r[1]?t?t.p(r,l):(t=ba(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ct,o:Ct,d(r){r&&v(e),t&&t.d(r)}}}const Sa=(n,e)=>n+e.total;function Rc(n,e,t){let r,l,{tripId:o}=e,s=hi(()=>Wt.trips.toCollection().reverse().sortBy("endDate"));Jn(n,s,y=>t(1,r=y));let u=hi(()=>Wt.receipts.toArray());Jn(n,u,y=>t(2,l=y));const f=(y,C)=>C.tripId==y.id,p=(y,C)=>C.tripId==y.id,d=(y,C)=>C.currency==y;return n.$$set=y=>{"tripId"in y&&t(0,o=y.tripId)},[o,r,l,s,u,f,p,d]}class Nc extends Fn{constructor(e){super(),zn(this,e,Rc,Lc,Pn,{tripId:0})}}function Ea(n){let e,t,r="Update Trip",l,o,s,u="Trip Name",f,p,d,y,C,T="Trip Currency",k,S,L,N,P,G,I="Trip Start",oe,ne,J,De,me,ee,be="Trip End",Ce,ue,le,ge,de,ce,we="Update Trip",D,M,j,he,B,Y,ie;function W(Ee){n[8](Ee)}let Se={options:n[3],inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[0].defaultCurrency!==void 0&&(Se.value=n[0].defaultCurrency),S=new mi({props:Se}),Ut.push(()=>Qn(S,"value",W));function Ve(Ee){n[9](Ee)}let _e={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[1]!==void 0&&(_e.value=n[1]),ne=new di({props:_e}),Ut.push(()=>Qn(ne,"value",Ve));function $(Ee){n[10](Ee)}let xe={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[1],id:"tripEnd"};return n[2]!==void 0&&(xe.value=n[2]),ue=new di({props:xe}),Ut.push(()=>Qn(ue,"value",$)),{c(){e=A("form"),t=A("h1"),t.textContent=r,l=se(),o=A("div"),s=A("label"),s.textContent=u,f=se(),p=A("input"),d=se(),y=A("div"),C=A("label"),C.textContent=T,k=se(),Jt(S.$$.fragment),N=se(),P=A("div"),G=A("label"),G.textContent=I,oe=se(),Jt(ne.$$.fragment),De=se(),me=A("div"),ee=A("label"),ee.textContent=be,Ce=se(),Jt(ue.$$.fragment),ge=se(),de=A("div"),ce=A("button"),ce.textContent=we,D=se(),M=A("a"),j=Ne("Cancel"),this.h()},l(Ee){e=O(Ee,"FORM",{});var Pe=z(e);t=O(Pe,"H1",{"data-svelte-h":!0}),Xe(t)!=="svelte-9352dq"&&(t.textContent=r),l=ae(Pe),o=O(Pe,"DIV",{class:!0});var Ue=z(o);s=O(Ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(s)!=="svelte-1y8z10u"&&(s.textContent=u),f=ae(Ue),p=O(Ue,"INPUT",{id:!0,class:!0,type:!0}),Ue.forEach(v),d=ae(Pe),y=O(Pe,"DIV",{class:!0});var x=z(y);C=O(x,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(C)!=="svelte-1fzihue"&&(C.textContent=T),k=ae(x),Qt(S.$$.fragment,x),x.forEach(v),N=ae(Pe),P=O(Pe,"DIV",{class:!0});var Ge=z(P);G=O(Ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(G)!=="svelte-4n7gli"&&(G.textContent=I),oe=ae(Ge),Qt(ne.$$.fragment,Ge),Ge.forEach(v),De=ae(Pe),me=O(Pe,"DIV",{class:!0});var ze=z(me);ee=O(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(ee)!=="svelte-1dn7717"&&(ee.textContent=be),Ce=ae(ze),Qt(ue.$$.fragment,ze),ze.forEach(v),ge=ae(Pe),de=O(Pe,"DIV",{class:!0});var ke=z(de);ce=O(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),Xe(ce)!=="svelte-bsugmm"&&(ce.textContent=we),D=ae(ke),M=O(ke,"A",{href:!0,class:!0});var tt=z(M);j=Be(tt,"Cancel"),tt.forEach(v),ke.forEach(v),Pe.forEach(v),this.h()},h(){m(s,"for","tripName"),m(s,"class","form-label"),m(p,"id","tripName"),m(p,"class","form-control"),m(p,"type","text"),m(o,"class","mb-3"),m(C,"for","tripCurrency"),m(C,"class","form-label"),m(y,"class","mb-3"),m(G,"for","tripStart"),m(G,"class","form-label"),m(P,"class","mb-3"),m(ee,"for","tripStart"),m(ee,"class","form-label"),m(me,"class","mb-3"),m(ce,"class","btn btn-primary"),m(M,"href",he="#/trip/"+n[0].id),m(M,"class","btn btn-outline-primary"),m(de,"class","gap-3 d-grid d-md-block")},m(Ee,Pe){te(Ee,e,Pe),_(e,t),_(e,l),_(e,o),_(o,s),_(o,f),_(o,p),Ht(p,n[0].name),_(e,d),_(e,y),_(y,C),_(y,k),Xt(S,y,null),_(e,N),_(e,P),_(P,G),_(P,oe),Xt(ne,P,null),_(e,De),_(e,me),_(me,ee),_(me,Ce),Xt(ue,me,null),_(e,ge),_(e,de),_(de,ce),_(de,D),_(de,M),_(M,j),B=!0,Y||(ie=[Qe(p,"input",n[7]),Qe(ce,"click",n[4])],Y=!0)},p(Ee,Pe){Pe&1&&p.value!==Ee[0].name&&Ht(p,Ee[0].name);const Ue={};Pe&8&&(Ue.options=Ee[3]),!L&&Pe&1&&(L=!0,Ue.value=Ee[0].defaultCurrency,Zn(()=>L=!1)),S.$set(Ue);const x={};!J&&Pe&2&&(J=!0,x.value=Ee[1],Zn(()=>J=!1)),ne.$set(x);const Ge={};Pe&2&&(Ge.min=Ee[1]),!le&&Pe&4&&(le=!0,Ge.value=Ee[2],Zn(()=>le=!1)),ue.$set(Ge),(!B||Pe&1&&he!==(he="#/trip/"+Ee[0].id))&&m(M,"href",he)},i(Ee){B||(Le(S.$$.fragment,Ee),Le(ne.$$.fragment,Ee),Le(ue.$$.fragment,Ee),B=!0)},o(Ee){qe(S.$$.fragment,Ee),qe(ne.$$.fragment,Ee),qe(ue.$$.fragment,Ee),B=!1},d(Ee){Ee&&v(e),xt(S),xt(ne),xt(ue),Y=!1,Xn(ie)}}}function Bc(n){let e,t,r=n[0]&&Ea(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r&&r.l(o),o.forEach(v),this.h()},h(){m(e,"class","w-100")},m(l,o){te(l,e,o),r&&r.m(e,null),t=!0},p(l,[o]){l[0]?r?(r.p(l,o),o&1&&Le(r,1)):(r=Ea(l),r.c(),Le(r,1),r.m(e,null)):r&&(un(),qe(r,1,1,()=>{r=null}),cn())},i(l){t||(Le(r),t=!0)},o(l){qe(r),t=!1},d(l){l&&v(e),r&&r.d()}}}function Fc(n,e,t){let r,l;Jn(n,pi,k=>t(6,l=k));let{tripId:o}=e,s,u,f;o>-1&&Wt.trips.get(o).then(k=>{t(0,s=k),t(1,u=new Date(s.startDateString)),t(2,f=new Date(s.endDateString))});async function p(){try{const k=await Wt.trips.update(s.id,{name:s.name,defaultCurrency:s.defaultCurrency,startDate:u,endDate:f,startDateString:u.toDateString(),endDateString:f.toDateString()});window.location.href="#/trip/"+s.id}catch{window.location.href="#/"}}function d(){s.name=this.value,t(0,s)}function y(k){n.$$.not_equal(s.defaultCurrency,k)&&(s.defaultCurrency=k,t(0,s))}function C(k){u=k,t(1,u)}function T(k){f=k,t(2,f)}return n.$$set=k=>{"tripId"in k&&t(5,o=k.tripId)},n.$$.update=()=>{n.$$.dirty&64&&t(3,r=Bl(l))},[s,u,f,r,p,o,l,d,y,C,T]}class zc extends Fn{constructor(e){super(),zn(this,e,Fc,Bc,Pn,{tripId:5})}}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var Kc={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:qc,fromCents:!1},uo=function(e){return Math.round(e)},Fl=function(e){return Math.pow(10,e)},jc=function(e,t){return uo(e/t)*t},Hc=/(\d)(?=(\d{3})+\b)/g,Vc=/(\d)(?=(\d\d)+\d\b)/g;function or(n,e){var t=this;if(!(t instanceof or))return new or(n,e);var r=Object.assign({},Kc,e),l=Fl(r.precision),o=Fi(n,r);t.intValue=o,t.value=o/l,r.increment=r.increment||1/l,r.useVedic?r.groups=Vc:r.groups=Hc,this.s=r,this.p=l}function Fi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,l=e.decimal,o=e.errorOnInvalid,s=e.precision,u=e.fromCents,f=Fl(s),p=typeof n=="number",d=n instanceof or;if(d&&u)return n.intValue;if(p||d)r=d?n.value:n;else if(typeof n=="string"){var y=new RegExp("[^-\\d"+l+"]","g"),C=new RegExp("\\"+l,"g");r=n.replace(/\((.*)\)/,"-$1").replace(y,"").replace(C,"."),r=r||0}else{if(o)throw Error("Invalid Input");r=0}return u||(r*=f,r=r.toFixed(4)),t?uo(r):r}function qc(n,e){var t=e.pattern,r=e.negativePattern,l=e.symbol,o=e.separator,s=e.decimal,u=e.groups,f=(""+n).replace(/^-/,"").split("."),p=f[0],d=f[1];return(n.value>=0?t:r).replace("!",l).replace("#",p.replace(u,"$1"+o)+(d?s+d:""))}or.prototype={add:function(e){var t=this.intValue,r=this.s,l=this.p;return or((t+=Fi(e,r))/(r.fromCents?1:l),r)},subtract:function(e){var t=this.intValue,r=this.s,l=this.p;return or((t-=Fi(e,r))/(r.fromCents?1:l),r)},multiply:function(e){var t=this.intValue,r=this.s;return or((t*=e)/(r.fromCents?1:Fl(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return or(t/=Fi(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,l=this.s,o=[],s=Math[t>=0?"floor":"ceil"](t/e),u=Math.abs(t-s*e),f=l.fromCents?1:r;e!==0;e--){var p=or(s/f,l);u-- >0&&(p=p[t>=0?"add":"subtract"](1/f)),o.push(p)}return o},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return jc(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var Uc={exports:{}};(function(n){var e=function(t){var r=Object.prototype,l=r.hasOwnProperty,o=Object.defineProperty||function(D,M,j){D[M]=j.value},s,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",p=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function y(D,M,j){return Object.defineProperty(D,M,{value:j,enumerable:!0,configurable:!0,writable:!0}),D[M]}try{y({},"")}catch{y=function(M,j,he){return M[j]=he}}function C(D,M,j,he){var B=M&&M.prototype instanceof G?M:G,Y=Object.create(B.prototype),ie=new de(he||[]);return o(Y,"_invoke",{value:Ce(D,j,ie)}),Y}t.wrap=C;function T(D,M,j){try{return{type:"normal",arg:D.call(M,j)}}catch(he){return{type:"throw",arg:he}}}var k="suspendedStart",S="suspendedYield",L="executing",N="completed",P={};function G(){}function I(){}function oe(){}var ne={};y(ne,f,function(){return this});var J=Object.getPrototypeOf,De=J&&J(J(ce([])));De&&De!==r&&l.call(De,f)&&(ne=De);var me=oe.prototype=G.prototype=Object.create(ne);I.prototype=oe,o(me,"constructor",{value:oe,configurable:!0}),o(oe,"constructor",{value:I,configurable:!0}),I.displayName=y(oe,d,"GeneratorFunction");function ee(D){["next","throw","return"].forEach(function(M){y(D,M,function(j){return this._invoke(M,j)})})}t.isGeneratorFunction=function(D){var M=typeof D=="function"&&D.constructor;return M?M===I||(M.displayName||M.name)==="GeneratorFunction":!1},t.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,oe):(D.__proto__=oe,y(D,d,"GeneratorFunction")),D.prototype=Object.create(me),D},t.awrap=function(D){return{__await:D}};function be(D,M){function j(Y,ie,W,Se){var Ve=T(D[Y],D,ie);if(Ve.type==="throw")Se(Ve.arg);else{var _e=Ve.arg,$=_e.value;return $&&typeof $=="object"&&l.call($,"__await")?M.resolve($.__await).then(function(xe){j("next",xe,W,Se)},function(xe){j("throw",xe,W,Se)}):M.resolve($).then(function(xe){_e.value=xe,W(_e)},function(xe){return j("throw",xe,W,Se)})}}var he;function B(Y,ie){function W(){return new M(function(Se,Ve){j(Y,ie,Se,Ve)})}return he=he?he.then(W,W):W()}o(this,"_invoke",{value:B})}ee(be.prototype),y(be.prototype,p,function(){return this}),t.AsyncIterator=be,t.async=function(D,M,j,he,B){B===void 0&&(B=Promise);var Y=new be(C(D,M,j,he),B);return t.isGeneratorFunction(M)?Y:Y.next().then(function(ie){return ie.done?ie.value:Y.next()})};function Ce(D,M,j){var he=k;return function(Y,ie){if(he===L)throw new Error("Generator is already running");if(he===N){if(Y==="throw")throw ie;return we()}for(j.method=Y,j.arg=ie;;){var W=j.delegate;if(W){var Se=ue(W,j);if(Se){if(Se===P)continue;return Se}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(he===k)throw he=N,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);he=L;var Ve=T(D,M,j);if(Ve.type==="normal"){if(he=j.done?N:S,Ve.arg===P)continue;return{value:Ve.arg,done:j.done}}else Ve.type==="throw"&&(he=N,j.method="throw",j.arg=Ve.arg)}}}function ue(D,M){var j=M.method,he=D.iterator[j];if(he===s)return M.delegate=null,j==="throw"&&D.iterator.return&&(M.method="return",M.arg=s,ue(D,M),M.method==="throw")||j!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+j+"' method")),P;var B=T(he,D.iterator,M.arg);if(B.type==="throw")return M.method="throw",M.arg=B.arg,M.delegate=null,P;var Y=B.arg;if(!Y)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,P;if(Y.done)M[D.resultName]=Y.value,M.next=D.nextLoc,M.method!=="return"&&(M.method="next",M.arg=s);else return Y;return M.delegate=null,P}ee(me),y(me,d,"Generator"),y(me,f,function(){return this}),y(me,"toString",function(){return"[object Generator]"});function le(D){var M={tryLoc:D[0]};1 in D&&(M.catchLoc=D[1]),2 in D&&(M.finallyLoc=D[2],M.afterLoc=D[3]),this.tryEntries.push(M)}function ge(D){var M=D.completion||{};M.type="normal",delete M.arg,D.completion=M}function de(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(le,this),this.reset(!0)}t.keys=function(D){var M=Object(D),j=[];for(var he in M)j.push(he);return j.reverse(),function B(){for(;j.length;){var Y=j.pop();if(Y in M)return B.value=Y,B.done=!1,B}return B.done=!0,B}};function ce(D){if(D){var M=D[f];if(M)return M.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var j=-1,he=function B(){for(;++j<D.length;)if(l.call(D,j))return B.value=D[j],B.done=!1,B;return B.value=s,B.done=!0,B};return he.next=he}}return{next:we}}t.values=ce;function we(){return{value:s,done:!0}}return de.prototype={constructor:de,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ge),!D)for(var M in this)M.charAt(0)==="t"&&l.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=s)},stop:function(){this.done=!0;var D=this.tryEntries[0],M=D.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var M=this;function j(Se,Ve){return Y.type="throw",Y.arg=D,M.next=Se,Ve&&(M.method="next",M.arg=s),!!Ve}for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he],Y=B.completion;if(B.tryLoc==="root")return j("end");if(B.tryLoc<=this.prev){var ie=l.call(B,"catchLoc"),W=l.call(B,"finallyLoc");if(ie&&W){if(this.prev<B.catchLoc)return j(B.catchLoc,!0);if(this.prev<B.finallyLoc)return j(B.finallyLoc)}else if(ie){if(this.prev<B.catchLoc)return j(B.catchLoc,!0)}else if(W){if(this.prev<B.finallyLoc)return j(B.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(D,M){for(var j=this.tryEntries.length-1;j>=0;--j){var he=this.tryEntries[j];if(he.tryLoc<=this.prev&&l.call(he,"finallyLoc")&&this.prev<he.finallyLoc){var B=he;break}}B&&(D==="break"||D==="continue")&&B.tryLoc<=M&&M<=B.finallyLoc&&(B=null);var Y=B?B.completion:{};return Y.type=D,Y.arg=M,B?(this.method="next",this.next=B.finallyLoc,P):this.complete(Y)},complete:function(D,M){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&M&&(this.next=M),P},finish:function(D){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.finallyLoc===D)return this.complete(j.completion,j.afterLoc),ge(j),P}},catch:function(D){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.tryLoc===D){var he=j.completion;if(he.type==="throw"){var B=he.arg;ge(j)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(D,M,j){return this.delegate={iterator:ce(D),resultName:M,nextLoc:j},this.method==="next"&&(this.arg=s),P}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Uc);var zl=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`;const Gc=zl;let Da=0;var co=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=Gc("Job",Da),Da+=1),{id:r,action:e,payload:t}},Jr={};let Kl=!1;Jr.logging=Kl;Jr.setLogging=n=>{Kl=n};Jr.log=(...n)=>Kl?console.log.apply(void 0,n):null;const Wc=co,{log:Ni}=Jr,Yc=zl;let Ca=0;var Zc=()=>{const n=Yc("Scheduler",Ca),e={},t={};let r=[];Ca+=1;const l=()=>r.length,o=()=>Object.keys(e).length,s=()=>{if(r.length!==0){const y=Object.keys(e);for(let C=0;C<y.length;C+=1)if(typeof t[y[C]]>"u"){r[0](e[y[C]]);break}}},u=(y,C)=>new Promise((T,k)=>{const S=Wc({action:y,payload:C});r.push(async L=>{r.shift(),t[L.id]=S;try{T(await L[y].apply(void 0,[...C,S.id]))}catch(N){k(N)}finally{delete t[L.id],s()}}),Ni(`[${n}]: Add ${S.id} to JobQueue`),Ni(`[${n}]: JobQueue length=${r.length}`),s()});return{addWorker:y=>(e[y.id]=y,Ni(`[${n}]: Add ${y.id}`),Ni(`[${n}]: Number of workers=${o()}`),s(),y.id),addJob:async(y,...C)=>{if(o()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return u(y,C)},terminate:async()=>{Object.keys(e).forEach(async y=>{await e[y].terminate()}),r=[]},getQueueLen:l,getNumWorkers:o}};function Jc(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qc=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Jc=="function"&&(e.type="node"),typeof n>"u"?e:e[n]};const Xc=Qc("type")==="browser",xc=Xc?n=>new URL(n,window.location.href).href:n=>n;var $c=n=>{const e={...n};return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=xc(e[t]))}),e},fo={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ef="tesseract.js",tf="6.0.0",nf="Pure Javascript Multilingual OCR",rf="src/index.js",lf="src/index.d.ts",sf="dist/tesseract.min.js",af="dist/tesseract.min.js",of={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},uf={"./src/worker/node/index.js":"./src/worker/browser/index.js"},cf="",ff=["jeromewu"],df="Apache-2.0",hf={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},pf={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},mf={"@rollup/pluginutils":"^5.0.2"},gf={type:"git",url:"https://github.com/naptha/tesseract.js.git"},_f={url:"https://github.com/naptha/tesseract.js/issues"},vf="https://github.com/naptha/tesseract.js",bf={type:"opencollective",url:"https://opencollective.com/tesseractjs"},yf={name:ef,version:tf,description:nf,main:rf,types:lf,unpkg:sf,jsdelivr:af,scripts:of,browser:uf,author:cf,contributors:ff,license:df,devDependencies:hf,dependencies:pf,overrides:mf,repository:gf,bugs:_f,homepage:vf,collective:bf};var wf={workerBlobURL:!0,logger:()=>{}};const kf=yf.version,Sf=wf;var Ef={...Sf,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${kf}/dist/worker.min.js`},Df=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t},Cf=n=>{n.terminate()},Tf=(n,e)=>{n.onmessage=({data:t})=>{e(t)}},If=async(n,e)=>{n.postMessage(e)};const Dl=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:l}}})=>{t(Error(`File could not be read! Code=${l}`))},r.readAsArrayBuffer(n)}),Nl=async n=>{let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=await Nl(n.src)),n.tagName==="VIDEO"&&(e=await Nl(n.poster)),n.tagName==="CANVAS"&&await new Promise(t=>{n.toBlob(async r=>{e=await Dl(r),t()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const t=await n.convertToBlob();e=await Dl(t)}else(n instanceof File||n instanceof Blob)&&(e=await Dl(n));return new Uint8Array(e)};var Af=Nl;const Of=Ef,Pf=Df,Mf=Cf,Lf=Tf,Rf=If,Nf=Af;var Bf={defaultOptions:Of,spawnWorker:Pf,terminateWorker:Mf,onMessage:Lf,send:Rf,loadImage:Nf};const Ff=$c,sr=co,{log:Ta}=Jr,zf=zl,Mr=fo,{defaultOptions:Kf,spawnWorker:jf,terminateWorker:Hf,onMessage:Vf,loadImage:Ia,send:qf}=Bf;let Aa=0;var ho=async(n="eng",e=Mr.LSTM_ONLY,t={},r={})=>{const l=zf("Worker",Aa),{logger:o,errorHandler:s,...u}=Ff({...Kf,...t}),f={},p=typeof n=="string"?n.split("+"):n;let d=e,y=r;const C=[Mr.DEFAULT,Mr.LSTM_ONLY].includes(e)&&!u.legacyCore;let T,k;const S=new Promise((ce,we)=>{k=ce,T=we}),L=ce=>{T(ce.message)};let N=jf(u);N.onerror=L,Aa+=1;const P=({id:ce,action:we,payload:D})=>new Promise((M,j)=>{Ta(`[${l}]: Start ${ce}, action=${we}`);const he=`${we}-${ce}`;f[he]={resolve:M,reject:j},qf(N,{workerId:l,jobId:ce,action:we,payload:D})}),G=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),I=ce=>P(sr({id:ce,action:"load",payload:{options:{lstmOnly:C,corePath:u.corePath,logging:u.logging}}})),oe=(ce,we,D)=>P(sr({id:D,action:"FS",payload:{method:"writeFile",args:[ce,we]}})),ne=(ce,we)=>P(sr({id:we,action:"FS",payload:{method:"readFile",args:[ce,{encoding:"utf8"}]}})),J=(ce,we)=>P(sr({id:we,action:"FS",payload:{method:"unlink",args:[ce]}})),De=(ce,we,D)=>P(sr({id:D,action:"FS",payload:{method:ce,args:we}})),me=(ce,we)=>P(sr({id:we,action:"loadLanguage",payload:{langs:ce,options:{langPath:u.langPath,dataPath:u.dataPath,cachePath:u.cachePath,cacheMethod:u.cacheMethod,gzip:u.gzip,lstmOnly:[Mr.DEFAULT,Mr.LSTM_ONLY].includes(d)&&!u.legacyLang}}})),ee=(ce,we,D,M)=>P(sr({id:M,action:"initialize",payload:{langs:ce,oem:we,config:D}})),be=(ce="eng",we,D,M)=>{if(C&&[Mr.TESSERACT_ONLY,Mr.TESSERACT_LSTM_COMBINED].includes(we))throw Error("Legacy model requested but code missing.");const j=we||d;d=j;const he=D||y;y=he;const Y=(typeof ce=="string"?ce.split("+"):ce).filter(ie=>!p.includes(ie));return p.push(...Y),Y.length>0?me(Y,M).then(()=>ee(ce,j,he,M)):ee(ce,j,he,M)},Ce=(ce={},we)=>P(sr({id:we,action:"setParameters",payload:{params:ce}})),ue=async(ce,we={},D={text:!0},M)=>P(sr({id:M,action:"recognize",payload:{image:await Ia(ce),options:we,output:D}})),le=async(ce,we)=>{if(C)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return P(sr({id:we,action:"detect",payload:{image:await Ia(ce)}}))},ge=async()=>(N!==null&&(Hf(N),N=null),Promise.resolve());Vf(N,({workerId:ce,jobId:we,status:D,action:M,data:j})=>{const he=`${M}-${we}`;if(D==="resolve")Ta(`[${ce}]: Complete ${we}`),f[he].resolve({jobId:we,data:j}),delete f[he];else if(D==="reject")if(f[he].reject(j),delete f[he],M==="load"&&T(j),s)s(j);else throw Error(j);else D==="progress"&&o({...j,userJobId:we})});const de={id:l,worker:N,load:G,writeText:oe,readText:ne,removeFile:J,FS:De,reinitialize:be,setParameters:Ce,recognize:ue,detect:le,terminate:ge};return I().then(()=>me(n)).then(()=>ee(n,e,r)).then(()=>k(de)).catch(()=>{}),S};const po=ho,Uf=async(n,e,t)=>{const r=await po(e,1,t);return r.recognize(n).finally(async()=>{await r.terminate()})},Gf=async(n,e)=>{const t=await po("osd",0,e);return t.detect(n).finally(async()=>{await t.terminate()})};var Wf={recognize:Uf,detect:Gf},Yf={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Zf={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Jf=Zc,Qf=ho,Xf=Wf,xf=Yf,$f=fo,ed=Zf,{setLogging:td}=Jr;var nd={languages:xf,OEM:$f,PSM:ed,createScheduler:Jf,createWorker:Qf,setLogging:td,...Xf};const Oa=no(nd);function Pa(n,e,t){const r=n.slice();return r[32]=e[t],r}function Ma(n,e,t){const r=n.slice();return r[35]=e[t],r}function La(n,e,t){const r=n.slice();return r[38]=e[t],r}function Ra(n){let e,t,r,l,o,s,u,f,p,d,y,C="Receipt description",T,k,S,L,N,P,G,I="Receipt Date",oe,ne,J,De,me,ee,be="Receipt value:",Ce,ue,le,ge,de,ce,we,D="Receipt Type",M,j,he,B="--Please choose type--",Y,ie,W,Se="Receipt Currency",Ve,_e,$,xe,Ee,Pe,Ue,x="Scanning image...",Ge,ze,ke,tt,Dt,zt="Stop scan and enter manually",It,ht,it,Ye,Ze,Mt,rt,ln;function tn(ve,We){return ve[1]?id:rd}let wt=tn(n),Tt=wt(n);function yn(ve,We){return ve[9]?sd:ld}let Yt=yn(n),He=Yt(n);function Mn(ve,We){return ve[1]?od:ad}let nn=Mn(n),sn=nn(n),Ae=ot(n[2]),qt=[];for(let ve=0;ve<Ae.length;ve+=1)qt[ve]=Na(La(n,Ae,ve));function Kn(ve){n[21](ve)}let an={format:"yyyy-MM-dd",closeOnSelection:!0,id:"rDate"};n[4]!==void 0&&(an.value=n[4]),ne=new di({props:an}),Ut.push(()=>Qn(ne,"value",Kn));let Ot=ot(n[3]),Vt=[];for(let ve=0;ve<Ot.length;ve+=1)Vt[ve]=Ba(Ma(n,Ot,ve));let mt=ot(Object.values(Pl)),gt=[];for(let ve=0;ve<mt.length;ve+=1)gt[ve]=Fa(Pa(n,mt,ve));function ut(ve){n[24](ve)}let At={options:n[12],inputId:"rCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[5]!==void 0&&(At.value=n[5]),_e=new mi({props:At}),Ut.push(()=>Qn(_e,"value",ut));function fn(ve,We){return ve[1]?cd:ud}let dn=fn(n),lt=dn(n);return{c(){Tt.c(),e=se(),He.c(),t=se(),r=A("div"),l=A("input"),o=se(),s=A("div"),u=A("div"),sn.c(),f=se(),p=A("div"),d=A("div"),y=A("label"),y.textContent=C,T=se(),k=A("input"),S=se(),L=A("datalist");for(let ve=0;ve<qt.length;ve+=1)qt[ve].c();N=se(),P=A("div"),G=A("label"),G.textContent=I,oe=se(),Jt(ne.$$.fragment),De=se(),me=A("div"),ee=A("label"),ee.textContent=be,Ce=se(),ue=A("input"),le=se(),ge=A("datalist");for(let ve=0;ve<Vt.length;ve+=1)Vt[ve].c();de=se(),ce=A("div"),we=A("label"),we.textContent=D,M=se(),j=A("select"),he=A("option"),he.textContent=B;for(let ve=0;ve<gt.length;ve+=1)gt[ve].c();Y=se(),ie=A("div"),W=A("label"),W.textContent=Se,Ve=se(),Jt(_e.$$.fragment),xe=se(),lt.c(),Ee=se(),Pe=A("div"),Ue=A("h4"),Ue.textContent=x,Ge=se(),ze=A("div"),ke=A("div"),tt=se(),Dt=A("button"),Dt.textContent=zt,It=se(),ht=A("div"),it=A("a"),Ye=Ne("Cancel"),this.h()},l(ve){Tt.l(ve),e=ae(ve),He.l(ve),t=ae(ve),r=O(ve,"DIV",{class:!0});var We=z(r);l=O(We,"INPUT",{id:!0,type:!0,accept:!0}),We.forEach(v),o=ae(ve),s=O(ve,"DIV",{id:!0});var kt=z(s);u=O(kt,"DIV",{class:!0});var _t=z(u);sn.l(_t),_t.forEach(v),f=ae(kt),p=O(kt,"DIV",{class:!0});var Je=z(p);d=O(Je,"DIV",{class:!0});var $t=z(d);y=O($t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(y)!=="svelte-1glg0dd"&&(y.textContent=C),T=ae($t),k=O($t,"INPUT",{class:!0,list:!0,id:!0,name:!0,placeholder:!0}),S=ae($t),L=O($t,"DATALIST",{id:!0});var Ln=z(L);for(let Lt=0;Lt<qt.length;Lt+=1)qt[Lt].l(Ln);Ln.forEach(v),$t.forEach(v),N=ae(Je),P=O(Je,"DIV",{class:!0});var wn=z(P);G=O(wn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(G)!=="svelte-cn0bms"&&(G.textContent=I),oe=ae(wn),Qt(ne.$$.fragment,wn),wn.forEach(v),De=ae(Je),me=O(Je,"DIV",{class:!0});var Zt=z(me);ee=O(Zt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(ee)!=="svelte-1y6fy9c"&&(ee.textContent=be),Ce=ae(Zt),ue=O(Zt,"INPUT",{class:!0,list:!0,id:!0,name:!0,type:!0,step:!0,placeholder:!0}),le=ae(Zt),ge=O(Zt,"DATALIST",{id:!0});var er=z(ge);for(let Lt=0;Lt<Vt.length;Lt+=1)Vt[Lt].l(er);er.forEach(v),Zt.forEach(v),de=ae(Je),ce=O(Je,"DIV",{class:!0});var ct=z(ce);we=O(ct,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(we)!=="svelte-1vxf1l8"&&(we.textContent=D),M=ae(ct),j=O(ct,"SELECT",{id:!0,class:!0});var hn=z(j);he=O(hn,"OPTION",{"data-svelte-h":!0}),Xe(he)!=="svelte-ua8958"&&(he.textContent=B);for(let Lt=0;Lt<gt.length;Lt+=1)gt[Lt].l(hn);hn.forEach(v),ct.forEach(v),Y=ae(Je),ie=O(Je,"DIV",{class:!0});var St=z(ie);W=O(St,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(W)!=="svelte-15s44q2"&&(W.textContent=Se),Ve=ae(St),Qt(_e.$$.fragment,St),St.forEach(v),xe=ae(Je),lt.l(Je),Je.forEach(v),kt.forEach(v),Ee=ae(ve),Pe=O(ve,"DIV",{class:!0});var Kt=z(Pe);Ue=O(Kt,"H4",{"data-svelte-h":!0}),Xe(Ue)!=="svelte-7jxjwi"&&(Ue.textContent=x),Ge=ae(Kt),ze=O(Kt,"DIV",{class:!0});var xn=z(ze);ke=O(xn,"DIV",{class:!0,style:!0,role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),z(ke).forEach(v),xn.forEach(v),tt=ae(Kt),Dt=O(Kt,"BUTTON",{class:!0,"data-svelte-h":!0}),Xe(Dt)!=="svelte-1741erf"&&(Dt.textContent=zt),Kt.forEach(v),It=ae(ve),ht=O(ve,"DIV",{class:!0});var tr=z(ht);it=O(tr,"A",{href:!0,class:!0});var Pt=z(it);Ye=Be(Pt,"Cancel"),Pt.forEach(v),tr.forEach(v),this.h()},h(){m(l,"id","imageInput"),m(l,"type","file"),m(l,"accept","image/*;capture=camera"),m(r,"class","mb-3"),m(u,"class","img-scan d-flex col-md-6 col-sm-12"),m(y,"for","rDesc"),m(y,"class","form-label"),m(k,"class","form-control"),m(k,"list","descOptions"),m(k,"id","rDesc"),m(k,"name","rDesc"),m(k,"placeholder","Double-click for suggestions"),m(L,"id","descOptions"),m(d,"class","mb-3"),m(G,"for","rDate"),m(G,"class","form-label"),m(P,"class","mb-3"),m(ee,"for","rVal"),m(ee,"class","form-label"),m(ue,"class","form-control"),m(ue,"list","valOptions"),m(ue,"id","rVal"),m(ue,"name","rVal"),m(ue,"type","number"),m(ue,"step","0.01"),m(ue,"placeholder","Double-click for suggestions"),m(ge,"id","valOptions"),m(me,"class","mb-3"),m(we,"for","rType"),m(we,"class","form-label"),he.selected=!0,he.__value="--Please choose type--",Ht(he,he.__value),m(j,"id","rType"),m(j,"class","form-control"),n[8]===void 0&&Xa(()=>n[23].call(j)),m(ce,"class","mb-3"),m(W,"for","rCurrency"),m(W,"class","form-label"),m(ie,"class","mb-3"),m(p,"class","d-flex flex-column col-md-6 col-sm-12"),m(s,"id","receiptEntry"),Me(s,"show",n[10]),m(ke,"class","progress-bar"),Rr(ke,"width",n[11]+"%"),m(ke,"role","progressbar"),m(ke,"aria-valuenow",n[11]),m(ke,"aria-valuemin","0"),m(ke,"aria-valuemax","100"),m(ze,"class","progress"),m(Dt,"class","d-block mt-3 btn btn-outline-primary"),m(Pe,"class","flex-column hide"),Me(Pe,"show",!n[10]&&n[9]),m(it,"href",Ze="#/trip/"+n[0].id),m(it,"class","btn btn-outline-primary"),m(ht,"class","mt-3 d-grid d-md-block")},m(ve,We){Tt.m(ve,We),te(ve,e,We),He.m(ve,We),te(ve,t,We),te(ve,r,We),_(r,l),te(ve,o,We),te(ve,s,We),_(s,u),sn.m(u,null),_(s,f),_(s,p),_(p,d),_(d,y),_(d,T),_(d,k),Ht(k,n[6]),_(d,S),_(d,L);for(let kt=0;kt<qt.length;kt+=1)qt[kt]&&qt[kt].m(L,null);_(p,N),_(p,P),_(P,G),_(P,oe),Xt(ne,P,null),_(p,De),_(p,me),_(me,ee),_(me,Ce),_(me,ue),Ht(ue,n[7]),_(me,le),_(me,ge);for(let kt=0;kt<Vt.length;kt+=1)Vt[kt]&&Vt[kt].m(ge,null);_(p,de),_(p,ce),_(ce,we),_(ce,M),_(ce,j),_(j,he);for(let kt=0;kt<gt.length;kt+=1)gt[kt]&&gt[kt].m(j,null);Gr(j,n[8],!0),_(p,Y),_(p,ie),_(ie,W),_(ie,Ve),Xt(_e,ie,null),_(p,xe),lt.m(p,null),te(ve,Ee,We),te(ve,Pe,We),_(Pe,Ue),_(Pe,Ge),_(Pe,ze),_(ze,ke),_(Pe,tt),_(Pe,Dt),te(ve,It,We),te(ve,ht,We),_(ht,it),_(it,Ye),Mt=!0,rt||(ln=[Qe(l,"change",n[16]),Qe(k,"input",n[20]),Qe(ue,"input",n[22]),Qe(j,"change",n[23]),Qe(Dt,"click",n[25])],rt=!0)},p(ve,We){if(wt===(wt=tn(ve))&&Tt?Tt.p(ve,We):(Tt.d(1),Tt=wt(ve),Tt&&(Tt.c(),Tt.m(e.parentNode,e))),Yt!==(Yt=yn(ve))&&(He.d(1),He=Yt(ve),He&&(He.c(),He.m(t.parentNode,t))),nn===(nn=Mn(ve))&&sn?sn.p(ve,We):(sn.d(1),sn=nn(ve),sn&&(sn.c(),sn.m(u,null))),We[0]&64&&k.value!==ve[6]&&Ht(k,ve[6]),We[0]&4){Ae=ot(ve[2]);let Je;for(Je=0;Je<Ae.length;Je+=1){const $t=La(ve,Ae,Je);qt[Je]?qt[Je].p($t,We):(qt[Je]=Na($t),qt[Je].c(),qt[Je].m(L,null))}for(;Je<qt.length;Je+=1)qt[Je].d(1);qt.length=Ae.length}const kt={};if(!J&&We[0]&16&&(J=!0,kt.value=ve[4],Zn(()=>J=!1)),ne.$set(kt),We[0]&128&&$a(ue.value)!==ve[7]&&Ht(ue,ve[7]),We[0]&8){Ot=ot(ve[3]);let Je;for(Je=0;Je<Ot.length;Je+=1){const $t=Ma(ve,Ot,Je);Vt[Je]?Vt[Je].p($t,We):(Vt[Je]=Ba($t),Vt[Je].c(),Vt[Je].m(ge,null))}for(;Je<Vt.length;Je+=1)Vt[Je].d(1);Vt.length=Ot.length}if(We&0){mt=ot(Object.values(Pl));let Je;for(Je=0;Je<mt.length;Je+=1){const $t=Pa(ve,mt,Je);gt[Je]?gt[Je].p($t,We):(gt[Je]=Fa($t),gt[Je].c(),gt[Je].m(j,null))}for(;Je<gt.length;Je+=1)gt[Je].d(1);gt.length=mt.length}We[0]&256&&Gr(j,ve[8]);const _t={};We[0]&4096&&(_t.options=ve[12]),!$&&We[0]&32&&($=!0,_t.value=ve[5],Zn(()=>$=!1)),_e.$set(_t),dn===(dn=fn(ve))&&lt?lt.p(ve,We):(lt.d(1),lt=dn(ve),lt&&(lt.c(),lt.m(p,null))),(!Mt||We[0]&1024)&&Me(s,"show",ve[10]),(!Mt||We[0]&2048)&&Rr(ke,"width",ve[11]+"%"),(!Mt||We[0]&2048)&&m(ke,"aria-valuenow",ve[11]),(!Mt||We[0]&1536)&&Me(Pe,"show",!ve[10]&&ve[9]),(!Mt||We[0]&1&&Ze!==(Ze="#/trip/"+ve[0].id))&&m(it,"href",Ze)},i(ve){Mt||(Le(ne.$$.fragment,ve),Le(_e.$$.fragment,ve),Mt=!0)},o(ve){qe(ne.$$.fragment,ve),qe(_e.$$.fragment,ve),Mt=!1},d(ve){ve&&(v(e),v(t),v(r),v(o),v(s),v(Ee),v(Pe),v(It),v(ht)),Tt.d(ve),He.d(ve),sn.d(),Bn(qt,ve),xt(ne),Bn(Vt,ve),Bn(gt,ve),xt(_e),lt.d(),rt=!1,Xn(ln)}}}function rd(n){let e,t,r=n[0].name+"",l,o;return{c(){e=A("h1"),t=Ne('Add Receipt to "'),l=Ne(r),o=Ne('"')},l(s){e=O(s,"H1",{});var u=z(e);t=Be(u,'Add Receipt to "'),l=Be(u,r),o=Be(u,'"'),u.forEach(v)},m(s,u){te(s,e,u),_(e,t),_(e,l),_(e,o)},p(s,u){u[0]&1&&r!==(r=s[0].name+"")&&$e(l,r)},d(s){s&&v(e)}}}function id(n){let e,t,r=n[1].description+"",l,o;return{c(){e=A("h1"),t=Ne('Update Receipt for "'),l=Ne(r),o=Ne('"')},l(s){e=O(s,"H1",{});var u=z(e);t=Be(u,'Update Receipt for "'),l=Be(u,r),o=Be(u,'"'),u.forEach(v)},m(s,u){te(s,e,u),_(e,t),_(e,l),_(e,o)},p(s,u){u[0]&2&&r!==(r=s[1].description+"")&&$e(l,r)},d(s){s&&v(e)}}}function ld(n){let e,t="Choose image to begin";return{c(){e=A("p"),e.textContent=t},l(r){e=O(r,"P",{"data-svelte-h":!0}),Xe(e)!=="svelte-1rdbglw"&&(e.textContent=t)},m(r,l){te(r,e,l)},d(r){r&&v(e)}}}function sd(n){let e,t="Click 'Browse' to start again";return{c(){e=A("p"),e.textContent=t},l(r){e=O(r,"P",{"data-svelte-h":!0}),Xe(e)!=="svelte-1raiglx"&&(e.textContent=t)},m(r,l){te(r,e,l)},d(r){r&&v(e)}}}function ad(n){let e;return{c(){e=A("img"),this.h()},l(t){e=O(t,"IMG",{id:!0,class:!0,alt:!0}),this.h()},h(){m(e,"id","imgChosen"),m(e,"class","img-fluid"),m(e,"alt","Your chosen receipt")},m(t,r){te(t,e,r)},p:Ct,d(t){t&&v(e)}}}function od(n){let e,t;return{c(){e=A("img"),this.h()},l(r){e=O(r,"IMG",{id:!0,class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"id","imgChosen"),m(e,"class","img-fluid"),Ki(e.src,t=n[9])||m(e,"src",t),m(e,"alt","Your chosen receipt")},m(r,l){te(r,e,l)},p(r,l){l[0]&512&&!Ki(e.src,t=r[9])&&m(e,"src",t)},d(r){r&&v(e)}}}function Na(n){let e,t;return{c(){e=A("option"),this.h()},l(r){e=O(r,"OPTION",{}),z(e).forEach(v),this.h()},h(){e.__value=t=n[38],Ht(e,e.__value)},m(r,l){te(r,e,l)},p(r,l){l[0]&4&&t!==(t=r[38])&&(e.__value=t,Ht(e,e.__value))},d(r){r&&v(e)}}}function Ba(n){let e,t=n[35]+"",r,l;return{c(){e=A("option"),r=Ne(t),this.h()},l(o){e=O(o,"OPTION",{});var s=z(e);r=Be(s,t),s.forEach(v),this.h()},h(){e.__value=l=n[35],Ht(e,e.__value)},m(o,s){te(o,e,s),_(e,r)},p(o,s){s[0]&8&&t!==(t=o[35]+"")&&$e(r,t),s[0]&8&&l!==(l=o[35])&&(e.__value=l,Ht(e,e.__value))},d(o){o&&v(e)}}}function Fa(n){let e,t=n[32]+"",r;return{c(){e=A("option"),r=Ne(t),this.h()},l(l){e=O(l,"OPTION",{});var o=z(e);r=Be(o,t),o.forEach(v),this.h()},h(){e.__value=n[32],Ht(e,e.__value)},m(l,o){te(l,e,o),_(e,r)},p:Ct,d(l){l&&v(e)}}}function ud(n){let e,t="Add Receipt",r,l;return{c(){e=A("button"),e.textContent=t,this.h()},l(o){e=O(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Xe(e)!=="svelte-1059pct"&&(e.textContent=t),this.h()},h(){m(e,"type","button"),m(e,"class","btn btn-primary")},m(o,s){te(o,e,s),r||(l=Qe(e,"click",n[13]),r=!0)},p:Ct,d(o){o&&v(e),r=!1,l()}}}function cd(n){let e,t="Update Receipt",r,l;return{c(){e=A("button"),e.textContent=t,this.h()},l(o){e=O(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Xe(e)!=="svelte-jbq1gp"&&(e.textContent=t),this.h()},h(){m(e,"type","button"),m(e,"class","btn btn-primary")},m(o,s){te(o,e,s),r||(l=Qe(e,"click",n[14]),r=!0)},p:Ct,d(o){o&&v(e),r=!1,l()}}}function fd(n){let e,t,r=n[0]&&Ra(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(l){e=O(l,"DIV",{class:!0});var o=z(e);r&&r.l(o),o.forEach(v),this.h()},h(){m(e,"class","w-100")},m(l,o){te(l,e,o),r&&r.m(e,null),t=!0},p(l,o){l[0]?r?(r.p(l,o),o[0]&1&&Le(r,1)):(r=Ra(l),r.c(),Le(r,1),r.m(e,null)):r&&(un(),qe(r,1,1,()=>{r=null}),cn())},i(l){t||(Le(r),t=!0)},o(l){qe(r),t=!1},d(l){l&&v(e),r&&r.d()}}}function dd(n){return/,\d{2}$/.test(n)}function za(n,e){if(n.src.startsWith("data:image/jpeg;base64"))return n.src;const t=document.createElement("canvas"),r=t.getContext("2d");return t.width=n.width,t.height=n.height,r.drawImage(n,0,0,n.width,n.height),t.toDataURL("image/jpeg",e)}function hd(n,e,t){let r,l;Jn(n,pi,D=>t(19,l=D));const{createWorker:o}=Oa;let{tripId:s}=e,{receiptId:u}=e,f,p,d=[],y=[],C=new Date,T,k,S,L,N,P,G,I=!1,oe=0,ne;s>-1&&Wt.trips.get(s).then(D=>{t(0,f=D),u<0&&t(5,T=f.defaultCurrency)}),u>-1&&Wt.receipts.get(u).then(D=>{t(1,p=D),t(4,C=new Date(p.receiptDateString)),t(5,T=p.currency),t(6,k=p.description),t(7,S=p.total),t(8,L=p.receiptType),t(9,N=p.imageData),t(10,I=!0)});async function J(){const D=document.getElementById("imgChosen");G=D.naturalWidth,P=D.naturalHeight,t(9,N=za(D,.7)),await Wt.receipts.add({description:k,currency:T,receiptDate:C,receiptDateString:C.toDateString(),receiptType:L,total:S,tripId:s,imageData:N,imageHeight:P,imageWidth:G}),window.location.href="#/trip/"+s}async function De(){const D=document.getElementById("imgChosen");G=D.naturalWidth,P=D.naturalHeight,t(9,N=za(D,.7)),await Wt.receipts.update(p.id,{description:k,currency:T,receiptDate:C,receiptDateString:C.toDateString(),receiptType:L,total:S,tripId:p.tripId,imageData:N,imageHeight:P,imageWidth:G}),window.location.href="#/trip/"+p.tripId}function me(D){D.status=="recognizing text"&&t(11,oe=Math.floor(D.progress*100))}async function ee(D){ne=await o("eng",1,{logger:j=>me(j)}),await ne.setParameters({tessedit_pageseg_mode:Oa.PSM.SPARSE_TEXT});var M=await ne.recognize(D,{},{blocks:!0});return M.data.blocks?M.data.blocks:[]}async function be(D){t(11,oe=0),!I&&ne&&await ne.terminate(),D&&t(10,I=!0)}async function Ce(D){t(2,d=[]),t(3,y=[]),t(10,I=!1),await be(!1);var M=D.target.files[0],j=URL.createObjectURL(M);const he=document.getElementById("imgChosen");he.src=j,t(9,N=j);var B=await ee(j);for(let Y of B){if(Y.confidence<40)continue;let ie=Y.text.trim();d.push(ie);let W=or(ie,{decimal:dd(ie)?",":"."});W.value>0&&y.push(W.format({symbol:"",separator:"",decimal:"."}))}t(2,d),t(3,y=y.reverse()),t(10,I=!0)}No(()=>{be(!1)});function ue(){k=this.value,t(6,k)}function le(D){C=D,t(4,C)}function ge(){S=$a(this.value),t(7,S)}function de(){L=Io(this),t(8,L)}function ce(D){T=D,t(5,T)}const we=()=>be(!0);return n.$$set=D=>{"tripId"in D&&t(17,s=D.tripId),"receiptId"in D&&t(18,u=D.receiptId)},n.$$.update=()=>{n.$$.dirty[0]&524288&&t(12,r=Bl(l))},[f,p,d,y,C,T,k,S,L,N,I,oe,r,J,De,be,Ce,s,u,l,ue,le,ge,de,ce,we]}class mo extends Fn{constructor(e){super(),zn(this,e,hd,fd,Pn,{tripId:17,receiptId:18},null,[-1,-1])}}function Ka(n){let e,t,r="Your most recent trip:",l,o,s,u,f,p=n[0].name+"",d,y,C,T=n[0].startDateString+"",k,S,L=n[0].endDateString+"",N,P;return{c(){e=A("div"),t=A("h4"),t.textContent=r,l=se(),o=A("div"),s=A("a"),u=A("div"),f=A("strong"),d=Ne(p),y=se(),C=A("div"),k=Ne(T),S=Ne(" - "),N=Ne(L),this.h()},l(G){e=O(G,"DIV",{class:!0});var I=z(e);t=O(I,"H4",{"data-svelte-h":!0}),Xe(t)!=="svelte-1dpo13w"&&(t.textContent=r),l=ae(I),o=O(I,"DIV",{class:!0});var oe=z(o);s=O(oe,"A",{href:!0,class:!0});var ne=z(s);u=O(ne,"DIV",{class:!0});var J=z(u);f=O(J,"STRONG",{class:!0});var De=z(f);d=Be(De,p),De.forEach(v),y=ae(J),C=O(J,"DIV",{class:!0});var me=z(C);k=Be(me,T),S=Be(me," - "),N=Be(me,L),me.forEach(v),J.forEach(v),ne.forEach(v),oe.forEach(v),I.forEach(v),this.h()},h(){m(f,"class","mb-1"),m(C,"class","col-10 mb-1 text-center"),m(u,"class","d-flex w-100 align-items-center justify-content-between flex-column"),m(s,"href",P="#/trip/"+n[0].id),m(s,"class","py-3 lh-sm m-2 welcomeTrip"),m(o,"class","col-lg-6 col-md-12"),m(e,"class","row mb-4")},m(G,I){te(G,e,I),_(e,t),_(e,l),_(e,o),_(o,s),_(s,u),_(u,f),_(f,d),_(u,y),_(u,C),_(C,k),_(C,S),_(C,N)},p(G,I){I&1&&p!==(p=G[0].name+"")&&$e(d,p),I&1&&T!==(T=G[0].startDateString+"")&&$e(k,T),I&1&&L!==(L=G[0].endDateString+"")&&$e(N,L),I&1&&P!==(P="#/trip/"+G[0].id)&&m(s,"href",P)},d(G){G&&v(e)}}}function pd(n){let e,t,r="Preferences",l,o,s,u="Default Currency",f,p,d,y,C,T="The currency that each trip will default to",k,S,L,N="Favourite Currencies",P,G,I,oe,ne,J="These currencies will always appear at the top of the currency list",De;function me(ue){n[5](ue)}let ee={options:n[4],inputId:"defCurrency"};n[1]!==void 0&&(ee.value=n[1]),p=new mi({props:ee}),Ut.push(()=>Qn(p,"value",me));function be(ue){n[6](ue)}let Ce={options:n[4],inputId:"favCurrency",multiple:!0,placeholder:"Choose currencies"};return n[2]!==void 0&&(Ce.value=n[2]),G=new mi({props:Ce}),Ut.push(()=>Qn(G,"value",be)),{c(){e=A("div"),t=A("h4"),t.textContent=r,l=se(),o=A("div"),s=A("label"),s.textContent=u,f=se(),Jt(p.$$.fragment),y=se(),C=A("div"),C.textContent=T,k=se(),S=A("div"),L=A("label"),L.textContent=N,P=se(),Jt(G.$$.fragment),oe=se(),ne=A("div"),ne.textContent=J,this.h()},l(ue){e=O(ue,"DIV",{class:!0});var le=z(e);t=O(le,"H4",{"data-svelte-h":!0}),Xe(t)!=="svelte-1dfljgw"&&(t.textContent=r),l=ae(le),o=O(le,"DIV",{class:!0});var ge=z(o);s=O(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(s)!=="svelte-it9jnu"&&(s.textContent=u),f=ae(ge),Qt(p.$$.fragment,ge),y=ae(ge),C=O(ge,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Xe(C)!=="svelte-2gnq35"&&(C.textContent=T),ge.forEach(v),k=ae(le),S=O(le,"DIV",{class:!0});var de=z(S);L=O(de,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Xe(L)!=="svelte-18qx5ce"&&(L.textContent=N),P=ae(de),Qt(G.$$.fragment,de),oe=ae(de),ne=O(de,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Xe(ne)!=="svelte-13r3flk"&&(ne.textContent=J),de.forEach(v),le.forEach(v),this.h()},h(){m(s,"for","defCurrency"),m(s,"class","form-label"),m(C,"id","defCurrencyHelp"),m(C,"class","form-text"),m(o,"class","mb-3"),m(L,"for","favCurrency"),m(L,"class","form-label"),m(ne,"id","favCurrencyHelp"),m(ne,"class","form-text"),m(S,"class","mb-3"),m(e,"class","row")},m(ue,le){te(ue,e,le),_(e,t),_(e,l),_(e,o),_(o,s),_(o,f),Xt(p,o,null),_(o,y),_(o,C),_(e,k),_(e,S),_(S,L),_(S,P),Xt(G,S,null),_(S,oe),_(S,ne),De=!0},p(ue,le){const ge={};!d&&le&2&&(d=!0,ge.value=ue[1],Zn(()=>d=!1)),p.$set(ge);const de={};!I&&le&4&&(I=!0,de.value=ue[2],Zn(()=>I=!1)),G.$set(de)},i(ue){De||(Le(p.$$.fragment,ue),Le(G.$$.fragment,ue),De=!0)},o(ue){qe(p.$$.fragment,ue),qe(G.$$.fragment,ue),De=!1},d(ue){ue&&v(e),xt(p),xt(G)}}}function md(n){let e,t,r="Welcome!",l,o,s="Create a trip using the button at the top",u,f,p="Or add receipts by selecting a trip",d,y,C,T=n[0]&&Ka(n),k=pd(n);return{c(){e=A("div"),t=A("h1"),t.textContent=r,l=se(),o=A("p"),o.textContent=s,u=se(),f=A("p"),f.textContent=p,d=se(),T&&T.c(),y=se(),k&&k.c(),this.h()},l(S){e=O(S,"DIV",{class:!0});var L=z(e);t=O(L,"H1",{"data-svelte-h":!0}),Xe(t)!=="svelte-w9d2nb"&&(t.textContent=r),l=ae(L),o=O(L,"P",{"data-svelte-h":!0}),Xe(o)!=="svelte-xbo4ew"&&(o.textContent=s),u=ae(L),f=O(L,"P",{"data-svelte-h":!0}),Xe(f)!=="svelte-1g1vmu2"&&(f.textContent=p),d=ae(L),T&&T.l(L),y=ae(L),k&&k.l(L),L.forEach(v),this.h()},h(){m(e,"class","col-sm-12")},m(S,L){te(S,e,L),_(e,t),_(e,l),_(e,o),_(e,u),_(e,f),_(e,d),T&&T.m(e,null),_(e,y),k&&k.m(e,null),C=!0},p(S,[L]){S[0]?T?T.p(S,L):(T=Ka(S),T.c(),T.m(e,y)):T&&(T.d(1),T=null),k.p(S,L)},i(S){C||(Le(k),C=!0)},o(S){qe(k),C=!1},d(S){S&&v(e),T&&T.d(),k&&k.d()}}}function gd(n,e,t){let r,l,o;Jn(n,Ml,d=>t(1,l=d)),Jn(n,pi,d=>t(2,o=d));let s=hi(()=>Wt.trips.orderBy("endDate").reverse().first());Jn(n,s,d=>t(0,r=d));let u=[];for(let d of Object.keys(rn))u.push({value:d,text:`${d} (${rn[d].symbol})`});function f(d){l=d,Ml.set(l)}function p(d){o=d,pi.set(o)}return[r,l,o,s,u,f,p]}class _d extends Fn{constructor(e){super(),zn(this,e,gd,md,Pn,{})}}function ja(n,e,t){const r=n.slice();return r[8]=e[t],r}function Ha(n,e,t){const r=n.slice();return r[11]=e[t],r}function Va(n,e,t){const r=n.slice();return r[8]=e[t],r}function Cl(n){const e=n.slice(),t=Array.from(new Set(e[3].map(r=>r.currency)));return e[7]=t,e}function qa(n){let e,t,r="After clicking 'Export/Print', you should be able to print/save to PDF",l,o,s,u,f,p,d,y="Export/Print",C,T,k=n[0].name+"",S,L,N,P=n[0].startDateString+"",G,I,oe=n[0].endDateString+"",ne,J,De,me="Receipt Summary",ee,be,Ce,ue,le=n[3]&&Ua(Cl(n));return{c(){e=A("div"),t=A("p"),t.textContent=r,l=se(),o=A("p"),s=A("label"),u=A("input"),f=Ne(`
            Include notes`),p=se(),d=A("button"),d.textContent=y,C=se(),T=A("h1"),S=Ne(k),L=se(),N=A("h4"),G=Ne(P),I=Ne(" - "),ne=Ne(oe),J=se(),De=A("h5"),De.textContent=me,ee=se(),le&&le.c(),be=yt(),this.h()},l(ge){e=O(ge,"DIV",{class:!0,id:!0});var de=z(e);t=O(de,"P",{"data-svelte-h":!0}),Xe(t)!=="svelte-drk65c"&&(t.textContent=r),l=ae(de),o=O(de,"P",{});var ce=z(o);s=O(ce,"LABEL",{});var we=z(s);u=O(we,"INPUT",{type:!0}),f=Be(we,`
            Include notes`),we.forEach(v),ce.forEach(v),p=ae(de),d=O(de,"BUTTON",{class:!0,onclick:!0,"data-svelte-h":!0}),Xe(d)!=="svelte-1fkvb7c"&&(d.textContent=y),de.forEach(v),C=ae(ge),T=O(ge,"H1",{});var D=z(T);S=Be(D,k),D.forEach(v),L=ae(ge),N=O(ge,"H4",{});var M=z(N);G=Be(M,P),I=Be(M," - "),ne=Be(M,oe),M.forEach(v),J=ae(ge),De=O(ge,"H5",{"data-svelte-h":!0}),Xe(De)!=="svelte-1hbjnf6"&&(De.textContent=me),ee=ae(ge),le&&le.l(ge),be=yt(),this.h()},h(){m(u,"type","checkbox"),m(d,"class","btn btn-primary"),m(d,"onclick","window.print()"),m(e,"class","no-print mt-3 hide"),m(e,"id","printMessage")},m(ge,de){te(ge,e,de),_(e,t),_(e,l),_(e,o),_(o,s),_(s,u),u.checked=n[2],_(s,f),_(e,p),_(e,d),te(ge,C,de),te(ge,T,de),_(T,S),te(ge,L,de),te(ge,N,de),_(N,G),_(N,I),_(N,ne),te(ge,J,de),te(ge,De,de),te(ge,ee,de),le&&le.m(ge,de),te(ge,be,de),Ce||(ue=Qe(u,"change",n[5]),Ce=!0)},p(ge,de){de&4&&(u.checked=ge[2]),de&1&&k!==(k=ge[0].name+"")&&$e(S,k),de&1&&P!==(P=ge[0].startDateString+"")&&$e(G,P),de&1&&oe!==(oe=ge[0].endDateString+"")&&$e(ne,oe),ge[3]?le?le.p(Cl(ge),de):(le=Ua(Cl(ge)),le.c(),le.m(be.parentNode,be)):le&&(le.d(1),le=null)},d(ge){ge&&(v(e),v(C),v(T),v(L),v(N),v(J),v(De),v(ee),v(be)),le&&le.d(ge),Ce=!1,ue()}}}function Ua(n){let e,t,r="<tr><th>Receipt Description</th> <th>Receipt Date</th> <th>Receipt Type</th> <th>Receipt Total</th></tr>",l,o,s=[],u=new Map,f,p,d,y,C,T,k,S,L="<strong>Total</strong>",N,P,G,I,oe,ne,J=[],De=new Map,me,ee,be=`// Wait for images to render before printing
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
              incrementCounter();
            else
              img.addEventListener( 'load', incrementCounter, false );
        } );

        function printDiaglog() {
          window.print()
        }
        function incrementCounter() {
            counter++;
            if ( counter === len ) {
              document.getElementById("printMessage").classList.remove("hide");
            }
        }`,Ce=ot(n[3]);const ue=D=>D[8].id;for(let D=0;D<Ce.length;D+=1){let M=Va(n,Ce,D),j=ue(M);u.set(j,s[D]=Ga(j,M))}let le=ot(n[7]),ge=[];for(let D=0;D<le.length;D+=1)ge[D]=Wa(Ha(n,le,D));let de=n[2]&&Ya(n),ce=ot(n[3]);const we=D=>D[8].id;for(let D=0;D<ce.length;D+=1){let M=ja(n,ce,D),j=we(M);De.set(j,J[D]=Za(j,M))}return{c(){e=A("table"),t=A("thead"),t.innerHTML=r,l=se(),o=A("tbody");for(let D=0;D<s.length;D+=1)s[D].c();f=se(),p=A("tfoot"),d=A("tr"),y=A("td"),C=se(),T=A("td"),k=se(),S=A("td"),S.innerHTML=L,N=se(),P=A("td");for(let D=0;D<ge.length;D+=1)ge[D].c();G=se(),I=A("td"),oe=se(),de&&de.c(),ne=se();for(let D=0;D<J.length;D+=1)J[D].c();me=se(),ee=A("script"),ee.textContent=be,this.h()},l(D){e=O(D,"TABLE",{class:!0});var M=z(e);t=O(M,"THEAD",{"data-svelte-h":!0}),Xe(t)!=="svelte-1yqevk1"&&(t.innerHTML=r),l=ae(M),o=O(M,"TBODY",{});var j=z(o);for(let ie=0;ie<s.length;ie+=1)s[ie].l(j);j.forEach(v),f=ae(M),p=O(M,"TFOOT",{class:!0});var he=z(p);d=O(he,"TR",{});var B=z(d);y=O(B,"TD",{}),z(y).forEach(v),C=ae(B),T=O(B,"TD",{}),z(T).forEach(v),k=ae(B),S=O(B,"TD",{class:!0,"data-svelte-h":!0}),Xe(S)!=="svelte-14afisz"&&(S.innerHTML=L),N=ae(B),P=O(B,"TD",{});var Y=z(P);for(let ie=0;ie<ge.length;ie+=1)ge[ie].l(Y);Y.forEach(v),G=ae(B),I=O(B,"TD",{}),z(I).forEach(v),B.forEach(v),he.forEach(v),M.forEach(v),oe=ae(D),de&&de.l(D),ne=ae(D);for(let ie=0;ie<J.length;ie+=1)J[ie].l(D);me=ae(D),ee=O(D,"SCRIPT",{"data-svelte-h":!0}),Xe(ee)!=="svelte-wsa5ae"&&(ee.textContent=be),this.h()},h(){m(S,"class","text-end"),m(p,"class","table-group-divider"),m(e,"class","table table-striped table-hover")},m(D,M){te(D,e,M),_(e,t),_(e,l),_(e,o);for(let j=0;j<s.length;j+=1)s[j]&&s[j].m(o,null);_(e,f),_(e,p),_(p,d),_(d,y),_(d,C),_(d,T),_(d,k),_(d,S),_(d,N),_(d,P);for(let j=0;j<ge.length;j+=1)ge[j]&&ge[j].m(P,null);_(d,G),_(d,I),te(D,oe,M),de&&de.m(D,M),te(D,ne,M);for(let j=0;j<J.length;j+=1)J[j]&&J[j].m(D,M);te(D,me,M),te(D,ee,M)},p(D,M){if(M&8&&(Ce=ot(D[3]),s=Nr(s,M,ue,1,D,Ce,u,o,Yr,Ga,null,Va)),M&8){le=ot(D[7]);let j;for(j=0;j<le.length;j+=1){const he=Ha(D,le,j);ge[j]?ge[j].p(he,M):(ge[j]=Wa(he),ge[j].c(),ge[j].m(P,null))}for(;j<ge.length;j+=1)ge[j].d(1);ge.length=le.length}D[2]?de?de.p(D,M):(de=Ya(D),de.c(),de.m(ne.parentNode,ne)):de&&(de.d(1),de=null),M&8&&(ce=ot(D[3]),J=Nr(J,M,we,1,D,ce,De,me.parentNode,Yr,Za,me,ja))},d(D){D&&(v(e),v(oe),v(ne),v(me),v(ee));for(let M=0;M<s.length;M+=1)s[M].d();Bn(ge,D),de&&de.d(D);for(let M=0;M<J.length;M+=1)J[M].d(D)}}}function Ga(n,e){let t,r,l=e[8].description+"",o,s,u,f=e[8].receiptDateString+"",p,d,y,C=e[8].receiptType+"",T,k,S,L=rn[e[8].currency].symbol+"",N,P,G=e[8].total.toFixed(2)+"",I,oe;return{key:n,first:null,c(){t=A("tr"),r=A("td"),o=Ne(l),s=se(),u=A("td"),p=Ne(f),d=se(),y=A("td"),T=Ne(C),k=se(),S=A("td"),N=Ne(L),P=se(),I=Ne(G),oe=se(),this.h()},l(ne){t=O(ne,"TR",{});var J=z(t);r=O(J,"TD",{});var De=z(r);o=Be(De,l),De.forEach(v),s=ae(J),u=O(J,"TD",{});var me=z(u);p=Be(me,f),me.forEach(v),d=ae(J),y=O(J,"TD",{});var ee=z(y);T=Be(ee,C),ee.forEach(v),k=ae(J),S=O(J,"TD",{});var be=z(S);N=Be(be,L),P=ae(be),I=Be(be,G),be.forEach(v),oe=ae(J),J.forEach(v),this.h()},h(){this.first=t},m(ne,J){te(ne,t,J),_(t,r),_(r,o),_(t,s),_(t,u),_(u,p),_(t,d),_(t,y),_(y,T),_(t,k),_(t,S),_(S,N),_(S,P),_(S,I),_(t,oe)},p(ne,J){e=ne,J&8&&l!==(l=e[8].description+"")&&$e(o,l),J&8&&f!==(f=e[8].receiptDateString+"")&&$e(p,f),J&8&&C!==(C=e[8].receiptType+"")&&$e(T,C),J&8&&L!==(L=rn[e[8].currency].symbol+"")&&$e(N,L),J&8&&G!==(G=e[8].total.toFixed(2)+"")&&$e(I,G)},d(ne){ne&&v(t)}}}function Wa(n){let e=rn[n[11]].symbol+"",t,r,l=n[3].filter(f).reduce(Ja,0).toFixed(2)+"",o,s,u;function f(...p){return n[6](n[11],...p)}return{c(){t=Ne(e),r=se(),o=Ne(l),s=se(),u=A("br")},l(p){t=Be(p,e),r=ae(p),o=Be(p,l),s=ae(p),u=O(p,"BR",{})},m(p,d){te(p,t,d),te(p,r,d),te(p,o,d),te(p,s,d),te(p,u,d)},p(p,d){n=p,d&8&&e!==(e=rn[n[11]].symbol+"")&&$e(t,e),d&8&&l!==(l=n[3].filter(f).reduce(Ja,0).toFixed(2)+"")&&$e(o,l)},d(p){p&&(v(t),v(r),v(o),v(s),v(u))}}}function Ya(n){let e,t="Notes:",r,l,o=n[0].notes+"",s;return{c(){e=A("h5"),e.textContent=t,r=se(),l=A("p"),s=Ne(o),this.h()},l(u){e=O(u,"H5",{"data-svelte-h":!0}),Xe(e)!=="svelte-srqctx"&&(e.textContent=t),r=ae(u),l=O(u,"P",{style:!0});var f=z(l);s=Be(f,o),f.forEach(v),this.h()},h(){Rr(l,"white-space","pre-wrap")},m(u,f){te(u,e,f),te(u,r,f),te(u,l,f),_(l,s)},p(u,f){f&1&&o!==(o=u[0].notes+"")&&$e(s,o)},d(u){u&&(v(e),v(r),v(l))}}}function Za(n,e){let t,r=e[8].description+"",l,o,s,u=rn[e[8].currency].symbol+"",f,p,d=e[8].total.toFixed(2)+"",y,C,T,k,S;return{key:n,first:null,c(){t=A("div"),l=Ne(r),o=se(),s=A("strong"),f=Ne(u),p=se(),y=Ne(d),C=se(),T=A("img"),this.h()},l(L){t=O(L,"DIV",{class:!0});var N=z(t);l=Be(N,r),o=ae(N),s=O(N,"STRONG",{});var P=z(s);f=Be(P,u),p=ae(P),y=Be(P,d),P.forEach(v),N.forEach(v),C=ae(L),T=O(L,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){m(t,"class","page-print mb-2"),m(T,"class","img-print"),m(T,"alt",k="receipt with description '"+e[8].description+"'"),Ki(T.src,S=e[8].imageData)||m(T,"src",S),this.first=t},m(L,N){te(L,t,N),_(t,l),_(t,o),_(t,s),_(s,f),_(s,p),_(s,y),te(L,C,N),te(L,T,N)},p(L,N){e=L,N&8&&r!==(r=e[8].description+"")&&$e(l,r),N&8&&u!==(u=rn[e[8].currency].symbol+"")&&$e(f,u),N&8&&d!==(d=e[8].total.toFixed(2)+"")&&$e(y,d),N&8&&k!==(k="receipt with description '"+e[8].description+"'")&&m(T,"alt",k),N&8&&!Ki(T.src,S=e[8].imageData)&&m(T,"src",S)},d(L){L&&(v(t),v(C),v(T))}}}function vd(n){let e,t=n[0]&&qa(n);return{c(){e=A("div"),t&&t.c()},l(r){e=O(r,"DIV",{});var l=z(e);t&&t.l(l),l.forEach(v)},m(r,l){te(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]?t?t.p(r,l):(t=qa(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:Ct,o:Ct,d(r){r&&v(e),t&&t.d()}}}const Ja=(n,e)=>n+e.total;function bd(n,e,t){let r,l=Ct,o=()=>(l(),l=ui(f,C=>t(3,r=C)),f);n.$$.on_destroy.push(()=>l());let{tripId:s=-1}=e,u,f,p=!1;s>-1&&Wt.trips.get(s).then(C=>{t(0,u=C),o(t(1,f=hi(()=>Wt.receipts.where({tripId:s}).reverse().sortBy("receiptDate"))))});function d(){p=this.checked,t(2,p)}const y=(C,T)=>T.currency==C;return n.$$set=C=>{"tripId"in C&&t(4,s=C.tripId)},[u,f,p,r,s,d,y]}class yd extends Fn{constructor(e){super(),zn(this,e,bd,vd,Pn,{tripId:4})}}function wd(n){let e,t,r,l=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="38" viewBox="0 0 375.91 152.28" style="enable-background:new 0 0 375.91 152.28;" xml:space="preserve"><style type="text/css">.st0{fill:currentColor;}
		   </style><g id="Layer_1"><g><path class="st0" d="M0,19.62h59.19V36.2H0V19.62z M20.94,27.62h17.24v88.06H20.94V27.62z" fill="currentColor"></path><path class="st0" d="M60.18,47.1h17.84v68.58H60.18V47.1z M93.28,63.69c-1.01-0.22-2.14-0.33-3.37-0.33
					   c-3.74,0-6.66,1.17-8.75,3.5c-2.09,2.33-3.14,5.57-3.14,9.71l-1.39-17.51c1.94-4.1,4.44-7.3,7.5-9.61
					   c3.06-2.31,6.42-3.47,10.08-3.47c1.41,0,2.7,0.23,3.87,0.69c1.17,0.46,2.17,1.13,3.01,2.01l-5.22,16.05
					   C95.15,64.26,94.29,63.91,93.28,63.69z"></path><path class="st0" d="M109,19.62h17.24v17.11H109V19.62z M109,47.1h17.24v68.58H109V47.1z"></path><path class="st0" d="M140.58,47.1h17.18v96.46h-17.18V47.1z M162.68,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C168.4,116.67,165.3,115.65,162.68,113.6z"></path><path class="st0" d="M204.6,47.1h17.18v96.46H204.6V47.1z M226.7,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C232.42,116.67,229.32,115.65,226.7,113.6z"></path><path class="st0" d="M267.43,19.62h17.24v17.11h-17.24V19.62z M267.43,47.1h17.24v68.58h-17.24V47.1z"></path><path class="st0" d="M299.01,47.1h17.24v68.58h-17.24V47.1z M332.31,70.62c0-2.73-0.72-4.83-2.15-6.31
					   c-1.43-1.48-3.45-2.21-6.04-2.21c-2.51,0-4.45,0.74-5.81,2.21c-1.37,1.48-2.05,3.6-2.05,6.38l-1.39-11.63
					   c1.72-4.27,3.96-7.52,6.74-9.74c2.77-2.22,6.05-3.34,9.84-3.34c5.72,0,10.16,1.98,13.31,5.95c3.15,3.96,4.72,9.54,4.72,16.71
					   v47.04h-17.18V70.62z"></path><path class="st0" d="M356.55,19.62h17.24v23.65l-17.24,16.91V19.62z"></path></g></g></svg>`,o,s,u,f='<li class="nav-item"><a class="btn btn-outline-light" href="#/add">+ Add Trip</a></li>',p,d,y=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg>
				My Trips`,C,T,k,S,L,N,P,G,I,oe,ne,J;L=new Nc({props:{tripId:n[3]}});const De=[Id,Td,Cd,Dd,Ed,Sd],me=[];function ee(be,Ce){return be[4]==="add"?0:be[4]==="trip"&&be[3]>-1?1:be[4]==="update"&&be[3]>-1?2:be[4]==="addreceipt"&&be[3]>-1?3:be[4]==="editreceipt"&&be[3]>-1?4:5}return G=ee(n),I=me[G]=De[G](n),{c(){e=A("nav"),t=A("div"),r=A("a"),r.innerHTML=l,o=se(),s=A("div"),u=A("ul"),u.innerHTML=f,p=se(),d=A("button"),d.innerHTML=y,C=se(),T=A("main"),k=A("div"),S=A("div"),Jt(L.$$.fragment),N=se(),P=A("div"),I.c(),this.h()},l(be){e=O(be,"NAV",{class:!0,"aria-label":!0});var Ce=z(e);t=O(Ce,"DIV",{class:!0});var ue=z(t);r=O(ue,"A",{"aria-current":!0,class:!0,href:!0,"data-svelte-h":!0}),Xe(r)!=="svelte-184qgqe"&&(r.innerHTML=l),o=ae(ue),s=O(ue,"DIV",{class:!0});var le=z(s);u=O(le,"UL",{class:!0,"data-svelte-h":!0}),Xe(u)!=="svelte-d6xdjk"&&(u.innerHTML=f),p=ae(le),d=O(le,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Xe(d)!=="svelte-1yyazi7"&&(d.innerHTML=y),le.forEach(v),ue.forEach(v),Ce.forEach(v),C=ae(be),T=O(be,"MAIN",{class:!0});var ge=z(T);k=O(ge,"DIV",{class:!0});var de=z(k);S=O(de,"DIV",{class:!0,id:!0});var ce=z(S);Qt(L.$$.fragment,ce),ce.forEach(v),de.forEach(v),N=ae(ge),P=O(ge,"DIV",{class:!0,id:!0});var we=z(P);I.l(we),we.forEach(v),ge.forEach(v),this.h()},h(){m(r,"aria-current","page"),m(r,"class","navbar-brand text-light"),m(r,"href","#"),m(u,"class","navbar-nav me-auto"),m(d,"class","listTitleSmall btn btn-outline-light me-2"),m(d,"type","button"),m(s,"class","collapse navbar-collapse"),m(t,"class","container-fluid"),m(e,"class","navbar navbar-expand navbar-dark bg-dark"),m(e,"aria-label","Second navbar example"),m(S,"class","list-group scrollarea d-none"),m(S,"id","tripToggle"),m(k,"class","tripList d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary"),m(P,"class","d-flex p-3 w-100"),m(P,"id","mainPane"),m(T,"class","d-flex flex-nowrap")},m(be,Ce){te(be,e,Ce),_(e,t),_(t,r),_(t,o),_(t,s),_(s,u),_(s,p),_(s,d),te(be,C,Ce),te(be,T,Ce),_(T,k),_(k,S),Xt(L,S,null),_(T,N),_(T,P),me[G].m(P,null),oe=!0,ne||(J=Qe(d,"click",oo),ne=!0)},p(be,Ce){const ue={};Ce&8&&(ue.tripId=be[3]),L.$set(ue);let le=G;G=ee(be),G===le?me[G].p(be,Ce):(un(),qe(me[le],1,1,()=>{me[le]=null}),cn(),I=me[G],I?I.p(be,Ce):(I=me[G]=De[G](be),I.c()),Le(I,1),I.m(P,null))},i(be){oe||(Le(L.$$.fragment,be),Le(I),oe=!0)},o(be){qe(L.$$.fragment,be),qe(I),oe=!1},d(be){be&&(v(e),v(C),v(T)),xt(L),me[G].d(),ne=!1,J()}}}function kd(n){let e,t;return e=new yd({props:{tripId:n[3]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Sd(n){let e,t;return e=new _d({}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p:Ct,i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Ed(n){let e,t;return e=new mo({props:{tripId:n[3],receiptId:n[5]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),l&32&&(o.receiptId=r[5]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Dd(n){let e,t;return e=new mo({props:{tripId:n[3],receiptId:-1}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Cd(n){let e,t;return e=new zc({props:{tripId:n[3]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Td(n){let e=n[3],t,r,l=Qa(n);return{c(){l.c(),t=yt()},l(o){l.l(o),t=yt()},m(o,s){l.m(o,s),te(o,t,s),r=!0},p(o,s){s&8&&Pn(e,e=o[3])?(un(),qe(l,1,1,Ct),cn(),l=Qa(o),l.c(),Le(l,1),l.m(t.parentNode,t)):l.p(o,s)},i(o){r||(Le(l),r=!0)},o(o){qe(l),r=!1},d(o){o&&v(t),l.d(o)}}}function Id(n){let e,t;return e=new hc({}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p:Ct,i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Qa(n){let e,t;return e=new Mc({props:{tripId:n[3]}}),{c(){Jt(e.$$.fragment)},l(r){Qt(e.$$.fragment,r)},m(r,l){Xt(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.tripId=r[3]),e.$set(o)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){xt(e,r)}}}function Ad(n){let e,t,r,l;const o=[kd,wd],s=[];function u(f,p){return f[4]==="print"&&f[3]>-1?0:1}return e=u(n),t=s[e]=o[e](n),{c(){t.c(),r=yt()},l(f){t.l(f),r=yt()},m(f,p){s[e].m(f,p),te(f,r,p),l=!0},p(f,[p]){let d=e;e=u(f),e===d?s[e].p(f,p):(un(),qe(s[d],1,1,()=>{s[d]=null}),cn(),t=s[e],t?t.p(f,p):(t=s[e]=o[e](f),t.c()),Le(t,1),t.m(r.parentNode,r))},i(f){l||(Le(t),l=!0)},o(f){qe(t),l=!1},d(f){f&&v(r),s[e].d(f)}}}function Od(n,e,t){let r,l,o,s,u,f=Ct,p=()=>(f(),f=ui(r,G=>t(3,u=G)),r),d,y=Ct,C=()=>(y(),y=ui(o,G=>t(4,d=G)),o),T,k=Ct,S=()=>(k(),k=ui(l,G=>t(5,T=G)),l),L;Jn(n,Fo,G=>t(6,L=G)),n.$$.on_destroy.push(()=>f()),n.$$.on_destroy.push(()=>y()),n.$$.on_destroy.push(()=>k());const N=new RegExp("#/(?<route>[a-z]+)(?<tripId>/[0-9]+|$)");function P(){var G;(G=document.getElementById("tripToggle"))==null||G.classList.remove("show"),s?(ri(o,d=s.groups.route||"",d),d=="editreceipt"?ri(l,T=parseInt(s.groups.tripId.replace("/","")||"-1"),T):ri(r,u=parseInt(s.groups.tripId.replace("/","")||"-1"),u)):(ri(o,d="",d),ri(r,u=-1,u))}return Ao(()=>{P()}),n.$$.update=()=>{n.$$.dirty&64&&(s=N.exec(L.url.hash))},p(t(2,r=Wr(-1))),S(t(1,l=Wr(-1))),C(t(0,o=Wr(""))),[o,l,r,u,d,T,L]}class Pd extends Fn{constructor(e){super(),zn(this,e,Od,Ad,Pn,{})}}function Md(n){let e,t,r;return t=new Pd({}),{c(){e=se(),Jt(t.$$.fragment),this.h()},l(l){Oo("svelte-1mxz4jk",document.head).forEach(v),e=ae(l),Qt(t.$$.fragment,l),this.h()},h(){document.title="Trippin'"},m(l,o){te(l,e,o),Xt(t,l,o),r=!0},p:Ct,i(l){r||(Le(t.$$.fragment,l),r=!0)},o(l){qe(t.$$.fragment,l),r=!1},d(l){l&&v(e),xt(t,l)}}}class Zd extends Fn{constructor(e){super(),zn(this,e,null,Md,Pn,{})}}export{Zd as component};
