import{C as yn,s as en,p as Lt,k as se,n as ft,i as _,e as P,t as Oe,b as ae,d as I,f as q,h as Pe,j as oe,v as p,l as m,S as We,T as Vr,x as $t,c as Lo,U as bt,V as Ge,W as wt,X as rn,Y as Nn,u as Ro,g as No,a as Bo,Z as Ft,_ as Ko,$ as ht,m as Ye,a0 as vs,a1 as St,a2 as ca,o as Hn,w as Bn,E as dr,a3 as zr,D as Fo,a4 as _s,a5 as ys,a6 as bs,a7 as fr,a8 as jo,a9 as xr,aa as ws,ab as sr,ac as ks}from"../chunks/scheduler.OewxY0I8.js";import{t as it,S as an,i as on,f as Kn,b as jt,d as Vt,m as zt,a as st,e as xt,g as qn,c as Un,h as fa}from"../chunks/index.C1a3JXG5.js";import{w as Kr,b as Ds}from"../chunks/entry.rP266j_X.js";import{_ as Es}from"../chunks/preload-helper.D6kgxu3v.js";import{p as Ss}from"../chunks/stores.DzTVHlvP.js";function $e(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Hr(i,e){i.d(1),e.delete(i.key)}function qr(i,e,n,r,s,c,l,d,b,g,v,w){let O=i.length,H=c.length,$=O;const ee={};for(;$--;)ee[i[$].key]=$;const G=[],N=new Map,C=new Map,W=[];for($=H;$--;){const Y=w(s,c,$),Se=n(Y);let le=l.get(Se);le?W.push(()=>le.p(Y,e)):(le=g(Se,Y),le.c()),N.set(Se,G[$]=le),Se in ee&&C.set(Se,Math.abs($-ee[Se]))}const E=new Set,de=new Set;function ie(Y){it(Y,1),Y.m(d,v),l.set(Y.key,Y),v=Y.first,H--}for(;O&&H;){const Y=G[H-1],Se=i[O-1],le=Y.key,_e=Se.key;Y===Se?(v=Y.first,O--,H--):N.has(_e)?!l.has(le)||E.has(le)?ie(Y):de.has(_e)?O--:C.get(le)>C.get(_e)?(de.add(le),ie(Y)):(E.add(_e),O--):(b(Se,l),O--)}for(;O--;){const Y=i[O];N.has(Y.key)||b(Y,l)}for(;H;)ie(G[H-1]);return yn(W),G}function da(i){let e,n,r=("00"+i[0].getHours()).slice(-2)+"",s,c,l,d=("00"+i[0].getMinutes()).slice(-2)+"",b,g,v,w,O=i[1]!=="minute"&&ha(i);return{c(){e=P("div"),n=P("span"),s=Oe(r),c=Oe(`:
		`),l=P("span"),b=Oe(d),g=ae(),O&&O.c(),this.h()},l(H){e=I(H,"DIV",{class:!0,role:!0});var $=q(e);n=I($,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var ee=q(n);s=Pe(ee,r),ee.forEach(_),c=Pe($,`:
		`),l=I($,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var G=q(l);b=Pe(G,d),G.forEach(_),g=oe($),O&&O.l($),$.forEach(_),this.h()},h(){p(n,"role","spinbutton"),p(n,"aria-label","Hours"),p(n,"tabindex","0"),p(n,"contenteditable",""),p(n,"inputmode","numeric"),p(n,"class","svelte-mzlxg7"),p(l,"role","spinbutton"),p(l,"aria-label","Minutes"),p(l,"tabindex","0"),p(l,"contenteditable",""),p(l,"inputmode","numeric"),p(l,"class","svelte-mzlxg7"),p(e,"class","time-picker svelte-mzlxg7"),p(e,"role","none")},m(H,$){se(H,e,$),m(e,n),m(n,s),i[6](n),m(e,c),m(e,l),m(l,b),i[7](l),m(e,g),O&&O.m(e,null),v||(w=[We(n,"keydown",i[3]),We(n,"input",i[4]),We(n,"focus",Ur),We(l,"keydown",i[3]),We(l,"input",i[4]),We(l,"focus",Ur),We(e,"mousedown",i[10])],v=!0)},p(H,$){$&1&&r!==(r=("00"+H[0].getHours()).slice(-2)+"")&&Vr(s,r),$&1&&d!==(d=("00"+H[0].getMinutes()).slice(-2)+"")&&Vr(b,d),H[1]!=="minute"?O?O.p(H,$):(O=ha(H),O.c(),O.m(e,null)):O&&(O.d(1),O=null)},d(H){H&&_(e),i[6](null),i[7](null),O&&O.d(),v=!1,yn(w)}}}function ha(i){let e,n,r=("00"+i[0].getSeconds()).slice(-2)+"",s,c,l,d,b,g=i[1]!=="second"&&pa(i);return{c(){e=Oe(":"),n=P("span"),s=Oe(r),c=ae(),g&&g.c(),l=Lt(),this.h()},l(v){e=Pe(v,":"),n=I(v,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var w=q(n);s=Pe(w,r),w.forEach(_),c=oe(v),g&&g.l(v),l=Lt(),this.h()},h(){p(n,"role","spinbutton"),p(n,"aria-label","Seconds"),p(n,"tabindex","0"),p(n,"contenteditable",""),p(n,"inputmode","numeric"),p(n,"class","svelte-mzlxg7")},m(v,w){se(v,e,w),se(v,n,w),m(n,s),i[8](n),se(v,c,w),g&&g.m(v,w),se(v,l,w),d||(b=[We(n,"keydown",i[3]),We(n,"input",i[4]),We(n,"focus",Ur)],d=!0)},p(v,w){w&1&&r!==(r=("00"+v[0].getSeconds()).slice(-2)+"")&&Vr(s,r),v[1]!=="second"?g?g.p(v,w):(g=pa(v),g.c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null)},d(v){v&&(_(e),_(n),_(c),_(l)),i[8](null),g&&g.d(v),d=!1,yn(b)}}}function pa(i){let e,n,r=("000"+i[0].getMilliseconds()).slice(-3)+"",s,c,l;return{c(){e=Oe("."),n=P("span"),s=Oe(r),this.h()},l(d){e=Pe(d,"."),n=I(d,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var b=q(n);s=Pe(b,r),b.forEach(_),this.h()},h(){p(n,"role","spinbutton"),p(n,"aria-label","Milliseconds"),p(n,"tabindex","0"),p(n,"contenteditable",""),p(n,"inputmode","numeric"),p(n,"class","svelte-mzlxg7")},m(d,b){se(d,e,b),se(d,n,b),m(n,s),i[9](n),c||(l=[We(n,"keydown",i[3]),We(n,"input",i[4]),We(n,"focus",Ur)],c=!0)},p(d,b){b&1&&r!==(r=("000"+d[0].getMilliseconds()).slice(-3)+"")&&Vr(s,r)},d(d){d&&(_(e),_(n)),i[9](null),c=!1,yn(l)}}}function Ts(i){let e,n=i[1]&&da(i);return{c(){n&&n.c(),e=Lt()},l(r){n&&n.l(r),e=Lt()},m(r,s){n&&n.m(r,s),se(r,e,s)},p(r,[s]){r[1]?n?n.p(r,s):(n=da(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ft,o:ft,d(r){r&&_(e),n&&n.d(r)}}}function Fr(i){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(i),e==null||e.removeAllRanges(),e==null||e.addRange(n)}function Cs(i,e,n){return n&&i<0?e:n&&i>e?0:Math.max(0,Math.min(e,i))}function ki(i){const e=i.getAttribute("aria-label");if(e==="Hours")return{label:e,len:2,max:23};if(e==="Minutes")return{label:e,len:2,max:59};if(e==="Seconds")return{label:e,len:2,max:59};if(e==="Milliseconds")return{label:e,len:3,max:999};throw new Error("Invalid label "+e)}function Di(i,e){return parseInt(i.replace(/[^\d]/g,"").slice(-e))}function Ur(i){Fr(i.currentTarget)}function As(i,e,n){let{browseDate:r}=e,{timePrecision:s}=e,{setTime:c}=e,l=[];function d(N){if(N.key==="ArrowUp"||N.key==="ArrowDown"){const C=b(N.currentTarget),W=N.key==="ArrowUp"?1:-1;v(N.currentTarget,C+W,!0),N.preventDefault(),Fr(N.currentTarget)}else if(N.key==="ArrowLeft"||N.key==="ArrowRight"||":;-,.".includes(N.key)){const C=l.indexOf(N.currentTarget),W=N.key==="ArrowLeft"?-1:1,E=l[C+W];N.preventDefault(),E&&(E.focus(),Fr(E))}}function b(N){const C=ki(N).label;return C==="Hours"?r.getHours():C==="Minutes"?r.getMinutes():C==="Seconds"?r.getSeconds():r.getMilliseconds()}function g(N){const C=("00"+N.getHours()).slice(-2),W=("00"+N.getMinutes()).slice(-2),E=("00"+N.getSeconds()).slice(-2),de=("000"+N.getMilliseconds()).slice(-3);l[0]&&l[0].innerText!==C&&n(2,l[0].innerText=C,l),l[1]&&l[1].innerText!==W&&n(2,l[1].innerText=W,l),l[2]&&l[2].innerText!==E&&n(2,l[2].innerText=E,l),l[3]&&l[3].innerText!==de&&n(2,l[3].innerText=de,l)}function v(N,C,W=!1){const E=ki(N);C=Cs(C,E.max,W),E.label==="Hours"?r.setHours(C):E.label==="Minutes"?r.setMinutes(C):E.label==="Seconds"?r.setSeconds(C):E.label==="Milliseconds"&&r.setMilliseconds(C),n(0,r=c(r)),g(r)}function w(N){const C=N,W=ki(C.currentTarget);let E;if(C.inputType==="insertText"){const de="000"+b(C.currentTarget);E=Di(de+C.currentTarget.innerText,W.len),E>W.max&&C.data&&(E=Di(C.data,W.len))}else E=Di("000"+C.currentTarget.innerText,W.len);v(C.currentTarget,E),Fr(C.currentTarget)}function O(N){$t[N?"unshift":"push"](()=>{l[0]=N,n(2,l)})}function H(N){$t[N?"unshift":"push"](()=>{l[1]=N,n(2,l)})}function $(N){$t[N?"unshift":"push"](()=>{l[2]=N,n(2,l)})}function ee(N){$t[N?"unshift":"push"](()=>{l[3]=N,n(2,l)})}const G=N=>{N.target instanceof HTMLElement&&N.target.tagName==="SPAN"&&(N.target.focus(),N.preventDefault())};return i.$$set=N=>{"browseDate"in N&&n(0,r=N.browseDate),"timePrecision"in N&&n(1,s=N.timePrecision),"setTime"in N&&n(5,c=N.setTime)},i.$$.update=()=>{i.$$.dirty&1&&g(r)},[r,s,l,d,w,c,O,H,$,ee,G]}class Os extends an{constructor(e){super(),on(this,e,As,Ts,en,{browseDate:0,timePrecision:1,setTime:5})}}function Ps(i){return i%4===0&&i%100!==0||i%400===0}function hr(i,e){return[31,Ps(i)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function ma(i,e){let n="";if(i)for(const r of e)typeof r=="string"?n+=r:n+=r.toString(i);return n}function Ei(i,e){const n=hr(i,e),r=[];for(let s=0;s<n;s++)r.push({year:i,month:e,number:s+1});return r}function Is(i,e){const n=i.getFullYear(),r=i.getMonth(),s=new Date(n,r,1).getDay();let c=[];const l=(s-e+7)%7;if(l>0){let v=r-1,w=n;v===-1&&(v=11,w=n-1),c=Ei(w,v).slice(-l)}c=c.concat(Ei(n,r));let d=r+1,b=n;d===12&&(d=0,b=n+1);const g=42-c.length;return c=c.concat(Ei(b,d).slice(0,g)),c}function Ms(){return{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStartsOn:1}}function Vo(i){const e=Ms();return typeof i.weekStartsOn=="number"&&(e.weekStartsOn=i.weekStartsOn),i.months&&(e.months=i.months),i.shortMonths&&(e.shortMonths=i.shortMonths),i.weekdays&&(e.weekdays=i.weekdays),e}function ga(i,e,n){const r=i.slice();return r[36]=e[n],r[38]=n,r}function va(i,e,n){const r=i.slice();return r[39]=e[n],r}function _a(i,e,n){const r=i.slice();return r[36]=e[n],r[43]=n,r}function ya(i,e,n){const r=i.slice();return r[44]=e[n],r}function ba(i,e,n){const r=i.slice();return r[44]=e[n],r}function wa(i,e,n){const r=i.slice();return r[49]=e[n],r[43]=n,r}function ka(i,e,n){const r=i.slice();return r[49]=e[n],r[43]=n,r}function Da(i){let e,n=i[49]+"",r,s;return{c(){e=P("option"),r=Oe(n),this.h()},l(c){e=I(c,"OPTION",{});var l=q(e);r=Pe(l,n),l.forEach(_),this.h()},h(){e.disabled=s=new Date(i[9],i[43],hr(i[9],i[43]),23,59,59,999)<i[2]||new Date(i[9],i[43])>i[3],e.__value=i[43],ht(e,e.__value)},m(c,l){se(c,e,l),m(e,r)},p(c,l){l[0]&32&&n!==(n=c[49]+"")&&Ye(r,n),l[0]&588&&s!==(s=new Date(c[9],c[43],hr(c[9],c[43]),23,59,59,999)<c[2]||new Date(c[9],c[43])>c[3])&&(e.disabled=s)},d(c){c&&_(e)}}}function Ea(i){let e,n=i[49]+"",r,s;return{c(){e=P("option"),r=Oe(n),this.h()},l(c){e=I(c,"OPTION",{});var l=q(e);r=Pe(l,n),l.forEach(_),this.h()},h(){e.__value=i[43],ht(e,e.__value),e.selected=s=i[43]===i[8]},m(c,l){se(c,e,l),m(e,r)},p(c,l){l[0]&32&&n!==(n=c[49]+"")&&Ye(r,n),l[0]&256&&s!==(s=c[43]===c[8])&&(e.selected=s)},d(c){c&&_(e)}}}function Sa(i){let e,n=i[44]+"",r,s;return{c(){e=P("option"),r=Oe(n),this.h()},l(c){e=I(c,"OPTION",{});var l=q(e);r=Pe(l,n),l.forEach(_),this.h()},h(){e.__value=s=i[44],ht(e,e.__value)},m(c,l){se(c,e,l),m(e,r)},p(c,l){l[0]&64&&n!==(n=c[44]+"")&&Ye(r,n),l[0]&64&&s!==(s=c[44])&&(e.__value=s,ht(e,e.__value))},d(c){c&&_(e)}}}function Ta(i){let e,n=i[44]+"",r,s,c;return{c(){e=P("option"),r=Oe(n),this.h()},l(l){e=I(l,"OPTION",{});var d=q(e);r=Pe(d,n),d.forEach(_),this.h()},h(){e.__value=s=i[44],ht(e,e.__value),e.selected=c=i[44]===i[4].getFullYear()},m(l,d){se(l,e,d),m(e,r)},p(l,d){d[0]&64&&n!==(n=l[44]+"")&&Ye(r,n),d[0]&64&&s!==(s=l[44])&&(e.__value=s,ht(e,e.__value)),d[0]&80&&c!==(c=l[44]===l[4].getFullYear())&&(e.selected=c)},d(l){l&&_(e)}}}function Ls(i){let e,n=i[5].weekdays[i[5].weekStartsOn+i[43]-7]+"",r;return{c(){e=P("div"),r=Oe(n),this.h()},l(s){e=I(s,"DIV",{class:!0});var c=q(e);r=Pe(c,n),c.forEach(_),this.h()},h(){p(e,"class","header-cell svelte-w239uu")},m(s,c){se(s,e,c),m(e,r)},p(s,c){c[0]&32&&n!==(n=s[5].weekdays[s[5].weekStartsOn+s[43]-7]+"")&&Ye(r,n)},d(s){s&&_(e)}}}function Rs(i){let e,n=i[5].weekdays[i[5].weekStartsOn+i[43]]+"",r;return{c(){e=P("div"),r=Oe(n),this.h()},l(s){e=I(s,"DIV",{class:!0});var c=q(e);r=Pe(c,n),c.forEach(_),this.h()},h(){p(e,"class","header-cell svelte-w239uu")},m(s,c){se(s,e,c),m(e,r)},p(s,c){c[0]&32&&n!==(n=s[5].weekdays[s[5].weekStartsOn+s[43]]+"")&&Ye(r,n)},d(s){s&&_(e)}}}function Ca(i){let e;function n(c,l){return c[43]+c[5].weekStartsOn<7?Rs:Ls}let r=n(i),s=r(i);return{c(){s.c(),e=Lt()},l(c){s.l(c),e=Lt()},m(c,l){s.m(c,l),se(c,e,l)},p(c,l){r===(r=n(c))&&s?s.p(c,l):(s.d(1),s=r(c),s&&(s.c(),s.m(e.parentNode,e)))},d(c){c&&_(e),s.d(c)}}}function Aa(i){let e,n,r=i[39].number+"",s,c,l;function d(){return i[27](i[39])}return{c(){e=P("div"),n=P("span"),s=Oe(r),this.h()},l(b){e=I(b,"DIV",{class:!0});var g=q(e);n=I(g,"SPAN",{class:!0});var v=q(n);s=Pe(v,r),v.forEach(_),g.forEach(_),this.h()},h(){p(n,"class","svelte-w239uu"),p(e,"class","cell svelte-w239uu"),St(e,"disabled",!Pi(i[39],i[2],i[3])),St(e,"selected",i[0]&&i[39].year===i[0].getFullYear()&&i[39].month===i[0].getMonth()&&i[39].number===i[0].getDate()),St(e,"today",i[39].year===i[11].getFullYear()&&i[39].month===i[11].getMonth()&&i[39].number===i[11].getDate()),St(e,"other-month",i[39].month!==i[8])},m(b,g){se(b,e,g),m(e,n),m(n,s),c||(l=We(e,"click",d),c=!0)},p(b,g){i=b,g[0]&128&&r!==(r=i[39].number+"")&&Ye(s,r),g[0]&140&&St(e,"disabled",!Pi(i[39],i[2],i[3])),g[0]&129&&St(e,"selected",i[0]&&i[39].year===i[0].getFullYear()&&i[39].month===i[0].getMonth()&&i[39].number===i[0].getDate()),g[0]&2176&&St(e,"today",i[39].year===i[11].getFullYear()&&i[39].month===i[11].getMonth()&&i[39].number===i[11].getDate()),g[0]&384&&St(e,"other-month",i[39].month!==i[8])},d(b){b&&_(e),c=!1,l()}}}function Oa(i){let e,n=$e(i[7].slice(i[38]*7,i[38]*7+7)),r=[];for(let s=0;s<n.length;s+=1)r[s]=Aa(va(i,n,s));return{c(){e=P("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var c=q(e);for(let l=0;l<r.length;l+=1)r[l].l(c);c.forEach(_),this.h()},h(){p(e,"class","week svelte-w239uu")},m(s,c){se(s,e,c);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(s,c){if(c[0]&18829){n=$e(s[7].slice(s[38]*7,s[38]*7+7));let l;for(l=0;l<n.length;l+=1){const d=va(s,n,l);r[l]?r[l].p(d,c):(r[l]=Aa(d),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&_(e),Ft(r,s)}}}function Ns(i){let e,n,r,s,c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z" transform="rotate(180, 12, 12)"></path></svg>',l,d,b,g,v,w,O,H,$,ee,G,N,C,W,E,de,ie,Y,Se='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"></path></svg>',le,_e,me,he,we,be,ue,fe,te,De,k=$e(i[5].months),S=[];for(let F=0;F<k.length;F+=1)S[F]=Da(ka(i,k,F));let j=$e(i[5].months),re=[];for(let F=0;F<j.length;F+=1)re[F]=Ea(wa(i,j,F));let T=$e(i[6]),ke=[];for(let F=0;F<T.length;F+=1)ke[F]=Sa(ba(i,T,F));let Ae=$e(i[6]),ye=[];for(let F=0;F<Ae.length;F+=1)ye[F]=Ta(ya(i,Ae,F));let Je=$e(Array(7)),xe=[];for(let F=0;F<Je.length;F+=1)xe[F]=Ca(_a(i,Je,F));let ve=$e(Array(6)),J=[];for(let F=0;F<ve.length;F+=1)J[F]=Oa(ga(i,ve,F));function ge(F){i[28](F)}let Ee={timePrecision:i[1],setTime:i[10]};i[4]!==void 0&&(Ee.browseDate=i[4]),we=new Os({props:Ee}),$t.push(()=>Kn(we,"browseDate",ge));const Be=i[21].default,qe=Lo(Be,i,i[20],null);return{c(){e=P("div"),n=P("div"),r=P("div"),s=P("button"),s.innerHTML=c,l=ae(),d=P("div"),b=P("select");for(let F=0;F<S.length;F+=1)S[F].c();g=ae(),v=P("select");for(let F=0;F<re.length;F+=1)re[F].c();w=ae(),O=bt("svg"),H=bt("path"),$=ae(),ee=P("div"),G=P("select");for(let F=0;F<ke.length;F+=1)ke[F].c();N=ae(),C=P("select");for(let F=0;F<ye.length;F+=1)ye[F].c();W=ae(),E=bt("svg"),de=bt("path"),ie=ae(),Y=P("button"),Y.innerHTML=Se,le=ae(),_e=P("div");for(let F=0;F<xe.length;F+=1)xe[F].c();me=ae();for(let F=0;F<J.length;F+=1)J[F].c();he=ae(),jt(we.$$.fragment),ue=ae(),qe&&qe.c(),this.h()},l(F){e=I(F,"DIV",{class:!0,tabindex:!0});var He=q(e);n=I(He,"DIV",{class:!0,tabindex:!0});var Ie=q(n);r=I(Ie,"DIV",{class:!0});var ce=q(r);s=I(ce,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Ge(s)!=="svelte-t4cock"&&(s.innerHTML=c),l=oe(ce),d=I(ce,"DIV",{class:!0});var Ue=q(d);b=I(Ue,"SELECT",{class:!0});var pt=q(b);for(let Xe=0;Xe<S.length;Xe+=1)S[Xe].l(pt);pt.forEach(_),g=oe(Ue),v=I(Ue,"SELECT",{class:!0,tabindex:!0});var mt=q(v);for(let Xe=0;Xe<re.length;Xe+=1)re[Xe].l(mt);mt.forEach(_),w=oe(Ue),O=wt(Ue,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var Tt=q(O);H=wt(Tt,"path",{d:!0,transform:!0}),q(H).forEach(_),Tt.forEach(_),Ue.forEach(_),$=oe(ce),ee=I(ce,"DIV",{class:!0});var rt=q(ee);G=I(rt,"SELECT",{class:!0});var lt=q(G);for(let Xe=0;Xe<ke.length;Xe+=1)ke[Xe].l(lt);lt.forEach(_),N=oe(rt),C=I(rt,"SELECT",{class:!0,tabindex:!0});var Fe=q(C);for(let Xe=0;Xe<ye.length;Xe+=1)ye[Xe].l(Fe);Fe.forEach(_),W=oe(rt),E=wt(rt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var je=q(E);de=wt(je,"path",{d:!0,transform:!0}),q(de).forEach(_),je.forEach(_),rt.forEach(_),ie=oe(ce),Y=I(ce,"BUTTON",{type:!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Ge(Y)!=="svelte-1a006lp"&&(Y.innerHTML=Se),ce.forEach(_),le=oe(Ie),_e=I(Ie,"DIV",{class:!0});var It=q(_e);for(let Xe=0;Xe<xe.length;Xe+=1)xe[Xe].l(It);It.forEach(_),me=oe(Ie);for(let Xe=0;Xe<J.length;Xe+=1)J[Xe].l(Ie);he=oe(Ie),Vt(we.$$.fragment,Ie),ue=oe(Ie),qe&&qe.l(Ie),Ie.forEach(_),He.forEach(_),this.h()},h(){p(s,"type","button"),p(s,"class","page-button svelte-w239uu"),p(s,"tabindex","-1"),p(b,"class","svelte-w239uu"),p(v,"class","dummy-select svelte-w239uu"),p(v,"tabindex","-1"),p(H,"d","M6 0l12 12-12 12z"),p(H,"transform","rotate(90, 12, 12)"),p(O,"xmlns","http://www.w3.org/2000/svg"),p(O,"width","24"),p(O,"height","24"),p(O,"viewBox","0 0 24 24"),p(O,"class","svelte-w239uu"),p(d,"class","dropdown month svelte-w239uu"),p(G,"class","svelte-w239uu"),p(C,"class","dummy-select svelte-w239uu"),p(C,"tabindex","-1"),p(de,"d","M6 0l12 12-12 12z"),p(de,"transform","rotate(90, 12, 12)"),p(E,"xmlns","http://www.w3.org/2000/svg"),p(E,"width","24"),p(E,"height","24"),p(E,"viewBox","0 0 24 24"),p(E,"class","svelte-w239uu"),p(ee,"class","dropdown year svelte-w239uu"),p(Y,"type","button"),p(Y,"class","page-button svelte-w239uu"),p(Y,"tabindex","-1"),p(r,"class","top svelte-w239uu"),p(_e,"class","header svelte-w239uu"),p(n,"class","tab-container svelte-w239uu"),p(n,"tabindex","-1"),p(e,"class","date-time-picker svelte-w239uu"),p(e,"tabindex","0")},m(F,He){se(F,e,He),m(e,n),m(n,r),m(r,s),m(r,l),m(r,d),m(d,b);for(let Ie=0;Ie<S.length;Ie+=1)S[Ie]&&S[Ie].m(b,null);rn(b,i[8]),m(d,g),m(d,v);for(let Ie=0;Ie<re.length;Ie+=1)re[Ie]&&re[Ie].m(v,null);m(d,w),m(d,O),m(O,H),m(r,$),m(r,ee),m(ee,G);for(let Ie=0;Ie<ke.length;Ie+=1)ke[Ie]&&ke[Ie].m(G,null);rn(G,i[9]),m(ee,N),m(ee,C);for(let Ie=0;Ie<ye.length;Ie+=1)ye[Ie]&&ye[Ie].m(C,null);m(ee,W),m(ee,E),m(E,de),m(r,ie),m(r,Y),m(n,le),m(n,_e);for(let Ie=0;Ie<xe.length;Ie+=1)xe[Ie]&&xe[Ie].m(_e,null);m(n,me);for(let Ie=0;Ie<J.length;Ie+=1)J[Ie]&&J[Ie].m(n,null);m(n,he),zt(we,n,null),m(n,ue),qe&&qe.m(n,null),fe=!0,te||(De=[We(s,"click",i[23]),We(b,"keydown",i[16]),We(b,"input",i[24]),We(G,"input",i[25]),We(G,"keydown",i[15]),We(Y,"click",i[26]),We(e,"focusout",i[22]),We(e,"keydown",i[17])],te=!0)},p(F,He){if(He[0]&556){k=$e(F[5].months);let ce;for(ce=0;ce<k.length;ce+=1){const Ue=ka(F,k,ce);S[ce]?S[ce].p(Ue,He):(S[ce]=Da(Ue),S[ce].c(),S[ce].m(b,null))}for(;ce<S.length;ce+=1)S[ce].d(1);S.length=k.length}if((!fe||He[0]&256)&&rn(b,F[8]),He[0]&288){j=$e(F[5].months);let ce;for(ce=0;ce<j.length;ce+=1){const Ue=wa(F,j,ce);re[ce]?re[ce].p(Ue,He):(re[ce]=Ea(Ue),re[ce].c(),re[ce].m(v,null))}for(;ce<re.length;ce+=1)re[ce].d(1);re.length=j.length}if(He[0]&64){T=$e(F[6]);let ce;for(ce=0;ce<T.length;ce+=1){const Ue=ba(F,T,ce);ke[ce]?ke[ce].p(Ue,He):(ke[ce]=Sa(Ue),ke[ce].c(),ke[ce].m(G,null))}for(;ce<ke.length;ce+=1)ke[ce].d(1);ke.length=T.length}if((!fe||He[0]&576)&&rn(G,F[9]),He[0]&80){Ae=$e(F[6]);let ce;for(ce=0;ce<Ae.length;ce+=1){const Ue=ya(F,Ae,ce);ye[ce]?ye[ce].p(Ue,He):(ye[ce]=Ta(Ue),ye[ce].c(),ye[ce].m(C,null))}for(;ce<ye.length;ce+=1)ye[ce].d(1);ye.length=Ae.length}if(He[0]&32){Je=$e(Array(7));let ce;for(ce=0;ce<Je.length;ce+=1){const Ue=_a(F,Je,ce);xe[ce]?xe[ce].p(Ue,He):(xe[ce]=Ca(Ue),xe[ce].c(),xe[ce].m(_e,null))}for(;ce<xe.length;ce+=1)xe[ce].d(1);xe.length=Je.length}if(He[0]&18829){ve=$e(Array(6));let ce;for(ce=0;ce<ve.length;ce+=1){const Ue=ga(F,ve,ce);J[ce]?J[ce].p(Ue,He):(J[ce]=Oa(Ue),J[ce].c(),J[ce].m(n,he))}for(;ce<J.length;ce+=1)J[ce].d(1);J.length=ve.length}const Ie={};He[0]&2&&(Ie.timePrecision=F[1]),!be&&He[0]&16&&(be=!0,Ie.browseDate=F[4],Nn(()=>be=!1)),we.$set(Ie),qe&&qe.p&&(!fe||He[0]&1048576)&&Ro(qe,Be,F,F[20],fe?Bo(Be,F[20],He,null):No(F[20]),null)},i(F){fe||(it(we.$$.fragment,F),it(qe,F),fe=!0)},o(F){st(we.$$.fragment,F),st(qe,F),fe=!1},d(F){F&&_(e),Ft(S,F),Ft(re,F),Ft(ke,F),Ft(ye,F),Ft(xe,F),Ft(J,F),xt(we),qe&&qe.d(F),te=!1,yn(De)}}}function vn(i){return new Date(i.getTime())}function Wr(i,e,n){return i>n?vn(n):i<e?vn(e):vn(i)}function Si(i,e,n){const r=Wr(i,e,n);return r.getTime()!==i.getTime()&&(i=new Date(r.getFullYear(),r.getMonth(),r.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),i=Wr(i,e,n)),i}function Pa(i,e){let n=[];for(let r=i.getFullYear();r<=e.getFullYear();r++)n.push(r);return n}function Pi(i,e,n){const r=new Date(i.year,i.month,i.number),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),c=new Date(n.getFullYear(),n.getMonth(),n.getDate());return r>=s&&r<=c}function Bs(i,e,n){let r,s,c,l,{$$slots:d={},$$scope:b}=e;const g=Ko();let{value:v=null}=e;function w(T){T.getTime()!==(v==null?void 0:v.getTime())&&(n(4,E=Wr(T,C,W)),n(0,v=vn(E)))}function O(T){T.getTime()!==(v==null?void 0:v.getTime())&&(n(4,E=Si(T,C,W)),n(0,v=vn(E)))}function H(T){n(4,E=Si(T,C,W)),!Se&&v&&w(E)}function $(T){return n(4,E=Wr(T,C,W)),v&&w(E),E}const ee=new Date,G=new Date;let{timePrecision:N=null}=e,{min:C=new Date(G.getFullYear()-20,0,1)}=e,{max:W=new Date(G.getFullYear(),11,31,23,59,59,999)}=e,E=vn(v||Si(G,C,W));function de(T){E.getTime()!==(T==null?void 0:T.getTime())&&n(4,E=T?vn(T):E)}let ie=Pa(C,W),{locale:Y={}}=e,{browseWithoutSelecting:Se=!1}=e;function le(T){E.setFullYear(T),H(E)}function _e(T){let ke=E.getFullYear();T===12?(T=0,ke++):T===-1&&(T=11,ke--);const Ae=hr(ke,T),ye=Math.min(E.getDate(),Ae);H(new Date(ke,T,ye,E.getHours(),E.getMinutes(),E.getSeconds(),E.getMilliseconds()))}function me(T){Pi(T,C,W)&&(E.setFullYear(0),E.setMonth(0),E.setDate(1),E.setFullYear(T.year),E.setMonth(T.month),E.setDate(T.number),O(E),g("select",vn(E)))}function he(T){if(T.shiftKey&&T.key==="ArrowUp")le(E.getFullYear()-1);else if(T.shiftKey&&T.key==="ArrowDown")le(E.getFullYear()+1);else if(T.shiftKey&&T.key==="ArrowLeft")_e(E.getMonth()-1);else if(T.shiftKey&&T.key==="ArrowRight")_e(E.getMonth()+1);else return!1;return T.preventDefault(),!0}function we(T){if(T.shiftKey||T.altKey){he(T);return}else if(T.key==="ArrowUp")le(E.getFullYear()-1);else if(T.key==="ArrowDown")le(E.getFullYear()+1);else if(T.key==="ArrowLeft")_e(E.getMonth()-1);else if(T.key==="ArrowRight")_e(E.getMonth()+1);else{he(T);return}T.preventDefault()}function be(T){if(T.shiftKey||T.altKey){he(T);return}else if(T.key==="ArrowUp"||T.key==="ArrowLeft")_e(E.getMonth()-1);else if(T.key==="ArrowDown"||T.key==="ArrowRight")_e(E.getMonth()+1);else{he(T);return}T.preventDefault()}function ue(T){var Ae,ye;let ke=T.shiftKey||T.altKey;if(!(((Ae=T.target)==null?void 0:Ae.tagName)==="SELECT"||((ye=T.target)==null?void 0:ye.tagName)==="SPAN")){if(ke){he(T);return}else if(T.key==="ArrowUp")E.setDate(E.getDate()-7),O(E);else if(T.key==="ArrowDown")E.setDate(E.getDate()+7),O(E);else if(T.key==="ArrowLeft")E.setDate(E.getDate()-1),O(E);else if(T.key==="ArrowRight")E.setDate(E.getDate()+1),O(E);else if(T.key==="Enter")w(E),g("select",vn(E));else return;T.preventDefault()}}function fe(T){vs.call(this,i,T)}const te=()=>_e(E.getMonth()-1),De=T=>_e(parseInt(T.currentTarget.value)),k=T=>le(parseInt(T.currentTarget.value)),S=()=>_e(E.getMonth()+1),j=T=>me(T);function re(T){E=T,n(4,E)}return i.$$set=T=>{"value"in T&&n(0,v=T.value),"timePrecision"in T&&n(1,N=T.timePrecision),"min"in T&&n(2,C=T.min),"max"in T&&n(3,W=T.max),"locale"in T&&n(18,Y=T.locale),"browseWithoutSelecting"in T&&n(19,Se=T.browseWithoutSelecting),"$$scope"in T&&n(20,b=T.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&13&&(v&&v>W?w(W):v&&v<C&&w(C)),i.$$.dirty[0]&1&&de(v),i.$$.dirty[0]&12&&n(6,ie=Pa(C,W)),i.$$.dirty[0]&262144&&n(5,r=Vo(Y)),i.$$.dirty[0]&16&&n(9,s=E.getFullYear()),i.$$.dirty[0]&16&&n(8,c=E.getMonth()),i.$$.dirty[0]&48&&n(7,l=Is(E,r.weekStartsOn))},[v,N,C,W,E,r,ie,l,c,s,$,ee,le,_e,me,we,be,ue,Y,Se,b,d,fe,te,De,k,S,j,re]}class Ks extends an{constructor(e){super(),on(this,e,Bs,Ns,en,{value:0,timePrecision:1,min:2,max:3,locale:18,browseWithoutSelecting:19},null,[-1,-1])}}function Fs(i){return i<.5?4*i*i*i:.5*Math.pow(2*i-2,3)+1}function js(i){const e=i-1;return e*e*e+1}function Vs(i,{delay:e=0,duration:n=400,easing:r=js,x:s=0,y:c=0,opacity:l=0}={}){const d=getComputedStyle(i),b=+d.opacity,g=d.transform==="none"?"":d.transform,v=b*(1-l),[w,O]=ca(s),[H,$]=ca(c);return{delay:e,duration:n,easing:r,css:(ee,G)=>`
			transform: ${g} translate(${(1-ee)*w}${O}, ${(1-ee)*H}${$});
			opacity: ${b-v*G}`}}function Ia(i,e,n){let r="",s=!0;n=n||new Date(2020,0,1,0,0,0,0);let c=n.getFullYear(),l=n.getMonth(),d=n.getDate(),b=n.getHours(),g=n.getMinutes(),v=n.getSeconds();const w=n.getMilliseconds();function O(N){for(let C=0;C<N.length;C++)if(i.startsWith(N[C]))i=i.slice(1);else{s=!1,i.length===0&&(r=N.slice(C));return}}function H(N,C,W){const E=i.match(N);if(E!=null&&E[0]){i=i.slice(E[0].length);const de=parseInt(E[0]);return de>W||de<C?(s=!1,null):de}else return s=!1,null}function $(N){const C=N.findIndex(W=>W.toLowerCase()===i.slice(0,W.length).toLowerCase());return C>=0?(i=i.slice(N[C].length),C):(s=!1,null)}function ee(N){if(typeof N=="string")O(N);else if(N.id==="yy"){const C=H(/^[0-9]{2}/,0,99);C!==null&&(c=2e3+C)}else if(N.id==="yyyy"){const C=H(/^[0-9]{4}/,0,9999);C!==null&&(c=C)}else if(N.id==="MM"){const C=H(/^[0-9]{2}/,1,12);C!==null&&(l=C-1)}else if(N.id==="MMM"){const C=$(N.allowedValues||[]);C!==null&&(l=C)}else if(N.id==="dd"){const C=H(/^[0-9]{2}/,1,31);C!==null&&(d=C)}else if(N.id==="HH"){const C=H(/^[0-9]{2}/,0,23);C!==null&&(b=C)}else if(N.id==="mm"){const C=H(/^[0-9]{2}/,0,59);C!==null&&(g=C)}else if(N.id==="ss"){const C=H(/^[0-9]{2}/,0,59);C!==null&&(v=C)}}for(const N of e)if(ee(N),!s)break;const G=hr(c,l);return d>G&&(s=!1),{date:s?new Date(c,l,d,b,g,v,w):null,missingPunctuation:r}}function lr(i){return("0"+i.toString()).slice(-2)}function zs(i,e){if(i.startsWith("yyyy"))return{id:"yyyy",toString:n=>n.getFullYear().toString()};if(i.startsWith("yy"))return{id:"yy",toString:n=>n.getFullYear().toString().slice(-2)};if(i.startsWith("MMM"))return{id:"MMM",allowedValues:e.shortMonths,toString:n=>e.shortMonths[n.getMonth()]};if(i.startsWith("MM"))return{id:"MM",toString:n=>lr(n.getMonth()+1)};if(i.startsWith("dd"))return{id:"dd",toString:n=>lr(n.getDate())};if(i.startsWith("HH"))return{id:"HH",toString:n=>lr(n.getHours())};if(i.startsWith("mm"))return{id:"mm",toString:n=>lr(n.getMinutes())};if(i.startsWith("ss"))return{id:"ss",toString:n=>lr(n.getSeconds())}}function Ma(i,e={}){const n=Vo(e),r=[];for(;i.length>0;){const s=zs(i,n);s?(r.push(s),i=i.slice(s.id.length)):typeof r[r.length-1]=="string"?(r[r.length-1]+=i[0],i=i.slice(1)):(r.push(i[0]),i=i.slice(1))}return r}function La(i){let e,n,r,s,c=`${i[18]}px`,l;function d(g){i[34](g)}let b={min:i[3],max:i[4],locale:i[10],browseWithoutSelecting:i[11],timePrecision:i[12],$$slots:{default:[xs]},$$scope:{ctx:i}};return i[14]!==void 0&&(b.value=i[14]),n=new Ks({props:b}),$t.push(()=>Kn(n,"value",d)),n.$on("focusout",i[21]),n.$on("select",i[23]),{c(){e=P("div"),jt(n.$$.fragment),this.h()},l(g){e=I(g,"DIV",{class:!0});var v=q(e);Vt(n.$$.fragment,v),v.forEach(_),this.h()},h(){p(e,"class","picker svelte-1vabmef"),St(e,"visible",i[2]),St(e,"above",i[17]),Bn(e,"--picker-left-position",c)},m(g,v){se(g,e,v),zt(n,e,null),i[35](e),l=!0},p(g,v){const w={};v[0]&8&&(w.min=g[3]),v[0]&16&&(w.max=g[4]),v[0]&1024&&(w.locale=g[10]),v[0]&2048&&(w.browseWithoutSelecting=g[11]),v[0]&4096&&(w.timePrecision=g[12]),v[1]&32&&(w.$$scope={dirty:v,ctx:g}),!r&&v[0]&16384&&(r=!0,w.value=g[14],Nn(()=>r=!1)),n.$set(w),(!l||v[0]&4)&&St(e,"visible",g[2]),(!l||v[0]&131072)&&St(e,"above",g[17]),v[0]&262144&&c!==(c=`${g[18]}px`)&&Bn(e,"--picker-left-position",c)},i(g){l||(it(n.$$.fragment,g),g&&dr(()=>{l&&(s||(s=fa(e,i[24],{},!0)),s.run(1))}),l=!0)},o(g){st(n.$$.fragment,g),g&&(s||(s=fa(e,i[24],{},!1)),s.run(0)),l=!1},d(g){g&&_(e),xt(n),i[35](null),g&&s&&s.end()}}}function xs(i){let e;const n=i[29].default,r=Lo(n,i,i[36],null);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,c){r&&r.m(s,c),e=!0},p(s,c){r&&r.p&&(!e||c[1]&32)&&Ro(r,n,s,s[36],e?Bo(n,s[36],c,null):No(s[36]),null)},i(s){e||(it(r,s),e=!0)},o(s){st(r,s),e=!1},d(s){r&&r.d(s)}}}function Hs(i){let e,n,r,s,c,l,d,b=i[2]&&!i[7]&&La(i);return{c(){e=P("div"),n=P("input"),r=ae(),b&&b.c(),this.h()},l(g){e=I(g,"DIV",{class:!0});var v=q(e);n=I(v,"INPUT",{type:!0,autocomplete:!0,id:!0,placeholder:!0,class:!0}),r=oe(v),b&&b.l(v),v.forEach(_),this.h()},h(){p(n,"type","text"),p(n,"autocomplete","off"),n.value=i[0],p(n,"id",i[5]),p(n,"placeholder",i[6]),n.disabled=i[7],n.required=i[8],p(n,"class","svelte-1vabmef"),St(n,"invalid",!i[1]),p(e,"class",s="date-time-field "+i[9]+" svelte-1vabmef")},m(g,v){se(g,e,v),m(e,n),i[30](n),m(e,r),b&&b.m(e,null),c=!0,l||(d=[We(n,"focus",i[31]),We(n,"mousedown",i[32]),We(n,"input",i[33]),We(e,"focusout",i[21]),We(e,"keydown",i[22])],l=!0)},p(g,v){(!c||v[0]&1&&n.value!==g[0])&&(n.value=g[0]),(!c||v[0]&32)&&p(n,"id",g[5]),(!c||v[0]&64)&&p(n,"placeholder",g[6]),(!c||v[0]&128)&&(n.disabled=g[7]),(!c||v[0]&256)&&(n.required=g[8]),(!c||v[0]&2)&&St(n,"invalid",!g[1]),g[2]&&!g[7]?b?(b.p(g,v),v[0]&132&&it(b,1)):(b=La(g),b.c(),it(b,1),b.m(e,null)):b&&(qn(),st(b,1,1,()=>{b=null}),Un()),(!c||v[0]&512&&s!==(s="date-time-field "+g[9]+" svelte-1vabmef"))&&p(e,"class",s)},i(g){c||(it(b),c=!0)},o(g){st(b),c=!1},d(g){g&&_(e),i[30](null),b&&b.d(),l=!1,yn(d)}}}function qs(i,e,n){let r,s,{$$slots:c={},$$scope:l}=e;const d=Ko(),b=new Date,g=Kr(null);Hn(i,g,J=>n(37,s=J));const v={subscribe:g.subscribe,set:J=>{J==null?(g.set(null),n(25,w=J)):J.getTime()!==(s==null?void 0:s.getTime())&&(g.set(J),n(25,w=J))}};Hn(i,v,J=>n(14,r=J));let{value:w=null}=e,{min:O=new Date(b.getFullYear()-20,0,1)}=e,{max:H=new Date(b.getFullYear(),11,31,23,59,59,999)}=e,{id:$=null}=e,{placeholder:ee="2020-12-31 23:00:00"}=e,{valid:G=!0}=e,{disabled:N=!1}=e,{required:C=!1}=e,{class:W=""}=e,{locale:E={}}=e,{format:de="yyyy-MM-dd HH:mm:ss"}=e,ie=Ma(de,E);function Y(J,ge){n(0,Se=ma(J,ge))}let{text:Se=ma(r,ie)}=e;function le(J,ge){if(J.length){const Ee=Ia(J,ge,r);Ee.date!==null?(n(1,G=!0),v.set(Ee.date)):n(1,G=!1)}else n(1,G=!0),w&&(n(25,w=null),v.set(null))}let{visible:_e=!1}=e,{closeOnSelection:me=!1}=e,{browseWithoutSelecting:he=!1}=e,{timePrecision:we=null}=e;function be(J){(J==null?void 0:J.currentTarget)instanceof HTMLElement&&J.relatedTarget&&J.relatedTarget instanceof Node&&J.currentTarget.contains(J.relatedTarget)||n(2,_e=!1)}function ue(J){J.key==="Escape"&&_e?(n(2,_e=!1),J.preventDefault(),J.stopPropagation()):J.key==="Enter"&&(n(2,_e=!_e),J.preventDefault())}function fe(J){d("select",J.detail),me&&n(2,_e=!1)}let{dynamicPositioning:te=!1}=e,De,k,S=!1,j=null;function re(){if(n(17,S=!1),n(18,j=null),_e&&k&&te){const J=De.getBoundingClientRect(),ge=k.offsetWidth-J.width,Ee=J.bottom+k.offsetHeight+5,Be=J.left+k.offsetWidth+5;if(Ee>window.innerHeight&&n(17,S=!0),Be>window.innerWidth&&(n(18,j=-ge),J.left<ge+5)){const F=window.innerWidth/2-k.offsetWidth/2;n(18,j=F-J.left)}}}function T(J){return re(),Vs(J,{duration:200,easing:Fs,y:S?5:-5})}function ke(J){$t[J?"unshift":"push"](()=>{De=J,n(15,De)})}const Ae=()=>n(2,_e=!0),ye=()=>n(2,_e=!0),Je=J=>{if(J instanceof InputEvent&&J.inputType==="insertText"&&typeof J.data=="string"&&J.currentTarget.value===Se+J.data){let ge=Ia(Se,ie,r);if(ge.missingPunctuation!==""&&!ge.missingPunctuation.startsWith(J.data)){n(0,Se=Se+ge.missingPunctuation+J.data);return}}n(0,Se=J.currentTarget.value)};function xe(J){r=J,v.set(r)}function ve(J){$t[J?"unshift":"push"](()=>{k=J,n(16,k)})}return i.$$set=J=>{"value"in J&&n(25,w=J.value),"min"in J&&n(3,O=J.min),"max"in J&&n(4,H=J.max),"id"in J&&n(5,$=J.id),"placeholder"in J&&n(6,ee=J.placeholder),"valid"in J&&n(1,G=J.valid),"disabled"in J&&n(7,N=J.disabled),"required"in J&&n(8,C=J.required),"class"in J&&n(9,W=J.class),"locale"in J&&n(10,E=J.locale),"format"in J&&n(26,de=J.format),"text"in J&&n(0,Se=J.text),"visible"in J&&n(2,_e=J.visible),"closeOnSelection"in J&&n(27,me=J.closeOnSelection),"browseWithoutSelecting"in J&&n(11,he=J.browseWithoutSelecting),"timePrecision"in J&&n(12,we=J.timePrecision),"dynamicPositioning"in J&&n(28,te=J.dynamicPositioning),"$$scope"in J&&n(36,l=J.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&33554432&&v.set(w),i.$$.dirty[0]&67109888&&n(13,ie=Ma(de,E)),i.$$.dirty[0]&24576&&Y(r,ie),i.$$.dirty[0]&8193&&le(Se,ie)},[Se,G,_e,O,H,$,ee,N,C,W,E,he,we,ie,r,De,k,S,j,g,v,be,ue,fe,T,w,de,me,te,c,ke,Ae,ye,Je,xe,ve,l]}class pr extends an{constructor(e){super(),on(this,e,qs,Hs,en,{value:25,min:3,max:4,id:5,placeholder:6,valid:1,disabled:7,required:8,class:9,locale:10,format:26,text:0,visible:2,closeOnSelection:27,browseWithoutSelecting:11,timePrecision:12,dynamicPositioning:28},null,[-1,-1])}}var Ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xo={exports:{}};(function(i,e){(function(n,r){i.exports=r()})(Ra,function(){var n=function(t,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])})(t,a)},r=function(){return(r=Object.assign||function(t){for(var a,o=1,u=arguments.length;o<u;o++)for(var f in a=arguments[o])Object.prototype.hasOwnProperty.call(a,f)&&(t[f]=a[f]);return t}).apply(this,arguments)};function s(t,a,o){for(var u,f=0,h=a.length;f<h;f++)!u&&f in a||((u=u||Array.prototype.slice.call(a,0,f))[f]=a[f]);return t.concat(u||Array.prototype.slice.call(a))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ra,l=Object.keys,d=Array.isArray;function b(t,a){return typeof a!="object"||l(a).forEach(function(o){t[o]=a[o]}),t}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var g=Object.getPrototypeOf,v={}.hasOwnProperty;function w(t,a){return v.call(t,a)}function O(t,a){typeof a=="function"&&(a=a(g(t))),(typeof Reflect>"u"?l:Reflect.ownKeys)(a).forEach(function(o){$(t,o,a[o])})}var H=Object.defineProperty;function $(t,a,o,u){H(t,a,b(o&&w(o,"get")&&typeof o.get=="function"?{get:o.get,set:o.set,configurable:!0}:{value:o,configurable:!0,writable:!0},u))}function ee(t){return{from:function(a){return t.prototype=Object.create(a.prototype),$(t.prototype,"constructor",t),{extend:O.bind(null,t.prototype)}}}}var G=Object.getOwnPropertyDescriptor,N=[].slice;function C(t,a,o){return N.call(t,a,o)}function W(t,a){return a(t)}function E(t){if(!t)throw new Error("Assertion Failed")}function de(t){c.setImmediate?setImmediate(t):setTimeout(t,0)}function ie(t,a){if(typeof a=="string"&&w(t,a))return t[a];if(!a)return t;if(typeof a!="string"){for(var o=[],u=0,f=a.length;u<f;++u){var h=ie(t,a[u]);o.push(h)}return o}var y=a.indexOf(".");if(y!==-1){var D=t[a.substr(0,y)];return D==null?void 0:ie(D,a.substr(y+1))}}function Y(t,a,o){if(t&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof a!="string"&&"length"in a){E(typeof o!="string"&&"length"in o);for(var u=0,f=a.length;u<f;++u)Y(t,a[u],o[u])}else{var h,y,D=a.indexOf(".");D!==-1?(h=a.substr(0,D),(y=a.substr(D+1))===""?o===void 0?d(t)&&!isNaN(parseInt(h))?t.splice(h,1):delete t[h]:t[h]=o:Y(D=!(D=t[h])||!w(t,h)?t[h]={}:D,y,o)):o===void 0?d(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=o}}function Se(t){var a,o={};for(a in t)w(t,a)&&(o[a]=t[a]);return o}var le=[].concat;function _e(t){return le.apply([],t)}var Dn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(_e([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(a){return a+t+"Array"})}))).filter(function(t){return c[t]}),me=new Set(Dn.map(function(t){return c[t]})),he=null;function we(t){return he=new WeakMap,t=function a(o){if(!o||typeof o!="object")return o;var u=he.get(o);if(u)return u;if(d(o)){u=[],he.set(o,u);for(var f=0,h=o.length;f<h;++f)u.push(a(o[f]))}else if(me.has(o.constructor))u=o;else{var y,D=g(o);for(y in u=D===Object.prototype?{}:Object.create(D),he.set(o,u),o)w(o,y)&&(u[y]=a(o[y]))}return u}(t),he=null,t}var be={}.toString;function ue(t){return be.call(t).slice(8,-1)}var fe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",te=typeof fe=="symbol"?function(t){var a;return t!=null&&(a=t[fe])&&a.apply(t)}:function(){return null};function De(t,a){return a=t.indexOf(a),0<=a&&t.splice(a,1),0<=a}var k={};function S(t){var a,o,u,f;if(arguments.length===1){if(d(t))return t.slice();if(this===k&&typeof t=="string")return[t];if(f=te(t)){for(o=[];!(u=f.next()).done;)o.push(u.value);return o}if(t==null)return[t];if(typeof(a=t.length)!="number")return[t];for(o=new Array(a);a--;)o[a]=t[a];return o}for(a=arguments.length,o=new Array(a);a--;)o[a]=arguments[a];return o}var j=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Fe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Fe),re={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function T(t,a){this.name=t,this.message=a}function ke(t,a){return t+". Errors: "+Object.keys(a).map(function(o){return a[o].toString()}).filter(function(o,u,f){return f.indexOf(o)===u}).join(`
`)}function Ae(t,a,o,u){this.failures=a,this.failedKeys=u,this.successCount=o,this.message=ke(t,a)}function ye(t,a){this.name="BulkError",this.failures=Object.keys(a).map(function(o){return a[o]}),this.failuresByPos=a,this.message=ke(t,this.failures)}ee(T).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ee(Ae).from(T),ee(ye).from(T);var Je=tn.reduce(function(t,a){return t[a]=a+"Error",t},{}),xe=T,ve=tn.reduce(function(t,a){var o=a+"Error";function u(f,h){this.name=o,f?typeof f=="string"?(this.message="".concat(f).concat(h?`
 `+h:""),this.inner=h||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=re[a]||o,this.inner=null)}return ee(u).from(xe),t[a]=u,t},{});ve.Syntax=SyntaxError,ve.Type=TypeError,ve.Range=RangeError;var J=Fe.reduce(function(t,a){return t[a+"Error"]=ve[a],t},{}),ge=tn.reduce(function(t,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(t[a+"Error"]=ve[a]),t},{});function Ee(){}function Be(t){return t}function qe(t,a){return t==null||t===Be?a:function(o){return a(t(o))}}function F(t,a){return function(){t.apply(this,arguments),a.apply(this,arguments)}}function He(t,a){return t===Ee?a:function(){var o=t.apply(this,arguments);o!==void 0&&(arguments[0]=o);var u=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var h=a.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?F(u,this.onsuccess):u),f&&(this.onerror=this.onerror?F(f,this.onerror):f),h!==void 0?h:o}}function Ie(t,a){return t===Ee?a:function(){t.apply(this,arguments);var o=this.onsuccess,u=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?F(o,this.onsuccess):o),u&&(this.onerror=this.onerror?F(u,this.onerror):u)}}function ce(t,a){return t===Ee?a:function(o){var u=t.apply(this,arguments);b(o,u);var f=this.onsuccess,h=this.onerror;return this.onsuccess=null,this.onerror=null,o=a.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?F(f,this.onsuccess):f),h&&(this.onerror=this.onerror?F(h,this.onerror):h),u===void 0?o===void 0?void 0:o:b(u,o)}}function Ue(t,a){return t===Ee?a:function(){return a.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function pt(t,a){return t===Ee?a:function(){var o=t.apply(this,arguments);if(o&&typeof o.then=="function"){for(var u=this,f=arguments.length,h=new Array(f);f--;)h[f]=arguments[f];return o.then(function(){return a.apply(u,h)})}return a.apply(this,arguments)}}ge.ModifyError=Ae,ge.DexieError=T,ge.BulkError=ye;var mt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Tt(t){mt=t}var rt={},lt=100,Dn=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,g(t),t];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,g(a),t]}(),Fe=Dn[0],tn=Dn[1],Dn=Dn[2],tn=tn&&tn.then,je=Fe&&Fe.constructor,It=!!Dn,Xe=function(t,a){Ut.push([t,a]),Yt&&(queueMicrotask(Sn),Yt=!1)},Gt=!0,Yt=!0,gt=[],qt=[],sn=Be,Ct={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},Ke=Ct,Ut=[],vt=0,ln=[];function Te(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=Ke;if(typeof t!="function"){if(t!==rt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&dn(this,this._value))}this._state=null,this._value=null,++a.ref,function o(u,f){try{f(function(h){if(u._state===null){if(h===u)throw new TypeError("A promise cannot be resolved with itself.");var y=u._lib&&_t();h&&typeof h.then=="function"?o(u,function(D,R){h instanceof Te?h._then(D,R):h.then(D,R)}):(u._state=!0,u._value=h,Ot(u)),y&&bn()}},dn.bind(null,u))}catch(h){dn(u,h)}}(this,t)}var Gn={get:function(){var t=Ke,a=un;function o(u,f){var h=this,y=!t.global&&(t!==Ke||a!==un),D=y&&!cn(),R=new Te(function(M,V){hn(h,new Yn(Qn(u,t,y,D),Qn(f,t,y,D),M,V,t))});return this._consoleTask&&(R._consoleTask=this._consoleTask),R}return o.prototype=rt,o},set:function(t){$(this,"then",t&&t.prototype===rt?Gn:{get:function(){return t},set:Gn.set})}};function Yn(t,a,o,u,f){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof a=="function"?a:null,this.resolve=o,this.reject=u,this.psd=f}function dn(t,a){var o,u;qt.push(a),t._state===null&&(o=t._lib&&_t(),a=sn(a),t._state=!1,t._value=a,u=t,gt.some(function(f){return f._value===u._value})||gt.push(u),Ot(t),o&&bn())}function Ot(t){var a=t._listeners;t._listeners=[];for(var o=0,u=a.length;o<u;++o)hn(t,a[o]);var f=t._PSD;--f.ref||f.finalize(),vt===0&&(++vt,Xe(function(){--vt==0&&Tn()},[]))}function hn(t,a){if(t._state!==null){var o=t._state?a.onFulfilled:a.onRejected;if(o===null)return(t._state?a.resolve:a.reject)(t._value);++a.psd.ref,++vt,Xe(Pt,[o,t,a])}else t._listeners.push(a)}function Pt(t,a,o){try{var u,f=a._value;!a._state&&qt.length&&(qt=[]),u=mt&&a._consoleTask?a._consoleTask.run(function(){return t(f)}):t(f),a._state||qt.indexOf(f)!==-1||function(h){for(var y=gt.length;y;)if(gt[--y]._value===h._value)return gt.splice(y,1)}(a),o.resolve(u)}catch(h){o.reject(h)}finally{--vt==0&&Tn(),--o.psd.ref||o.psd.finalize()}}function Sn(){Wt(Ct,function(){_t()&&bn()})}function _t(){var t=Gt;return Yt=Gt=!1,t}function bn(){var t,a,o;do for(;0<Ut.length;)for(t=Ut,Ut=[],o=t.length,a=0;a<o;++a){var u=t[a];u[0].apply(null,u[1])}while(0<Ut.length);Yt=Gt=!0}function Tn(){var t=gt;gt=[],t.forEach(function(u){u._PSD.onunhandled.call(null,u._value,u)});for(var a=ln.slice(0),o=a.length;o;)a[--o]()}function Rt(t){return new Te(rt,!1,t)}function X(t,a){var o=Ke;return function(){var u=_t(),f=Ke;try{return Qt(o,!0),t.apply(this,arguments)}catch(h){a&&a(h)}finally{Qt(f,!1),u&&bn()}}}O(Te.prototype,{then:Gn,_then:function(t,a){hn(this,new Yn(null,null,t,a,Ke))},catch:function(t){if(arguments.length===1)return this.then(null,t);var a=t,o=arguments[1];return typeof a=="function"?this.then(null,function(u){return(u instanceof a?o:Rt)(u)}):this.then(null,function(u){return(u&&u.name===a?o:Rt)(u)})},finally:function(t){return this.then(function(a){return Te.resolve(t()).then(function(){return a})},function(a){return Te.resolve(t()).then(function(){return Rt(a)})})},timeout:function(t,a){var o=this;return t<1/0?new Te(function(u,f){var h=setTimeout(function(){return f(new ve.Timeout(a))},t);o.then(u,f).finally(clearTimeout.bind(null,h))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),Ct.env=Jn(),O(Te,{all:function(){var t=S.apply(null,arguments).map(wn);return new Te(function(a,o){t.length===0&&a([]);var u=t.length;t.forEach(function(f,h){return Te.resolve(f).then(function(y){t[h]=y,--u||a(t)},o)})})},resolve:function(t){return t instanceof Te?t:t&&typeof t.then=="function"?new Te(function(a,o){t.then(a,o)}):new Te(rt,!0,t)},reject:Rt,race:function(){var t=S.apply(null,arguments).map(wn);return new Te(function(a,o){t.map(function(u){return Te.resolve(u).then(a,o)})})},PSD:{get:function(){return Ke},set:function(t){return Ke=t}},totalEchoes:{get:function(){return un}},newPSD:Zt,usePSD:Wt,scheduler:{get:function(){return Xe},set:function(t){Xe=t}},rejectionMapper:{get:function(){return sn},set:function(t){sn=t}},follow:function(t,a){return new Te(function(o,u){return Zt(function(f,h){var y=Ke;y.unhandleds=[],y.onunhandled=h,y.finalize=F(function(){var D,R=this;D=function(){R.unhandleds.length===0?f():h(R.unhandleds[0])},ln.push(function M(){D(),ln.splice(ln.indexOf(M),1)}),++vt,Xe(function(){--vt==0&&Tn()},[])},y.finalize),t()},a,o,u)})}}),je&&(je.allSettled&&$(Te,"allSettled",function(){var t=S.apply(null,arguments).map(wn);return new Te(function(a){t.length===0&&a([]);var o=t.length,u=new Array(o);t.forEach(function(f,h){return Te.resolve(f).then(function(y){return u[h]={status:"fulfilled",value:y}},function(y){return u[h]={status:"rejected",reason:y}}).then(function(){return--o||a(u)})})})}),je.any&&typeof AggregateError<"u"&&$(Te,"any",function(){var t=S.apply(null,arguments).map(wn);return new Te(function(a,o){t.length===0&&o(new AggregateError([]));var u=t.length,f=new Array(u);t.forEach(function(h,y){return Te.resolve(h).then(function(D){return a(D)},function(D){f[y]=D,--u||o(new AggregateError(f))})})})}));var Ve={awaits:0,echoes:0,id:0},ut=0,ze=[],ct=0,un=0,gr=0;function Zt(t,a,o,u){var f=Ke,h=Object.create(f);return h.parent=f,h.ref=0,h.global=!1,h.id=++gr,Ct.env,h.env=It?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},a&&b(h,a),++f.ref,h.finalize=function(){--this.parent.ref||this.parent.finalize()},u=Wt(h,t,o,u),h.ref===0&&h.finalize(),u}function Jt(){return Ve.id||(Ve.id=++ut),++Ve.awaits,Ve.echoes+=lt,Ve.id}function cn(){return!!Ve.awaits&&(--Ve.awaits==0&&(Ve.id=0),Ve.echoes=Ve.awaits*lt,!0)}function wn(t){return Ve.echoes&&t&&t.constructor===je?(Jt(),t.then(function(a){return cn(),a},function(a){return cn(),yt(a)})):t}function Zn(){var t=ze[ze.length-1];ze.pop(),Qt(t,!1)}function Qt(t,a){var o,u=Ke;(a?!Ve.echoes||ct++&&t===Ke:!ct||--ct&&t===Ke)||queueMicrotask(a?(function(f){++un,Ve.echoes&&--Ve.echoes!=0||(Ve.echoes=Ve.awaits=Ve.id=0),ze.push(Ke),Qt(f,!0)}).bind(null,t):Zn),t!==Ke&&(Ke=t,u===Ct&&(Ct.env=Jn()),It&&(o=Ct.env.Promise,a=t.env,(u.global||t.global)&&(Object.defineProperty(c,"Promise",a.PromiseProp),o.all=a.all,o.race=a.race,o.resolve=a.resolve,o.reject=a.reject,a.allSettled&&(o.allSettled=a.allSettled),a.any&&(o.any=a.any))))}function Jn(){var t=c.Promise;return It?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function Wt(t,a,o,u,f){var h=Ke;try{return Qt(t,!0),a(o,u,f)}finally{Qt(h,!1)}}function Qn(t,a,o,u){return typeof t!="function"?t:function(){var f=Ke;o&&Jt(),Qt(a,!0);try{return t.apply(this,arguments)}finally{Qt(f,!1),u&&queueMicrotask(cn)}}}function Fn(t){Promise===je&&Ve.echoes===0?ct===0?t():enqueueNativeMicroTask(t):setTimeout(t,0)}(""+tn).indexOf("[native code]")===-1&&(Jt=cn=Ee);var yt=Te.reject,kt="ï¿¿",kn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Fi="String expected.",jn=[],vr="__dbnames",Yr="readonly",Zr="readwrite";function Pn(t,a){return t?a?function(){return t.apply(this,arguments)&&a.apply(this,arguments)}:t:a}var ji={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function _r(t){return typeof t!="string"||/\./.test(t)?function(a){return a}:function(a){return a[t]===void 0&&t in a&&delete(a=we(a))[t],a}}function Vi(){throw ve.Type()}function ot(t,a){try{var o=zi(t),u=zi(a);if(o!==u)return o==="Array"?1:u==="Array"?-1:o==="binary"?1:u==="binary"?-1:o==="string"?1:u==="string"?-1:o==="Date"?1:u!=="Date"?NaN:-1;switch(o){case"number":case"Date":case"string":return a<t?1:t<a?-1:0;case"binary":return function(f,h){for(var y=f.length,D=h.length,R=y<D?y:D,M=0;M<R;++M)if(f[M]!==h[M])return f[M]<h[M]?-1:1;return y===D?0:y<D?-1:1}(xi(t),xi(a));case"Array":return function(f,h){for(var y=f.length,D=h.length,R=y<D?y:D,M=0;M<R;++M){var V=ot(f[M],h[M]);if(V!==0)return V}return y===D?0:y<D?-1:1}(t,a)}}catch{}return NaN}function zi(t){var a=typeof t;return a!="object"?a:ArrayBuffer.isView(t)?"binary":(t=ue(t),t==="ArrayBuffer"?"binary":t)}function xi(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Hi=(dt.prototype._trans=function(t,a,o){var u=this._tx||Ke.trans,f=this.name,h=mt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(t==="readonly"?"read":"write"," ").concat(this.name));function y(M,V,A){if(!A.schema[f])throw new ve.NotFound("Table "+f+" not part of transaction");return a(A.idbtrans,A)}var D=_t();try{var R=u&&u.db._novip===this.db._novip?u===Ke.trans?u._promise(t,y,o):Zt(function(){return u._promise(t,y,o)},{trans:u,transless:Ke.transless||Ke}):function M(V,A,z,L){if(V.idbdb&&(V._state.openComplete||Ke.letThrough||V._vip)){var K=V._createTransaction(A,z,V._dbSchema);try{K.create(),V._state.PR1398_maxLoop=3}catch(x){return x.name===Je.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return M(V,A,z,L)})):yt(x)}return K._promise(A,function(x,B){return Zt(function(){return Ke.trans=K,L(x,B,K)})}).then(function(x){if(A==="readwrite")try{K.idbtrans.commit()}catch{}return A==="readonly"?x:K._completion.then(function(){return x})})}if(V._state.openComplete)return yt(new ve.DatabaseClosed(V._state.dbOpenError));if(!V._state.isBeingOpened){if(!V._state.autoOpen)return yt(new ve.DatabaseClosed);V.open().catch(Ee)}return V._state.dbReadyPromise.then(function(){return M(V,A,z,L)})}(this.db,t,[this.name],y);return h&&(R._consoleTask=h,R=R.catch(function(M){return console.trace(M),yt(M)})),R}finally{D&&bn()}},dt.prototype.get=function(t,a){var o=this;return t&&t.constructor===Object?this.where(t).first(a):t==null?yt(new ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return o.core.get({trans:u,key:t}).then(function(f){return o.hook.reading.fire(f)})}).then(a)},dt.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(d(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var a=l(t);if(a.length===1)return this.where(a[0]).equals(t[a[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(R){if(R.compound&&a.every(function(V){return 0<=R.keyPath.indexOf(V)})){for(var M=0;M<a.length;++M)if(a.indexOf(R.keyPath[M])===-1)return!1;return!0}return!1}).sort(function(R,M){return R.keyPath.length-M.keyPath.length})[0];if(o&&this.db._maxKey!==kt){var y=o.keyPath.slice(0,a.length);return this.where(y).equals(y.map(function(M){return t[M]}))}!o&&mt&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var u=this.schema.idxByName,f=this.db._deps.indexedDB;function h(R,M){return f.cmp(R,M)===0}var D=a.reduce(function(z,M){var V=z[0],A=z[1],z=u[M],L=t[M];return[V||z,V||!z?Pn(A,z&&z.multi?function(K){return K=ie(K,M),d(K)&&K.some(function(x){return h(L,x)})}:function(K){return h(L,ie(K,M))}):A]},[null,null]),y=D[0],D=D[1];return y?this.where(y.name).equals(t[y.keyPath]).filter(D):o?this.filter(D):this.where(a).equals("")},dt.prototype.filter=function(t){return this.toCollection().and(t)},dt.prototype.count=function(t){return this.toCollection().count(t)},dt.prototype.offset=function(t){return this.toCollection().offset(t)},dt.prototype.limit=function(t){return this.toCollection().limit(t)},dt.prototype.each=function(t){return this.toCollection().each(t)},dt.prototype.toArray=function(t){return this.toCollection().toArray(t)},dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dt.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,d(t)?"[".concat(t.join("+"),"]"):t))},dt.prototype.reverse=function(){return this.toCollection().reverse()},dt.prototype.mapToClass=function(t){var a,o=this.db,u=this.name;function f(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof Vi&&(function(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function V(){this.constructor=R}n(R,M),R.prototype=M===null?Object.create(M):(V.prototype=M.prototype,new V)}(f,a=t),Object.defineProperty(f.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),f.prototype.table=function(){return u},t=f);for(var h=new Set,y=t.prototype;y;y=g(y))Object.getOwnPropertyNames(y).forEach(function(R){return h.add(R)});function D(R){if(!R)return R;var M,V=Object.create(t.prototype);for(M in R)if(!h.has(M))try{V[M]=R[M]}catch{}return V}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=D,this.hook("reading",D),t},dt.prototype.defineClass=function(){return this.mapToClass(function(t){b(this,t)})},dt.prototype.add=function(t,a){var o=this,u=this.schema.primKey,f=u.auto,h=u.keyPath,y=t;return h&&f&&(y=_r(h)(t)),this._trans("readwrite",function(D){return o.core.mutate({trans:D,type:"add",keys:a!=null?[a]:null,values:[y]})}).then(function(D){return D.numFailures?Te.reject(D.failures[0]):D.lastResult}).then(function(D){if(h)try{Y(t,h,D)}catch{}return D})},dt.prototype.update=function(t,a){return typeof t!="object"||d(t)?this.where(":id").equals(t).modify(a):(t=ie(t,this.schema.primKey.keyPath),t===void 0?yt(new ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(t).modify(a))},dt.prototype.put=function(t,a){var o=this,u=this.schema.primKey,f=u.auto,h=u.keyPath,y=t;return h&&f&&(y=_r(h)(t)),this._trans("readwrite",function(D){return o.core.mutate({trans:D,type:"put",values:[y],keys:a!=null?[a]:null})}).then(function(D){return D.numFailures?Te.reject(D.failures[0]):D.lastResult}).then(function(D){if(h)try{Y(t,h,D)}catch{}return D})},dt.prototype.delete=function(t){var a=this;return this._trans("readwrite",function(o){return a.core.mutate({trans:o,type:"delete",keys:[t]})}).then(function(o){return o.numFailures?Te.reject(o.failures[0]):void 0})},dt.prototype.clear=function(){var t=this;return this._trans("readwrite",function(a){return t.core.mutate({trans:a,type:"deleteRange",range:ji})}).then(function(a){return a.numFailures?Te.reject(a.failures[0]):void 0})},dt.prototype.bulkGet=function(t){var a=this;return this._trans("readonly",function(o){return a.core.getMany({keys:t,trans:o}).then(function(u){return u.map(function(f){return a.hook.reading.fire(f)})})})},dt.prototype.bulkAdd=function(t,a,o){var u=this,f=Array.isArray(a)?a:void 0,h=(o=o||(f?void 0:a))?o.allKeys:void 0;return this._trans("readwrite",function(y){var M=u.schema.primKey,D=M.auto,M=M.keyPath;if(M&&f)throw new ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==t.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var R=t.length,M=M&&D?t.map(_r(M)):t;return u.core.mutate({trans:y,type:"add",keys:f,values:M,wantResults:h}).then(function(K){var A=K.numFailures,z=K.results,L=K.lastResult,K=K.failures;if(A===0)return h?z:L;throw new ye("".concat(u.name,".bulkAdd(): ").concat(A," of ").concat(R," operations failed"),K)})})},dt.prototype.bulkPut=function(t,a,o){var u=this,f=Array.isArray(a)?a:void 0,h=(o=o||(f?void 0:a))?o.allKeys:void 0;return this._trans("readwrite",function(y){var M=u.schema.primKey,D=M.auto,M=M.keyPath;if(M&&f)throw new ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==t.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var R=t.length,M=M&&D?t.map(_r(M)):t;return u.core.mutate({trans:y,type:"put",keys:f,values:M,wantResults:h}).then(function(K){var A=K.numFailures,z=K.results,L=K.lastResult,K=K.failures;if(A===0)return h?z:L;throw new ye("".concat(u.name,".bulkPut(): ").concat(A," of ").concat(R," operations failed"),K)})})},dt.prototype.bulkUpdate=function(t){var a=this,o=this.core,u=t.map(function(y){return y.key}),f=t.map(function(y){return y.changes}),h=[];return this._trans("readwrite",function(y){return o.getMany({trans:y,keys:u,cache:"clone"}).then(function(D){var R=[],M=[];t.forEach(function(A,z){var L=A.key,K=A.changes,x=D[z];if(x){for(var B=0,U=Object.keys(K);B<U.length;B++){var Z=U[B],Q=K[Z];if(Z===a.schema.primKey.keyPath){if(ot(Q,L)!==0)throw new ve.Constraint("Cannot update primary key in bulkUpdate()")}else Y(x,Z,Q)}h.push(z),R.push(L),M.push(x)}});var V=R.length;return o.mutate({trans:y,type:"put",keys:R,values:M,updates:{keys:u,changeSpecs:f}}).then(function(A){var z=A.numFailures,L=A.failures;if(z===0)return V;for(var K=0,x=Object.keys(L);K<x.length;K++){var B,U=x[K],Z=h[Number(U)];Z!=null&&(B=L[U],delete L[U],L[Z]=B)}throw new ye("".concat(a.name,".bulkUpdate(): ").concat(z," of ").concat(V," operations failed"),L)})})})},dt.prototype.bulkDelete=function(t){var a=this,o=t.length;return this._trans("readwrite",function(u){return a.core.mutate({trans:u,type:"delete",keys:t})}).then(function(y){var f=y.numFailures,h=y.lastResult,y=y.failures;if(f===0)return h;throw new ye("".concat(a.name,".bulkDelete(): ").concat(f," of ").concat(o," operations failed"),y)})},dt);function dt(){}function Xn(t){function a(y,D){if(D){for(var R=arguments.length,M=new Array(R-1);--R;)M[R-1]=arguments[R];return o[y].subscribe.apply(null,M),t}if(typeof y=="string")return o[y]}var o={};a.addEventType=h;for(var u=1,f=arguments.length;u<f;++u)h(arguments[u]);return a;function h(y,D,R){if(typeof y!="object"){var M;D=D||Ue;var V={subscribers:[],fire:R=R||Ee,subscribe:function(A){V.subscribers.indexOf(A)===-1&&(V.subscribers.push(A),V.fire=D(V.fire,A))},unsubscribe:function(A){V.subscribers=V.subscribers.filter(function(z){return z!==A}),V.fire=V.subscribers.reduce(D,R)}};return o[y]=a[y]=V}l(M=y).forEach(function(A){var z=M[A];if(d(z))h(A,M[A][0],M[A][1]);else{if(z!=="asap")throw new ve.InvalidArgument("Invalid event config");var L=h(A,Be,function(){for(var K=arguments.length,x=new Array(K);K--;)x[K]=arguments[K];L.subscribers.forEach(function(B){de(function(){B.apply(null,x)})})})}})}}function $n(t,a){return ee(a).from({prototype:t}),a}function Vn(t,a){return!(t.filter||t.algorithm||t.or)&&(a?t.justLimit:!t.replayFilter)}function Jr(t,a){t.filter=Pn(t.filter,a)}function Qr(t,a,o){var u=t.replayFilter;t.replayFilter=u?function(){return Pn(u(),a())}:a,t.justLimit=o&&!u}function yr(t,a){if(t.isPrimKey)return a.primaryKey;var o=a.getIndexByKeyPath(t.index);if(!o)throw new ve.Schema("KeyPath "+t.index+" on object store "+a.name+" is not indexed");return o}function qi(t,a,o){var u=yr(t,a.schema);return a.openCursor({trans:o,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:u,range:t.range}})}function br(t,a,o,u){var f=t.replayFilter?Pn(t.filter,t.replayFilter()):t.filter;if(t.or){var h={},y=function(D,R,M){var V,A;f&&!f(R,M,function(z){return R.stop(z)},function(z){return R.fail(z)})||((A=""+(V=R.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(V)),w(h,A)||(h[A]=!0,a(D,R,M)))};return Promise.all([t.or._iterate(y,o),Ui(qi(t,u,o),t.algorithm,y,!t.keysOnly&&t.valueMapper)])}return Ui(qi(t,u,o),Pn(t.algorithm,f),a,!t.keysOnly&&t.valueMapper)}function Ui(t,a,o,u){var f=X(u?function(h,y,D){return o(u(h),y,D)}:o);return t.then(function(h){if(h)return h.start(function(){var y=function(){return h.continue()};a&&!a(h,function(D){return y=D},function(D){h.stop(D),y=Ee},function(D){h.fail(D),y=Ee})||f(h.value,h,function(D){return y=D}),y()})})}var Dn=Symbol(),er=(Wi.prototype.execute=function(t){if(this.add!==void 0){var a=this.add;if(d(a))return s(s([],d(t)?t:[],!0),a).sort();if(typeof a=="number")return(Number(t)||0)+a;if(typeof a=="bigint")try{return BigInt(t)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(this.remove!==void 0){var o=this.remove;if(d(o))return d(t)?t.filter(function(u){return!o.includes(u)}).sort():[];if(typeof o=="number")return Number(t)-o;if(typeof o=="bigint")try{return BigInt(t)-o}catch{return BigInt(0)-o}throw new TypeError("Invalid subtrahend ".concat(o))}return a=(a=this.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof t=="string"&&t.startsWith(a)?this.replacePrefix[1]+t.substring(a.length):t},Wi);function Wi(t){Object.assign(this,t)}var Qo=(at.prototype._read=function(t,a){var o=this._ctx;return o.error?o.table._trans(null,yt.bind(null,o.error)):o.table._trans("readonly",t).then(a)},at.prototype._write=function(t){var a=this._ctx;return a.error?a.table._trans(null,yt.bind(null,a.error)):a.table._trans("readwrite",t,"locked")},at.prototype._addAlgorithm=function(t){var a=this._ctx;a.algorithm=Pn(a.algorithm,t)},at.prototype._iterate=function(t,a){return br(this._ctx,t,a,this._ctx.table.core)},at.prototype.clone=function(t){var a=Object.create(this.constructor.prototype),o=Object.create(this._ctx);return t&&b(o,t),a._ctx=o,a},at.prototype.raw=function(){return this._ctx.valueMapper=null,this},at.prototype.each=function(t){var a=this._ctx;return this._read(function(o){return br(a,t,o,a.table.core)})},at.prototype.count=function(t){var a=this;return this._read(function(o){var u=a._ctx,f=u.table.core;if(Vn(u,!0))return f.count({trans:o,query:{index:yr(u,f.schema),range:u.range}}).then(function(y){return Math.min(y,u.limit)});var h=0;return br(u,function(){return++h,!1},o,f).then(function(){return h})}).then(t)},at.prototype.sortBy=function(t,a){var o=t.split(".").reverse(),u=o[0],f=o.length-1;function h(R,M){return M?h(R[o[M]],M-1):R[u]}var y=this._ctx.dir==="next"?1:-1;function D(R,M){return R=h(R,f),M=h(M,f),R<M?-y:M<R?y:0}return this.toArray(function(R){return R.sort(D)}).then(a)},at.prototype.toArray=function(t){var a=this;return this._read(function(o){var u=a._ctx;if(u.dir==="next"&&Vn(u,!0)&&0<u.limit){var f=u.valueMapper,h=yr(u,u.table.core.schema);return u.table.core.query({trans:o,limit:u.limit,values:!0,query:{index:h,range:u.range}}).then(function(D){return D=D.result,f?D.map(f):D})}var y=[];return br(u,function(D){return y.push(D)},o,u.table.core).then(function(){return y})},t)},at.prototype.offset=function(t){var a=this._ctx;return t<=0||(a.offset+=t,Vn(a)?Qr(a,function(){var o=t;return function(u,f){return o===0||(o===1?--o:f(function(){u.advance(o),o=0}),!1)}}):Qr(a,function(){var o=t;return function(){return--o<0}})),this},at.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Qr(this._ctx,function(){var a=t;return function(o,u,f){return--a<=0&&u(f),0<=a}},!0),this},at.prototype.until=function(t,a){return Jr(this._ctx,function(o,u,f){return!t(o.value)||(u(f),a)}),this},at.prototype.first=function(t){return this.limit(1).toArray(function(a){return a[0]}).then(t)},at.prototype.last=function(t){return this.reverse().first(t)},at.prototype.filter=function(t){var a;return Jr(this._ctx,function(o){return t(o.value)}),(a=this._ctx).isMatch=Pn(a.isMatch,t),this},at.prototype.and=function(t){return this.filter(t)},at.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},at.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},at.prototype.desc=function(){return this.reverse()},at.prototype.eachKey=function(t){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(o,u){t(u.key,u)})},at.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},at.prototype.eachPrimaryKey=function(t){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(o,u){t(u.primaryKey,u)})},at.prototype.keys=function(t){var a=this._ctx;a.keysOnly=!a.isMatch;var o=[];return this.each(function(u,f){o.push(f.key)}).then(function(){return o}).then(t)},at.prototype.primaryKeys=function(t){var a=this._ctx;if(a.dir==="next"&&Vn(a,!0)&&0<a.limit)return this._read(function(u){var f=yr(a,a.table.core.schema);return a.table.core.query({trans:u,values:!1,limit:a.limit,query:{index:f,range:a.range}})}).then(function(u){return u.result}).then(t);a.keysOnly=!a.isMatch;var o=[];return this.each(function(u,f){o.push(f.primaryKey)}).then(function(){return o}).then(t)},at.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},at.prototype.firstKey=function(t){return this.limit(1).keys(function(a){return a[0]}).then(t)},at.prototype.lastKey=function(t){return this.reverse().firstKey(t)},at.prototype.distinct=function(){var t=this._ctx,t=t.index&&t.table.schema.idxByName[t.index];if(!t||!t.multi)return this;var a={};return Jr(this._ctx,function(f){var u=f.primaryKey.toString(),f=w(a,u);return a[u]=!0,!f}),this},at.prototype.modify=function(t){var a=this,o=this._ctx;return this._write(function(u){var f,h,y;y=typeof t=="function"?t:(f=l(t),h=f.length,function(B){for(var U=!1,Z=0;Z<h;++Z){var Q=f[Z],ne=t[Q],pe=ie(B,Q);ne instanceof er?(Y(B,Q,ne.execute(pe)),U=!0):pe!==ne&&(Y(B,Q,ne),U=!0)}return U});function D(B,Q){var Z=Q.failures,Q=Q.numFailures;K+=B-Q;for(var ne=0,pe=l(Z);ne<pe.length;ne++){var Re=pe[ne];L.push(Z[Re])}}var R=o.table.core,M=R.schema.primaryKey,V=M.outbound,A=M.extractKey,z=a.db._options.modifyChunkSize||200,L=[],K=0,x=[];return a.clone().primaryKeys().then(function(B){function U(Q){var ne=Math.min(z,B.length-Q);return R.getMany({trans:u,keys:B.slice(Q,Q+ne),cache:"immutable"}).then(function(pe){for(var Re=[],Ce=[],Le=V?[]:null,Ne=[],Me=0;Me<ne;++Me){var Ze=pe[Me],Qe={value:we(Ze),primKey:B[Q+Me]};y.call(Qe,Qe.value,Qe)!==!1&&(Qe.value==null?Ne.push(B[Q+Me]):V||ot(A(Ze),A(Qe.value))===0?(Ce.push(Qe.value),V&&Le.push(B[Q+Me])):(Ne.push(B[Q+Me]),Re.push(Qe.value)))}return Promise.resolve(0<Re.length&&R.mutate({trans:u,type:"add",values:Re}).then(function(nt){for(var et in nt.failures)Ne.splice(parseInt(et),1);D(Re.length,nt)})).then(function(){return(0<Ce.length||Z&&typeof t=="object")&&R.mutate({trans:u,type:"put",keys:Le,values:Ce,criteria:Z,changeSpec:typeof t!="function"&&t,isAdditionalChunk:0<Q}).then(function(nt){return D(Ce.length,nt)})}).then(function(){return(0<Ne.length||Z&&t===Xr)&&R.mutate({trans:u,type:"delete",keys:Ne,criteria:Z,isAdditionalChunk:0<Q}).then(function(nt){return D(Ne.length,nt)})}).then(function(){return B.length>Q+ne&&U(Q+z)})})}var Z=Vn(o)&&o.limit===1/0&&(typeof t!="function"||t===Xr)&&{index:o.index,range:o.range};return U(0).then(function(){if(0<L.length)throw new Ae("Error modifying one or more objects",L,K,x);return B.length})})})},at.prototype.delete=function(){var t=this._ctx,a=t.range;return Vn(t)&&(t.isPrimKey||a.type===3)?this._write(function(o){var u=t.table.core.schema.primaryKey,f=a;return t.table.core.count({trans:o,query:{index:u,range:f}}).then(function(h){return t.table.core.mutate({trans:o,type:"deleteRange",range:f}).then(function(y){var D=y.failures;if(y.lastResult,y.results,y=y.numFailures,y)throw new Ae("Could not delete some values",Object.keys(D).map(function(R){return D[R]}),h-y);return h-y})})}):this.modify(Xr)},at);function at(){}var Xr=function(t,a){return a.value=null};function Xo(t,a){return t<a?-1:t===a?0:1}function $o(t,a){return a<t?-1:t===a?0:1}function Xt(t,a,o){return t=t instanceof Yi?new t.Collection(t):t,t._ctx.error=new(o||TypeError)(a),t}function zn(t){return new t.Collection(t,function(){return Gi("")}).limit(0)}function wr(t,a,o,u){var f,h,y,D,R,M,V,A=o.length;if(!o.every(function(K){return typeof K=="string"}))return Xt(t,Fi);function z(K){f=K==="next"?function(B){return B.toUpperCase()}:function(B){return B.toLowerCase()},h=K==="next"?function(B){return B.toLowerCase()}:function(B){return B.toUpperCase()},y=K==="next"?Xo:$o;var x=o.map(function(B){return{lower:h(B),upper:f(B)}}).sort(function(B,U){return y(B.lower,U.lower)});D=x.map(function(B){return B.upper}),R=x.map(function(B){return B.lower}),V=(M=K)==="next"?"":u}z("next"),t=new t.Collection(t,function(){return Cn(D[0],R[A-1]+u)}),t._ondirectionchange=function(K){z(K)};var L=0;return t._addAlgorithm(function(K,x,B){var U=K.key;if(typeof U!="string")return!1;var Z=h(U);if(a(Z,R,L))return!0;for(var Q=null,ne=L;ne<A;++ne){var pe=function(Re,Ce,Le,Ne,Me,Ze){for(var Qe=Math.min(Re.length,Ne.length),nt=-1,et=0;et<Qe;++et){var fn=Ce[et];if(fn!==Ne[et])return Me(Re[et],Le[et])<0?Re.substr(0,et)+Le[et]+Le.substr(et+1):Me(Re[et],Ne[et])<0?Re.substr(0,et)+Ne[et]+Le.substr(et+1):0<=nt?Re.substr(0,nt)+Ce[nt]+Le.substr(nt+1):null;Me(Re[et],fn)<0&&(nt=et)}return Qe<Ne.length&&Ze==="next"?Re+Le.substr(Re.length):Qe<Re.length&&Ze==="prev"?Re.substr(0,Le.length):nt<0?null:Re.substr(0,nt)+Ne[nt]+Le.substr(nt+1)}(U,Z,D[ne],R[ne],y,M);pe===null&&Q===null?L=ne+1:(Q===null||0<y(Q,pe))&&(Q=pe)}return x(Q!==null?function(){K.continue(Q+V)}:B),!1}),t}function Cn(t,a,o,u){return{type:2,lower:t,upper:a,lowerOpen:o,upperOpen:u}}function Gi(t){return{type:1,lower:t,upper:t}}var Yi=(Object.defineProperty(Mt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Mt.prototype.between=function(t,a,o,u){o=o!==!1,u=u===!0;try{return 0<this._cmp(t,a)||this._cmp(t,a)===0&&(o||u)&&(!o||!u)?zn(this):new this.Collection(this,function(){return Cn(t,a,!o,!u)})}catch{return Xt(this,kn)}},Mt.prototype.equals=function(t){return t==null?Xt(this,kn):new this.Collection(this,function(){return Gi(t)})},Mt.prototype.above=function(t){return t==null?Xt(this,kn):new this.Collection(this,function(){return Cn(t,void 0,!0)})},Mt.prototype.aboveOrEqual=function(t){return t==null?Xt(this,kn):new this.Collection(this,function(){return Cn(t,void 0,!1)})},Mt.prototype.below=function(t){return t==null?Xt(this,kn):new this.Collection(this,function(){return Cn(void 0,t,!1,!0)})},Mt.prototype.belowOrEqual=function(t){return t==null?Xt(this,kn):new this.Collection(this,function(){return Cn(void 0,t)})},Mt.prototype.startsWith=function(t){return typeof t!="string"?Xt(this,Fi):this.between(t,t+kt,!0,!0)},Mt.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):wr(this,function(a,o){return a.indexOf(o[0])===0},[t],kt)},Mt.prototype.equalsIgnoreCase=function(t){return wr(this,function(a,o){return a===o[0]},[t],"")},Mt.prototype.anyOfIgnoreCase=function(){var t=S.apply(k,arguments);return t.length===0?zn(this):wr(this,function(a,o){return o.indexOf(a)!==-1},t,"")},Mt.prototype.startsWithAnyOfIgnoreCase=function(){var t=S.apply(k,arguments);return t.length===0?zn(this):wr(this,function(a,o){return o.some(function(u){return a.indexOf(u)===0})},t,kt)},Mt.prototype.anyOf=function(){var t=this,a=S.apply(k,arguments),o=this._cmp;try{a.sort(o)}catch{return Xt(this,kn)}if(a.length===0)return zn(this);var u=new this.Collection(this,function(){return Cn(a[0],a[a.length-1])});u._ondirectionchange=function(h){o=h==="next"?t._ascending:t._descending,a.sort(o)};var f=0;return u._addAlgorithm(function(h,y,D){for(var R=h.key;0<o(R,a[f]);)if(++f===a.length)return y(D),!1;return o(R,a[f])===0||(y(function(){h.continue(a[f])}),!1)}),u},Mt.prototype.notEqual=function(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Mt.prototype.noneOf=function(){var t=S.apply(k,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Xt(this,kn)}var a=t.reduce(function(o,u){return o?o.concat([[o[o.length-1][1],u]]):[[-1/0,u]]},null);return a.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},Mt.prototype.inAnyRange=function(U,a){var o=this,u=this._cmp,f=this._ascending,h=this._descending,y=this._min,D=this._max;if(U.length===0)return zn(this);if(!U.every(function(Z){return Z[0]!==void 0&&Z[1]!==void 0&&f(Z[0],Z[1])<=0}))return Xt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ve.InvalidArgument);var R=!a||a.includeLowers!==!1,M=a&&a.includeUppers===!0,V,A=f;function z(Z,Q){return A(Z[0],Q[0])}try{(V=U.reduce(function(Z,Q){for(var ne=0,pe=Z.length;ne<pe;++ne){var Re=Z[ne];if(u(Q[0],Re[1])<0&&0<u(Q[1],Re[0])){Re[0]=y(Re[0],Q[0]),Re[1]=D(Re[1],Q[1]);break}}return ne===pe&&Z.push(Q),Z},[])).sort(z)}catch{return Xt(this,kn)}var L=0,K=M?function(Z){return 0<f(Z,V[L][1])}:function(Z){return 0<=f(Z,V[L][1])},x=R?function(Z){return 0<h(Z,V[L][0])}:function(Z){return 0<=h(Z,V[L][0])},B=K,U=new this.Collection(this,function(){return Cn(V[0][0],V[V.length-1][1],!R,!M)});return U._ondirectionchange=function(Z){A=Z==="next"?(B=K,f):(B=x,h),V.sort(z)},U._addAlgorithm(function(Z,Q,ne){for(var pe,Re=Z.key;B(Re);)if(++L===V.length)return Q(ne),!1;return!K(pe=Re)&&!x(pe)||(o._cmp(Re,V[L][1])===0||o._cmp(Re,V[L][0])===0||Q(function(){A===f?Z.continue(V[L][0]):Z.continue(V[L][1])}),!1)}),U},Mt.prototype.startsWithAnyOf=function(){var t=S.apply(k,arguments);return t.every(function(a){return typeof a=="string"})?t.length===0?zn(this):this.inAnyRange(t.map(function(a){return[a,a+kt]})):Xt(this,"startsWithAnyOf() only works with strings")},Mt);function Mt(){}function pn(t){return X(function(a){return tr(a),t(a.target.error),!1})}function tr(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var nr="storagemutated",$r="x-storagemutated-1",An=Xn(null,nr),es=(mn.prototype._lock=function(){return E(!Ke.global),++this._reculock,this._reculock!==1||Ke.global||(Ke.lockOwnerFor=this),this},mn.prototype._unlock=function(){if(E(!Ke.global),--this._reculock==0)for(Ke.global||(Ke.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var t=this._blockedFuncs.shift();try{Wt(t[1],t[0])}catch{}}return this},mn.prototype._locked=function(){return this._reculock&&Ke.lockOwnerFor!==this},mn.prototype.create=function(t){var a=this;if(!this.mode)return this;var o=this.db.idbdb,u=this.db._state.dbOpenError;if(E(!this.idbtrans),!t&&!o)switch(u&&u.name){case"DatabaseClosedError":throw new ve.DatabaseClosed(u);case"MissingAPIError":throw new ve.MissingAPI(u.message,u);default:throw new ve.OpenFailed(u)}if(!this.active)throw new ve.TransactionInactive;return E(this._completion._state===null),(t=this.idbtrans=t||(this.db.core||o).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=X(function(f){tr(f),a._reject(t.error)}),t.onabort=X(function(f){tr(f),a.active&&a._reject(new ve.Abort(t.error)),a.active=!1,a.on("abort").fire(f)}),t.oncomplete=X(function(){a.active=!1,a._resolve(),"mutatedParts"in t&&An.storagemutated.fire(t.mutatedParts)}),this},mn.prototype._promise=function(t,a,o){var u=this;if(t==="readwrite"&&this.mode!=="readwrite")return yt(new ve.ReadOnly("Transaction is readonly"));if(!this.active)return yt(new ve.TransactionInactive);if(this._locked())return new Te(function(h,y){u._blockedFuncs.push([function(){u._promise(t,a,o).then(h,y)},Ke])});if(o)return Zt(function(){var h=new Te(function(y,D){u._lock();var R=a(y,D,u);R&&R.then&&R.then(y,D)});return h.finally(function(){return u._unlock()}),h._lib=!0,h});var f=new Te(function(h,y){var D=a(h,y,u);D&&D.then&&D.then(h,y)});return f._lib=!0,f},mn.prototype._root=function(){return this.parent?this.parent._root():this},mn.prototype.waitFor=function(t){var a,o=this._root(),u=Te.resolve(t);o._waitingFor?o._waitingFor=o._waitingFor.then(function(){return u}):(o._waitingFor=u,o._waitingQueue=[],a=o.idbtrans.objectStore(o.storeNames[0]),function h(){for(++o._spinCount;o._waitingQueue.length;)o._waitingQueue.shift()();o._waitingFor&&(a.get(-1/0).onsuccess=h)}());var f=o._waitingFor;return new Te(function(h,y){u.then(function(D){return o._waitingQueue.push(X(h.bind(null,D)))},function(D){return o._waitingQueue.push(X(y.bind(null,D)))}).finally(function(){o._waitingFor===f&&(o._waitingFor=null)})})},mn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ve.Abort))},mn.prototype.table=function(t){var a=this._memoizedTables||(this._memoizedTables={});if(w(a,t))return a[t];var o=this.schema[t];if(!o)throw new ve.NotFound("Table "+t+" not part of transaction");return o=new this.db.Table(t,o,this),o.core=this.db.core.table(t),a[t]=o},mn);function mn(){}function ei(t,a,o,u,f,h,y){return{name:t,keyPath:a,unique:o,multi:u,auto:f,compound:h,src:(o&&!y?"&":"")+(u?"*":"")+(f?"++":"")+Zi(a)}}function Zi(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function ti(t,a,o){return{name:t,primKey:a,indexes:o,mappedClass:null,idxByName:(u=function(f){return[f.name,f]},o.reduce(function(f,h,y){return y=u(h,y),y&&(f[y[0]]=y[1]),f},{}))};var u}var rr=function(t){try{return t.only([[]]),rr=function(){return[[]]},[[]]}catch{return rr=function(){return kt},kt}};function ni(t){return t==null?function(){}:typeof t=="string"?(a=t).split(".").length===1?function(o){return o[a]}:function(o){return ie(o,a)}:function(o){return ie(o,t)};var a}function Ji(t){return[].slice.call(t)}var ts=0;function ir(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function ns(t,a,R){function u(B){if(B.type===3)return null;if(B.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var L=B.lower,K=B.upper,x=B.lowerOpen,B=B.upperOpen;return L===void 0?K===void 0?null:a.upperBound(K,!!B):K===void 0?a.lowerBound(L,!!x):a.bound(L,K,!!x,!!B)}function f(z){var L,K=z.name;return{name:K,schema:z,mutate:function(x){var B=x.trans,U=x.type,Z=x.keys,Q=x.values,ne=x.range;return new Promise(function(pe,Re){pe=X(pe);var Ce=B.objectStore(K),Le=Ce.keyPath==null,Ne=U==="put"||U==="add";if(!Ne&&U!=="delete"&&U!=="deleteRange")throw new Error("Invalid operation type: "+U);var Me,Ze=(Z||Q||{length:1}).length;if(Z&&Q&&Z.length!==Q.length)throw new Error("Given keys array must have same length as given values array.");if(Ze===0)return pe({numFailures:0,failures:{},results:[],lastResult:void 0});function Qe(Ht){++fn,tr(Ht)}var nt=[],et=[],fn=0;if(U==="deleteRange"){if(ne.type===4)return pe({numFailures:fn,failures:et,results:[],lastResult:void 0});ne.type===3?nt.push(Me=Ce.clear()):nt.push(Me=Ce.delete(u(ne)))}else{var Le=Ne?Le?[Q,Z]:[Q,null]:[Z,null],tt=Le[0],Bt=Le[1];if(Ne)for(var Kt=0;Kt<Ze;++Kt)nt.push(Me=Bt&&Bt[Kt]!==void 0?Ce[U](tt[Kt],Bt[Kt]):Ce[U](tt[Kt])),Me.onerror=Qe;else for(Kt=0;Kt<Ze;++Kt)nt.push(Me=Ce[U](tt[Kt])),Me.onerror=Qe}function Rr(Ht){Ht=Ht.target.result,nt.forEach(function(Ln,wi){return Ln.error!=null&&(et[wi]=Ln.error)}),pe({numFailures:fn,failures:et,results:U==="delete"?Z:nt.map(function(Ln){return Ln.result}),lastResult:Ht})}Me.onerror=function(Ht){Qe(Ht),Rr(Ht)},Me.onsuccess=Rr})},getMany:function(x){var B=x.trans,U=x.keys;return new Promise(function(Z,Q){Z=X(Z);for(var ne,pe=B.objectStore(K),Re=U.length,Ce=new Array(Re),Le=0,Ne=0,Me=function(nt){nt=nt.target,Ce[nt._pos]=nt.result,++Ne===Le&&Z(Ce)},Ze=pn(Q),Qe=0;Qe<Re;++Qe)U[Qe]!=null&&((ne=pe.get(U[Qe]))._pos=Qe,ne.onsuccess=Me,ne.onerror=Ze,++Le);Le===0&&Z(Ce)})},get:function(x){var B=x.trans,U=x.key;return new Promise(function(Z,Q){Z=X(Z);var ne=B.objectStore(K).get(U);ne.onsuccess=function(pe){return Z(pe.target.result)},ne.onerror=pn(Q)})},query:(L=M,function(x){return new Promise(function(B,U){B=X(B);var Z,Q,ne,Le=x.trans,pe=x.values,Re=x.limit,Me=x.query,Ce=Re===1/0?void 0:Re,Ne=Me.index,Me=Me.range,Le=Le.objectStore(K),Ne=Ne.isPrimaryKey?Le:Le.index(Ne.name),Me=u(Me);if(Re===0)return B({result:[]});L?((Ce=pe?Ne.getAll(Me,Ce):Ne.getAllKeys(Me,Ce)).onsuccess=function(Ze){return B({result:Ze.target.result})},Ce.onerror=pn(U)):(Z=0,Q=!pe&&"openKeyCursor"in Ne?Ne.openKeyCursor(Me):Ne.openCursor(Me),ne=[],Q.onsuccess=function(Ze){var Qe=Q.result;return Qe?(ne.push(pe?Qe.value:Qe.primaryKey),++Z===Re?B({result:ne}):void Qe.continue()):B({result:ne})},Q.onerror=pn(U))})}),openCursor:function(x){var B=x.trans,U=x.values,Z=x.query,Q=x.reverse,ne=x.unique;return new Promise(function(pe,Re){pe=X(pe);var Ne=Z.index,Ce=Z.range,Le=B.objectStore(K),Le=Ne.isPrimaryKey?Le:Le.index(Ne.name),Ne=Q?ne?"prevunique":"prev":ne?"nextunique":"next",Me=!U&&"openKeyCursor"in Le?Le.openKeyCursor(u(Ce),Ne):Le.openCursor(u(Ce),Ne);Me.onerror=pn(Re),Me.onsuccess=X(function(Ze){var Qe,nt,et,fn,tt=Me.result;tt?(tt.___id=++ts,tt.done=!1,Qe=tt.continue.bind(tt),nt=(nt=tt.continuePrimaryKey)&&nt.bind(tt),et=tt.advance.bind(tt),fn=function(){throw new Error("Cursor not stopped")},tt.trans=B,tt.stop=tt.continue=tt.continuePrimaryKey=tt.advance=function(){throw new Error("Cursor not started")},tt.fail=X(Re),tt.next=function(){var Bt=this,Kt=1;return this.start(function(){return Kt--?Bt.continue():Bt.stop()}).then(function(){return Bt})},tt.start=function(Bt){function Kt(){if(Me.result)try{Bt()}catch(Ht){tt.fail(Ht)}else tt.done=!0,tt.start=function(){throw new Error("Cursor behind last entry")},tt.stop()}var Rr=new Promise(function(Ht,Ln){Ht=X(Ht),Me.onerror=pn(Ln),tt.fail=Ln,tt.stop=function(wi){tt.stop=tt.continue=tt.continuePrimaryKey=tt.advance=fn,Ht(wi)}});return Me.onsuccess=X(function(Ht){Me.onsuccess=Kt,Kt()}),tt.continue=Qe,tt.continuePrimaryKey=nt,tt.advance=et,Kt(),Rr},pe(tt)):pe(null)},Re)})},count:function(x){var B=x.query,U=x.trans,Z=B.index,Q=B.range;return new Promise(function(ne,pe){var Re=U.objectStore(K),Ce=Z.isPrimaryKey?Re:Re.index(Z.name),Re=u(Q),Ce=Re?Ce.count(Re):Ce.count();Ce.onsuccess=X(function(Le){return ne(Le.target.result)}),Ce.onerror=pn(pe)})}}}var h,y,D,V=(y=R,D=Ji((h=t).objectStoreNames),{schema:{name:h.name,tables:D.map(function(z){return y.objectStore(z)}).map(function(z){var L=z.keyPath,B=z.autoIncrement,K=d(L),x={},B={name:z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:L==null,compound:K,keyPath:L,autoIncrement:B,unique:!0,extractKey:ni(L)},indexes:Ji(z.indexNames).map(function(U){return z.index(U)}).map(function(ne){var Z=ne.name,Q=ne.unique,pe=ne.multiEntry,ne=ne.keyPath,pe={name:Z,compound:d(ne),keyPath:ne,unique:Q,multiEntry:pe,extractKey:ni(ne)};return x[ir(ne)]=pe}),getIndexByKeyPath:function(U){return x[ir(U)]}};return x[":id"]=B.primaryKey,L!=null&&(x[ir(L)]=B.primaryKey),B})},hasGetAll:0<D.length&&"getAll"in y.objectStore(D[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),R=V.schema,M=V.hasGetAll,V=R.tables.map(f),A={};return V.forEach(function(z){return A[z.name]=z}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(z){if(!A[z])throw new Error("Table '".concat(z,"' not found"));return A[z]},MIN_KEY:-1/0,MAX_KEY:rr(a),schema:R}}function rs(t,a,o,u){var f=o.IDBKeyRange;return o.indexedDB,{dbcore:(u=ns(a,f,u),t.dbcore.reduce(function(h,y){return y=y.create,r(r({},h),y(h))},u))}}function kr(t,u){var o=u.db,u=rs(t._middlewares,o,t._deps,u);t.core=u.dbcore,t.tables.forEach(function(f){var h=f.name;t.core.schema.tables.some(function(y){return y.name===h})&&(f.core=t.core.table(h),t[h]instanceof t.Table&&(t[h].core=f.core))})}function Dr(t,a,o,u){o.forEach(function(f){var h=u[f];a.forEach(function(y){var D=function R(M,V){return G(M,V)||(M=g(M))&&R(M,V)}(y,f);(!D||"value"in D&&D.value===void 0)&&(y===t.Transaction.prototype||y instanceof t.Transaction?$(y,f,{get:function(){return this.table(f)},set:function(R){H(this,f,{value:R,writable:!0,configurable:!0,enumerable:!0})}}):y[f]=new t.Table(f,h))})})}function ri(t,a){a.forEach(function(o){for(var u in o)o[u]instanceof t.Table&&delete o[u]})}function is(t,a){return t._cfg.version-a._cfg.version}function as(t,a,o,u){var f=t._dbSchema;o.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=ti("$meta",Xi("")[0],[]),t._storeNames.push("$meta"));var h=t._createTransaction("readwrite",t._storeNames,f);h.create(o),h._completion.catch(u);var y=h._reject.bind(h),D=Ke.transless||Ke;Zt(function(){return Ke.trans=h,Ke.transless=D,a!==0?(kr(t,o),M=a,((R=h).storeNames.includes("$meta")?R.table("$meta").get("version").then(function(V){return V??M}):Te.resolve(M)).then(function(V){return z=V,L=h,K=o,x=[],V=(A=t)._versions,B=A._dbSchema=Sr(0,A.idbdb,K),(V=V.filter(function(U){return U._cfg.version>=z})).length!==0?(V.forEach(function(U){x.push(function(){var Z=B,Q=U._cfg.dbschema;Tr(A,Z,K),Tr(A,Q,K),B=A._dbSchema=Q;var ne=ii(Z,Q);ne.add.forEach(function(Ne){ai(K,Ne[0],Ne[1].primKey,Ne[1].indexes)}),ne.change.forEach(function(Ne){if(Ne.recreate)throw new ve.Upgrade("Not yet support for changing primary key");var Me=K.objectStore(Ne.name);Ne.add.forEach(function(Ze){return Er(Me,Ze)}),Ne.change.forEach(function(Ze){Me.deleteIndex(Ze.name),Er(Me,Ze)}),Ne.del.forEach(function(Ze){return Me.deleteIndex(Ze)})});var pe=U._cfg.contentUpgrade;if(pe&&U._cfg.version>z){kr(A,K),L._memoizedTables={};var Re=Se(Q);ne.del.forEach(function(Ne){Re[Ne]=Z[Ne]}),ri(A,[A.Transaction.prototype]),Dr(A,[A.Transaction.prototype],l(Re),Re),L.schema=Re;var Ce,Le=j(pe);return Le&&Jt(),ne=Te.follow(function(){var Ne;(Ce=pe(L))&&Le&&(Ne=cn.bind(null,null),Ce.then(Ne,Ne))}),Ce&&typeof Ce.then=="function"?Te.resolve(Ce):ne.then(function(){return Ce})}}),x.push(function(Z){var Q,ne,pe=U._cfg.dbschema;Q=pe,ne=Z,[].slice.call(ne.db.objectStoreNames).forEach(function(Re){return Q[Re]==null&&ne.db.deleteObjectStore(Re)}),ri(A,[A.Transaction.prototype]),Dr(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),L.schema=A._dbSchema}),x.push(function(Z){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===U._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(Q){return Q!=="$meta"})):Z.objectStore("$meta").put(U._cfg.version,"version"))})}),function U(){return x.length?Te.resolve(x.shift()(L.idbtrans)).then(U):Te.resolve()}().then(function(){Qi(B,K)})):Te.resolve();var A,z,L,K,x,B}).catch(y)):(l(f).forEach(function(V){ai(o,V,f[V].primKey,f[V].indexes)}),kr(t,o),void Te.follow(function(){return t.on.populate.fire(h)}).catch(y));var R,M})}function os(t,a){Qi(t._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var o=Sr(0,t.idbdb,a);Tr(t,t._dbSchema,a);for(var u=0,f=ii(o,t._dbSchema).change;u<f.length;u++){var h=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var D=a.objectStore(y.name);y.add.forEach(function(R){mt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(R.src)),Er(D,R)})}(f[u]);if(typeof h=="object")return h.value}}function ii(t,a){var o,u={del:[],add:[],change:[]};for(o in t)a[o]||u.del.push(o);for(o in a){var f=t[o],h=a[o];if(f){var y={name:o,def:h,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(h.primKey.keyPath||"")||f.primKey.auto!==h.primKey.auto)y.recreate=!0,u.change.push(y);else{var D=f.idxByName,R=h.idxByName,M=void 0;for(M in D)R[M]||y.del.push(M);for(M in R){var V=D[M],A=R[M];V?V.src!==A.src&&y.change.push(A):y.add.push(A)}(0<y.del.length||0<y.add.length||0<y.change.length)&&u.change.push(y)}}else u.add.push([o,h])}return u}function ai(t,a,o,u){var f=t.db.createObjectStore(a,o.keyPath?{keyPath:o.keyPath,autoIncrement:o.auto}:{autoIncrement:o.auto});return u.forEach(function(h){return Er(f,h)}),f}function Qi(t,a){l(t).forEach(function(o){a.db.objectStoreNames.contains(o)||(mt&&console.debug("Dexie: Creating missing table",o),ai(a,o,t[o].primKey,t[o].indexes))})}function Er(t,a){t.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function Sr(t,a,o){var u={};return C(a.objectStoreNames,0).forEach(function(f){for(var h=o.objectStore(f),y=ei(Zi(M=h.keyPath),M||"",!0,!1,!!h.autoIncrement,M&&typeof M!="string",!0),D=[],R=0;R<h.indexNames.length;++R){var V=h.index(h.indexNames[R]),M=V.keyPath,V=ei(V.name,M,!!V.unique,!!V.multiEntry,!1,M&&typeof M!="string",!1);D.push(V)}u[f]=ti(f,y,D)}),u}function Tr(t,a,o){for(var u=o.db.objectStoreNames,f=0;f<u.length;++f){var h=u[f],y=o.objectStore(h);t._hasGetAll="getAll"in y;for(var D=0;D<y.indexNames.length;++D){var R=y.indexNames[D],M=y.index(R).keyPath,V=typeof M=="string"?M:"["+C(M).join("+")+"]";!a[h]||(M=a[h].idxByName[V])&&(M.name=R,delete a[h].idxByName[V],a[h].idxByName[R]=M)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function Xi(t){return t.split(",").map(function(a,o){var u=(a=a.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return ei(u,f||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),d(f),o===0)})}var ss=(Cr.prototype._parseStoresSpec=function(t,a){l(t).forEach(function(o){if(t[o]!==null){var u=Xi(t[o]),f=u.shift();if(f.unique=!0,f.multi)throw new ve.Schema("Primary key cannot be multi-valued");u.forEach(function(h){if(h.auto)throw new ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!h.keyPath)throw new ve.Schema("Index must have a name and cannot be an empty string")}),a[o]=ti(o,f,u)}})},Cr.prototype.stores=function(o){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,o):o;var o=a._versions,u={},f={};return o.forEach(function(h){b(u,h._cfg.storesSource),f=h._cfg.dbschema={},h._parseStoresSpec(u,f)}),a._dbSchema=f,ri(a,[a._allTables,a,a.Transaction.prototype]),Dr(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],l(f),f),a._storeNames=l(f),this},Cr.prototype.upgrade=function(t){return this._cfg.contentUpgrade=pt(this._cfg.contentUpgrade||Ee,t),this},Cr);function Cr(){}function oi(t,a){var o=t._dbNamesDB;return o||(o=t._dbNamesDB=new En(vr,{addons:[],indexedDB:t,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),o.table("dbnames")}function si(t){return t&&typeof t.databases=="function"}function li(t){return Zt(function(){return Ke.letThrough=!0,t()})}function ui(t){return!("from"in t)}var Nt=function(t,a){if(!this){var o=new Nt;return t&&"d"in t&&b(o,t),o}b(this,arguments.length?{d:1,from:t,to:1<arguments.length?a:t}:{d:0})};function ar(t,a,o){var u=ot(a,o);if(!isNaN(u)){if(0<u)throw RangeError();if(ui(t))return b(t,{from:a,to:o,d:1});var f=t.l,u=t.r;if(ot(o,t.from)<0)return f?ar(f,a,o):t.l={from:a,to:o,d:1,l:null,r:null},$i(t);if(0<ot(a,t.to))return u?ar(u,a,o):t.r={from:a,to:o,d:1,l:null,r:null},$i(t);ot(a,t.from)<0&&(t.from=a,t.l=null,t.d=u?u.d+1:1),0<ot(o,t.to)&&(t.to=o,t.r=null,t.d=t.l?t.l.d+1:1),o=!t.r,f&&!t.l&&or(t,f),u&&o&&or(t,u)}}function or(t,a){ui(a)||function o(u,R){var h=R.from,y=R.to,D=R.l,R=R.r;ar(u,h,y),D&&o(u,D),R&&o(u,R)}(t,a)}function Ar(t,a){var o=ci(a),u=o.next();if(u.done)return!1;for(var f=u.value,h=ci(t),y=h.next(f.from),D=y.value;!u.done&&!y.done;){if(ot(D.from,f.to)<=0&&0<=ot(D.to,f.from))return!0;ot(f.from,D.from)<0?f=(u=o.next(D.from)).value:D=(y=h.next(f.from)).value}return!1}function ci(t){var a=ui(t)?null:{s:0,n:t};return{next:function(o){for(var u=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,u)for(;a.n.l&&ot(o,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!u||ot(o,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function $i(t){var a,o,u=(((a=t.r)===null||a===void 0?void 0:a.d)||0)-(((o=t.l)===null||o===void 0?void 0:o.d)||0),f=1<u?"r":u<-1?"l":"";f&&(a=f=="r"?"l":"r",o=r({},t),u=t[f],t.from=u.from,t.to=u.to,t[f]=u[f],o[f]=u[a],(t[a]=o).d=ea(o)),t.d=ea(t)}function ea(o){var a=o.r,o=o.l;return(a?o?Math.max(a.d,o.d):a.d:o?o.d:0)+1}function Or(t,a){return l(a).forEach(function(o){t[o]?or(t[o],a[o]):t[o]=function u(f){var h,y,D={};for(h in f)w(f,h)&&(y=f[h],D[h]=!y||typeof y!="object"||me.has(y.constructor)?y:u(y));return D}(a[o])}),t}function fi(t,a){return t.all||a.all||Object.keys(t).some(function(o){return a[o]&&Ar(a[o],t[o])})}O(Nt.prototype,((tn={add:function(t){return or(this,t),this},addKey:function(t){return ar(this,t,t),this},addKeys:function(t){var a=this;return t.forEach(function(o){return ar(a,o,o)}),this}})[fe]=function(){return ci(this)},tn));var In={},di={},hi=!1;function Pr(t){Or(di,t),hi||(hi=!0,setTimeout(function(){hi=!1,pi(di,!(di={}))},0))}function pi(t,a){a===void 0&&(a=!1);var o=new Set;if(t.all)for(var u=0,f=Object.values(In);u<f.length;u++)ta(y=f[u],t,o,a);else for(var h in t){var y,D=/^idb\:\/\/(.*)\/(.*)\//.exec(h);D&&(h=D[1],D=D[2],(y=In["idb://".concat(h,"/").concat(D)])&&ta(y,t,o,a))}o.forEach(function(R){return R()})}function ta(t,a,o,u){for(var f=[],h=0,y=Object.entries(t.queries.query);h<y.length;h++){for(var D=y[h],R=D[0],M=[],V=0,A=D[1];V<A.length;V++){var z=A[V];fi(a,z.obsSet)?z.subscribers.forEach(function(B){return o.add(B)}):u&&M.push(z)}u&&f.push([R,M])}if(u)for(var L=0,K=f;L<K.length;L++){var x=K[L],R=x[0],M=x[1];t.queries.query[R]=M}}function ls(t){var a=t._state,o=t._deps.indexedDB;if(a.isBeingOpened||t.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?yt(a.dbOpenError):t});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var u=a.openCanceller,f=Math.round(10*t.verno),h=!1;function y(){if(a.openCanceller!==u)throw new ve.DatabaseClosed("db.open() was cancelled")}function D(){return new Te(function(z,L){if(y(),!o)throw new ve.MissingAPI;var K=t.name,x=a.autoSchema||!f?o.open(K):o.open(K,f);if(!x)throw new ve.MissingAPI;x.onerror=pn(L),x.onblocked=X(t._fireOnBlocked),x.onupgradeneeded=X(function(B){var U;V=x.transaction,a.autoSchema&&!t._options.allowEmptyDB?(x.onerror=tr,V.abort(),x.result.close(),(U=o.deleteDatabase(K)).onsuccess=U.onerror=X(function(){L(new ve.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(V.onerror=pn(L),B=B.oldVersion>Math.pow(2,62)?0:B.oldVersion,A=B<1,t.idbdb=x.result,h&&os(t,V),as(t,B/10,V,L))},L),x.onsuccess=X(function(){V=null;var B,U,Z,Q,ne,pe=t.idbdb=x.result,Re=C(pe.objectStoreNames);if(0<Re.length)try{var Ce=pe.transaction((Q=Re).length===1?Q[0]:Q,"readonly");if(a.autoSchema)U=pe,Z=Ce,(B=t).verno=U.version/10,Z=B._dbSchema=Sr(0,U,Z),B._storeNames=C(U.objectStoreNames,0),Dr(B,[B._allTables],l(Z),Z);else if(Tr(t,t._dbSchema,Ce),((ne=ii(Sr(0,(ne=t).idbdb,Ce),ne._dbSchema)).add.length||ne.change.some(function(Le){return Le.add.length||Le.change.length}))&&!h)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),pe.close(),f=pe.version+1,h=!0,z(D());kr(t,Ce)}catch{}jn.push(t),pe.onversionchange=X(function(Le){a.vcFired=!0,t.on("versionchange").fire(Le)}),pe.onclose=X(function(Le){t.on("close").fire(Le)}),A&&(ne=t._deps,Ce=K,pe=ne.indexedDB,ne=ne.IDBKeyRange,si(pe)||Ce===vr||oi(pe,ne).put({name:Ce}).catch(Ee)),z()},L)}).catch(function(z){switch(z==null?void 0:z.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),D();break;case"VersionError":if(0<f)return f=0,D()}return Te.reject(z)})}var R,M=a.dbReadyResolve,V=null,A=!1;return Te.race([u,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function L(){return indexedDB.databases().finally(z)}R=setInterval(L,100),L()}).finally(function(){return clearInterval(R)}):Promise.resolve()).then(D)]).then(function(){return y(),a.onReadyBeingFired=[],Te.resolve(li(function(){return t.on.ready.fire(t.vip)})).then(function z(){if(0<a.onReadyBeingFired.length){var L=a.onReadyBeingFired.reduce(pt,Ee);return a.onReadyBeingFired=[],Te.resolve(li(function(){return L(t.vip)})).then(z)}})}).finally(function(){a.openCanceller===u&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(z){a.dbOpenError=z;try{V&&V.abort()}catch{}return u===a.openCanceller&&t._close(),yt(z)}).finally(function(){a.openComplete=!0,M()}).then(function(){var z;return A&&(z={},t.tables.forEach(function(L){L.schema.indexes.forEach(function(K){K.name&&(z["idb://".concat(t.name,"/").concat(L.name,"/").concat(K.name)]=new Nt(-1/0,[[[]]]))}),z["idb://".concat(t.name,"/").concat(L.name,"/")]=z["idb://".concat(t.name,"/").concat(L.name,"/:dels")]=new Nt(-1/0,[[[]]])}),An(nr).fire(z),pi(z,!0)),t})}function mi(t){function a(h){return t.next(h)}var o=f(a),u=f(function(h){return t.throw(h)});function f(h){return function(R){var D=h(R),R=D.value;return D.done?R:R&&typeof R.then=="function"?R.then(o,u):d(R)?Promise.all(R).then(o,u):o(R)}}return f(a)()}function Ir(t,a,o){for(var u=d(t)?t.slice():[t],f=0;f<o;++f)u.push(a);return u}var us={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return r(r({},t),{table:function(a){var o=t.table(a),u=o.schema,f={},h=[];function y(A,z,L){var K=ir(A),x=f[K]=f[K]||[],B=A==null?0:typeof A=="string"?1:A.length,U=0<z,U=r(r({},L),{name:U?"".concat(K,"(virtual-from:").concat(L.name,")"):L.name,lowLevelIndex:L,isVirtual:U,keyTail:z,keyLength:B,extractKey:ni(A),unique:!U&&L.unique});return x.push(U),U.isPrimaryKey||h.push(U),1<B&&y(B===2?A[0]:A.slice(0,B-1),z+1,L),x.sort(function(Z,Q){return Z.keyTail-Q.keyTail}),U}a=y(u.primaryKey.keyPath,0,u.primaryKey),f[":id"]=[a];for(var D=0,R=u.indexes;D<R.length;D++){var M=R[D];y(M.keyPath,0,M)}function V(A){var z,L=A.query.index;return L.isVirtual?r(r({},A),{query:{index:L.lowLevelIndex,range:(z=A.query.range,L=L.keyTail,{type:z.type===1?2:z.type,lower:Ir(z.lower,z.lowerOpen?t.MAX_KEY:t.MIN_KEY,L),lowerOpen:!0,upper:Ir(z.upper,z.upperOpen?t.MIN_KEY:t.MAX_KEY,L),upperOpen:!0})}}):A}return r(r({},o),{schema:r(r({},u),{primaryKey:a,indexes:h,getIndexByKeyPath:function(A){return(A=f[ir(A)])&&A[0]}}),count:function(A){return o.count(V(A))},query:function(A){return o.query(V(A))},openCursor:function(A){var z=A.query.index,L=z.keyTail,K=z.isVirtual,x=z.keyLength;return K?o.openCursor(V(A)).then(function(U){return U&&B(U)}):o.openCursor(A);function B(U){return Object.create(U,{continue:{value:function(Z){Z!=null?U.continue(Ir(Z,A.reverse?t.MAX_KEY:t.MIN_KEY,L)):A.unique?U.continue(U.key.slice(0,x).concat(A.reverse?t.MIN_KEY:t.MAX_KEY,L)):U.continue()}},continuePrimaryKey:{value:function(Z,Q){U.continuePrimaryKey(Ir(Z,t.MAX_KEY,L),Q)}},primaryKey:{get:function(){return U.primaryKey}},key:{get:function(){var Z=U.key;return x===1?Z[0]:Z.slice(0,x)}},value:{get:function(){return U.value}}})}}})}})}};function gi(t,a,o,u){return o=o||{},u=u||"",l(t).forEach(function(f){var h,y,D;w(a,f)?(h=t[f],y=a[f],typeof h=="object"&&typeof y=="object"&&h&&y?(D=ue(h))!==ue(y)?o[u+f]=a[f]:D==="Object"?gi(h,y,o,u+f+"."):h!==y&&(o[u+f]=a[f]):h!==y&&(o[u+f]=a[f])):o[u+f]=void 0}),l(a).forEach(function(f){w(t,f)||(o[u+f]=a[f])}),o}function vi(t,a){return a.type==="delete"?a.keys:a.keys||a.values.map(t.extractKey)}var cs={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return r(r({},t),{table:function(a){var o=t.table(a),u=o.schema.primaryKey;return r(r({},o),{mutate:function(f){var h=Ke.trans,y=h.table(a).hook,D=y.deleting,R=y.creating,M=y.updating;switch(f.type){case"add":if(R.fire===Ee)break;return h._promise("readwrite",function(){return V(f)},!0);case"put":if(R.fire===Ee&&M.fire===Ee)break;return h._promise("readwrite",function(){return V(f)},!0);case"delete":if(D.fire===Ee)break;return h._promise("readwrite",function(){return V(f)},!0);case"deleteRange":if(D.fire===Ee)break;return h._promise("readwrite",function(){return function A(z,L,K){return o.query({trans:z,values:!1,query:{index:u,range:L},limit:K}).then(function(x){var B=x.result;return V({type:"delete",keys:B,trans:z}).then(function(U){return 0<U.numFailures?Promise.reject(U.failures[0]):B.length<K?{failures:[],numFailures:0,lastResult:void 0}:A(z,r(r({},L),{lower:B[B.length-1],lowerOpen:!0}),K)})})}(f.trans,f.range,1e4)},!0)}return o.mutate(f);function V(A){var z,L,K,x=Ke.trans,B=A.keys||vi(u,A);if(!B)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?r(r({},A),{keys:B}):r({},A)).type!=="delete"&&(A.values=s([],A.values)),A.keys&&(A.keys=s([],A.keys)),z=o,K=B,((L=A).type==="add"?Promise.resolve([]):z.getMany({trans:L.trans,keys:K,cache:"immutable"})).then(function(U){var Z=B.map(function(Q,ne){var pe,Re,Ce,Le=U[ne],Ne={onerror:null,onsuccess:null};return A.type==="delete"?D.fire.call(Ne,Q,Le,x):A.type==="add"||Le===void 0?(pe=R.fire.call(Ne,Q,A.values[ne],x),Q==null&&pe!=null&&(A.keys[ne]=Q=pe,u.outbound||Y(A.values[ne],u.keyPath,Q))):(pe=gi(Le,A.values[ne]),(Re=M.fire.call(Ne,pe,Q,Le,x))&&(Ce=A.values[ne],Object.keys(Re).forEach(function(Me){w(Ce,Me)?Ce[Me]=Re[Me]:Y(Ce,Me,Re[Me])}))),Ne});return o.mutate(A).then(function(Q){for(var ne=Q.failures,pe=Q.results,Re=Q.numFailures,Q=Q.lastResult,Ce=0;Ce<B.length;++Ce){var Le=(pe||B)[Ce],Ne=Z[Ce];Le==null?Ne.onerror&&Ne.onerror(ne[Ce]):Ne.onsuccess&&Ne.onsuccess(A.type==="put"&&U[Ce]?A.values[Ce]:Le)}return{failures:ne,results:pe,numFailures:Re,lastResult:Q}}).catch(function(Q){return Z.forEach(function(ne){return ne.onerror&&ne.onerror(Q)}),Promise.reject(Q)})})}}})}})}};function na(t,a,o){try{if(!a||a.keys.length<t.length)return null;for(var u=[],f=0,h=0;f<a.keys.length&&h<t.length;++f)ot(a.keys[f],t[h])===0&&(u.push(o?we(a.values[f]):a.values[f]),++h);return u.length===t.length?u:null}catch{return null}}var fs={stack:"dbcore",level:-1,create:function(t){return{table:function(a){var o=t.table(a);return r(r({},o),{getMany:function(u){if(!u.cache)return o.getMany(u);var f=na(u.keys,u.trans._cache,u.cache==="clone");return f?Te.resolve(f):o.getMany(u).then(function(h){return u.trans._cache={keys:u.keys,values:u.cache==="clone"?we(h):h},h})},mutate:function(u){return u.type!=="add"&&(u.trans._cache=null),o.mutate(u)}})}}}};function ra(t,a){return t.trans.mode==="readonly"&&!!t.subscr&&!t.trans.explicit&&t.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function ia(t,a){switch(t){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ds={stack:"dbcore",level:0,name:"Observability",create:function(t){var a=t.schema.name,o=new Nt(t.MIN_KEY,t.MAX_KEY);return r(r({},t),{transaction:function(u,f,h){if(Ke.subscr&&f!=="readonly")throw new ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ke.querier));return t.transaction(u,f,h)},table:function(u){var f=t.table(u),h=f.schema,y=h.primaryKey,A=h.indexes,D=y.extractKey,R=y.outbound,M=y.autoIncrement&&A.filter(function(L){return L.compound&&L.keyPath.includes(y.keyPath)}),V=r(r({},f),{mutate:function(L){function K(Me){return Me="idb://".concat(a,"/").concat(u,"/").concat(Me),Q[Me]||(Q[Me]=new Nt)}var x,B,U,Z=L.trans,Q=L.mutatedParts||(L.mutatedParts={}),ne=K(""),pe=K(":dels"),Re=L.type,Ne=L.type==="deleteRange"?[L.range]:L.type==="delete"?[L.keys]:L.values.length<50?[vi(y,L).filter(function(Me){return Me}),L.values]:[],Ce=Ne[0],Le=Ne[1],Ne=L.trans._cache;return d(Ce)?(ne.addKeys(Ce),(Ne=Re==="delete"||Ce.length===Le.length?na(Ce,Ne):null)||pe.addKeys(Ce),(Ne||Le)&&(x=K,B=Ne,U=Le,h.indexes.forEach(function(Me){var Ze=x(Me.name||"");function Qe(et){return et!=null?Me.extractKey(et):null}function nt(et){return Me.multiEntry&&d(et)?et.forEach(function(fn){return Ze.addKey(fn)}):Ze.addKey(et)}(B||U).forEach(function(et,Bt){var tt=B&&Qe(B[Bt]),Bt=U&&Qe(U[Bt]);ot(tt,Bt)!==0&&(tt!=null&&nt(tt),Bt!=null&&nt(Bt))})}))):Ce?(Le={from:Ce.lower,to:Ce.upper},pe.add(Le),ne.add(Le)):(ne.add(o),pe.add(o),h.indexes.forEach(function(Me){return K(Me.name).add(o)})),f.mutate(L).then(function(Me){return!Ce||L.type!=="add"&&L.type!=="put"||(ne.addKeys(Me.results),M&&M.forEach(function(Ze){var Qe=L.values.map(function(et){return Ze.extractKey(et)}),nt=Ze.keyPath.findIndex(function(et){return et===y.keyPath});Me.results.forEach(function(et){return Qe[nt]=et}),K(Ze.name).addKeys(Qe)})),Z.mutatedParts=Or(Z.mutatedParts||{},Q),Me})}}),A=function(K){var x=K.query,K=x.index,x=x.range;return[K,new Nt((K=x.lower)!==null&&K!==void 0?K:t.MIN_KEY,(x=x.upper)!==null&&x!==void 0?x:t.MAX_KEY)]},z={get:function(L){return[y,new Nt(L.key)]},getMany:function(L){return[y,new Nt().addKeys(L.keys)]},count:A,query:A,openCursor:A};return l(z).forEach(function(L){V[L]=function(K){var x=Ke.subscr,B=!!x,U=ra(Ke,f)&&ia(L,K)?K.obsSet={}:x;if(B){var Z=function(Le){return Le="idb://".concat(a,"/").concat(u,"/").concat(Le),U[Le]||(U[Le]=new Nt)},Q=Z(""),ne=Z(":dels"),x=z[L](K),B=x[0],x=x[1];if((L==="query"&&B.isPrimaryKey&&!K.values?ne:Z(B.name||"")).add(x),!B.isPrimaryKey){if(L!=="count"){var pe=L==="query"&&R&&K.values&&f.query(r(r({},K),{values:!1}));return f[L].apply(this,arguments).then(function(Le){if(L==="query"){if(R&&K.values)return pe.then(function(Qe){return Qe=Qe.result,Q.addKeys(Qe),Le});var Ne=K.values?Le.result.map(D):Le.result;(K.values?Q:ne).addKeys(Ne)}else if(L==="openCursor"){var Me=Le,Ze=K.values;return Me&&Object.create(Me,{key:{get:function(){return ne.addKey(Me.primaryKey),Me.key}},primaryKey:{get:function(){var Qe=Me.primaryKey;return ne.addKey(Qe),Qe}},value:{get:function(){return Ze&&Q.addKey(Me.primaryKey),Me.value}}})}return Le})}ne.add(o)}}return f[L].apply(this,arguments)}}),V}})}};function aa(t,a,o){if(o.numFailures===0)return a;if(a.type==="deleteRange")return null;var u=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return o.numFailures===u?null:(a=r({},a),d(a.keys)&&(a.keys=a.keys.filter(function(f,h){return!(h in o.failures)})),"values"in a&&d(a.values)&&(a.values=a.values.filter(function(f,h){return!(h in o.failures)})),a)}function _i(t,a){return o=t,((u=a).lower===void 0||(u.lowerOpen?0<ot(o,u.lower):0<=ot(o,u.lower)))&&(t=t,(a=a).upper===void 0||(a.upperOpen?ot(t,a.upper)<0:ot(t,a.upper)<=0));var o,u}function oa(t,a,z,u,f,h){if(!z||z.length===0)return t;var y=a.query.index,D=y.multiEntry,R=a.query.range,M=u.schema.primaryKey.extractKey,V=y.extractKey,A=(y.lowLevelIndex||y).extractKey,z=z.reduce(function(L,K){var x=L,B=K.type==="add"||K.type==="put"?K.values.filter(function(ne){return ne=V(ne),D&&d(ne)?ne.some(function(pe){return _i(pe,R)}):_i(ne,R)}).map(function(ne){return ne=we(ne),h&&Object.freeze(ne),ne}):[];switch(K.type){case"add":x=L.concat(a.values?B:B.map(function(pe){return M(pe)}));break;case"put":var U=new Nt().addKeys(K.values.map(function(pe){return M(pe)})),x=L.filter(function(pe){return pe=a.values?M(pe):pe,!Ar(new Nt(pe),U)}).concat(a.values?B:B.map(function(pe){return M(pe)}));break;case"delete":var Z=new Nt().addKeys(K.keys);x=L.filter(function(pe){return pe=a.values?M(pe):pe,!Ar(new Nt(pe),Z)});break;case"deleteRange":var Q=K.range;x=L.filter(function(pe){return!_i(M(pe),Q)})}return x},t);return z===t?t:(z.sort(function(L,K){return ot(A(L),A(K))||ot(M(L),M(K))}),a.limit&&a.limit<1/0&&(z.length>a.limit?z.length=a.limit:t.length===a.limit&&z.length<a.limit&&(f.dirty=!0)),h?Object.freeze(z):z)}function sa(t,a){return ot(t.lower,a.lower)===0&&ot(t.upper,a.upper)===0&&!!t.lowerOpen==!!a.lowerOpen&&!!t.upperOpen==!!a.upperOpen}function hs(t,a){return function(o,u,f,h){if(o===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;if((u=ot(o,u))===0){if(f&&h)return 0;if(f)return 1;if(h)return-1}return u}(t.lower,a.lower,t.lowerOpen,a.lowerOpen)<=0&&0<=function(o,u,f,h){if(o===void 0)return u!==void 0?1:0;if(u===void 0)return-1;if((u=ot(o,u))===0){if(f&&h)return 0;if(f)return-1;if(h)return 1}return u}(t.upper,a.upper,t.upperOpen,a.upperOpen)}function ps(t,a,o,u){t.subscribers.add(o),u.addEventListener("abort",function(){var f,h;t.subscribers.delete(o),t.subscribers.size===0&&(f=t,h=a,setTimeout(function(){f.subscribers.size===0&&De(h,f)},3e3))})}var ms={stack:"dbcore",level:0,name:"Cache",create:function(t){var a=t.schema.name;return r(r({},t),{transaction:function(o,u,f){var h,y,D=t.transaction(o,u,f);return u==="readwrite"&&(y=(h=new AbortController).signal,f=function(R){return function(){if(h.abort(),u==="readwrite"){for(var M=new Set,V=0,A=o;V<A.length;V++){var z=A[V],L=In["idb://".concat(a,"/").concat(z)];if(L){var K=t.table(z),x=L.optimisticOps.filter(function(Ze){return Ze.trans===D});if(D._explicit&&R&&D.mutatedParts)for(var B=0,U=Object.values(L.queries.query);B<U.length;B++)for(var Z=0,Q=(Re=U[B]).slice();Z<Q.length;Z++)fi((Ce=Q[Z]).obsSet,D.mutatedParts)&&(De(Re,Ce),Ce.subscribers.forEach(function(Ze){return M.add(Ze)}));else if(0<x.length){L.optimisticOps=L.optimisticOps.filter(function(Ze){return Ze.trans!==D});for(var ne=0,pe=Object.values(L.queries.query);ne<pe.length;ne++)for(var Re,Ce,Le,Ne=0,Me=(Re=pe[ne]).slice();Ne<Me.length;Ne++)(Ce=Me[Ne]).res!=null&&D.mutatedParts&&(R&&!Ce.dirty?(Le=Object.isFrozen(Ce.res),Le=oa(Ce.res,Ce.req,x,K,Ce,Le),Ce.dirty?(De(Re,Ce),Ce.subscribers.forEach(function(Ze){return M.add(Ze)})):Le!==Ce.res&&(Ce.res=Le,Ce.promise=Te.resolve({result:Le}))):(Ce.dirty&&De(Re,Ce),Ce.subscribers.forEach(function(Ze){return M.add(Ze)})))}}}M.forEach(function(Ze){return Ze()})}}},D.addEventListener("abort",f(!1),{signal:y}),D.addEventListener("error",f(!1),{signal:y}),D.addEventListener("complete",f(!0),{signal:y})),D},table:function(o){var u=t.table(o),f=u.schema.primaryKey;return r(r({},u),{mutate:function(h){var y=Ke.trans;if(f.outbound||y.db._options.cache==="disabled"||y.explicit)return u.mutate(h);var D=In["idb://".concat(a,"/").concat(o)];return D?(y=u.mutate(h),h.type!=="add"&&h.type!=="put"||!(50<=h.values.length||vi(f,h).some(function(R){return R==null}))?(D.optimisticOps.push(h),h.mutatedParts&&Pr(h.mutatedParts),y.then(function(R){0<R.numFailures&&(De(D.optimisticOps,h),(R=aa(0,h,R))&&D.optimisticOps.push(R),h.mutatedParts&&Pr(h.mutatedParts))}),y.catch(function(){De(D.optimisticOps,h),h.mutatedParts&&Pr(h.mutatedParts)})):y.then(function(R){var M=aa(0,r(r({},h),{values:h.values.map(function(L,A){var z,L=(z=f.keyPath)!==null&&z!==void 0&&z.includes(".")?we(L):r({},L);return Y(L,f.keyPath,R.results[A]),L})}),R);D.optimisticOps.push(M),queueMicrotask(function(){return h.mutatedParts&&Pr(h.mutatedParts)})}),y):u.mutate(h)},query:function(h){if(!ra(Ke,u)||!ia("query",h))return u.query(h);var y=((M=Ke.trans)===null||M===void 0?void 0:M.db._options.cache)==="immutable",A=Ke,D=A.requery,R=A.signal,M=function(K,x,B,U){var Z=In["idb://".concat(K,"/").concat(x)];if(!Z)return[];if(!(x=Z.queries[B]))return[null,!1,Z,null];var Q=x[(U.query?U.query.index.name:null)||""];if(!Q)return[null,!1,Z,null];switch(B){case"query":var ne=Q.find(function(pe){return pe.req.limit===U.limit&&pe.req.values===U.values&&sa(pe.req.query.range,U.query.range)});return ne?[ne,!0,Z,Q]:[Q.find(function(pe){return("limit"in pe.req?pe.req.limit:1/0)>=U.limit&&(!U.values||pe.req.values)&&hs(pe.req.query.range,U.query.range)}),!1,Z,Q];case"count":return ne=Q.find(function(pe){return sa(pe.req.query.range,U.query.range)}),[ne,!!ne,Z,Q]}}(a,o,"query",h),V=M[0],A=M[1],z=M[2],L=M[3];return V&&A?V.obsSet=h.obsSet:(A=u.query(h).then(function(K){var x=K.result;if(V&&(V.res=x),y){for(var B=0,U=x.length;B<U;++B)Object.freeze(x[B]);Object.freeze(x)}else K.result=we(x);return K}).catch(function(K){return L&&V&&De(L,V),Promise.reject(K)}),V={obsSet:h.obsSet,promise:A,subscribers:new Set,type:"query",req:h,dirty:!1},L?L.push(V):(L=[V],(z=z||(In["idb://".concat(a,"/").concat(o)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[h.query.index.name||""]=L)),ps(V,L,D,R),V.promise.then(function(K){return{result:oa(K.result,h,z==null?void 0:z.optimisticOps,u,V,y)}})}})}})}};function Mr(t,a){return new Proxy(t,{get:function(o,u,f){return u==="db"?a:Reflect.get(o,u,f)}})}var En=(At.prototype.version=function(t){if(isNaN(t)||t<.1)throw new ve.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var a=this._versions,o=a.filter(function(u){return u._cfg.version===t})[0];return o||(o=new this.Version(t),a.push(o),a.sort(is),o.stores({}),this._state.autoSchema=!1,o)},At.prototype._whenReady=function(t){var a=this;return this.idbdb&&(this._state.openComplete||Ke.letThrough||this._vip)?t():new Te(function(o,u){if(a._state.openComplete)return u(new ve.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void u(new ve.DatabaseClosed);a.open().catch(Ee)}a._state.dbReadyPromise.then(o,u)}).then(t)},At.prototype.use=function(t){var a=t.stack,o=t.create,u=t.level,f=t.name;return f&&this.unuse({stack:a,name:f}),t=this._middlewares[a]||(this._middlewares[a]=[]),t.push({stack:a,create:o,level:u??10,name:f}),t.sort(function(h,y){return h.level-y.level}),this},At.prototype.unuse=function(t){var a=t.stack,o=t.name,u=t.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(f){return u?f.create!==u:!!o&&f.name!==o})),this},At.prototype.open=function(){var t=this;return Wt(Ct,function(){return ls(t)})},At.prototype._close=function(){var t=this._state,a=jn.indexOf(this);if(0<=a&&jn.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new Te(function(o){t.dbReadyResolve=o}),t.openCanceller=new Te(function(o,u){t.cancelOpen=u}))},At.prototype.close=function(o){var a=(o===void 0?{disableAutoOpen:!0}:o).disableAutoOpen,o=this._state;a?(o.isBeingOpened&&o.cancelOpen(new ve.DatabaseClosed),this._close(),o.autoOpen=!1,o.dbOpenError=new ve.DatabaseClosed):(this._close(),o.autoOpen=this._options.autoOpen||o.isBeingOpened,o.openComplete=!1,o.dbOpenError=null)},At.prototype.delete=function(t){var a=this;t===void 0&&(t={disableAutoOpen:!0});var o=0<arguments.length&&typeof arguments[0]!="object",u=this._state;return new Te(function(f,h){function y(){a.close(t);var D=a._deps.indexedDB.deleteDatabase(a.name);D.onsuccess=X(function(){var R,M,V;R=a._deps,M=a.name,V=R.indexedDB,R=R.IDBKeyRange,si(V)||M===vr||oi(V,R).delete(M).catch(Ee),f()}),D.onerror=pn(h),D.onblocked=a._fireOnBlocked}if(o)throw new ve.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(y):y()})},At.prototype.backendDB=function(){return this.idbdb},At.prototype.isOpen=function(){return this.idbdb!==null},At.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},At.prototype.hasFailed=function(){return this._state.dbOpenError!==null},At.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(At.prototype,"tables",{get:function(){var t=this;return l(this._allTables).map(function(a){return t._allTables[a]})},enumerable:!1,configurable:!0}),At.prototype.transaction=function(){var t=(function(a,o,u){var f=arguments.length;if(f<2)throw new ve.InvalidArgument("Too few arguments");for(var h=new Array(f-1);--f;)h[f-1]=arguments[f];return u=h.pop(),[a,_e(h),u]}).apply(this,arguments);return this._transaction.apply(this,t)},At.prototype._transaction=function(t,a,o){var u=this,f=Ke.trans;f&&f.db===this&&t.indexOf("!")===-1||(f=null);var h,y,D=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");try{if(y=a.map(function(M){if(M=M instanceof u.Table?M.name:M,typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),t=="r"||t===Yr)h=Yr;else{if(t!="rw"&&t!=Zr)throw new ve.InvalidArgument("Invalid transaction mode: "+t);h=Zr}if(f){if(f.mode===Yr&&h===Zr){if(!D)throw new ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&y.forEach(function(M){if(f&&f.storeNames.indexOf(M)===-1){if(!D)throw new ve.SubTransaction("Table "+M+" not included in parent transaction.");f=null}}),D&&f&&!f.active&&(f=null)}}catch(M){return f?f._promise(null,function(V,A){A(M)}):yt(M)}var R=(function M(V,A,z,L,K){return Te.resolve().then(function(){var x=Ke.transless||Ke,B=V._createTransaction(A,z,V._dbSchema,L);if(B.explicit=!0,x={trans:B,transless:x},L)B.idbtrans=L.idbtrans;else try{B.create(),B.idbtrans._explicit=!0,V._state.PR1398_maxLoop=3}catch(Q){return Q.name===Je.InvalidState&&V.isOpen()&&0<--V._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),V.close({disableAutoOpen:!1}),V.open().then(function(){return M(V,A,z,null,K)})):yt(Q)}var U,Z=j(K);return Z&&Jt(),x=Te.follow(function(){var Q;(U=K.call(B,B))&&(Z?(Q=cn.bind(null,null),U.then(Q,Q)):typeof U.next=="function"&&typeof U.throw=="function"&&(U=mi(U)))},x),(U&&typeof U.then=="function"?Te.resolve(U).then(function(Q){return B.active?Q:yt(new ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):x.then(function(){return U})).then(function(Q){return L&&B._resolve(),B._completion.then(function(){return Q})}).catch(function(Q){return B._reject(Q),yt(Q)})})}).bind(null,this,h,y,f,o);return f?f._promise(h,R,"lock"):Ke.trans?Wt(Ke.transless,function(){return u._whenReady(R)}):this._whenReady(R)},At.prototype.table=function(t){if(!w(this._allTables,t))throw new ve.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},At);function At(t,a){var o=this;this._middlewares={},this.verno=0;var u=At.dependencies;this._options=a=r({addons:At.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},u=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,h,y,D,R,M={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};M.dbReadyPromise=new Te(function(A){M.dbReadyResolve=A}),M.openCanceller=new Te(function(A,z){M.cancelOpen=z}),this._state=M,this.name=t,this.on=Xn(this,"populate","blocked","versionchange","close",{ready:[pt,Ee]}),this.on.ready.subscribe=W(this.on.ready.subscribe,function(A){return function(z,L){At.vip(function(){var K,x=o._state;x.openComplete?(x.dbOpenError||Te.resolve().then(z),L&&A(z)):x.onReadyBeingFired?(x.onReadyBeingFired.push(z),L&&A(z)):(A(z),K=o,L||A(function B(){K.on.ready.unsubscribe(z),K.on.ready.unsubscribe(B)}))})}}),this.Collection=(f=this,$n(Qo.prototype,function(U,B){this.db=f;var L=ji,K=null;if(B)try{L=B()}catch(Z){K=Z}var x=U._ctx,B=x.table,U=B.hook.reading.fire;this._ctx={table:B,index:x.index,isPrimKey:!x.index||B.schema.primKey.keyPath&&x.index===B.schema.primKey.name,range:L,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:x.or,valueMapper:U!==Be?U:null}})),this.Table=(h=this,$n(Hi.prototype,function(A,z,L){this.db=h,this._tx=L,this.name=A,this.schema=z,this.hook=h._allTables[A]?h._allTables[A].hook:Xn(null,{creating:[He,Ee],reading:[qe,Be],updating:[ce,Ee],deleting:[Ie,Ee]})})),this.Transaction=(y=this,$n(es.prototype,function(A,z,L,K,x){var B=this;this.db=y,this.mode=A,this.storeNames=z,this.schema=L,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=Xn(this,"complete","error","abort"),this.parent=x||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(U,Z){B._resolve=U,B._reject=Z}),this._completion.then(function(){B.active=!1,B.on.complete.fire()},function(U){var Z=B.active;return B.active=!1,B.on.error.fire(U),B.parent?B.parent._reject(U):Z&&B.idbtrans&&B.idbtrans.abort(),yt(U)})})),this.Version=(D=this,$n(ss.prototype,function(A){this.db=D,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(R=this,$n(Yi.prototype,function(A,z,L){if(this.db=R,this._ctx={table:A,index:z===":id"?null:z,or:L},this._cmp=this._ascending=ot,this._descending=function(K,x){return ot(x,K)},this._max=function(K,x){return 0<ot(K,x)?K:x},this._min=function(K,x){return ot(K,x)<0?K:x},this._IDBKeyRange=R._deps.IDBKeyRange,!this._IDBKeyRange)throw new ve.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(o.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(o.name,"'. Closing db now to resume the delete request.")),o.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(o.name,"') was blocked")):console.warn("Upgrade '".concat(o.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=rr(a.IDBKeyRange),this._createTransaction=function(A,z,L,K){return new o.Transaction(A,z,L,o._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(A){o.on("blocked").fire(A),jn.filter(function(z){return z.name===o.name&&z!==o&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(A)})},this.use(fs),this.use(ms),this.use(ds),this.use(us),this.use(cs);var V=new Proxy(this,{get:function(A,z,L){if(z==="_vip")return!0;if(z==="table")return function(x){return Mr(o.table(x),V)};var K=Reflect.get(A,z,L);return K instanceof Hi?Mr(K,V):z==="tables"?K.map(function(x){return Mr(x,V)}):z==="_createTransaction"?function(){return Mr(K.apply(this,arguments),V)}:K}});this.vip=V,u.forEach(function(A){return A(o)})}var Lr,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",gs=(yi.prototype.subscribe=function(t,a,o){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:a,complete:o})},yi.prototype[tn]=function(){return this},yi);function yi(t){this._subscribe=t}try{Lr={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{Lr={indexedDB:null,IDBKeyRange:null}}function la(t){var a,o=!1,u=new gs(function(f){var h=j(t),y,D=!1,R={},M={},V={get closed(){return D},unsubscribe:function(){D||(D=!0,y&&y.abort(),A&&An.storagemutated.unsubscribe(L))}};f.start&&f.start(V);var A=!1,z=function(){return Fn(K)},L=function(x){Or(R,x),fi(M,R)&&z()},K=function(){var x,B,U;!D&&Lr.indexedDB&&(R={},x={},y&&y.abort(),y=new AbortController,U=function(Z){var Q=_t();try{h&&Jt();var ne=Zt(t,Z);return ne=h?ne.finally(cn):ne}finally{Q&&bn()}}(B={subscr:x,signal:y.signal,requery:z,querier:t,trans:null}),Promise.resolve(U).then(function(Z){o=!0,a=Z,D||B.signal.aborted||(R={},function(Q){for(var ne in Q)if(w(Q,ne))return;return 1}(M=x)||A||(An(nr,L),A=!0),Fn(function(){return!D&&f.next&&f.next(Z)}))},function(Z){o=!1,["DatabaseClosedError","AbortError"].includes(Z==null?void 0:Z.name)||D||Fn(function(){D||f.error&&f.error(Z)})}))};return setTimeout(z,0),V});return u.hasValue=function(){return o},u.getValue=function(){return a},u}var Mn=En;function bi(t){var a=On;try{On=!0,An.storagemutated.fire(t),pi(t,!0)}finally{On=a}}O(Mn,r(r({},ge),{delete:function(t){return new Mn(t,{addons:[]}).delete()},exists:function(t){return new Mn(t,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return a=Mn.dependencies,o=a.indexedDB,a=a.IDBKeyRange,(si(o)?Promise.resolve(o.databases()).then(function(u){return u.map(function(f){return f.name}).filter(function(f){return f!==vr})}):oi(o,a).toCollection().primaryKeys()).then(t)}catch{return yt(new ve.MissingAPI)}var a,o},defineClass:function(){return function(t){b(this,t)}},ignoreTransaction:function(t){return Ke.trans?Wt(Ke.transless,t):t()},vip:li,async:function(t){return function(){try{var a=mi(t.apply(this,arguments));return a&&typeof a.then=="function"?a:Te.resolve(a)}catch(o){return yt(o)}}},spawn:function(t,a,o){try{var u=mi(t.apply(o,a||[]));return u&&typeof u.then=="function"?u:Te.resolve(u)}catch(f){return yt(f)}},currentTransaction:{get:function(){return Ke.trans||null}},waitFor:function(t,a){return a=Te.resolve(typeof t=="function"?Mn.ignoreTransaction(t):t).timeout(a||6e4),Ke.trans?Ke.trans.waitFor(a):a},Promise:Te,debug:{get:function(){return mt},set:function(t){Tt(t)}},derive:ee,extend:b,props:O,override:W,Events:Xn,on:An,liveQuery:la,extendObservabilitySet:Or,getByKeyPath:ie,setByKeyPath:Y,delByKeyPath:function(t,a){typeof a=="string"?Y(t,a,void 0):"length"in a&&[].map.call(a,function(o){Y(t,o,void 0)})},shallowClone:Se,deepClone:we,getObjectDiff:gi,cmp:ot,asap:de,minKey:-1/0,addons:[],connections:jn,errnames:Je,dependencies:Lr,cache:In,semVer:"4.0.7",version:"4.0.7".split(".").map(function(t){return parseInt(t)}).reduce(function(t,a,o){return t+a/Math.pow(10,2*o)})})),Mn.maxKey=rr(Mn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(An(nr,function(t){On||(t=new CustomEvent($r,{detail:t}),On=!0,dispatchEvent(t),On=!1)}),addEventListener($r,function(t){t=t.detail,On||bi(t)}));var xn,On=!1,ua=function(){};return typeof BroadcastChannel<"u"&&((ua=function(){(xn=new BroadcastChannel($r)).onmessage=function(t){return t.data&&bi(t.data)}})(),typeof xn.unref=="function"&&xn.unref(),An(nr,function(t){On||xn.postMessage(t)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(t){if(!En.disableBfCache&&t.persisted){mt&&console.debug("Dexie: handling persisted pagehide"),xn!=null&&xn.close();for(var a=0,o=jn;a<o.length;a++)o[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(t){!En.disableBfCache&&t.persisted&&(mt&&console.debug("Dexie: handling persisted pageshow"),ua(),bi({all:new Nt(-1/0,[[]])}))})),Te.rejectionMapper=function(t,a){return!t||t instanceof T||t instanceof TypeError||t instanceof SyntaxError||!t.name||!J[t.name]?t:(a=new J[t.name](a||t.message,t),"stack"in t&&$(a,"stack",{get:function(){return this.inner.stack}}),a)},Tt(mt),r(En,Object.freeze({__proto__:null,Dexie:En,liveQuery:la,Entity:Vi,cmp:ot,PropModSymbol:Dn,PropModification:er,replacePrefix:function(t,a){return new er({replacePrefix:[t,a]})},add:function(t){return new er({add:t})},remove:function(t){return new er({remove:t})},default:En,RangeSet:Nt,mergeRanges:or,rangesOverlap:Ar}),{default:En}),En})})(xo);var Us=xo.exports;const Ii=zo(Us),Na=Symbol.for("Dexie"),Gr=globalThis[Na]||(globalThis[Na]=Ii);if(Ii.semVer!==Gr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ii.semVer} and ${Gr.semVer}`);const{liveQuery:mr,mergeRanges:vc,rangesOverlap:_c,RangeSet:yc,cmp:bc,Entity:wc,PropModSymbol:kc,PropModification:Dc,replacePrefix:Ec,add:Sc,remove:Tc}=Gr;var Mi=(i=>(i.Accomodation="Accomodation",i.Food="Food & Drink",i.Transport="Transport",i.Other="Other",i))(Mi||{});const Ba={Accomodation:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/></svg>',"Food & Drink":'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/><path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/></svg>',Transport:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16"> <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>',Other:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16"><path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/><path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/></svg>'},Dt=new Gr("ExpensesDatabase");Dt.version(2).stores({trips:"++id, name, defaultCurrency, startDate, endDate",receipts:"++id, description, total, receiptDate, receiptType, currency, tripId, imageData"});Dt.version(3).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(i=>i.table("trips").toCollection().modify(e=>{e.startDateString=e.startDate.toDateString(),e.endDateString=e.endDate.toDateString()}).then(function(){i.table("receipts").toCollection().modify(e=>{e.receiptDateString=e.receiptDate.toDateString()})}));Dt.version(4).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(i=>i.table("receipts").where("receiptType").equals("Food").modify(e=>{e.receiptType="Food & Drink"}));Dt.version(6).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"}).upgrade(i=>i.table("receipts").toCollection().modify(e=>{e.imageData=URL.createObjectURL(e.imageData)}));Dt.version(7).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString, notes",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"});const Et={GBP:{symbol:"Â£",name:"British Pound Sterling",symbol_native:"Â£",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},CAD:{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD",name_plural:"Canadian dollars"},EUR:{symbol:"â¬",name:"Euro",symbol_native:"â¬",decimal_digits:2,rounding:0,code:"EUR",name_plural:"euros"},AED:{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"Ø¯.Ø¥.â",decimal_digits:2,rounding:0,code:"AED",name_plural:"UAE dirhams"},AFN:{symbol:"Af",name:"Afghan Afghani",symbol_native:"Ø",decimal_digits:0,rounding:0,code:"AFN",name_plural:"Afghan Afghanis"},ALL:{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL",name_plural:"Albanian lekÃ«"},AMD:{symbol:"AMD",name:"Armenian Dram",symbol_native:"Õ¤Ö.",decimal_digits:0,rounding:0,code:"AMD",name_plural:"Armenian drams"},ARS:{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS",name_plural:"Argentine pesos"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"},AZN:{symbol:"man.",name:"Azerbaijani Manat",symbol_native:"Ð¼Ð°Ð½.",decimal_digits:2,rounding:0,code:"AZN",name_plural:"Azerbaijani manats"},BAM:{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM",name_plural:"Bosnia-Herzegovina convertible marks"},BDT:{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"à§³",decimal_digits:2,rounding:0,code:"BDT",use_indian_numbering_system:!0,name_plural:"Bangladeshi takas"},BGN:{symbol:"BGN",name:"Bulgarian Lev",symbol_native:"Ð»Ð².",decimal_digits:2,rounding:0,code:"BGN",name_plural:"Bulgarian leva"},BHD:{symbol:"BD",name:"Bahraini Dinar",symbol_native:"Ø¯.Ø¨.â",decimal_digits:3,rounding:0,code:"BHD",name_plural:"Bahraini dinars"},BIF:{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF",name_plural:"Burundian francs"},BND:{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND",name_plural:"Brunei dollars"},BOB:{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB",name_plural:"Bolivian bolivianos"},BRL:{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL",name_plural:"Brazilian reals"},BWP:{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP",name_plural:"Botswanan pulas"},BYN:{symbol:"Br",name:"Belarusian Ruble",symbol_native:"ÑÑÐ±.",decimal_digits:2,rounding:0,code:"BYN",name_plural:"Belarusian rubles"},BZD:{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD",name_plural:"Belize dollars"},CDF:{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF",name_plural:"Congolese francs"},CHF:{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF",name_plural:"Swiss francs"},CLP:{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP",name_plural:"Chilean pesos"},CNY:{symbol:"CNÂ¥",name:"Chinese Yuan",symbol_native:"CNÂ¥",decimal_digits:2,rounding:0,code:"CNY",name_plural:"Chinese yuan"},COP:{symbol:"CO$",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP",name_plural:"Colombian pesos"},CRC:{symbol:"â¡",name:"Costa Rican ColÃ³n",symbol_native:"â¡",decimal_digits:0,rounding:0,code:"CRC",name_plural:"Costa Rican colÃ³ns"},CVE:{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE",name_plural:"Cape Verdean escudos"},CZK:{symbol:"KÄ",name:"Czech Republic Koruna",symbol_native:"KÄ",decimal_digits:2,rounding:0,code:"CZK",name_plural:"Czech Republic korunas"},DJF:{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF",name_plural:"Djiboutian francs"},DKK:{symbol:"Dkr",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK",name_plural:"Danish kroner"},DOP:{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP",name_plural:"Dominican pesos"},DZD:{symbol:"DA",name:"Algerian Dinar",symbol_native:"Ø¯.Ø¬.â",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",symbol_native:"Ø¬.Ù.â",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},GEL:{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GHâµ",name:"Ghanaian Cedi",symbol_native:"GHâµ",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"âª",name:"Israeli New Sheqel",symbol_native:"âª",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",name:"Indian Rupee",symbol_native:"à¦à¦à¦¾",decimal_digits:2,rounding:0,code:"INR",use_indian_numbering_system:!0,name_plural:"Indian rupees"},IQD:{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"Ø¯.Ø¹.â",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",name:"Iranian Rial",symbol_native:"ï·¼",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",name:"Icelandic KrÃ³na",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krÃ³nur"},JMD:{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",name:"Jordanian Dinar",symbol_native:"Ø¯.Ø£.â",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"Â¥",name:"Japanese Yen",symbol_native:"ï¿¥",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",name:"Cambodian Riel",symbol_native:"á",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"â©",name:"South Korean Won",symbol_native:"â©",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:"ÑÒ£Ð³.",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"L.L.",name:"Lebanese Pound",symbol_native:"Ù.Ù.â",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",name:"Libyan Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"Ø¯.Ù.â",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"â¦",name:"Nigerian Naira",symbol_native:"â¦",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",name:"Nicaraguan CÃ³rdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan cÃ³rdobas"},NOK:{symbol:"Nkr",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"à¤¨à¥à¤°à¥",decimal_digits:2,rounding:0,code:"NPR",use_indian_numbering_system:!0,name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",name:"Omani Rial",symbol_native:"Ø±.Ø¹.â",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"â±",name:"Philippine Peso",symbol_native:"â±",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"â¨",decimal_digits:0,rounding:0,code:"PKR",use_indian_numbering_system:!0,name_plural:"Pakistani rupees"},PLN:{symbol:"zÅ",name:"Polish Zloty",symbol_native:"zÅ",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"â²",name:"Paraguayan Guarani",symbol_native:"â²",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",name:"Qatari Rial",symbol_native:"Ø±.Ù.â",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",name:"Serbian Dinar",symbol_native:"Ð´Ð¸Ð½.",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",name:"Russian Ruble",symbol_native:"â½.",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",name:"Saudi Riyal",symbol_native:"Ø±.Ø³.â",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SYÂ£",name:"Syrian Pound",symbol_native:"Ù.Ø³.â",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"à¸¿",name:"Thai Baht",symbol_native:"à¸¿",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",name:"Tunisian Dinar",symbol_native:"Ø¯.Øª.â",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",name:"Tongan PaÊ»anga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paÊ»anga"},TRY:{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"â´",name:"Ukrainian Hryvnia",symbol_native:"â´",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},UYU:{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",name:"Venezuelan BolÃ­var",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolÃ­vars"},VND:{symbol:"â«",name:"Vietnamese Dong",symbol_native:"â«",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",name:"Yemeni Rial",symbol_native:"Ø±.Ù.â",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"},ZWL:{symbol:"ZWL$",name:"Zimbabwean Dollar",symbol_native:"ZWL$",decimal_digits:0,rounding:0,code:"ZWL",name_plural:"Zimbabwean Dollar"}};function Ka(i,e,n){const r=i.slice();return r[9]=e[n],r}function Fa(i){let e,n=i[9]+"",r,s,c=Et[i[9]].symbol+"",l,d;return{c(){e=P("option"),r=Oe(n),s=Oe(" ("),l=Oe(c),d=Oe(`)
          `),this.h()},l(b){e=I(b,"OPTION",{});var g=q(e);r=Pe(g,n),s=Pe(g," ("),l=Pe(g,c),d=Pe(g,`)
          `),g.forEach(_),this.h()},h(){e.__value=i[9],ht(e,e.__value)},m(b,g){se(b,e,g),m(e,r),m(e,s),m(e,l),m(e,d)},p:ft,d(b){b&&_(e)}}}function Ws(i){let e,n,r,s="Add New Trip",c,l,d,b="Trip Name",g,v,w,O,H,$="Trip Currency",ee,G,N,C,W,E="Trip Start",de,ie,Y,Se,le,_e,me="Trip End",he,we,be,ue,fe,te,De="Add Trip",k,S,j="Cancel",re,T,ke,Ae=$e(Object.keys(Et)),ye=[];for(let ge=0;ge<Ae.length;ge+=1)ye[ge]=Fa(Ka(i,Ae,ge));function Je(ge){i[7](ge)}let xe={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};i[2]!==void 0&&(xe.value=i[2]),ie=new pr({props:xe}),$t.push(()=>Kn(ie,"value",Je));function ve(ge){i[8](ge)}let J={format:"yyyy-MM-dd",closeOnSelection:!0,min:i[2],id:"tripEnd"};return i[3]!==void 0&&(J.value=i[3]),we=new pr({props:J}),$t.push(()=>Kn(we,"value",ve)),{c(){e=P("div"),n=P("form"),r=P("h1"),r.textContent=s,c=ae(),l=P("div"),d=P("label"),d.textContent=b,g=ae(),v=P("input"),w=ae(),O=P("div"),H=P("label"),H.textContent=$,ee=ae(),G=P("select");for(let ge=0;ge<ye.length;ge+=1)ye[ge].c();N=ae(),C=P("div"),W=P("label"),W.textContent=E,de=ae(),jt(ie.$$.fragment),Se=ae(),le=P("div"),_e=P("label"),_e.textContent=me,he=ae(),jt(we.$$.fragment),ue=ae(),fe=P("div"),te=P("button"),te.textContent=De,k=ae(),S=P("a"),S.textContent=j,this.h()},l(ge){e=I(ge,"DIV",{class:!0});var Ee=q(e);n=I(Ee,"FORM",{});var Be=q(n);r=I(Be,"H1",{"data-svelte-h":!0}),Ge(r)!=="svelte-1x3twms"&&(r.textContent=s),c=oe(Be),l=I(Be,"DIV",{class:!0});var qe=q(l);d=I(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(d)!=="svelte-1y8z10u"&&(d.textContent=b),g=oe(qe),v=I(qe,"INPUT",{id:!0,class:!0,type:!0}),qe.forEach(_),w=oe(Be),O=I(Be,"DIV",{class:!0});var F=q(O);H=I(F,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(H)!=="svelte-1fzihue"&&(H.textContent=$),ee=oe(F),G=I(F,"SELECT",{id:!0,class:!0});var He=q(G);for(let pt=0;pt<ye.length;pt+=1)ye[pt].l(He);He.forEach(_),F.forEach(_),N=oe(Be),C=I(Be,"DIV",{class:!0});var Ie=q(C);W=I(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(W)!=="svelte-4n7gli"&&(W.textContent=E),de=oe(Ie),Vt(ie.$$.fragment,Ie),Ie.forEach(_),Se=oe(Be),le=I(Be,"DIV",{class:!0});var ce=q(le);_e=I(ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(_e)!=="svelte-1dn7717"&&(_e.textContent=me),he=oe(ce),Vt(we.$$.fragment,ce),ce.forEach(_),ue=oe(Be),fe=I(Be,"DIV",{class:!0});var Ue=q(fe);te=I(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),Ge(te)!=="svelte-ik7jo4"&&(te.textContent=De),k=oe(Ue),S=I(Ue,"A",{href:!0,class:!0,"data-svelte-h":!0}),Ge(S)!=="svelte-wj5j6d"&&(S.textContent=j),Ue.forEach(_),Be.forEach(_),Ee.forEach(_),this.h()},h(){p(d,"for","tripName"),p(d,"class","form-label"),p(v,"id","tripName"),p(v,"class","form-control"),p(v,"type","text"),p(l,"class","mb-3"),p(H,"for","tripCurrency"),p(H,"class","form-label"),p(G,"id","tripCurrency"),p(G,"class","form-control"),i[1]===void 0&&dr(()=>i[6].call(G)),p(O,"class","mb-3"),p(W,"for","tripStart"),p(W,"class","form-label"),p(C,"class","mb-3"),p(_e,"for","tripStart"),p(_e,"class","form-label"),p(le,"class","mb-3"),p(te,"class","btn btn-primary"),p(S,"href","#/"),p(S,"class","btn btn-outline-primary"),p(fe,"class","gap-3 d-grid d-md-block"),p(e,"class","w-100")},m(ge,Ee){se(ge,e,Ee),m(e,n),m(n,r),m(n,c),m(n,l),m(l,d),m(l,g),m(l,v),ht(v,i[0]),m(n,w),m(n,O),m(O,H),m(O,ee),m(O,G);for(let Be=0;Be<ye.length;Be+=1)ye[Be]&&ye[Be].m(G,null);rn(G,i[1],!0),m(n,N),m(n,C),m(C,W),m(C,de),zt(ie,C,null),m(n,Se),m(n,le),m(le,_e),m(le,he),zt(we,le,null),m(n,ue),m(n,fe),m(fe,te),m(fe,k),m(fe,S),re=!0,T||(ke=[We(v,"input",i[5]),We(G,"change",i[6]),We(te,"click",i[4])],T=!0)},p(ge,[Ee]){if(Ee&1&&v.value!==ge[0]&&ht(v,ge[0]),Ee&0){Ae=$e(Object.keys(Et));let F;for(F=0;F<Ae.length;F+=1){const He=Ka(ge,Ae,F);ye[F]?ye[F].p(He,Ee):(ye[F]=Fa(He),ye[F].c(),ye[F].m(G,null))}for(;F<ye.length;F+=1)ye[F].d(1);ye.length=Ae.length}Ee&2&&rn(G,ge[1]);const Be={};!Y&&Ee&4&&(Y=!0,Be.value=ge[2],Nn(()=>Y=!1)),ie.$set(Be);const qe={};Ee&4&&(qe.min=ge[2]),!be&&Ee&8&&(be=!0,qe.value=ge[3],Nn(()=>be=!1)),we.$set(qe)},i(ge){re||(it(ie.$$.fragment,ge),it(we.$$.fragment,ge),re=!0)},o(ge){st(ie.$$.fragment,ge),st(we.$$.fragment,ge),re=!1},d(ge){ge&&_(e),Ft(ye,ge),xt(ie),xt(we),T=!1,yn(ke)}}}function Gs(i,e,n){let r="My Trip",s="GBP",c=new Date,l=new Date;async function d(){try{const O=await Dt.trips.add({name:r,defaultCurrency:s,startDate:c,startDateString:c.toDateString(),endDate:l,endDateString:l.toDateString(),notes:""});window.location.href="#/trip/"+O}catch{window.location.href="#/"}}function b(){r=this.value,n(0,r)}function g(){s=zr(this),n(1,s)}function v(O){c=O,n(2,c)}function w(O){l=O,n(3,l)}return[r,s,c,l,d,b,g,v,w]}class Ys extends an{constructor(e){super(),on(this,e,Gs,Ws,en,{})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function ur(i,e,n){const r=document.createElement(e);return i&&(r.className=i),n&&n.appendChild(r),r}function Zs(i,e,n){let r=`translate3d(${i}px,0px,0)`;return n!==void 0&&(r+=` scale3d(${n},${n},1)`),r}function Li(i,e,n){i.style.width=typeof e=="number"?`${e}px`:e,i.style.height=typeof n=="number"?`${n}px`:n}const nn={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function Js(i){return"button"in i&&i.button===1||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey}function cr(i,e,n=document){let r=[];if(i instanceof Element)r=[i];else if(i instanceof NodeList||Array.isArray(i))r=Array.from(i);else{const s=typeof i=="string"?i:e;s&&(r=Array.from(n.querySelectorAll(s)))}return r}function Qs(i){return typeof i=="function"&&i.prototype&&i.prototype.goTo}function ja(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class Xs{constructor(e,n){this.type=e,this.defaultPrevented=!1,n&&Object.assign(this,n)}preventDefault(){this.defaultPrevented=!0}}class $s{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,n,r=100){var s,c,l;this._filters[e]||(this._filters[e]=[]),(s=this._filters[e])===null||s===void 0||s.push({fn:n,priority:r}),(c=this._filters[e])===null||c===void 0||c.sort((d,b)=>d.priority-b.priority),(l=this.pswp)===null||l===void 0||l.addFilter(e,n,r)}removeFilter(e,n){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==n)),this.pswp&&this.pswp.removeFilter(e,n)}applyFilters(e,...n){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(s=>{n[0]=s.fn.apply(this,n)}),n[0]}on(e,n){var r,s;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(n),(s=this.pswp)===null||s===void 0||s.on(e,n)}off(e,n){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(s=>n!==s)),(r=this.pswp)===null||r===void 0||r.off(e,n)}dispatch(e,n){var r;if(this.pswp)return this.pswp.dispatch(e,n);const s=new Xs(e,n);return(r=this._listeners[e])===null||r===void 0||r.forEach(c=>{c.call(this,s)}),s}}class el{constructor(e,n){if(this.element=ur("pswp__img pswp__img--placeholder",e?"img":"div",n),e){const r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,n){this.element&&(this.element.tagName==="IMG"?(Li(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=Zs(0,0,e/250)):Li(this.element,e,n))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class tl{constructor(e,n,r){this.instance=n,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=nn.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,n){if(this.slide&&this.usePlaceholder())if(this.placeholder){const r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{const r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new el(r,this.slide.container)}this.element&&!n||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=ur("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=ur("pswp__content","div"),this.element.innerHTML=this.data.html||""),n&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var n,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const s=this.element;this.updateSrcsetSizes(),this.data.srcset&&(s.srcset=this.data.srcset),s.src=(n=this.data.src)!==null&&n!==void 0?n:"",s.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=nn.LOADING,s.complete?this.onLoaded():(s.onload=()=>{this.onLoaded()},s.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=nn.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===nn.LOADED||this.state===nn.ERROR)&&this.removePlaceholder())}onError(){this.state=nn.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===nn.LOADING,this)}isError(){return this.state===nn.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,n){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,n),!this.instance.dispatch("contentResize",{content:this,width:e,height:n}).defaultPrevented&&(Li(this.element,e,n),this.isImageContent()&&!this.isError()))){const r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=n,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:n,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==nn.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,n=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||n>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=n+"px",e.dataset.largestUsedSize=String(n))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,n;let r=ur("pswp__error-msg","div");r.innerText=(e=(n=this.instance.options)===null||n===void 0?void 0:n.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=ur("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===nn.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||ja())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!ja()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===nn.LOADED||this.state===nn.ERROR)&&this.removePlaceholder()))}}function nl(i,e){if(i.getViewportSizeFn){const n=i.getViewportSizeFn(i,e);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Nr(i,e,n,r,s){let c=0;if(e.paddingFn)c=e.paddingFn(n,r,s)[i];else if(e.padding)c=e.padding[i];else{const l="padding"+i[0].toUpperCase()+i.slice(1);e[l]&&(c=e[l])}return Number(c)||0}function rl(i,e,n,r){return{x:e.x-Nr("left",i,e,n,r)-Nr("right",i,e,n,r),y:e.y-Nr("top",i,e,n,r)-Nr("bottom",i,e,n,r)}}const Va=4e3;class il{constructor(e,n,r,s){this.pswp=s,this.options=e,this.itemData=n,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,n,r){const s={x:e,y:n};this.elementSize=s,this.panAreaSize=r;const c=r.x/s.x,l=r.y/s.y;this.fit=Math.min(1,c<l?c:l),this.fill=Math.min(1,c>l?c:l),this.vFill=Math.min(1,l),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const n=e+"ZoomLevel",r=this.options[n];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>Va&&(e=Va/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function Ho(i,e,n){const r=e.createContentFromData(i,n);let s;const{options:c}=e;if(c){s=new il(c,i,-1);let l;e.pswp?l=e.pswp.viewportSize:l=nl(c,e);const d=rl(c,l,i,n);s.update(r.width,r.height,d)}return r.lazyLoad(),s&&r.setDisplayedSize(Math.ceil(r.width*s.initial),Math.ceil(r.height*s.initial)),r}function al(i,e){const n=e.getItemData(i);if(!e.dispatch("lazyLoadSlide",{index:i,itemData:n}).defaultPrevented)return Ho(n,e,i)}class ol extends $s{getNumItems(){var e;let n=0;const r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?n=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(n=r.items.length));const s=this.dispatch("numItems",{dataSource:r,numItems:n});return this.applyFilters("numItems",s.numItems,r)}createContentFromData(e,n){return new tl(e,this,n)}getItemData(e){var n;const r=(n=this.options)===null||n===void 0?void 0:n.dataSource;let s={};Array.isArray(r)?s=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),s=r.items[e]);let c=s;c instanceof Element&&(c=this._domElementToItemData(c));const l=this.dispatch("itemData",{itemData:c||{},index:e});return this.applyFilters("itemData",l.itemData,e)}_getGalleryDOMElements(e){var n,r;return(n=this.options)!==null&&n!==void 0&&n.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?cr(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const n={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){n.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(n.srcset=r.dataset.pswpSrcset),n.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,n.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,n.w=n.width,n.h=n.height,r.dataset.pswpType&&(n.type=r.dataset.pswpType);const c=e.querySelector("img");if(c){var s;n.msrc=c.currentSrc||c.src,n.alt=(s=c.getAttribute("alt"))!==null&&s!==void 0?s:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(n.thumbCropped=!0)}return this.applyFilters("domItemData",n,e,r)}lazyLoadData(e,n){return Ho(e,this,n)}}class sl extends ol{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){cr(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(Js(e)||window.pswp)return;let n={x:e.clientX,y:e.clientY};!n.x&&!n.y&&(n=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);const s={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,s,n))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const n=e.target,s=cr(this.options.children,this.options.childSelector,e.currentTarget).findIndex(c=>c===n||c.contains(n));return s!==-1?s:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,n,r){if(window.pswp||!this.options)return!1;if(!n&&this.options.gallery&&this.options.children){const s=cr(this.options.gallery);s[0]&&(n={gallery:s[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,n),!0}preload(e,n){const{options:r}=this;n&&(r.dataSource=n);const s=[],c=typeof r.pswpModule;if(Qs(r.pswpModule))s.push(Promise.resolve(r.pswpModule));else{if(c==="string")throw new Error("pswpModule as string is no longer supported");if(c==="function")s.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&s.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=al(e,this));const l=++this._uid;Promise.all(s).then(d=>{if(this.shouldOpen){const b=d[0];this._openPhotoswipe(b,l)}})}_openPhotoswipe(e,n){if(n!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(s=>{var c;(c=this._listeners[s])===null||c===void 0||c.forEach(l=>{r.on(s,l)})}),Object.keys(this._filters).forEach(s=>{var c;(c=this._filters[s])===null||c===void 0||c.forEach(l=>{r.addFilter(s,l.fn,l.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},cr(this.options.gallery,this.options.gallerySelector).forEach(n=>{n.removeEventListener("click",this.onThumbnailsClick,!1)})}}function za(i,e,n){const r=i.slice();return r[16]=e[n],r}function xa(i,e,n){const r=i.slice();return r[19]=e[n],r}function Ti(i){const e=i.slice(),n=Array.from(new Set(e[4].map(r=>r.currency)));return e[15]=n,e}function Ha(i){let e,n,r=i[0].name+"",s,c,l,d,b,g,v,w,O,H,$='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',ee,G,N=i[0].startDate.toDateString()+"",C,W,E=i[0].endDate.toDateString()+"",de,ie,Y,Se,le=i[0].defaultCurrency+"",_e,me,he=Et[i[0].defaultCurrency].symbol+"",we,be,ue,fe,te,De,k,S,j,re,T,ke,Ae,ye,Je,xe,ve,J,ge="Notes:",Ee,Be,qe,F,He="Receipts:",Ie,ce,Ue,pt;function mt(Fe,je){return Fe[2]?ll:ul}let Tt=mt(i),rt=Tt(i),lt=i[4]&&qa(Ti(i));return{c(){e=P("h1"),n=P("span"),s=Oe(r),c=ae(),l=P("span"),d=P("a"),b=bt("svg"),g=bt("path"),v=bt("path"),O=ae(),H=P("button"),H.innerHTML=$,ee=ae(),G=P("h4"),C=Oe(N),W=Oe(" - "),de=Oe(E),ie=ae(),Y=P("p"),Se=Oe("Default currency: "),_e=Oe(le),me=Oe(" ("),we=Oe(he),be=Oe(")"),ue=ae(),fe=P("a"),te=Oe("+ Add Receipt"),k=ae(),S=P("button"),rt.c(),j=ae(),re=P("a"),T=bt("svg"),ke=bt("path"),Ae=bt("path"),ye=Oe(`
        Export/Print`),xe=ae(),ve=P("div"),J=P("h5"),J.textContent=ge,Ee=ae(),Be=P("textarea"),qe=ae(),F=P("h5"),F.textContent=He,Ie=ae(),lt&&lt.c(),ce=Lt(),this.h()},l(Fe){e=I(Fe,"H1",{class:!0});var je=q(e);n=I(je,"SPAN",{});var It=q(n);s=Pe(It,r),It.forEach(_),c=oe(je),l=I(je,"SPAN",{});var Xe=q(l);d=I(Xe,"A",{href:!0,class:!0,title:!0});var Gt=q(d);b=wt(Gt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Yt=q(b);g=wt(Yt,"path",{d:!0}),q(g).forEach(_),v=wt(Yt,"path",{"fill-rule":!0,d:!0}),q(v).forEach(_),Yt.forEach(_),Gt.forEach(_),O=oe(Xe),H=I(Xe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Ge(H)!=="svelte-7al2bn"&&(H.innerHTML=$),Xe.forEach(_),je.forEach(_),ee=oe(Fe),G=I(Fe,"H4",{});var gt=q(G);C=Pe(gt,N),W=Pe(gt," - "),de=Pe(gt,E),gt.forEach(_),ie=oe(Fe),Y=I(Fe,"P",{});var qt=q(Y);Se=Pe(qt,"Default currency: "),_e=Pe(qt,le),me=Pe(qt," ("),we=Pe(qt,he),be=Pe(qt,")"),qt.forEach(_),ue=oe(Fe),fe=I(Fe,"A",{class:!0,href:!0});var sn=q(fe);te=Pe(sn,"+ Add Receipt"),sn.forEach(_),k=oe(Fe),S=I(Fe,"BUTTON",{class:!0});var Ct=q(S);rt.l(Ct),Ct.forEach(_),j=oe(Fe),re=I(Fe,"A",{href:!0,target:!0,class:!0});var Ke=q(re);T=wt(Ke,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ut=q(T);ke=wt(Ut,"path",{d:!0}),q(ke).forEach(_),Ae=wt(Ut,"path",{d:!0}),q(Ae).forEach(_),Ut.forEach(_),ye=Pe(Ke,`
        Export/Print`),Ke.forEach(_),xe=oe(Fe),ve=I(Fe,"DIV",{class:!0});var vt=q(ve);J=I(vt,"H5",{"data-svelte-h":!0}),Ge(J)!=="svelte-srqctx"&&(J.textContent=ge),Ee=oe(vt),Be=I(vt,"TEXTAREA",{style:!0,class:!0,placeholder:!0,id:!0}),q(Be).forEach(_),vt.forEach(_),qe=oe(Fe),F=I(Fe,"H5",{class:!0,"data-svelte-h":!0}),Ge(F)!=="svelte-7onek5"&&(F.textContent=He),Ie=oe(Fe),lt&&lt.l(Fe),ce=Lt(),this.h()},h(){p(g,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(v,"fill-rule","evenodd"),p(v,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(b,"xmlns","http://www.w3.org/2000/svg"),p(b,"width","16"),p(b,"height","16"),p(b,"fill","currentColor"),p(b,"class","bi bi-pencil-square"),p(b,"viewBox","0 0 16 16"),p(d,"href",w="#/update/"+i[0].id),p(d,"class","btn btn-outline-secondary no-outline"),p(d,"title","Update Trip"),p(H,"class","btn btn-outline-secondary no-outline hover-red"),p(H,"title","Delete Trip"),p(e,"class","d-flex justify-content-between"),p(fe,"class","btn btn-primary"),p(fe,"href",De="#/addreceipt/"+i[0].id),p(S,"class","btn btn-outline-primary"),p(ke,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(Ae,"d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"),p(T,"xmlns","http://www.w3.org/2000/svg"),p(T,"width","16"),p(T,"height","16"),p(T,"fill","currentColor"),p(T,"class","bi bi-download"),p(T,"viewBox","0 0 16 16"),p(re,"href",Je="#/print/"+i[0].id),p(re,"target","_blank"),p(re,"class","btn btn-outline-primary"),Bn(Be,"height","50vh"),p(Be,"class","form-control d-block"),p(Be,"placeholder","A space for notes about your trip"),p(Be,"id","tripNotes"),p(ve,"class","hide mt-3 flex-column"),St(ve,"show",i[2]),p(F,"class","mt-3")},m(Fe,je){se(Fe,e,je),m(e,n),m(n,s),m(e,c),m(e,l),m(l,d),m(d,b),m(b,g),m(b,v),m(l,O),m(l,H),se(Fe,ee,je),se(Fe,G,je),m(G,C),m(G,W),m(G,de),se(Fe,ie,je),se(Fe,Y,je),m(Y,Se),m(Y,_e),m(Y,me),m(Y,we),m(Y,be),se(Fe,ue,je),se(Fe,fe,je),m(fe,te),se(Fe,k,je),se(Fe,S,je),rt.m(S,null),se(Fe,j,je),se(Fe,re,je),m(re,T),m(T,ke),m(T,Ae),m(re,ye),se(Fe,xe,je),se(Fe,ve,je),m(ve,J),m(ve,Ee),m(ve,Be),ht(Be,i[3]),se(Fe,qe,je),se(Fe,F,je),se(Fe,Ie,je),lt&&lt.m(Fe,je),se(Fe,ce,je),Ue||(pt=[We(H,"click",function(){Fo(i[5](i[0]))&&i[5](i[0]).apply(this,arguments)}),We(S,"click",i[8]),We(Be,"input",i[11]),We(Be,"input",i[7])],Ue=!0)},p(Fe,je){i=Fe,je&1&&r!==(r=i[0].name+"")&&Ye(s,r),je&1&&w!==(w="#/update/"+i[0].id)&&p(d,"href",w),je&1&&N!==(N=i[0].startDate.toDateString()+"")&&Ye(C,N),je&1&&E!==(E=i[0].endDate.toDateString()+"")&&Ye(de,E),je&1&&le!==(le=i[0].defaultCurrency+"")&&Ye(_e,le),je&1&&he!==(he=Et[i[0].defaultCurrency].symbol+"")&&Ye(we,he),je&1&&De!==(De="#/addreceipt/"+i[0].id)&&p(fe,"href",De),Tt!==(Tt=mt(i))&&(rt.d(1),rt=Tt(i),rt&&(rt.c(),rt.m(S,null))),je&1&&Je!==(Je="#/print/"+i[0].id)&&p(re,"href",Je),je&8&&ht(Be,i[3]),je&4&&St(ve,"show",i[2]),i[4]?lt?lt.p(Ti(i),je):(lt=qa(Ti(i)),lt.c(),lt.m(ce.parentNode,ce)):lt&&(lt.d(1),lt=null)},d(Fe){Fe&&(_(e),_(ee),_(G),_(ie),_(Y),_(ue),_(fe),_(k),_(S),_(j),_(re),_(xe),_(ve),_(qe),_(F),_(Ie),_(ce)),rt.d(),lt&&lt.d(Fe),Ue=!1,yn(pt)}}}function ll(i){let e,n,r,s,c;return{c(){e=bt("svg"),n=bt("path"),r=bt("path"),s=bt("path"),c=Oe(`
          Hide Notes`),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var d=q(e);n=wt(d,"path",{d:!0}),q(n).forEach(_),r=wt(d,"path",{d:!0}),q(r).forEach(_),s=wt(d,"path",{d:!0}),q(s).forEach(_),d.forEach(_),c=Pe(l,`
          Hide Notes`),this.h()},h(){p(n,"d","M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"),p(r,"d","M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"),p(s,"d","M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-eye-slash"),p(e,"viewBox","0 0 16 16")},m(l,d){se(l,e,d),m(e,n),m(e,r),m(e,s),se(l,c,d)},d(l){l&&(_(e),_(c))}}}function ul(i){let e,n,r,s,c;return{c(){e=bt("svg"),n=bt("path"),r=bt("path"),s=bt("path"),c=Oe(`
          Notes`),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var d=q(e);n=wt(d,"path",{d:!0}),q(n).forEach(_),r=wt(d,"path",{d:!0}),q(r).forEach(_),s=wt(d,"path",{d:!0}),q(s).forEach(_),d.forEach(_),c=Pe(l,`
          Notes`),this.h()},h(){p(n,"d","M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"),p(r,"d","M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"),p(s,"d","M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-journal-text"),p(e,"viewBox","0 0 16 16")},m(l,d){se(l,e,d),m(e,n),m(e,r),m(e,s),se(l,c,d)},d(l){l&&(_(e),_(c))}}}function qa(i){let e,n,r,s="<tr><th>Description</th> <th>Date</th> <th>Type</th> <th>Total</th> <th></th></tr>",c,l,d=[],b=new Map,g,v,w,O,H,$,ee,G,N="<strong>Total</strong>",C,W,E,de,ie,Y,Se=$e(i[4]);const le=he=>he[19].id;for(let he=0;he<Se.length;he+=1){let we=xa(i,Se,he),be=le(we);b.set(be,d[he]=Ua(be,we))}let _e=$e(i[15]),me=[];for(let he=0;he<_e.length;he+=1)me[he]=Wa(za(i,_e,he));return{c(){e=P("div"),n=P("table"),r=P("thead"),r.innerHTML=s,c=ae(),l=P("tbody");for(let he=0;he<d.length;he+=1)d[he].c();g=ae(),v=P("tfoot"),w=P("tr"),O=P("td"),H=ae(),$=P("td"),ee=ae(),G=P("td"),G.innerHTML=N,C=ae(),W=P("td");for(let he=0;he<me.length;he+=1)me[he].c();E=ae(),de=P("td"),this.h()},l(he){e=I(he,"DIV",{class:!0});var we=q(e);n=I(we,"TABLE",{class:!0});var be=q(n);r=I(be,"THEAD",{"data-svelte-h":!0}),Ge(r)!=="svelte-1vpbmbw"&&(r.innerHTML=s),c=oe(be),l=I(be,"TBODY",{});var ue=q(l);for(let k=0;k<d.length;k+=1)d[k].l(ue);ue.forEach(_),g=oe(be),v=I(be,"TFOOT",{class:!0});var fe=q(v);w=I(fe,"TR",{});var te=q(w);O=I(te,"TD",{}),q(O).forEach(_),H=oe(te),$=I(te,"TD",{}),q($).forEach(_),ee=oe(te),G=I(te,"TD",{class:!0,"data-svelte-h":!0}),Ge(G)!=="svelte-14afisz"&&(G.innerHTML=N),C=oe(te),W=I(te,"TD",{});var De=q(W);for(let k=0;k<me.length;k+=1)me[k].l(De);De.forEach(_),E=oe(te),de=I(te,"TD",{}),q(de).forEach(_),te.forEach(_),fe.forEach(_),be.forEach(_),we.forEach(_),this.h()},h(){p(G,"class","text-end"),p(v,"class","table-group-divider"),p(n,"class","table table-striped table-hover"),p(e,"class","table-responsive")},m(he,we){se(he,e,we),m(e,n),m(n,r),m(n,c),m(n,l);for(let be=0;be<d.length;be+=1)d[be]&&d[be].m(l,null);m(n,g),m(n,v),m(v,w),m(w,O),m(w,H),m(w,$),m(w,ee),m(w,G),m(w,C),m(w,W);for(let be=0;be<me.length;be+=1)me[be]&&me[be].m(W,null);m(w,E),m(w,de),ie||(Y=_s(i[9].call(null,l)),ie=!0)},p(he,we){if(we&80&&(Se=$e(he[4]),d=qr(d,we,le,1,he,Se,b,l,Hr,Ua,null,xa)),we&16){_e=$e(he[15]);let be;for(be=0;be<_e.length;be+=1){const ue=za(he,_e,be);me[be]?me[be].p(ue,we):(me[be]=Wa(ue),me[be].c(),me[be].m(W,null))}for(;be<me.length;be+=1)me[be].d(1);me.length=_e.length}},d(he){he&&_(e);for(let we=0;we<d.length;we+=1)d[we].d();Ft(me,he),ie=!1,Y()}}}function Ua(i,e){let n,r,s,c,l,d,b,g,v,w,O,H,$,ee=e[19].description+"",G,N,C,W=e[19].receiptDateString+"",E,de,ie,Y,Se,le=Ba[e[19].receiptType]+"",_e,me,he=e[19].receiptType+"",we,be,ue,fe=Et[e[19].currency].symbol+"",te,De,k=e[19].total.toFixed(2)+"",S,j,re,T,ke,Ae,ye,Je,xe,ve,J='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',ge,Ee,Be;return{key:i,first:null,c(){n=P("tr"),r=P("td"),s=P("div"),c=P("span"),l=P("a"),d=bt("svg"),b=bt("path"),g=bt("path"),H=ae(),$=P("span"),G=Oe(ee),N=ae(),C=P("td"),E=Oe(W),de=ae(),ie=P("td"),Y=P("abbr"),Se=new ys(!1),me=P("span"),we=Oe(he),be=ae(),ue=P("td"),te=Oe(fe),De=ae(),S=Oe(k),j=ae(),re=P("td"),T=P("a"),ke=bt("svg"),Ae=bt("path"),ye=bt("path"),xe=ae(),ve=P("button"),ve.innerHTML=J,ge=ae(),this.h()},l(qe){n=I(qe,"TR",{});var F=q(n);r=I(F,"TD",{});var He=q(r);s=I(He,"DIV",{class:!0});var Ie=q(s);c=I(Ie,"SPAN",{});var ce=q(c);l=I(ce,"A",{class:!0,href:!0,"data-pswp-width":!0,"data-pswp-height":!0,target:!0,rel:!0,title:!0,style:!0});var Ue=q(l);d=wt(Ue,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var pt=q(d);b=wt(pt,"path",{d:!0}),q(b).forEach(_),g=wt(pt,"path",{d:!0}),q(g).forEach(_),pt.forEach(_),Ue.forEach(_),ce.forEach(_),H=oe(Ie),$=I(Ie,"SPAN",{});var mt=q($);G=Pe(mt,ee),mt.forEach(_),Ie.forEach(_),He.forEach(_),N=oe(F),C=I(F,"TD",{});var Tt=q(C);E=Pe(Tt,W),Tt.forEach(_),de=oe(F),ie=I(F,"TD",{});var rt=q(ie);Y=I(rt,"ABBR",{class:!0,title:!0});var lt=q(Y);Se=bs(lt,!1),lt.forEach(_),me=I(rt,"SPAN",{class:!0});var Fe=q(me);we=Pe(Fe,he),Fe.forEach(_),rt.forEach(_),be=oe(F),ue=I(F,"TD",{class:!0});var je=q(ue);te=Pe(je,fe),De=oe(je),S=Pe(je,k),je.forEach(_),j=oe(F),re=I(F,"TD",{});var It=q(re);T=I(It,"A",{class:!0,href:!0,title:!0});var Xe=q(T);ke=wt(Xe,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Gt=q(ke);Ae=wt(Gt,"path",{d:!0}),q(Ae).forEach(_),ye=wt(Gt,"path",{"fill-rule":!0,d:!0}),q(ye).forEach(_),Gt.forEach(_),Xe.forEach(_),xe=oe(It),ve=I(It,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Ge(ve)!=="svelte-mho9l"&&(ve.innerHTML=J),It.forEach(_),ge=oe(F),F.forEach(_),this.h()},h(){p(b,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"),p(g,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"),p(d,"xmlns","http://www.w3.org/2000/svg"),p(d,"width","16"),p(d,"height","16"),p(d,"fill","currentColor"),p(d,"class","bi bi-image"),p(d,"viewBox","0 0 16 16"),p(l,"class","btn btn-outline-primary btn-sm rImages"),p(l,"href",v=e[19].imageData),p(l,"data-pswp-width",w=e[19].imageWidth),p(l,"data-pswp-height",O=e[19].imageHeight),p(l,"target","_blank"),p(l,"rel","noreferrer"),p(l,"title","View Image"),Bn(l,"border","none"),p(s,"class","receiptDesc"),Se.a=null,p(Y,"class","me-2 typeIcon"),p(Y,"title",_e=e[19].receiptType),p(me,"class","typeText"),p(ue,"class","text-nowrap"),p(Ae,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(ye,"fill-rule","evenodd"),p(ye,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(ke,"xmlns","http://www.w3.org/2000/svg"),p(ke,"width","16"),p(ke,"height","16"),p(ke,"fill","currentColor"),p(ke,"class","bi bi-pencil-square"),p(ke,"viewBox","0 0 16 16"),p(T,"class","btn btn-outline-dark no-outline btn-sm"),p(T,"href",Je="#/editreceipt/"+e[19].id),p(T,"title","Edit Receipt"),p(ve,"class","btn btn-outline-dark no-outline btn-sm hover-red"),p(ve,"title","Delete Receipt"),this.first=n},m(qe,F){se(qe,n,F),m(n,r),m(r,s),m(s,c),m(c,l),m(l,d),m(d,b),m(d,g),m(s,H),m(s,$),m($,G),m(n,N),m(n,C),m(C,E),m(n,de),m(n,ie),m(ie,Y),Se.m(le,Y),m(ie,me),m(me,we),m(n,be),m(n,ue),m(ue,te),m(ue,De),m(ue,S),m(n,j),m(n,re),m(re,T),m(T,ke),m(ke,Ae),m(ke,ye),m(re,xe),m(re,ve),m(n,ge),Ee||(Be=We(ve,"click",function(){Fo(e[6](e[19]))&&e[6](e[19]).apply(this,arguments)}),Ee=!0)},p(qe,F){e=qe,F&16&&v!==(v=e[19].imageData)&&p(l,"href",v),F&16&&w!==(w=e[19].imageWidth)&&p(l,"data-pswp-width",w),F&16&&O!==(O=e[19].imageHeight)&&p(l,"data-pswp-height",O),F&16&&ee!==(ee=e[19].description+"")&&Ye(G,ee),F&16&&W!==(W=e[19].receiptDateString+"")&&Ye(E,W),F&16&&le!==(le=Ba[e[19].receiptType]+"")&&Se.p(le),F&16&&_e!==(_e=e[19].receiptType)&&p(Y,"title",_e),F&16&&he!==(he=e[19].receiptType+"")&&Ye(we,he),F&16&&fe!==(fe=Et[e[19].currency].symbol+"")&&Ye(te,fe),F&16&&k!==(k=e[19].total.toFixed(2)+"")&&Ye(S,k),F&16&&Je!==(Je="#/editreceipt/"+e[19].id)&&p(T,"href",Je)},d(qe){qe&&_(n),Ee=!1,Be()}}}function Wa(i){let e=Et[i[16]].symbol+"",n,r,s=i[4].filter(b).reduce(Ga,0).toFixed(2)+"",c,l,d;function b(...g){return i[12](i[16],...g)}return{c(){n=Oe(e),r=ae(),c=Oe(s),l=ae(),d=P("br")},l(g){n=Pe(g,e),r=oe(g),c=Pe(g,s),l=oe(g),d=I(g,"BR",{})},m(g,v){se(g,n,v),se(g,r,v),se(g,c,v),se(g,l,v),se(g,d,v)},p(g,v){i=g,v&16&&e!==(e=Et[i[16]].symbol+"")&&Ye(n,e),v&16&&s!==(s=i[4].filter(b).reduce(Ga,0).toFixed(2)+"")&&Ye(c,s)},d(g){g&&(_(n),_(r),_(c),_(l),_(d))}}}function cl(i){let e,n=i[0]&&Ha(i);return{c(){e=P("div"),n&&n.c(),this.h()},l(r){e=I(r,"DIV",{class:!0});var s=q(e);n&&n.l(s),s.forEach(_),this.h()},h(){p(e,"class","w-100")},m(r,s){se(r,e,s),n&&n.m(e,null)},p(r,[s]){r[0]?n?n.p(r,s):(n=Ha(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:ft,o:ft,d(r){r&&_(e),n&&n.d()}}}const fl=2e3,Ga=(i,e)=>i+e.total;function dl(i,e,n){let r,s=ft,c=()=>(s(),s=fr(b,E=>n(4,r=E)),b);i.$$.on_destroy.push(()=>s());let{tripId:l}=e,d,b,g=!1,v="",w;l>-1&&Dt.trips.get(l).then(E=>{n(0,d=E),n(3,v=d==null?void 0:d.notes),c(n(1,b=mr(async()=>await Dt.receipts.where({tripId:l}).reverse().sortBy("receiptDate"))))});async function O(E){if(confirm(`Are you sure you want to delete trip "${E.name}"? It will also delete all receipts for this trip`)){let ie=await Dt.trips.where("id").equals(E.id).delete();console.log(`Deleted ${ie} trip(s)`),ie=await Dt.receipts.where("tripId").equals(E.id).delete(),console.log(`Deleted ${ie} receipts(s)`),window.location.href="#/"}}async function H(E){if(confirm(`Are you sure you want to delete receipt for "${E.description}"?`)){let ie=await Dt.receipts.where("id").equals(E.id).delete();console.log(`Deleted ${ie} receipts(s)`)}}async function $(){w&&clearTimeout(w),w=setTimeout(ee,fl)}async function ee(){if(d)try{const E=await Dt.trips.update(d.id,{notes:v})}catch(E){console.error(E)}}function G(){n(2,g=!g)}function N(E){new sl({gallery:".rImages",pswpModule:()=>Es(()=>import("../chunks/photoswipe.esm.GXRgw7eJ.js"),[],import.meta.url)}).init()}function C(){v=this.value,n(3,v)}const W=(E,de)=>de.currency==E;return i.$$set=E=>{"tripId"in E&&n(10,l=E.tripId)},[d,b,g,v,r,O,H,$,G,N,l,C,W]}class hl extends an{constructor(e){super(),on(this,e,dl,cl,en,{tripId:10})}}function qo(){let i=document.getElementById("tripToggle");i==null||i.classList.toggle("show")}function Ya(i,e,n){const r=i.slice();return r[8]=e[n],r}function Za(i,e,n){const r=i.slice();return r[12]=e[n],r}function Ci(i){const e=i.slice(),n=Array.from(new Set(e[2].filter(function(...s){return i[5](e[8],...s)}).map(r=>r.currency)));return e[11]=n,e}function Ja(i){let e=[],n=new Map,r,s=$e(i[1]);const c=l=>l[8].id;for(let l=0;l<s.length;l+=1){let d=Ya(i,s,l),b=c(d);n.set(b,e[l]=$a(b,d))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=Lt()},l(l){for(let d=0;d<e.length;d+=1)e[d].l(l);r=Lt()},m(l,d){for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(l,d);se(l,r,d)},p(l,d){d&7&&(s=$e(l[1]),e=qr(e,d,c,1,l,s,n,r.parentNode,Hr,$a,r,Ya))},d(l){l&&_(r);for(let d=0;d<e.length;d+=1)e[d].d(l)}}}function Qa(i){let e,n=$e(i[11]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Xa(Za(i,n,s));return{c(){e=P("small");for(let s=0;s<r.length;s+=1)r[s].c()},l(s){e=I(s,"SMALL",{});var c=q(e);for(let l=0;l<r.length;l+=1)r[l].l(c);c.forEach(_)},m(s,c){se(s,e,c);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(s,c){if(c&6){n=$e(s[11]);let l;for(l=0;l<n.length;l+=1){const d=Za(s,n,l);r[l]?r[l].p(d,c):(r[l]=Xa(d),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&_(e),Ft(r,s)}}}function Xa(i){let e=Et[i[12]].symbol+"",n,r,s=i[2].filter(b).filter(g).reduce(eo,0).toFixed(2)+"",c,l,d;function b(...v){return i[6](i[8],...v)}function g(...v){return i[7](i[12],...v)}return{c(){n=Oe(e),r=ae(),c=Oe(s),l=ae(),d=P("br")},l(v){n=Pe(v,e),r=oe(v),c=Pe(v,s),l=oe(v),d=I(v,"BR",{})},m(v,w){se(v,n,w),se(v,r,w),se(v,c,w),se(v,l,w),se(v,d,w)},p(v,w){i=v,w&6&&e!==(e=Et[i[12]].symbol+"")&&Ye(n,e),w&6&&s!==(s=i[2].filter(b).filter(g).reduce(eo,0).toFixed(2)+"")&&Ye(c,s)},d(v){v&&(_(n),_(r),_(c),_(l),_(d))}}}function $a(i,e){let n,r,s,c=e[8].name+"",l,d,b,g,v=e[8].startDateString+"",w,O,H=e[8].endDateString+"",$,ee,G,N,C,W,E=e[2]&&Qa(Ci(e));return{key:i,first:null,c(){n=P("a"),r=P("div"),s=P("strong"),l=Oe(c),d=ae(),E&&E.c(),b=ae(),g=P("div"),w=Oe(v),O=Oe(" - "),$=Oe(H),ee=ae(),this.h()},l(de){n=I(de,"A",{href:!0,class:!0,"aria-current":!0,"data-trip-id":!0});var ie=q(n);r=I(ie,"DIV",{class:!0});var Y=q(r);s=I(Y,"STRONG",{class:!0});var Se=q(s);l=Pe(Se,c),Se.forEach(_),d=oe(Y),E&&E.l(Y),Y.forEach(_),b=oe(ie),g=I(ie,"DIV",{class:!0});var le=q(g);w=Pe(le,v),O=Pe(le," - "),$=Pe(le,H),le.forEach(_),ee=oe(ie),ie.forEach(_),this.h()},h(){p(s,"class","mb-1"),p(r,"class","d-flex w-100 align-items-center justify-content-between"),p(g,"class","col-10 mb-1 small"),p(n,"href",G="#/trip/"+e[8].id),p(n,"class","list-group-item list-group-item-action py-3 lh-sm m-2"),p(n,"aria-current","false"),p(n,"data-trip-id",N=e[8].id),St(n,"active",e[0]==e[8].id),this.first=n},m(de,ie){se(de,n,ie),m(n,r),m(r,s),m(s,l),m(r,d),E&&E.m(r,null),m(n,b),m(n,g),m(g,w),m(g,O),m(g,$),m(n,ee),C||(W=We(n,"click",qo),C=!0)},p(de,ie){e=de,ie&2&&c!==(c=e[8].name+"")&&Ye(l,c),e[2]?E?E.p(Ci(e),ie):(E=Qa(Ci(e)),E.c(),E.m(r,null)):E&&(E.d(1),E=null),ie&2&&v!==(v=e[8].startDateString+"")&&Ye(w,v),ie&2&&H!==(H=e[8].endDateString+"")&&Ye($,H),ie&2&&G!==(G="#/trip/"+e[8].id)&&p(n,"href",G),ie&2&&N!==(N=e[8].id)&&p(n,"data-trip-id",N),ie&3&&St(n,"active",e[0]==e[8].id)},d(de){de&&_(n),E&&E.d(),C=!1,W()}}}function pl(i){let e,n=i[1]&&Ja(i);return{c(){n&&n.c(),e=Lt()},l(r){n&&n.l(r),e=Lt()},m(r,s){n&&n.m(r,s),se(r,e,s)},p(r,[s]){r[1]?n?n.p(r,s):(n=Ja(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ft,o:ft,d(r){r&&_(e),n&&n.d(r)}}}const eo=(i,e)=>i+e.total;function ml(i,e,n){let r,s,{tripId:c}=e,l=mr(()=>Dt.trips.toCollection().reverse().sortBy("endDate"));Hn(i,l,w=>n(1,r=w));let d=mr(()=>Dt.receipts.toArray());Hn(i,d,w=>n(2,s=w));const b=(w,O)=>O.tripId==w.id,g=(w,O)=>O.tripId==w.id,v=(w,O)=>O.currency==w;return i.$$set=w=>{"tripId"in w&&n(0,c=w.tripId)},[c,r,s,l,d,b,g,v]}class gl extends an{constructor(e){super(),on(this,e,ml,pl,en,{tripId:0})}}function to(i,e,n){const r=i.slice();return r[9]=e[n],r}function no(i){let e,n,r="Update Trip",s,c,l,d="Trip Name",b,g,v,w,O,H="Trip Currency",$,ee,G,N,C,W="Trip Start",E,de,ie,Y,Se,le,_e="Trip End",me,he,we,be,ue,fe,te="Update Trip",De,k,S,j,re,T,ke,Ae=$e(Object.keys(Et)),ye=[];for(let ge=0;ge<Ae.length;ge+=1)ye[ge]=ro(to(i,Ae,ge));function Je(ge){i[7](ge)}let xe={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};i[1]!==void 0&&(xe.value=i[1]),de=new pr({props:xe}),$t.push(()=>Kn(de,"value",Je));function ve(ge){i[8](ge)}let J={format:"yyyy-MM-dd",closeOnSelection:!0,min:i[1],id:"tripEnd"};return i[2]!==void 0&&(J.value=i[2]),he=new pr({props:J}),$t.push(()=>Kn(he,"value",ve)),{c(){e=P("form"),n=P("h1"),n.textContent=r,s=ae(),c=P("div"),l=P("label"),l.textContent=d,b=ae(),g=P("input"),v=ae(),w=P("div"),O=P("label"),O.textContent=H,$=ae(),ee=P("select");for(let ge=0;ge<ye.length;ge+=1)ye[ge].c();G=ae(),N=P("div"),C=P("label"),C.textContent=W,E=ae(),jt(de.$$.fragment),Y=ae(),Se=P("div"),le=P("label"),le.textContent=_e,me=ae(),jt(he.$$.fragment),be=ae(),ue=P("div"),fe=P("button"),fe.textContent=te,De=ae(),k=P("a"),S=Oe("Cancel"),this.h()},l(ge){e=I(ge,"FORM",{});var Ee=q(e);n=I(Ee,"H1",{"data-svelte-h":!0}),Ge(n)!=="svelte-9352dq"&&(n.textContent=r),s=oe(Ee),c=I(Ee,"DIV",{class:!0});var Be=q(c);l=I(Be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(l)!=="svelte-1y8z10u"&&(l.textContent=d),b=oe(Be),g=I(Be,"INPUT",{id:!0,class:!0,type:!0}),Be.forEach(_),v=oe(Ee),w=I(Ee,"DIV",{class:!0});var qe=q(w);O=I(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(O)!=="svelte-1fzihue"&&(O.textContent=H),$=oe(qe),ee=I(qe,"SELECT",{id:!0,class:!0});var F=q(ee);for(let pt=0;pt<ye.length;pt+=1)ye[pt].l(F);F.forEach(_),qe.forEach(_),G=oe(Ee),N=I(Ee,"DIV",{class:!0});var He=q(N);C=I(He,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(C)!=="svelte-4n7gli"&&(C.textContent=W),E=oe(He),Vt(de.$$.fragment,He),He.forEach(_),Y=oe(Ee),Se=I(Ee,"DIV",{class:!0});var Ie=q(Se);le=I(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(le)!=="svelte-1dn7717"&&(le.textContent=_e),me=oe(Ie),Vt(he.$$.fragment,Ie),Ie.forEach(_),be=oe(Ee),ue=I(Ee,"DIV",{class:!0});var ce=q(ue);fe=I(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),Ge(fe)!=="svelte-bsugmm"&&(fe.textContent=te),De=oe(ce),k=I(ce,"A",{href:!0,class:!0});var Ue=q(k);S=Pe(Ue,"Cancel"),Ue.forEach(_),ce.forEach(_),Ee.forEach(_),this.h()},h(){p(l,"for","tripName"),p(l,"class","form-label"),p(g,"id","tripName"),p(g,"class","form-control"),p(g,"type","text"),p(c,"class","mb-3"),p(O,"for","tripCurrency"),p(O,"class","form-label"),p(ee,"id","tripCurrency"),p(ee,"class","form-control"),i[0].defaultCurrency===void 0&&dr(()=>i[6].call(ee)),p(w,"class","mb-3"),p(C,"for","tripStart"),p(C,"class","form-label"),p(N,"class","mb-3"),p(le,"for","tripStart"),p(le,"class","form-label"),p(Se,"class","mb-3"),p(fe,"class","btn btn-primary"),p(k,"href",j="#/trip/"+i[0].id),p(k,"class","btn btn-outline-primary"),p(ue,"class","gap-3 d-grid d-md-block")},m(ge,Ee){se(ge,e,Ee),m(e,n),m(e,s),m(e,c),m(c,l),m(c,b),m(c,g),ht(g,i[0].name),m(e,v),m(e,w),m(w,O),m(w,$),m(w,ee);for(let Be=0;Be<ye.length;Be+=1)ye[Be]&&ye[Be].m(ee,null);rn(ee,i[0].defaultCurrency,!0),m(e,G),m(e,N),m(N,C),m(N,E),zt(de,N,null),m(e,Y),m(e,Se),m(Se,le),m(Se,me),zt(he,Se,null),m(e,be),m(e,ue),m(ue,fe),m(ue,De),m(ue,k),m(k,S),re=!0,T||(ke=[We(g,"input",i[5]),We(ee,"change",i[6]),We(fe,"click",i[3])],T=!0)},p(ge,Ee){if(Ee&1&&g.value!==ge[0].name&&ht(g,ge[0].name),Ee&0){Ae=$e(Object.keys(Et));let F;for(F=0;F<Ae.length;F+=1){const He=to(ge,Ae,F);ye[F]?ye[F].p(He,Ee):(ye[F]=ro(He),ye[F].c(),ye[F].m(ee,null))}for(;F<ye.length;F+=1)ye[F].d(1);ye.length=Ae.length}Ee&1&&rn(ee,ge[0].defaultCurrency);const Be={};!ie&&Ee&2&&(ie=!0,Be.value=ge[1],Nn(()=>ie=!1)),de.$set(Be);const qe={};Ee&2&&(qe.min=ge[1]),!we&&Ee&4&&(we=!0,qe.value=ge[2],Nn(()=>we=!1)),he.$set(qe),(!re||Ee&1&&j!==(j="#/trip/"+ge[0].id))&&p(k,"href",j)},i(ge){re||(it(de.$$.fragment,ge),it(he.$$.fragment,ge),re=!0)},o(ge){st(de.$$.fragment,ge),st(he.$$.fragment,ge),re=!1},d(ge){ge&&_(e),Ft(ye,ge),xt(de),xt(he),T=!1,yn(ke)}}}function ro(i){let e,n=i[9]+"",r,s,c=Et[i[9]].symbol+"",l,d;return{c(){e=P("option"),r=Oe(n),s=Oe(" ("),l=Oe(c),d=Oe(`)
          `),this.h()},l(b){e=I(b,"OPTION",{});var g=q(e);r=Pe(g,n),s=Pe(g," ("),l=Pe(g,c),d=Pe(g,`)
          `),g.forEach(_),this.h()},h(){e.__value=i[9],ht(e,e.__value)},m(b,g){se(b,e,g),m(e,r),m(e,s),m(e,l),m(e,d)},p:ft,d(b){b&&_(e)}}}function vl(i){let e,n,r=i[0]&&no(i);return{c(){e=P("div"),r&&r.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var c=q(e);r&&r.l(c),c.forEach(_),this.h()},h(){p(e,"class","w-100")},m(s,c){se(s,e,c),r&&r.m(e,null),n=!0},p(s,[c]){s[0]?r?(r.p(s,c),c&1&&it(r,1)):(r=no(s),r.c(),it(r,1),r.m(e,null)):r&&(qn(),st(r,1,1,()=>{r=null}),Un())},i(s){n||(it(r),n=!0)},o(s){st(r),n=!1},d(s){s&&_(e),r&&r.d()}}}function _l(i,e,n){let{tripId:r}=e,s,c,l;r>-1&&Dt.trips.get(r).then(O=>{n(0,s=O),n(1,c=new Date(s.startDateString)),n(2,l=new Date(s.endDateString))});async function d(){try{const O=await Dt.trips.update(s.id,{name:s.name,defaultCurrency:s.defaultCurrency,startDate:c,endDate:l,startDateString:c.toDateString(),endDateString:l.toDateString()});window.location.href="#/trip/"+s.id}catch{window.location.href="#/"}}function b(){s.name=this.value,n(0,s)}function g(){s.defaultCurrency=zr(this),n(0,s)}function v(O){c=O,n(1,c)}function w(O){l=O,n(2,l)}return i.$$set=O=>{"tripId"in O&&n(4,r=O.tripId)},[s,c,l,d,r,b,g,v,w]}class yl extends an{constructor(e){super(),on(this,e,_l,vl,en,{tripId:4})}}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var bl={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:El,fromCents:!1},Uo=function(e){return Math.round(e)},Ni=function(e){return Math.pow(10,e)},wl=function(e,n){return Uo(e/n)*n},kl=/(\d)(?=(\d{3})+\b)/g,Dl=/(\d)(?=(\d\d)+\d\b)/g;function _n(i,e){var n=this;if(!(n instanceof _n))return new _n(i,e);var r=Object.assign({},bl,e),s=Ni(r.precision),c=jr(i,r);n.intValue=c,n.value=c/s,r.increment=r.increment||1/s,r.useVedic?r.groups=Dl:r.groups=kl,this.s=r,this.p=s}function jr(i,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,s=e.decimal,c=e.errorOnInvalid,l=e.precision,d=e.fromCents,b=Ni(l),g=typeof i=="number",v=i instanceof _n;if(v&&d)return i.intValue;if(g||v)r=v?i.value:i;else if(typeof i=="string"){var w=new RegExp("[^-\\d"+s+"]","g"),O=new RegExp("\\"+s,"g");r=i.replace(/\((.*)\)/,"-$1").replace(w,"").replace(O,"."),r=r||0}else{if(c)throw Error("Invalid Input");r=0}return d||(r*=b,r=r.toFixed(4)),n?Uo(r):r}function El(i,e){var n=e.pattern,r=e.negativePattern,s=e.symbol,c=e.separator,l=e.decimal,d=e.groups,b=(""+i).replace(/^-/,"").split("."),g=b[0],v=b[1];return(i.value>=0?n:r).replace("!",s).replace("#",g.replace(d,"$1"+c)+(v?l+v:""))}_n.prototype={add:function(e){var n=this.intValue,r=this.s,s=this.p;return _n((n+=jr(e,r))/(r.fromCents?1:s),r)},subtract:function(e){var n=this.intValue,r=this.s,s=this.p;return _n((n-=jr(e,r))/(r.fromCents?1:s),r)},multiply:function(e){var n=this.intValue,r=this.s;return _n((n*=e)/(r.fromCents?1:Ni(r.precision)),r)},divide:function(e){var n=this.intValue,r=this.s;return _n(n/=jr(e,r,!1),r)},distribute:function(e){for(var n=this.intValue,r=this.p,s=this.s,c=[],l=Math[n>=0?"floor":"ceil"](n/e),d=Math.abs(n-l*e),b=s.fromCents?1:r;e!==0;e--){var g=_n(l/b,s);d-- >0&&(g=g[n>=0?"add":"subtract"](1/b)),c.push(g)}return c},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,n=this.p;return~~(e%n)},format:function(e){var n=this.s;return typeof e=="function"?e(this,n):n.format(this,Object.assign({},n,e))},toString:function(){var e=this.intValue,n=this.p,r=this.s;return wl(e/n,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var Sl={exports:{}};(function(i){var e=function(n){var r=Object.prototype,s=r.hasOwnProperty,c=Object.defineProperty||function(k,S,j){k[S]=j.value},l,d=typeof Symbol=="function"?Symbol:{},b=d.iterator||"@@iterator",g=d.asyncIterator||"@@asyncIterator",v=d.toStringTag||"@@toStringTag";function w(k,S,j){return Object.defineProperty(k,S,{value:j,enumerable:!0,configurable:!0,writable:!0}),k[S]}try{w({},"")}catch{w=function(S,j,re){return S[j]=re}}function O(k,S,j,re){var T=S&&S.prototype instanceof W?S:W,ke=Object.create(T.prototype),Ae=new fe(re||[]);return c(ke,"_invoke",{value:he(k,j,Ae)}),ke}n.wrap=O;function H(k,S,j){try{return{type:"normal",arg:k.call(S,j)}}catch(re){return{type:"throw",arg:re}}}var $="suspendedStart",ee="suspendedYield",G="executing",N="completed",C={};function W(){}function E(){}function de(){}var ie={};w(ie,b,function(){return this});var Y=Object.getPrototypeOf,Se=Y&&Y(Y(te([])));Se&&Se!==r&&s.call(Se,b)&&(ie=Se);var le=de.prototype=W.prototype=Object.create(ie);E.prototype=de,c(le,"constructor",{value:de,configurable:!0}),c(de,"constructor",{value:E,configurable:!0}),E.displayName=w(de,v,"GeneratorFunction");function _e(k){["next","throw","return"].forEach(function(S){w(k,S,function(j){return this._invoke(S,j)})})}n.isGeneratorFunction=function(k){var S=typeof k=="function"&&k.constructor;return S?S===E||(S.displayName||S.name)==="GeneratorFunction":!1},n.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,de):(k.__proto__=de,w(k,v,"GeneratorFunction")),k.prototype=Object.create(le),k},n.awrap=function(k){return{__await:k}};function me(k,S){function j(ke,Ae,ye,Je){var xe=H(k[ke],k,Ae);if(xe.type==="throw")Je(xe.arg);else{var ve=xe.arg,J=ve.value;return J&&typeof J=="object"&&s.call(J,"__await")?S.resolve(J.__await).then(function(ge){j("next",ge,ye,Je)},function(ge){j("throw",ge,ye,Je)}):S.resolve(J).then(function(ge){ve.value=ge,ye(ve)},function(ge){return j("throw",ge,ye,Je)})}}var re;function T(ke,Ae){function ye(){return new S(function(Je,xe){j(ke,Ae,Je,xe)})}return re=re?re.then(ye,ye):ye()}c(this,"_invoke",{value:T})}_e(me.prototype),w(me.prototype,g,function(){return this}),n.AsyncIterator=me,n.async=function(k,S,j,re,T){T===void 0&&(T=Promise);var ke=new me(O(k,S,j,re),T);return n.isGeneratorFunction(S)?ke:ke.next().then(function(Ae){return Ae.done?Ae.value:ke.next()})};function he(k,S,j){var re=$;return function(ke,Ae){if(re===G)throw new Error("Generator is already running");if(re===N){if(ke==="throw")throw Ae;return De()}for(j.method=ke,j.arg=Ae;;){var ye=j.delegate;if(ye){var Je=we(ye,j);if(Je){if(Je===C)continue;return Je}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(re===$)throw re=N,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);re=G;var xe=H(k,S,j);if(xe.type==="normal"){if(re=j.done?N:ee,xe.arg===C)continue;return{value:xe.arg,done:j.done}}else xe.type==="throw"&&(re=N,j.method="throw",j.arg=xe.arg)}}}function we(k,S){var j=S.method,re=k.iterator[j];if(re===l)return S.delegate=null,j==="throw"&&k.iterator.return&&(S.method="return",S.arg=l,we(k,S),S.method==="throw")||j!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+j+"' method")),C;var T=H(re,k.iterator,S.arg);if(T.type==="throw")return S.method="throw",S.arg=T.arg,S.delegate=null,C;var ke=T.arg;if(!ke)return S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,C;if(ke.done)S[k.resultName]=ke.value,S.next=k.nextLoc,S.method!=="return"&&(S.method="next",S.arg=l);else return ke;return S.delegate=null,C}_e(le),w(le,v,"Generator"),w(le,b,function(){return this}),w(le,"toString",function(){return"[object Generator]"});function be(k){var S={tryLoc:k[0]};1 in k&&(S.catchLoc=k[1]),2 in k&&(S.finallyLoc=k[2],S.afterLoc=k[3]),this.tryEntries.push(S)}function ue(k){var S=k.completion||{};S.type="normal",delete S.arg,k.completion=S}function fe(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(be,this),this.reset(!0)}n.keys=function(k){var S=Object(k),j=[];for(var re in S)j.push(re);return j.reverse(),function T(){for(;j.length;){var ke=j.pop();if(ke in S)return T.value=ke,T.done=!1,T}return T.done=!0,T}};function te(k){if(k){var S=k[b];if(S)return S.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var j=-1,re=function T(){for(;++j<k.length;)if(s.call(k,j))return T.value=k[j],T.done=!1,T;return T.value=l,T.done=!0,T};return re.next=re}}return{next:De}}n.values=te;function De(){return{value:l,done:!0}}return fe.prototype={constructor:fe,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(ue),!k)for(var S in this)S.charAt(0)==="t"&&s.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=l)},stop:function(){this.done=!0;var k=this.tryEntries[0],S=k.completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var S=this;function j(Je,xe){return ke.type="throw",ke.arg=k,S.next=Je,xe&&(S.method="next",S.arg=l),!!xe}for(var re=this.tryEntries.length-1;re>=0;--re){var T=this.tryEntries[re],ke=T.completion;if(T.tryLoc==="root")return j("end");if(T.tryLoc<=this.prev){var Ae=s.call(T,"catchLoc"),ye=s.call(T,"finallyLoc");if(Ae&&ye){if(this.prev<T.catchLoc)return j(T.catchLoc,!0);if(this.prev<T.finallyLoc)return j(T.finallyLoc)}else if(Ae){if(this.prev<T.catchLoc)return j(T.catchLoc,!0)}else if(ye){if(this.prev<T.finallyLoc)return j(T.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(k,S){for(var j=this.tryEntries.length-1;j>=0;--j){var re=this.tryEntries[j];if(re.tryLoc<=this.prev&&s.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var T=re;break}}T&&(k==="break"||k==="continue")&&T.tryLoc<=S&&S<=T.finallyLoc&&(T=null);var ke=T?T.completion:{};return ke.type=k,ke.arg=S,T?(this.method="next",this.next=T.finallyLoc,C):this.complete(ke)},complete:function(k,S){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&S&&(this.next=S),C},finish:function(k){for(var S=this.tryEntries.length-1;S>=0;--S){var j=this.tryEntries[S];if(j.finallyLoc===k)return this.complete(j.completion,j.afterLoc),ue(j),C}},catch:function(k){for(var S=this.tryEntries.length-1;S>=0;--S){var j=this.tryEntries[S];if(j.tryLoc===k){var re=j.completion;if(re.type==="throw"){var T=re.arg;ue(j)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(k,S,j){return this.delegate={iterator:te(k),resultName:S,nextLoc:j},this.method==="next"&&(this.arg=l),C}},n}(i.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Sl);var Bi=(i,e)=>`${i}-${e}-${Math.random().toString(16).slice(3,8)}`;const Tl=Bi;let io=0;var Wo=({id:i,action:e,payload:n={}})=>{let r=i;return typeof r>"u"&&(r=Tl("Job",io),io+=1),{id:r,action:e,payload:n}},Wn={};let Ki=!1;Wn.logging=Ki;Wn.setLogging=i=>{Ki=i};Wn.log=(...i)=>Ki?console.log.apply(void 0,i):null;const Cl=Wo,{log:Br}=Wn,Al=Bi;let ao=0;var Ol=()=>{const i=Al("Scheduler",ao),e={},n={};let r=[];ao+=1;const s=()=>r.length,c=()=>Object.keys(e).length,l=()=>{if(r.length!==0){const w=Object.keys(e);for(let O=0;O<w.length;O+=1)if(typeof n[w[O]]>"u"){r[0](e[w[O]]);break}}},d=(w,O)=>new Promise((H,$)=>{const ee=Cl({action:w,payload:O});r.push(async G=>{r.shift(),n[G.id]=ee;try{H(await G[w].apply(void 0,[...O,ee.id]))}catch(N){$(N)}finally{delete n[G.id],l()}}),Br(`[${i}]: Add ${ee.id} to JobQueue`),Br(`[${i}]: JobQueue length=${r.length}`),l()});return{addWorker:w=>(e[w.id]=w,Br(`[${i}]: Add ${w.id}`),Br(`[${i}]: Number of workers=${c()}`),l(),w.id),addJob:async(w,...O)=>{if(c()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return d(w,O)},terminate:async()=>{Object.keys(e).forEach(async w=>{await e[w].terminate()}),r=[]},getQueueLen:s,getNumWorkers:c}};function Pl(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Il=i=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Pl=="function"&&(e.type="node"),typeof i>"u"?e:e[i]};const Ml=Il("type")==="browser",Ll=Ml?i=>new URL(i,window.location.href).href:i=>i;var Rl=i=>{const e={...i};return["corePath","workerPath","langPath"].forEach(n=>{i[n]&&(e[n]=Ll(e[n]))}),e},Go={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Nl="tesseract.js",Bl="6.0.0",Kl="Pure Javascript Multilingual OCR",Fl="src/index.js",jl="src/index.d.ts",Vl="dist/tesseract.min.js",zl="dist/tesseract.min.js",xl={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},Hl={"./src/worker/node/index.js":"./src/worker/browser/index.js"},ql="",Ul=["jeromewu"],Wl="Apache-2.0",Gl={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},Yl={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},Zl={"@rollup/pluginutils":"^5.0.2"},Jl={type:"git",url:"https://github.com/naptha/tesseract.js.git"},Ql={url:"https://github.com/naptha/tesseract.js/issues"},Xl="https://github.com/naptha/tesseract.js",$l={type:"opencollective",url:"https://opencollective.com/tesseractjs"},eu={name:Nl,version:Bl,description:Kl,main:Fl,types:jl,unpkg:Vl,jsdelivr:zl,scripts:xl,browser:Hl,author:ql,contributors:Ul,license:Wl,devDependencies:Gl,dependencies:Yl,overrides:Zl,repository:Jl,bugs:Ql,homepage:Xl,collective:$l};var tu={workerBlobURL:!0,logger:()=>{}};const nu=eu.version,ru=tu;var iu={...ru,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${nu}/dist/worker.min.js`},au=({workerPath:i,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const r=new Blob([`importScripts("${i}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(i);return n},ou=i=>{i.terminate()},su=(i,e)=>{i.onmessage=({data:n})=>{e(n)}},lu=async(i,e)=>{i.postMessage(e)};const Ai=i=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:s}}})=>{n(Error(`File could not be read! Code=${s}`))},r.readAsArrayBuffer(i)}),Ri=async i=>{let e=i;if(typeof i>"u")return"undefined";if(typeof i=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(i)?e=atob(i.split(",")[1]).split("").map(n=>n.charCodeAt(0)):e=await(await fetch(i)).arrayBuffer();else if(typeof HTMLElement<"u"&&i instanceof HTMLElement)i.tagName==="IMG"&&(e=await Ri(i.src)),i.tagName==="VIDEO"&&(e=await Ri(i.poster)),i.tagName==="CANVAS"&&await new Promise(n=>{i.toBlob(async r=>{e=await Ai(r),n()})});else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas){const n=await i.convertToBlob();e=await Ai(n)}else(i instanceof File||i instanceof Blob)&&(e=await Ai(i));return new Uint8Array(e)};var uu=Ri;const cu=iu,fu=au,du=ou,hu=su,pu=lu,mu=uu;var gu={defaultOptions:cu,spawnWorker:fu,terminateWorker:du,onMessage:hu,send:pu,loadImage:mu};const vu=Rl,gn=Wo,{log:oo}=Wn,_u=Bi,Rn=Go,{defaultOptions:yu,spawnWorker:bu,terminateWorker:wu,onMessage:ku,loadImage:so,send:Du}=gu;let lo=0;var Yo=async(i="eng",e=Rn.LSTM_ONLY,n={},r={})=>{const s=_u("Worker",lo),{logger:c,errorHandler:l,...d}=vu({...yu,...n}),b={},g=typeof i=="string"?i.split("+"):i;let v=e,w=r;const O=[Rn.DEFAULT,Rn.LSTM_ONLY].includes(e)&&!d.legacyCore;let H,$;const ee=new Promise((te,De)=>{$=te,H=De}),G=te=>{H(te.message)};let N=bu(d);N.onerror=G,lo+=1;const C=({id:te,action:De,payload:k})=>new Promise((S,j)=>{oo(`[${s}]: Start ${te}, action=${De}`);const re=`${De}-${te}`;b[re]={resolve:S,reject:j},Du(N,{workerId:s,jobId:te,action:De,payload:k})}),W=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),E=te=>C(gn({id:te,action:"load",payload:{options:{lstmOnly:O,corePath:d.corePath,logging:d.logging}}})),de=(te,De,k)=>C(gn({id:k,action:"FS",payload:{method:"writeFile",args:[te,De]}})),ie=(te,De)=>C(gn({id:De,action:"FS",payload:{method:"readFile",args:[te,{encoding:"utf8"}]}})),Y=(te,De)=>C(gn({id:De,action:"FS",payload:{method:"unlink",args:[te]}})),Se=(te,De,k)=>C(gn({id:k,action:"FS",payload:{method:te,args:De}})),le=(te,De)=>C(gn({id:De,action:"loadLanguage",payload:{langs:te,options:{langPath:d.langPath,dataPath:d.dataPath,cachePath:d.cachePath,cacheMethod:d.cacheMethod,gzip:d.gzip,lstmOnly:[Rn.DEFAULT,Rn.LSTM_ONLY].includes(v)&&!d.legacyLang}}})),_e=(te,De,k,S)=>C(gn({id:S,action:"initialize",payload:{langs:te,oem:De,config:k}})),me=(te="eng",De,k,S)=>{if(O&&[Rn.TESSERACT_ONLY,Rn.TESSERACT_LSTM_COMBINED].includes(De))throw Error("Legacy model requested but code missing.");const j=De||v;v=j;const re=k||w;w=re;const ke=(typeof te=="string"?te.split("+"):te).filter(Ae=>!g.includes(Ae));return g.push(...ke),ke.length>0?le(ke,S).then(()=>_e(te,j,re,S)):_e(te,j,re,S)},he=(te={},De)=>C(gn({id:De,action:"setParameters",payload:{params:te}})),we=async(te,De={},k={text:!0},S)=>C(gn({id:S,action:"recognize",payload:{image:await so(te),options:De,output:k}})),be=async(te,De)=>{if(O)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return C(gn({id:De,action:"detect",payload:{image:await so(te)}}))},ue=async()=>(N!==null&&(wu(N),N=null),Promise.resolve());ku(N,({workerId:te,jobId:De,status:k,action:S,data:j})=>{const re=`${S}-${De}`;if(k==="resolve")oo(`[${te}]: Complete ${De}`),b[re].resolve({jobId:De,data:j}),delete b[re];else if(k==="reject")if(b[re].reject(j),delete b[re],S==="load"&&H(j),l)l(j);else throw Error(j);else k==="progress"&&c({...j,userJobId:De})});const fe={id:s,worker:N,load:W,writeText:de,readText:ie,removeFile:Y,FS:Se,reinitialize:me,setParameters:he,recognize:we,detect:be,terminate:ue};return E().then(()=>le(i)).then(()=>_e(i,e,r)).then(()=>$(fe)).catch(()=>{}),ee};const Zo=Yo,Eu=async(i,e,n)=>{const r=await Zo(e,1,n);return r.recognize(i).finally(async()=>{await r.terminate()})},Su=async(i,e)=>{const n=await Zo("osd",0,e);return n.detect(i).finally(async()=>{await n.terminate()})};var Tu={recognize:Eu,detect:Su},Cu={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Au={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Ou=Ol,Pu=Yo,Iu=Tu,Mu=Cu,Lu=Go,Ru=Au,{setLogging:Nu}=Wn;var Bu={languages:Mu,OEM:Lu,PSM:Ru,createScheduler:Ou,createWorker:Pu,setLogging:Nu,...Iu};const uo=zo(Bu);function co(i,e,n){const r=i.slice();return r[30]=e[n],r}function fo(i,e,n){const r=i.slice();return r[33]=e[n],r}function ho(i,e,n){const r=i.slice();return r[36]=e[n],r}function po(i,e,n){const r=i.slice();return r[39]=e[n],r}function mo(i){let e,n,r,s,c,l,d,b,g,v,w,O="Receipt description",H,$,ee,G,N,C,W,E="Receipt Date",de,ie,Y,Se,le,_e,me="Receipt value:",he,we,be,ue,fe,te,De,k="Receipt Type",S,j,re,T="--Please choose type--",ke,Ae,ye,Je="Receipt Currency",xe,ve,J,ge,Ee,Be,qe="Scanning image...",F,He,Ie,ce,Ue,pt="Stop scan and enter manually",mt,Tt,rt,lt,Fe,je,It,Xe;function Gt(X,Ve){return X[1]?Fu:Ku}let Yt=Gt(i),gt=Yt(i);function qt(X,Ve){return X[9]?Vu:ju}let sn=qt(i),Ct=sn(i);function Ke(X,Ve){return X[1]?xu:zu}let Ut=Ke(i),vt=Ut(i),ln=$e(i[2]),Te=[];for(let X=0;X<ln.length;X+=1)Te[X]=go(po(i,ln,X));function Gn(X){i[19](X)}let Yn={format:"yyyy-MM-dd",closeOnSelection:!0,id:"rDate"};i[4]!==void 0&&(Yn.value=i[4]),ie=new pr({props:Yn}),$t.push(()=>Kn(ie,"value",Gn));let dn=$e(i[3]),Ot=[];for(let X=0;X<dn.length;X+=1)Ot[X]=vo(ho(i,dn,X));let hn=$e(Object.values(Mi)),Pt=[];for(let X=0;X<hn.length;X+=1)Pt[X]=_o(fo(i,hn,X));let Sn=$e(Object.keys(Et)),_t=[];for(let X=0;X<Sn.length;X+=1)_t[X]=yo(co(i,Sn,X));function bn(X,Ve){return X[1]?qu:Hu}let Tn=bn(i),Rt=Tn(i);return{c(){gt.c(),e=ae(),Ct.c(),n=ae(),r=P("div"),s=P("input"),c=ae(),l=P("div"),d=P("div"),vt.c(),b=ae(),g=P("div"),v=P("div"),w=P("label"),w.textContent=O,H=ae(),$=P("input"),ee=ae(),G=P("datalist");for(let X=0;X<Te.length;X+=1)Te[X].c();N=ae(),C=P("div"),W=P("label"),W.textContent=E,de=ae(),jt(ie.$$.fragment),Se=ae(),le=P("div"),_e=P("label"),_e.textContent=me,he=ae(),we=P("input"),be=ae(),ue=P("datalist");for(let X=0;X<Ot.length;X+=1)Ot[X].c();fe=ae(),te=P("div"),De=P("label"),De.textContent=k,S=ae(),j=P("select"),re=P("option"),re.textContent=T;for(let X=0;X<Pt.length;X+=1)Pt[X].c();ke=ae(),Ae=P("div"),ye=P("label"),ye.textContent=Je,xe=ae(),ve=P("select");for(let X=0;X<_t.length;X+=1)_t[X].c();J=ae(),Rt.c(),ge=ae(),Ee=P("div"),Be=P("h4"),Be.textContent=qe,F=ae(),He=P("div"),Ie=P("div"),ce=ae(),Ue=P("button"),Ue.textContent=pt,mt=ae(),Tt=P("div"),rt=P("a"),lt=Oe("Cancel"),this.h()},l(X){gt.l(X),e=oe(X),Ct.l(X),n=oe(X),r=I(X,"DIV",{class:!0});var Ve=q(r);s=I(Ve,"INPUT",{id:!0,type:!0,accept:!0}),Ve.forEach(_),c=oe(X),l=I(X,"DIV",{id:!0});var ut=q(l);d=I(ut,"DIV",{class:!0});var ze=q(d);vt.l(ze),ze.forEach(_),b=oe(ut),g=I(ut,"DIV",{class:!0});var ct=q(g);v=I(ct,"DIV",{class:!0});var un=q(v);w=I(un,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(w)!=="svelte-1glg0dd"&&(w.textContent=O),H=oe(un),$=I(un,"INPUT",{class:!0,list:!0,id:!0,name:!0,placeholder:!0}),ee=oe(un),G=I(un,"DATALIST",{id:!0});var gr=q(G);for(let kt=0;kt<Te.length;kt+=1)Te[kt].l(gr);gr.forEach(_),un.forEach(_),N=oe(ct),C=I(ct,"DIV",{class:!0});var Zt=q(C);W=I(Zt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(W)!=="svelte-cn0bms"&&(W.textContent=E),de=oe(Zt),Vt(ie.$$.fragment,Zt),Zt.forEach(_),Se=oe(ct),le=I(ct,"DIV",{class:!0});var Jt=q(le);_e=I(Jt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(_e)!=="svelte-1y6fy9c"&&(_e.textContent=me),he=oe(Jt),we=I(Jt,"INPUT",{class:!0,list:!0,id:!0,name:!0,type:!0,step:!0,placeholder:!0}),be=oe(Jt),ue=I(Jt,"DATALIST",{id:!0});var cn=q(ue);for(let kt=0;kt<Ot.length;kt+=1)Ot[kt].l(cn);cn.forEach(_),Jt.forEach(_),fe=oe(ct),te=I(ct,"DIV",{class:!0});var wn=q(te);De=I(wn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(De)!=="svelte-1vxf1l8"&&(De.textContent=k),S=oe(wn),j=I(wn,"SELECT",{id:!0,class:!0});var Zn=q(j);re=I(Zn,"OPTION",{"data-svelte-h":!0}),Ge(re)!=="svelte-ua8958"&&(re.textContent=T);for(let kt=0;kt<Pt.length;kt+=1)Pt[kt].l(Zn);Zn.forEach(_),wn.forEach(_),ke=oe(ct),Ae=I(ct,"DIV",{class:!0});var Qt=q(Ae);ye=I(Qt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ge(ye)!=="svelte-15s44q2"&&(ye.textContent=Je),xe=oe(Qt),ve=I(Qt,"SELECT",{id:!0,class:!0});var Jn=q(ve);for(let kt=0;kt<_t.length;kt+=1)_t[kt].l(Jn);Jn.forEach(_),Qt.forEach(_),J=oe(ct),Rt.l(ct),ct.forEach(_),ut.forEach(_),ge=oe(X),Ee=I(X,"DIV",{class:!0});var Wt=q(Ee);Be=I(Wt,"H4",{"data-svelte-h":!0}),Ge(Be)!=="svelte-7jxjwi"&&(Be.textContent=qe),F=oe(Wt),He=I(Wt,"DIV",{class:!0});var Qn=q(He);Ie=I(Qn,"DIV",{class:!0,style:!0,role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),q(Ie).forEach(_),Qn.forEach(_),ce=oe(Wt),Ue=I(Wt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ge(Ue)!=="svelte-1741erf"&&(Ue.textContent=pt),Wt.forEach(_),mt=oe(X),Tt=I(X,"DIV",{class:!0});var Fn=q(Tt);rt=I(Fn,"A",{href:!0,class:!0});var yt=q(rt);lt=Pe(yt,"Cancel"),yt.forEach(_),Fn.forEach(_),this.h()},h(){p(s,"id","imageInput"),p(s,"type","file"),p(s,"accept","image/*;capture=camera"),p(r,"class","mb-3"),p(d,"class","img-scan d-flex col-md-6 col-sm-12"),p(w,"for","rDesc"),p(w,"class","form-label"),p($,"class","form-control"),p($,"list","descOptions"),p($,"id","rDesc"),p($,"name","rDesc"),p($,"placeholder","Double-click for suggestions"),p(G,"id","descOptions"),p(v,"class","mb-3"),p(W,"for","rDate"),p(W,"class","form-label"),p(C,"class","mb-3"),p(_e,"for","rVal"),p(_e,"class","form-label"),p(we,"class","form-control"),p(we,"list","valOptions"),p(we,"id","rVal"),p(we,"name","rVal"),p(we,"type","number"),p(we,"step","0.01"),p(we,"placeholder","Double-click for suggestions"),p(ue,"id","valOptions"),p(le,"class","mb-3"),p(De,"for","rType"),p(De,"class","form-label"),re.selected=!0,re.__value="--Please choose type--",ht(re,re.__value),p(j,"id","rType"),p(j,"class","form-control"),i[8]===void 0&&dr(()=>i[21].call(j)),p(te,"class","mb-3"),p(ye,"for","rCurrency"),p(ye,"class","form-label"),p(ve,"id","rCurrency"),p(ve,"class","form-control"),i[5]===void 0&&dr(()=>i[22].call(ve)),p(Ae,"class","mb-3"),p(g,"class","d-flex flex-column col-md-6 col-sm-12"),p(l,"id","receiptEntry"),St(l,"show",i[10]),p(Ie,"class","progress-bar"),Bn(Ie,"width",i[11]+"%"),p(Ie,"role","progressbar"),p(Ie,"aria-valuenow",i[11]),p(Ie,"aria-valuemin","0"),p(Ie,"aria-valuemax","100"),p(He,"class","progress"),p(Ue,"class","d-block mt-3 btn btn-outline-primary"),p(Ee,"class","flex-column hide"),St(Ee,"show",!i[10]&&i[9]),p(rt,"href",Fe="#/trip/"+i[0].id),p(rt,"class","btn btn-outline-primary"),p(Tt,"class","mt-3 d-grid d-md-block")},m(X,Ve){gt.m(X,Ve),se(X,e,Ve),Ct.m(X,Ve),se(X,n,Ve),se(X,r,Ve),m(r,s),se(X,c,Ve),se(X,l,Ve),m(l,d),vt.m(d,null),m(l,b),m(l,g),m(g,v),m(v,w),m(v,H),m(v,$),ht($,i[6]),m(v,ee),m(v,G);for(let ut=0;ut<Te.length;ut+=1)Te[ut]&&Te[ut].m(G,null);m(g,N),m(g,C),m(C,W),m(C,de),zt(ie,C,null),m(g,Se),m(g,le),m(le,_e),m(le,he),m(le,we),ht(we,i[7]),m(le,be),m(le,ue);for(let ut=0;ut<Ot.length;ut+=1)Ot[ut]&&Ot[ut].m(ue,null);m(g,fe),m(g,te),m(te,De),m(te,S),m(te,j),m(j,re);for(let ut=0;ut<Pt.length;ut+=1)Pt[ut]&&Pt[ut].m(j,null);rn(j,i[8],!0),m(g,ke),m(g,Ae),m(Ae,ye),m(Ae,xe),m(Ae,ve);for(let ut=0;ut<_t.length;ut+=1)_t[ut]&&_t[ut].m(ve,null);rn(ve,i[5],!0),m(g,J),Rt.m(g,null),se(X,ge,Ve),se(X,Ee,Ve),m(Ee,Be),m(Ee,F),m(Ee,He),m(He,Ie),m(Ee,ce),m(Ee,Ue),se(X,mt,Ve),se(X,Tt,Ve),m(Tt,rt),m(rt,lt),je=!0,It||(Xe=[We(s,"change",i[15]),We($,"input",i[18]),We(we,"input",i[20]),We(j,"change",i[21]),We(ve,"change",i[22]),We(Ue,"click",i[23])],It=!0)},p(X,Ve){if(Yt===(Yt=Gt(X))&&gt?gt.p(X,Ve):(gt.d(1),gt=Yt(X),gt&&(gt.c(),gt.m(e.parentNode,e))),sn!==(sn=qt(X))&&(Ct.d(1),Ct=sn(X),Ct&&(Ct.c(),Ct.m(n.parentNode,n))),Ut===(Ut=Ke(X))&&vt?vt.p(X,Ve):(vt.d(1),vt=Ut(X),vt&&(vt.c(),vt.m(d,null))),Ve[0]&64&&$.value!==X[6]&&ht($,X[6]),Ve[0]&4){ln=$e(X[2]);let ze;for(ze=0;ze<ln.length;ze+=1){const ct=po(X,ln,ze);Te[ze]?Te[ze].p(ct,Ve):(Te[ze]=go(ct),Te[ze].c(),Te[ze].m(G,null))}for(;ze<Te.length;ze+=1)Te[ze].d(1);Te.length=ln.length}const ut={};if(!Y&&Ve[0]&16&&(Y=!0,ut.value=X[4],Nn(()=>Y=!1)),ie.$set(ut),Ve[0]&128&&jo(we.value)!==X[7]&&ht(we,X[7]),Ve[0]&8){dn=$e(X[3]);let ze;for(ze=0;ze<dn.length;ze+=1){const ct=ho(X,dn,ze);Ot[ze]?Ot[ze].p(ct,Ve):(Ot[ze]=vo(ct),Ot[ze].c(),Ot[ze].m(ue,null))}for(;ze<Ot.length;ze+=1)Ot[ze].d(1);Ot.length=dn.length}if(Ve&0){hn=$e(Object.values(Mi));let ze;for(ze=0;ze<hn.length;ze+=1){const ct=fo(X,hn,ze);Pt[ze]?Pt[ze].p(ct,Ve):(Pt[ze]=_o(ct),Pt[ze].c(),Pt[ze].m(j,null))}for(;ze<Pt.length;ze+=1)Pt[ze].d(1);Pt.length=hn.length}if(Ve[0]&256&&rn(j,X[8]),Ve&0){Sn=$e(Object.keys(Et));let ze;for(ze=0;ze<Sn.length;ze+=1){const ct=co(X,Sn,ze);_t[ze]?_t[ze].p(ct,Ve):(_t[ze]=yo(ct),_t[ze].c(),_t[ze].m(ve,null))}for(;ze<_t.length;ze+=1)_t[ze].d(1);_t.length=Sn.length}Ve[0]&32&&rn(ve,X[5]),Tn===(Tn=bn(X))&&Rt?Rt.p(X,Ve):(Rt.d(1),Rt=Tn(X),Rt&&(Rt.c(),Rt.m(g,null))),(!je||Ve[0]&1024)&&St(l,"show",X[10]),(!je||Ve[0]&2048)&&Bn(Ie,"width",X[11]+"%"),(!je||Ve[0]&2048)&&p(Ie,"aria-valuenow",X[11]),(!je||Ve[0]&1536)&&St(Ee,"show",!X[10]&&X[9]),(!je||Ve[0]&1&&Fe!==(Fe="#/trip/"+X[0].id))&&p(rt,"href",Fe)},i(X){je||(it(ie.$$.fragment,X),je=!0)},o(X){st(ie.$$.fragment,X),je=!1},d(X){X&&(_(e),_(n),_(r),_(c),_(l),_(ge),_(Ee),_(mt),_(Tt)),gt.d(X),Ct.d(X),vt.d(),Ft(Te,X),xt(ie),Ft(Ot,X),Ft(Pt,X),Ft(_t,X),Rt.d(),It=!1,yn(Xe)}}}function Ku(i){let e,n,r=i[0].name+"",s,c;return{c(){e=P("h1"),n=Oe('Add Receipt to "'),s=Oe(r),c=Oe('"')},l(l){e=I(l,"H1",{});var d=q(e);n=Pe(d,'Add Receipt to "'),s=Pe(d,r),c=Pe(d,'"'),d.forEach(_)},m(l,d){se(l,e,d),m(e,n),m(e,s),m(e,c)},p(l,d){d[0]&1&&r!==(r=l[0].name+"")&&Ye(s,r)},d(l){l&&_(e)}}}function Fu(i){let e,n,r=i[1].description+"",s,c;return{c(){e=P("h1"),n=Oe('Update Receipt for "'),s=Oe(r),c=Oe('"')},l(l){e=I(l,"H1",{});var d=q(e);n=Pe(d,'Update Receipt for "'),s=Pe(d,r),c=Pe(d,'"'),d.forEach(_)},m(l,d){se(l,e,d),m(e,n),m(e,s),m(e,c)},p(l,d){d[0]&2&&r!==(r=l[1].description+"")&&Ye(s,r)},d(l){l&&_(e)}}}function ju(i){let e,n="Choose image to begin";return{c(){e=P("p"),e.textContent=n},l(r){e=I(r,"P",{"data-svelte-h":!0}),Ge(e)!=="svelte-1rdbglw"&&(e.textContent=n)},m(r,s){se(r,e,s)},d(r){r&&_(e)}}}function Vu(i){let e,n="Click 'Browse' to start again";return{c(){e=P("p"),e.textContent=n},l(r){e=I(r,"P",{"data-svelte-h":!0}),Ge(e)!=="svelte-1raiglx"&&(e.textContent=n)},m(r,s){se(r,e,s)},d(r){r&&_(e)}}}function zu(i){let e;return{c(){e=P("img"),this.h()},l(n){e=I(n,"IMG",{id:!0,class:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),p(e,"alt","Your chosen receipt")},m(n,r){se(n,e,r)},p:ft,d(n){n&&_(e)}}}function xu(i){let e,n;return{c(){e=P("img"),this.h()},l(r){e=I(r,"IMG",{id:!0,class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),xr(e.src,n=i[9])||p(e,"src",n),p(e,"alt","Your chosen receipt")},m(r,s){se(r,e,s)},p(r,s){s[0]&512&&!xr(e.src,n=r[9])&&p(e,"src",n)},d(r){r&&_(e)}}}function go(i){let e,n;return{c(){e=P("option"),this.h()},l(r){e=I(r,"OPTION",{}),q(e).forEach(_),this.h()},h(){e.__value=n=i[39],ht(e,e.__value)},m(r,s){se(r,e,s)},p(r,s){s[0]&4&&n!==(n=r[39])&&(e.__value=n,ht(e,e.__value))},d(r){r&&_(e)}}}function vo(i){let e,n=i[36]+"",r,s;return{c(){e=P("option"),r=Oe(n),this.h()},l(c){e=I(c,"OPTION",{});var l=q(e);r=Pe(l,n),l.forEach(_),this.h()},h(){e.__value=s=i[36],ht(e,e.__value)},m(c,l){se(c,e,l),m(e,r)},p(c,l){l[0]&8&&n!==(n=c[36]+"")&&Ye(r,n),l[0]&8&&s!==(s=c[36])&&(e.__value=s,ht(e,e.__value))},d(c){c&&_(e)}}}function _o(i){let e,n=i[33]+"",r;return{c(){e=P("option"),r=Oe(n),this.h()},l(s){e=I(s,"OPTION",{});var c=q(e);r=Pe(c,n),c.forEach(_),this.h()},h(){e.__value=i[33],ht(e,e.__value)},m(s,c){se(s,e,c),m(e,r)},p:ft,d(s){s&&_(e)}}}function yo(i){let e,n=i[30]+"",r,s,c=Et[i[30]].symbol+"",l,d;return{c(){e=P("option"),r=Oe(n),s=Oe(" ("),l=Oe(c),d=Oe(`)
                `),this.h()},l(b){e=I(b,"OPTION",{});var g=q(e);r=Pe(g,n),s=Pe(g," ("),l=Pe(g,c),d=Pe(g,`)
                `),g.forEach(_),this.h()},h(){e.__value=i[30],ht(e,e.__value)},m(b,g){se(b,e,g),m(e,r),m(e,s),m(e,l),m(e,d)},p:ft,d(b){b&&_(e)}}}function Hu(i){let e,n="Add Receipt",r,s;return{c(){e=P("button"),e.textContent=n,this.h()},l(c){e=I(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Ge(e)!=="svelte-1059pct"&&(e.textContent=n),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-primary")},m(c,l){se(c,e,l),r||(s=We(e,"click",i[12]),r=!0)},p:ft,d(c){c&&_(e),r=!1,s()}}}function qu(i){let e,n="Update Receipt",r,s;return{c(){e=P("button"),e.textContent=n,this.h()},l(c){e=I(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Ge(e)!=="svelte-jbq1gp"&&(e.textContent=n),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-primary")},m(c,l){se(c,e,l),r||(s=We(e,"click",i[13]),r=!0)},p:ft,d(c){c&&_(e),r=!1,s()}}}function Uu(i){let e,n,r=i[0]&&mo(i);return{c(){e=P("div"),r&&r.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var c=q(e);r&&r.l(c),c.forEach(_),this.h()},h(){p(e,"class","w-100")},m(s,c){se(s,e,c),r&&r.m(e,null),n=!0},p(s,c){s[0]?r?(r.p(s,c),c[0]&1&&it(r,1)):(r=mo(s),r.c(),it(r,1),r.m(e,null)):r&&(qn(),st(r,1,1,()=>{r=null}),Un())},i(s){n||(it(r),n=!0)},o(s){st(r),n=!1},d(s){s&&_(e),r&&r.d()}}}function Wu(i){return/,\d{2}$/.test(i)}function bo(i,e){if(i.src.startsWith("data:image/jpeg;base64"))return i.src;const n=document.createElement("canvas"),r=n.getContext("2d");return n.width=i.width,n.height=i.height,r.drawImage(i,0,0,i.width,i.height),n.toDataURL("image/jpeg",e)}function Gu(i,e,n){const{createWorker:r}=uo;let{tripId:s}=e,{receiptId:c}=e,l,d,b=[],g=[],v=new Date,w,O,H,$,ee,G,N,C=!1,W=0,E;s>-1&&Dt.trips.get(s).then(te=>{n(0,l=te),c<0&&n(5,w=l.defaultCurrency)}),c>-1&&Dt.receipts.get(c).then(te=>{n(1,d=te),n(4,v=new Date(d.receiptDateString)),n(5,w=d.currency),n(6,O=d.description),n(7,H=d.total),n(8,$=d.receiptType),n(9,ee=d.imageData),n(10,C=!0)});async function de(){const te=document.getElementById("imgChosen");N=te.naturalWidth,G=te.naturalHeight,n(9,ee=bo(te,.7)),await Dt.receipts.add({description:O,currency:w,receiptDate:v,receiptDateString:v.toDateString(),receiptType:$,total:H,tripId:s,imageData:ee,imageHeight:G,imageWidth:N}),window.location.href="#/trip/"+s}async function ie(){const te=document.getElementById("imgChosen");N=te.naturalWidth,G=te.naturalHeight,n(9,ee=bo(te,.7)),await Dt.receipts.update(d.id,{description:O,currency:w,receiptDate:v,receiptDateString:v.toDateString(),receiptType:$,total:H,tripId:d.tripId,imageData:ee,imageHeight:G,imageWidth:N}),window.location.href="#/trip/"+d.tripId}function Y(te){te.status=="recognizing text"&&n(11,W=Math.floor(te.progress*100))}async function Se(te){E=await r("eng",1,{logger:k=>Y(k)}),await E.setParameters({tessedit_pageseg_mode:uo.PSM.SPARSE_TEXT});var De=await E.recognize(te,{},{blocks:!0});return De.data.blocks?De.data.blocks:[]}async function le(te){n(11,W=0),!C&&E&&await E.terminate(),te&&n(10,C=!0)}async function _e(te){n(2,b=[]),n(3,g=[]),n(10,C=!1),await le(!1);var De=te.target.files[0],k=URL.createObjectURL(De);const S=document.getElementById("imgChosen");S.src=k,n(9,ee=k);var j=await Se(k);for(let re of j){if(re.confidence<40)continue;let T=re.text.trim();b.push(T);let ke=_n(T,{decimal:Wu(T)?",":"."});ke.value>0&&g.push(ke.format({symbol:"",separator:"",decimal:"."}))}n(2,b),n(3,g=g.reverse()),n(10,C=!0)}Ds(()=>{le(!1)});function me(){O=this.value,n(6,O)}function he(te){v=te,n(4,v)}function we(){H=jo(this.value),n(7,H)}function be(){$=zr(this),n(8,$)}function ue(){w=zr(this),n(5,w)}const fe=()=>le(!0);return i.$$set=te=>{"tripId"in te&&n(16,s=te.tripId),"receiptId"in te&&n(17,c=te.receiptId)},[l,d,b,g,v,w,O,H,$,ee,C,W,de,ie,le,_e,s,c,me,he,we,be,ue,fe]}class Jo extends an{constructor(e){super(),on(this,e,Gu,Uu,en,{tripId:16,receiptId:17},null,[-1,-1])}}function wo(i){let e,n="Your most recent trip:",r,s,c,l,d,b,g=i[0].name+"",v,w,O,H=i[0].startDateString+"",$,ee,G=i[0].endDateString+"",N,C;return{c(){e=P("h4"),e.textContent=n,r=ae(),s=P("div"),c=P("div"),l=P("a"),d=P("div"),b=P("strong"),v=Oe(g),w=ae(),O=P("div"),$=Oe(H),ee=Oe(" - "),N=Oe(G),this.h()},l(W){e=I(W,"H4",{"data-svelte-h":!0}),Ge(e)!=="svelte-1dpo13w"&&(e.textContent=n),r=oe(W),s=I(W,"DIV",{class:!0});var E=q(s);c=I(E,"DIV",{class:!0});var de=q(c);l=I(de,"A",{href:!0,class:!0});var ie=q(l);d=I(ie,"DIV",{class:!0});var Y=q(d);b=I(Y,"STRONG",{class:!0});var Se=q(b);v=Pe(Se,g),Se.forEach(_),w=oe(Y),O=I(Y,"DIV",{class:!0});var le=q(O);$=Pe(le,H),ee=Pe(le," - "),N=Pe(le,G),le.forEach(_),Y.forEach(_),ie.forEach(_),de.forEach(_),E.forEach(_),this.h()},h(){p(b,"class","mb-1"),p(O,"class","col-10 mb-1 text-center"),p(d,"class","d-flex w-100 align-items-center justify-content-between flex-column"),p(l,"href",C="#/trip/"+i[0].id),p(l,"class","py-3 lh-sm m-2 welcomeTrip"),p(c,"class","col-lg-6 col-md-12"),p(s,"class","row")},m(W,E){se(W,e,E),se(W,r,E),se(W,s,E),m(s,c),m(c,l),m(l,d),m(d,b),m(b,v),m(d,w),m(d,O),m(O,$),m(O,ee),m(O,N)},p(W,E){E&1&&g!==(g=W[0].name+"")&&Ye(v,g),E&1&&H!==(H=W[0].startDateString+"")&&Ye($,H),E&1&&G!==(G=W[0].endDateString+"")&&Ye(N,G),E&1&&C!==(C="#/trip/"+W[0].id)&&p(l,"href",C)},d(W){W&&(_(e),_(r),_(s))}}}function Yu(i){let e,n,r="Welcome!",s,c,l="Create a trip using the button at the top",d,b,g="Or add receipts by selecting a trip",v,w=i[0]&&wo(i);return{c(){e=P("div"),n=P("h1"),n.textContent=r,s=ae(),c=P("p"),c.textContent=l,d=ae(),b=P("p"),b.textContent=g,v=ae(),w&&w.c(),this.h()},l(O){e=I(O,"DIV",{class:!0});var H=q(e);n=I(H,"H1",{"data-svelte-h":!0}),Ge(n)!=="svelte-w9d2nb"&&(n.textContent=r),s=oe(H),c=I(H,"P",{"data-svelte-h":!0}),Ge(c)!=="svelte-xbo4ew"&&(c.textContent=l),d=oe(H),b=I(H,"P",{"data-svelte-h":!0}),Ge(b)!=="svelte-1g1vmu2"&&(b.textContent=g),v=oe(H),w&&w.l(H),H.forEach(_),this.h()},h(){p(e,"class","col-sm-12")},m(O,H){se(O,e,H),m(e,n),m(e,s),m(e,c),m(e,d),m(e,b),m(e,v),w&&w.m(e,null)},p(O,[H]){O[0]?w?w.p(O,H):(w=wo(O),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i:ft,o:ft,d(O){O&&_(e),w&&w.d()}}}function Zu(i,e,n){let r,s=mr(()=>Dt.trips.orderBy("endDate").reverse().first());return Hn(i,s,c=>n(0,r=c)),[r,s]}class Ju extends an{constructor(e){super(),on(this,e,Zu,Yu,en,{})}}function ko(i,e,n){const r=i.slice();return r[8]=e[n],r}function Do(i,e,n){const r=i.slice();return r[11]=e[n],r}function Eo(i,e,n){const r=i.slice();return r[8]=e[n],r}function Oi(i){const e=i.slice(),n=Array.from(new Set(e[3].map(r=>r.currency)));return e[7]=n,e}function So(i){let e,n,r="After clicking 'Export/Print', you should be able to print/save to PDF",s,c,l,d,b,g,v,w="Export/Print",O,H,$=i[0].name+"",ee,G,N,C=i[0].startDateString+"",W,E,de=i[0].endDateString+"",ie,Y,Se,le="Receipt Summary",_e,me,he,we,be=i[3]&&To(Oi(i));return{c(){e=P("div"),n=P("p"),n.textContent=r,s=ae(),c=P("p"),l=P("label"),d=P("input"),b=Oe(`
            Include notes`),g=ae(),v=P("button"),v.textContent=w,O=ae(),H=P("h1"),ee=Oe($),G=ae(),N=P("h4"),W=Oe(C),E=Oe(" - "),ie=Oe(de),Y=ae(),Se=P("h5"),Se.textContent=le,_e=ae(),be&&be.c(),me=Lt(),this.h()},l(ue){e=I(ue,"DIV",{class:!0,id:!0});var fe=q(e);n=I(fe,"P",{"data-svelte-h":!0}),Ge(n)!=="svelte-drk65c"&&(n.textContent=r),s=oe(fe),c=I(fe,"P",{});var te=q(c);l=I(te,"LABEL",{});var De=q(l);d=I(De,"INPUT",{type:!0}),b=Pe(De,`
            Include notes`),De.forEach(_),te.forEach(_),g=oe(fe),v=I(fe,"BUTTON",{class:!0,onclick:!0,"data-svelte-h":!0}),Ge(v)!=="svelte-1fkvb7c"&&(v.textContent=w),fe.forEach(_),O=oe(ue),H=I(ue,"H1",{});var k=q(H);ee=Pe(k,$),k.forEach(_),G=oe(ue),N=I(ue,"H4",{});var S=q(N);W=Pe(S,C),E=Pe(S," - "),ie=Pe(S,de),S.forEach(_),Y=oe(ue),Se=I(ue,"H5",{"data-svelte-h":!0}),Ge(Se)!=="svelte-1hbjnf6"&&(Se.textContent=le),_e=oe(ue),be&&be.l(ue),me=Lt(),this.h()},h(){p(d,"type","checkbox"),p(v,"class","btn btn-primary"),p(v,"onclick","window.print()"),p(e,"class","no-print mt-3 hide"),p(e,"id","printMessage")},m(ue,fe){se(ue,e,fe),m(e,n),m(e,s),m(e,c),m(c,l),m(l,d),d.checked=i[2],m(l,b),m(e,g),m(e,v),se(ue,O,fe),se(ue,H,fe),m(H,ee),se(ue,G,fe),se(ue,N,fe),m(N,W),m(N,E),m(N,ie),se(ue,Y,fe),se(ue,Se,fe),se(ue,_e,fe),be&&be.m(ue,fe),se(ue,me,fe),he||(we=We(d,"change",i[5]),he=!0)},p(ue,fe){fe&4&&(d.checked=ue[2]),fe&1&&$!==($=ue[0].name+"")&&Ye(ee,$),fe&1&&C!==(C=ue[0].startDateString+"")&&Ye(W,C),fe&1&&de!==(de=ue[0].endDateString+"")&&Ye(ie,de),ue[3]?be?be.p(Oi(ue),fe):(be=To(Oi(ue)),be.c(),be.m(me.parentNode,me)):be&&(be.d(1),be=null)},d(ue){ue&&(_(e),_(O),_(H),_(G),_(N),_(Y),_(Se),_(_e),_(me)),be&&be.d(ue),he=!1,we()}}}function To(i){let e,n,r="<tr><th>Receipt Description</th> <th>Receipt Date</th> <th>Receipt Type</th> <th>Receipt Total</th></tr>",s,c,l=[],d=new Map,b,g,v,w,O,H,$,ee,G="<strong>Total</strong>",N,C,W,E,de,ie,Y=[],Se=new Map,le,_e,me=`// Wait for images to render before printing
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
              incrementCounter();
            else
              img.addEventListener( 'load', incrementCounter, false );
        } );

        function printDiaglog() {
          window.print()
        }
        function incrementCounter() {
            counter++;
            if ( counter === len ) {
              document.getElementById("printMessage").classList.remove("hide");
            }
        }`,he=$e(i[3]);const we=k=>k[8].id;for(let k=0;k<he.length;k+=1){let S=Eo(i,he,k),j=we(S);d.set(j,l[k]=Co(j,S))}let be=$e(i[7]),ue=[];for(let k=0;k<be.length;k+=1)ue[k]=Ao(Do(i,be,k));let fe=i[2]&&Oo(i),te=$e(i[3]);const De=k=>k[8].id;for(let k=0;k<te.length;k+=1){let S=ko(i,te,k),j=De(S);Se.set(j,Y[k]=Po(j,S))}return{c(){e=P("table"),n=P("thead"),n.innerHTML=r,s=ae(),c=P("tbody");for(let k=0;k<l.length;k+=1)l[k].c();b=ae(),g=P("tfoot"),v=P("tr"),w=P("td"),O=ae(),H=P("td"),$=ae(),ee=P("td"),ee.innerHTML=G,N=ae(),C=P("td");for(let k=0;k<ue.length;k+=1)ue[k].c();W=ae(),E=P("td"),de=ae(),fe&&fe.c(),ie=ae();for(let k=0;k<Y.length;k+=1)Y[k].c();le=ae(),_e=P("script"),_e.textContent=me,this.h()},l(k){e=I(k,"TABLE",{class:!0});var S=q(e);n=I(S,"THEAD",{"data-svelte-h":!0}),Ge(n)!=="svelte-1yqevk1"&&(n.innerHTML=r),s=oe(S),c=I(S,"TBODY",{});var j=q(c);for(let Ae=0;Ae<l.length;Ae+=1)l[Ae].l(j);j.forEach(_),b=oe(S),g=I(S,"TFOOT",{class:!0});var re=q(g);v=I(re,"TR",{});var T=q(v);w=I(T,"TD",{}),q(w).forEach(_),O=oe(T),H=I(T,"TD",{}),q(H).forEach(_),$=oe(T),ee=I(T,"TD",{class:!0,"data-svelte-h":!0}),Ge(ee)!=="svelte-14afisz"&&(ee.innerHTML=G),N=oe(T),C=I(T,"TD",{});var ke=q(C);for(let Ae=0;Ae<ue.length;Ae+=1)ue[Ae].l(ke);ke.forEach(_),W=oe(T),E=I(T,"TD",{}),q(E).forEach(_),T.forEach(_),re.forEach(_),S.forEach(_),de=oe(k),fe&&fe.l(k),ie=oe(k);for(let Ae=0;Ae<Y.length;Ae+=1)Y[Ae].l(k);le=oe(k),_e=I(k,"SCRIPT",{"data-svelte-h":!0}),Ge(_e)!=="svelte-wsa5ae"&&(_e.textContent=me),this.h()},h(){p(ee,"class","text-end"),p(g,"class","table-group-divider"),p(e,"class","table table-striped table-hover")},m(k,S){se(k,e,S),m(e,n),m(e,s),m(e,c);for(let j=0;j<l.length;j+=1)l[j]&&l[j].m(c,null);m(e,b),m(e,g),m(g,v),m(v,w),m(v,O),m(v,H),m(v,$),m(v,ee),m(v,N),m(v,C);for(let j=0;j<ue.length;j+=1)ue[j]&&ue[j].m(C,null);m(v,W),m(v,E),se(k,de,S),fe&&fe.m(k,S),se(k,ie,S);for(let j=0;j<Y.length;j+=1)Y[j]&&Y[j].m(k,S);se(k,le,S),se(k,_e,S)},p(k,S){if(S&8&&(he=$e(k[3]),l=qr(l,S,we,1,k,he,d,c,Hr,Co,null,Eo)),S&8){be=$e(k[7]);let j;for(j=0;j<be.length;j+=1){const re=Do(k,be,j);ue[j]?ue[j].p(re,S):(ue[j]=Ao(re),ue[j].c(),ue[j].m(C,null))}for(;j<ue.length;j+=1)ue[j].d(1);ue.length=be.length}k[2]?fe?fe.p(k,S):(fe=Oo(k),fe.c(),fe.m(ie.parentNode,ie)):fe&&(fe.d(1),fe=null),S&8&&(te=$e(k[3]),Y=qr(Y,S,De,1,k,te,Se,le.parentNode,Hr,Po,le,ko))},d(k){k&&(_(e),_(de),_(ie),_(le),_(_e));for(let S=0;S<l.length;S+=1)l[S].d();Ft(ue,k),fe&&fe.d(k);for(let S=0;S<Y.length;S+=1)Y[S].d(k)}}}function Co(i,e){let n,r,s=e[8].description+"",c,l,d,b=e[8].receiptDateString+"",g,v,w,O=e[8].receiptType+"",H,$,ee,G=Et[e[8].currency].symbol+"",N,C,W=e[8].total.toFixed(2)+"",E,de;return{key:i,first:null,c(){n=P("tr"),r=P("td"),c=Oe(s),l=ae(),d=P("td"),g=Oe(b),v=ae(),w=P("td"),H=Oe(O),$=ae(),ee=P("td"),N=Oe(G),C=ae(),E=Oe(W),de=ae(),this.h()},l(ie){n=I(ie,"TR",{});var Y=q(n);r=I(Y,"TD",{});var Se=q(r);c=Pe(Se,s),Se.forEach(_),l=oe(Y),d=I(Y,"TD",{});var le=q(d);g=Pe(le,b),le.forEach(_),v=oe(Y),w=I(Y,"TD",{});var _e=q(w);H=Pe(_e,O),_e.forEach(_),$=oe(Y),ee=I(Y,"TD",{});var me=q(ee);N=Pe(me,G),C=oe(me),E=Pe(me,W),me.forEach(_),de=oe(Y),Y.forEach(_),this.h()},h(){this.first=n},m(ie,Y){se(ie,n,Y),m(n,r),m(r,c),m(n,l),m(n,d),m(d,g),m(n,v),m(n,w),m(w,H),m(n,$),m(n,ee),m(ee,N),m(ee,C),m(ee,E),m(n,de)},p(ie,Y){e=ie,Y&8&&s!==(s=e[8].description+"")&&Ye(c,s),Y&8&&b!==(b=e[8].receiptDateString+"")&&Ye(g,b),Y&8&&O!==(O=e[8].receiptType+"")&&Ye(H,O),Y&8&&G!==(G=Et[e[8].currency].symbol+"")&&Ye(N,G),Y&8&&W!==(W=e[8].total.toFixed(2)+"")&&Ye(E,W)},d(ie){ie&&_(n)}}}function Ao(i){let e=Et[i[11]].symbol+"",n,r,s=i[3].filter(b).reduce(Io,0).toFixed(2)+"",c,l,d;function b(...g){return i[6](i[11],...g)}return{c(){n=Oe(e),r=ae(),c=Oe(s),l=ae(),d=P("br")},l(g){n=Pe(g,e),r=oe(g),c=Pe(g,s),l=oe(g),d=I(g,"BR",{})},m(g,v){se(g,n,v),se(g,r,v),se(g,c,v),se(g,l,v),se(g,d,v)},p(g,v){i=g,v&8&&e!==(e=Et[i[11]].symbol+"")&&Ye(n,e),v&8&&s!==(s=i[3].filter(b).reduce(Io,0).toFixed(2)+"")&&Ye(c,s)},d(g){g&&(_(n),_(r),_(c),_(l),_(d))}}}function Oo(i){let e,n="Notes:",r,s,c=i[0].notes+"",l;return{c(){e=P("h5"),e.textContent=n,r=ae(),s=P("p"),l=Oe(c),this.h()},l(d){e=I(d,"H5",{"data-svelte-h":!0}),Ge(e)!=="svelte-srqctx"&&(e.textContent=n),r=oe(d),s=I(d,"P",{style:!0});var b=q(s);l=Pe(b,c),b.forEach(_),this.h()},h(){Bn(s,"white-space","pre-wrap")},m(d,b){se(d,e,b),se(d,r,b),se(d,s,b),m(s,l)},p(d,b){b&1&&c!==(c=d[0].notes+"")&&Ye(l,c)},d(d){d&&(_(e),_(r),_(s))}}}function Po(i,e){let n,r=e[8].description+"",s,c,l,d=Et[e[8].currency].symbol+"",b,g,v=e[8].total.toFixed(2)+"",w,O,H,$,ee;return{key:i,first:null,c(){n=P("div"),s=Oe(r),c=ae(),l=P("strong"),b=Oe(d),g=ae(),w=Oe(v),O=ae(),H=P("img"),this.h()},l(G){n=I(G,"DIV",{class:!0});var N=q(n);s=Pe(N,r),c=oe(N),l=I(N,"STRONG",{});var C=q(l);b=Pe(C,d),g=oe(C),w=Pe(C,v),C.forEach(_),N.forEach(_),O=oe(G),H=I(G,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){p(n,"class","page-print mb-2"),p(H,"class","img-print"),p(H,"alt",$="receipt with description '"+e[8].description+"'"),xr(H.src,ee=e[8].imageData)||p(H,"src",ee),this.first=n},m(G,N){se(G,n,N),m(n,s),m(n,c),m(n,l),m(l,b),m(l,g),m(l,w),se(G,O,N),se(G,H,N)},p(G,N){e=G,N&8&&r!==(r=e[8].description+"")&&Ye(s,r),N&8&&d!==(d=Et[e[8].currency].symbol+"")&&Ye(b,d),N&8&&v!==(v=e[8].total.toFixed(2)+"")&&Ye(w,v),N&8&&$!==($="receipt with description '"+e[8].description+"'")&&p(H,"alt",$),N&8&&!xr(H.src,ee=e[8].imageData)&&p(H,"src",ee)},d(G){G&&(_(n),_(O),_(H))}}}function Qu(i){let e,n=i[0]&&So(i);return{c(){e=P("div"),n&&n.c()},l(r){e=I(r,"DIV",{});var s=q(e);n&&n.l(s),s.forEach(_)},m(r,s){se(r,e,s),n&&n.m(e,null)},p(r,[s]){r[0]?n?n.p(r,s):(n=So(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:ft,o:ft,d(r){r&&_(e),n&&n.d()}}}const Io=(i,e)=>i+e.total;function Xu(i,e,n){let r,s=ft,c=()=>(s(),s=fr(b,O=>n(3,r=O)),b);i.$$.on_destroy.push(()=>s());let{tripId:l=-1}=e,d,b,g=!1;l>-1&&Dt.trips.get(l).then(O=>{n(0,d=O),c(n(1,b=mr(()=>Dt.receipts.where({tripId:l}).reverse().sortBy("receiptDate"))))});function v(){g=this.checked,n(2,g)}const w=(O,H)=>H.currency==O;return i.$$set=O=>{"tripId"in O&&n(4,l=O.tripId)},[d,b,g,r,l,v,w]}class $u extends an{constructor(e){super(),on(this,e,Xu,Qu,en,{tripId:4})}}function ec(i){let e,n,r,s=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="38" viewBox="0 0 375.91 152.28" style="enable-background:new 0 0 375.91 152.28;" xml:space="preserve"><style type="text/css">.st0{fill:currentColor;}
		   </style><g id="Layer_1"><g><path class="st0" d="M0,19.62h59.19V36.2H0V19.62z M20.94,27.62h17.24v88.06H20.94V27.62z" fill="currentColor"></path><path class="st0" d="M60.18,47.1h17.84v68.58H60.18V47.1z M93.28,63.69c-1.01-0.22-2.14-0.33-3.37-0.33
					   c-3.74,0-6.66,1.17-8.75,3.5c-2.09,2.33-3.14,5.57-3.14,9.71l-1.39-17.51c1.94-4.1,4.44-7.3,7.5-9.61
					   c3.06-2.31,6.42-3.47,10.08-3.47c1.41,0,2.7,0.23,3.87,0.69c1.17,0.46,2.17,1.13,3.01,2.01l-5.22,16.05
					   C95.15,64.26,94.29,63.91,93.28,63.69z"></path><path class="st0" d="M109,19.62h17.24v17.11H109V19.62z M109,47.1h17.24v68.58H109V47.1z"></path><path class="st0" d="M140.58,47.1h17.18v96.46h-17.18V47.1z M162.68,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C168.4,116.67,165.3,115.65,162.68,113.6z"></path><path class="st0" d="M204.6,47.1h17.18v96.46H204.6V47.1z M226.7,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C232.42,116.67,229.32,115.65,226.7,113.6z"></path><path class="st0" d="M267.43,19.62h17.24v17.11h-17.24V19.62z M267.43,47.1h17.24v68.58h-17.24V47.1z"></path><path class="st0" d="M299.01,47.1h17.24v68.58h-17.24V47.1z M332.31,70.62c0-2.73-0.72-4.83-2.15-6.31
					   c-1.43-1.48-3.45-2.21-6.04-2.21c-2.51,0-4.45,0.74-5.81,2.21c-1.37,1.48-2.05,3.6-2.05,6.38l-1.39-11.63
					   c1.72-4.27,3.96-7.52,6.74-9.74c2.77-2.22,6.05-3.34,9.84-3.34c5.72,0,10.16,1.98,13.31,5.95c3.15,3.96,4.72,9.54,4.72,16.71
					   v47.04h-17.18V70.62z"></path><path class="st0" d="M356.55,19.62h17.24v23.65l-17.24,16.91V19.62z"></path></g></g></svg>`,c,l,d,b='<li class="nav-item"><a class="btn btn-outline-light" href="#/add">+ Add Trip</a></li>',g,v,w=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg>
				My Trips`,O,H,$,ee,G,N,C,W,E,de,ie,Y;G=new gl({props:{tripId:i[3]}});const Se=[sc,oc,ac,ic,rc,nc],le=[];function _e(me,he){return me[4]==="add"?0:me[4]==="trip"&&me[3]>-1?1:me[4]==="update"&&me[3]>-1?2:me[4]==="addreceipt"&&me[3]>-1?3:me[4]==="editreceipt"&&me[3]>-1?4:5}return W=_e(i),E=le[W]=Se[W](i),{c(){e=P("nav"),n=P("div"),r=P("a"),r.innerHTML=s,c=ae(),l=P("div"),d=P("ul"),d.innerHTML=b,g=ae(),v=P("button"),v.innerHTML=w,O=ae(),H=P("main"),$=P("div"),ee=P("div"),jt(G.$$.fragment),N=ae(),C=P("div"),E.c(),this.h()},l(me){e=I(me,"NAV",{class:!0,"aria-label":!0});var he=q(e);n=I(he,"DIV",{class:!0});var we=q(n);r=I(we,"A",{"aria-current":!0,class:!0,href:!0,"data-svelte-h":!0}),Ge(r)!=="svelte-184qgqe"&&(r.innerHTML=s),c=oe(we),l=I(we,"DIV",{class:!0});var be=q(l);d=I(be,"UL",{class:!0,"data-svelte-h":!0}),Ge(d)!=="svelte-d6xdjk"&&(d.innerHTML=b),g=oe(be),v=I(be,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ge(v)!=="svelte-1yyazi7"&&(v.innerHTML=w),be.forEach(_),we.forEach(_),he.forEach(_),O=oe(me),H=I(me,"MAIN",{class:!0});var ue=q(H);$=I(ue,"DIV",{class:!0});var fe=q($);ee=I(fe,"DIV",{class:!0,id:!0});var te=q(ee);Vt(G.$$.fragment,te),te.forEach(_),fe.forEach(_),N=oe(ue),C=I(ue,"DIV",{class:!0,id:!0});var De=q(C);E.l(De),De.forEach(_),ue.forEach(_),this.h()},h(){p(r,"aria-current","page"),p(r,"class","navbar-brand text-light"),p(r,"href","#"),p(d,"class","navbar-nav me-auto"),p(v,"class","listTitleSmall btn btn-outline-light me-2"),p(v,"type","button"),p(l,"class","collapse navbar-collapse"),p(n,"class","container-fluid"),p(e,"class","navbar navbar-expand navbar-dark bg-dark"),p(e,"aria-label","Second navbar example"),p(ee,"class","list-group scrollarea d-none"),p(ee,"id","tripToggle"),p($,"class","tripList d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary"),p(C,"class","d-flex p-3 w-100"),p(C,"id","mainPane"),p(H,"class","d-flex flex-nowrap")},m(me,he){se(me,e,he),m(e,n),m(n,r),m(n,c),m(n,l),m(l,d),m(l,g),m(l,v),se(me,O,he),se(me,H,he),m(H,$),m($,ee),zt(G,ee,null),m(H,N),m(H,C),le[W].m(C,null),de=!0,ie||(Y=We(v,"click",qo),ie=!0)},p(me,he){const we={};he&8&&(we.tripId=me[3]),G.$set(we);let be=W;W=_e(me),W===be?le[W].p(me,he):(qn(),st(le[be],1,1,()=>{le[be]=null}),Un(),E=le[W],E?E.p(me,he):(E=le[W]=Se[W](me),E.c()),it(E,1),E.m(C,null))},i(me){de||(it(G.$$.fragment,me),it(E),de=!0)},o(me){st(G.$$.fragment,me),st(E),de=!1},d(me){me&&(_(e),_(O),_(H)),xt(G),le[W].d(),ie=!1,Y()}}}function tc(i){let e,n;return e=new $u({props:{tripId:i[3]}}),{c(){jt(e.$$.fragment)},l(r){Vt(e.$$.fragment,r)},m(r,s){zt(e,r,s),n=!0},p(r,s){const c={};s&8&&(c.tripId=r[3]),e.$set(c)},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){xt(e,r)}}}function nc(i){let e,n;return e=new Ju({}),{c(){jt(e.$$.fragment)},l(r){Vt(e.$$.fragment,r)},m(r,s){zt(e,r,s),n=!0},p:ft,i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){xt(e,r)}}}function rc(i){let e,n;return e=new Jo({props:{tripId:i[3],receiptId:i[5]}}),{c(){jt(e.$$.fragment)},l(r){Vt(e.$$.fragment,r)},m(r,s){zt(e,r,s),n=!0},p(r,s){const c={};s&8&&(c.tripId=r[3]),s&32&&(c.receiptId=r[5]),e.$set(c)},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){xt(e,r)}}}function ic(i){let e,n;return e=new Jo({props:{tripId:i[3],receiptId:-1}}),{c(){jt(e.$$.fragment)},l(r){Vt(e.$$.fragment,r)},m(r,s){zt(e,r,s),n=!0},p(r,s){const c={};s&8&&(c.tripId=r[3]),e.$set(c)},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){xt(e,r)}}}function ac(i){let e,n;return e=new yl({props:{tripId:i[3]}}),{c(){jt(e.$$.fragment)},l(r){Vt(e.$$.fragment,r)},m(r,s){zt(e,r,s),n=!0},p(r,s){const c={};s&8&&(c.tripId=r[3]),e.$set(c)},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){xt(e,r)}}}function oc(i){let e=i[3],n,r,s=Mo(i);return{c(){s.c(),n=Lt()},l(c){s.l(c),n=Lt()},m(c,l){s.m(c,l),se(c,n,l),r=!0},p(c,l){l&8&&en(e,e=c[3])?(qn(),st(s,1,1,ft),Un(),s=Mo(c),s.c(),it(s,1),s.m(n.parentNode,n)):s.p(c,l)},i(c){r||(it(s),r=!0)},o(c){st(s),r=!1},d(c){c&&_(n),s.d(c)}}}function sc(i){let e,n;return e=new Ys({}),{c(){jt(e.$$.fragment)},l(r){Vt(e.$$.fragment,r)},m(r,s){zt(e,r,s),n=!0},p:ft,i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){xt(e,r)}}}function Mo(i){let e,n;return e=new hl({props:{tripId:i[3]}}),{c(){jt(e.$$.fragment)},l(r){Vt(e.$$.fragment,r)},m(r,s){zt(e,r,s),n=!0},p(r,s){const c={};s&8&&(c.tripId=r[3]),e.$set(c)},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){xt(e,r)}}}function lc(i){let e,n,r,s;const c=[tc,ec],l=[];function d(b,g){return b[4]==="print"&&b[3]>-1?0:1}return e=d(i),n=l[e]=c[e](i),{c(){n.c(),r=Lt()},l(b){n.l(b),r=Lt()},m(b,g){l[e].m(b,g),se(b,r,g),s=!0},p(b,[g]){let v=e;e=d(b),e===v?l[e].p(b,g):(qn(),st(l[v],1,1,()=>{l[v]=null}),Un(),n=l[e],n?n.p(b,g):(n=l[e]=c[e](b),n.c()),it(n,1),n.m(r.parentNode,r))},i(b){s||(it(n),s=!0)},o(b){st(n),s=!1},d(b){b&&_(r),l[e].d(b)}}}function uc(i,e,n){let r,s,c,l,d,b=ft,g=()=>(b(),b=fr(r,W=>n(3,d=W)),r),v,w=ft,O=()=>(w(),w=fr(c,W=>n(4,v=W)),c),H,$=ft,ee=()=>($(),$=fr(s,W=>n(5,H=W)),s),G;Hn(i,Ss,W=>n(6,G=W)),i.$$.on_destroy.push(()=>b()),i.$$.on_destroy.push(()=>w()),i.$$.on_destroy.push(()=>$());const N=new RegExp("#/(?<route>[a-z]+)(?<tripId>/[0-9]+|$)");function C(){var W;(W=document.getElementById("tripToggle"))==null||W.classList.remove("show"),l?(sr(c,v=l.groups.route||"",v),v=="editreceipt"?sr(s,H=parseInt(l.groups.tripId.replace("/","")||"-1"),H):sr(r,d=parseInt(l.groups.tripId.replace("/","")||"-1"),d)):(sr(c,v="",v),sr(r,d=-1,d))}return ws(()=>{C()}),i.$$.update=()=>{i.$$.dirty&64&&(l=N.exec(G.url.hash))},g(n(2,r=Kr(-1))),ee(n(1,s=Kr(-1))),O(n(0,c=Kr(""))),[c,s,r,d,v,H,G]}class cc extends an{constructor(e){super(),on(this,e,uc,lc,en,{})}}function fc(i){let e,n,r;return n=new cc({}),{c(){e=ae(),jt(n.$$.fragment),this.h()},l(s){ks("svelte-1mxz4jk",document.head).forEach(_),e=oe(s),Vt(n.$$.fragment,s),this.h()},h(){document.title="Trippin'"},m(s,c){se(s,e,c),zt(n,s,c),r=!0},p:ft,i(s){r||(it(n.$$.fragment,s),r=!0)},o(s){st(n.$$.fragment,s),r=!1},d(s){s&&_(e),xt(n,s)}}}class Cc extends an{constructor(e){super(),on(this,e,null,fc,en,{})}}export{Cc as component};
