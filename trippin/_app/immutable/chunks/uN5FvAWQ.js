import{n as Dt,E as Oo,C as Rn,s as kn,d as b,i as ne,p as St,S as ji,e as _,T as Ye,x as p,f as I,h as B,j as Be,k as $,l as A,t as Fe,m as ee,z as Wt,c as Dn,U as Pn,V as Ur,W as Kn,u as Cn,g as Tn,a as In,X as Qe,Y as Ft,Z as zt,_ as Zi,b as et,$ as jt,a0 as Il,a1 as Ne,a2 as ra,o as Ln,F as no,y as Pr,D as Zr,K as zn,r as Fl,a3 as Mo,a4 as ia,a5 as ui,v as cr,a6 as Al,a7 as Qi,a8 as Ji,a9 as oi,aa as ro,ab as Po,ac as Vi,ad as Lo,ae as Ro,af as ti,ag as No}from"./DfV_UjSi.js";import{n as Bo,l as Fo,f as zo,h as Ko,a as He,t as Ge,S as An,i as On,j as Hn,d as $t,m as en,e as tn,b as nn,g as pn,c as gn,k as la}from"./BFA7tFy6.js";import{w as Wr,b as Ho}from"./CyxcaYCz.js";import{_ as io}from"./C1FmrZbK.js";import{p as jo}from"./B3lufe05.js";function Vo(n,e,t,r){if(!e)return Dt;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return Dt;const{delay:s=0,duration:a=300,easing:u=Oo,start:f=Bo()+s,end:h=f+a,tick:m=Dt,css:v}=t(n,{from:e,to:l},r);let E=!0,P=!1,D;function S(){v&&(D=Ko(n,0,1,a,s,u,v)),s||(P=!0)}function N(){v&&zo(n,D),E=!1}return Fo(L=>{if(!P&&L>=f&&(P=!0),P&&L>=h&&(m(1,0),N()),!E)return!1;if(P){const M=L-f,H=0+1*u(M/a);m(H,1-H)}return!0}),S(),m(0,1),N}function qo(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,Uo(n,l)}}function Uo(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ht(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Yr(n,e){n.d(1),e.delete(n.key)}function Go(n,e){Ge(n,1,1,()=>{e.delete(n.key)})}function Wo(n,e){n.f(),Yr(n,e)}function Lr(n,e,t,r,l,s,a,u,f,h,m,v){let E=n.length,P=s.length,D=E;const S={};for(;D--;)S[n[D].key]=D;const N=[],L=new Map,M=new Map,H=[];for(D=P;D--;){const Z=v(l,s,D),De=t(Z);let ae=a.get(De);ae?H.push(()=>ae.p(Z,e)):(ae=h(De,Z),ae.c()),L.set(De,N[D]=ae),De in S&&M.set(De,Math.abs(D-S[De]))}const F=new Set,z=new Set;function X(Z){He(Z,1),Z.m(u,m),a.set(Z.key,Z),m=Z.first,P--}for(;E&&P;){const Z=N[P-1],De=n[E-1],ae=Z.key,re=De.key;Z===De?(m=Z.first,E--,P--):L.has(re)?!a.has(ae)||F.has(ae)?X(Z):z.has(re)?E--:M.get(ae)>M.get(re)?(z.add(ae),X(Z)):(F.add(re),E--):(f(De,a),E--)}for(;E--;){const Z=n[E];L.has(Z.key)||f(Z,a)}for(;P;)X(N[P-1]);return Rn(H),N}function aa(n){let e,t,r=("00"+n[0].getHours()).slice(-2)+"",l,s,a,u=("00"+n[0].getMinutes()).slice(-2)+"",f,h,m,v,E=n[1]!=="minute"&&sa(n);return{c(){e=A("div"),t=A("span"),l=Fe(r),s=Fe(`:
		`),a=A("span"),f=Fe(u),h=ee(),E&&E.c(),this.h()},l(P){e=I(P,"DIV",{class:!0,role:!0});var D=B(e);t=I(D,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var S=B(t);l=Be(S,r),S.forEach(b),s=Be(D,`:
		`),a=I(D,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var N=B(a);f=Be(N,u),N.forEach(b),h=$(D),E&&E.l(D),D.forEach(b),this.h()},h(){p(t,"role","spinbutton"),p(t,"aria-label","Hours"),p(t,"tabindex","0"),p(t,"contenteditable",""),p(t,"inputmode","numeric"),p(t,"class","svelte-mzlxg7"),p(a,"role","spinbutton"),p(a,"aria-label","Minutes"),p(a,"tabindex","0"),p(a,"contenteditable",""),p(a,"inputmode","numeric"),p(a,"class","svelte-mzlxg7"),p(e,"class","time-picker svelte-mzlxg7"),p(e,"role","none")},m(P,D){ne(P,e,D),_(e,t),_(t,l),n[6](t),_(e,s),_(e,a),_(a,f),n[7](a),_(e,h),E&&E.m(e,null),m||(v=[Ye(t,"keydown",n[3]),Ye(t,"input",n[4]),Ye(t,"focus",qi),Ye(a,"keydown",n[3]),Ye(a,"input",n[4]),Ye(a,"focus",qi),Ye(e,"mousedown",n[10])],m=!0)},p(P,D){D&1&&r!==(r=("00"+P[0].getHours()).slice(-2)+"")&&ji(l,r),D&1&&u!==(u=("00"+P[0].getMinutes()).slice(-2)+"")&&ji(f,u),P[1]!=="minute"?E?E.p(P,D):(E=sa(P),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(P){P&&b(e),n[6](null),n[7](null),E&&E.d(),m=!1,Rn(v)}}}function sa(n){let e,t,r=("00"+n[0].getSeconds()).slice(-2)+"",l,s,a,u,f,h=n[1]!=="second"&&oa(n);return{c(){e=Fe(":"),t=A("span"),l=Fe(r),s=ee(),h&&h.c(),a=St(),this.h()},l(m){e=Be(m,":"),t=I(m,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var v=B(t);l=Be(v,r),v.forEach(b),s=$(m),h&&h.l(m),a=St(),this.h()},h(){p(t,"role","spinbutton"),p(t,"aria-label","Seconds"),p(t,"tabindex","0"),p(t,"contenteditable",""),p(t,"inputmode","numeric"),p(t,"class","svelte-mzlxg7")},m(m,v){ne(m,e,v),ne(m,t,v),_(t,l),n[8](t),ne(m,s,v),h&&h.m(m,v),ne(m,a,v),u||(f=[Ye(t,"keydown",n[3]),Ye(t,"input",n[4]),Ye(t,"focus",qi)],u=!0)},p(m,v){v&1&&r!==(r=("00"+m[0].getSeconds()).slice(-2)+"")&&ji(l,r),m[1]!=="second"?h?h.p(m,v):(h=oa(m),h.c(),h.m(a.parentNode,a)):h&&(h.d(1),h=null)},d(m){m&&(b(e),b(t),b(s),b(a)),n[8](null),h&&h.d(m),u=!1,Rn(f)}}}function oa(n){let e,t,r=("000"+n[0].getMilliseconds()).slice(-3)+"",l,s,a;return{c(){e=Fe("."),t=A("span"),l=Fe(r),this.h()},l(u){e=Be(u,"."),t=I(u,"SPAN",{role:!0,"aria-label":!0,tabindex:!0,contenteditable:!0,inputmode:!0,class:!0});var f=B(t);l=Be(f,r),f.forEach(b),this.h()},h(){p(t,"role","spinbutton"),p(t,"aria-label","Milliseconds"),p(t,"tabindex","0"),p(t,"contenteditable",""),p(t,"inputmode","numeric"),p(t,"class","svelte-mzlxg7")},m(u,f){ne(u,e,f),ne(u,t,f),_(t,l),n[9](t),s||(a=[Ye(t,"keydown",n[3]),Ye(t,"input",n[4]),Ye(t,"focus",qi)],s=!0)},p(u,f){f&1&&r!==(r=("000"+u[0].getMilliseconds()).slice(-3)+"")&&ji(l,r)},d(u){u&&(b(e),b(t)),n[9](null),s=!1,Rn(a)}}}function Yo(n){let e,t=n[1]&&aa(n);return{c(){t&&t.c(),e=St()},l(r){t&&t.l(r),e=St()},m(r,l){t&&t.m(r,l),ne(r,e,l)},p(r,[l]){r[1]?t?t.p(r,l):(t=aa(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Dt,o:Dt,d(r){r&&b(e),t&&t.d(r)}}}function Ki(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e==null||e.removeAllRanges(),e==null||e.addRange(t)}function Zo(n,e,t){return t&&n<0?e:t&&n>e?0:Math.max(0,Math.min(e,n))}function vl(n){const e=n.getAttribute("aria-label");if(e==="Hours")return{label:e,len:2,max:23};if(e==="Minutes")return{label:e,len:2,max:59};if(e==="Seconds")return{label:e,len:2,max:59};if(e==="Milliseconds")return{label:e,len:3,max:999};throw new Error("Invalid label "+e)}function bl(n,e){return parseInt(n.replace(/[^\d]/g,"").slice(-e))}function qi(n){Ki(n.currentTarget)}function Qo(n,e,t){let{browseDate:r}=e,{timePrecision:l}=e,{setTime:s}=e,a=[];function u(L){if(L.key==="ArrowUp"||L.key==="ArrowDown"){const M=f(L.currentTarget),H=L.key==="ArrowUp"?1:-1;m(L.currentTarget,M+H,!0),L.preventDefault(),Ki(L.currentTarget)}else if(L.key==="ArrowLeft"||L.key==="ArrowRight"||":;-,.".includes(L.key)){const M=a.indexOf(L.currentTarget),H=L.key==="ArrowLeft"?-1:1,F=a[M+H];L.preventDefault(),F&&(F.focus(),Ki(F))}}function f(L){const M=vl(L).label;return M==="Hours"?r.getHours():M==="Minutes"?r.getMinutes():M==="Seconds"?r.getSeconds():r.getMilliseconds()}function h(L){const M=("00"+L.getHours()).slice(-2),H=("00"+L.getMinutes()).slice(-2),F=("00"+L.getSeconds()).slice(-2),z=("000"+L.getMilliseconds()).slice(-3);a[0]&&a[0].innerText!==M&&t(2,a[0].innerText=M,a),a[1]&&a[1].innerText!==H&&t(2,a[1].innerText=H,a),a[2]&&a[2].innerText!==F&&t(2,a[2].innerText=F,a),a[3]&&a[3].innerText!==z&&t(2,a[3].innerText=z,a)}function m(L,M,H=!1){const F=vl(L);M=Zo(M,F.max,H),F.label==="Hours"?r.setHours(M):F.label==="Minutes"?r.setMinutes(M):F.label==="Seconds"?r.setSeconds(M):F.label==="Milliseconds"&&r.setMilliseconds(M),t(0,r=s(r)),h(r)}function v(L){const M=L,H=vl(M.currentTarget);let F;if(M.inputType==="insertText"){const z="000"+f(M.currentTarget);F=bl(z+M.currentTarget.innerText,H.len),F>H.max&&M.data&&(F=bl(M.data,H.len))}else F=bl("000"+M.currentTarget.innerText,H.len);m(M.currentTarget,F),Ki(M.currentTarget)}function E(L){Wt[L?"unshift":"push"](()=>{a[0]=L,t(2,a)})}function P(L){Wt[L?"unshift":"push"](()=>{a[1]=L,t(2,a)})}function D(L){Wt[L?"unshift":"push"](()=>{a[2]=L,t(2,a)})}function S(L){Wt[L?"unshift":"push"](()=>{a[3]=L,t(2,a)})}const N=L=>{L.target instanceof HTMLElement&&L.target.tagName==="SPAN"&&(L.target.focus(),L.preventDefault())};return n.$$set=L=>{"browseDate"in L&&t(0,r=L.browseDate),"timePrecision"in L&&t(1,l=L.timePrecision),"setTime"in L&&t(5,s=L.setTime)},n.$$.update=()=>{n.$$.dirty&1&&h(r)},[r,l,a,u,v,s,E,P,D,S,N]}class Jo extends An{constructor(e){super(),On(this,e,Qo,Yo,kn,{browseDate:0,timePrecision:1,setTime:5})}}function Xo(n){return n%4===0&&n%100!==0||n%400===0}function ci(n,e){return[31,Xo(n)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function ua(n,e){let t="";if(n)for(const r of e)typeof r=="string"?t+=r:t+=r.toString(n);return t}function yl(n,e){const t=ci(n,e),r=[];for(let l=0;l<t;l++)r.push({year:n,month:e,number:l+1});return r}function xo(n,e){const t=n.getFullYear(),r=n.getMonth(),l=new Date(t,r,1).getDay();let s=[];const a=(l-e+7)%7;if(a>0){let m=r-1,v=t;m===-1&&(m=11,v=t-1),s=yl(v,m).slice(-a)}s=s.concat(yl(t,r));let u=r+1,f=t;u===12&&(u=0,f=t+1);const h=42-s.length;return s=s.concat(yl(f,u).slice(0,h)),s}function ca(n,e){e===null?n.setHours(0,0,0,0):e==="minute"?n.setSeconds(0,0):e==="second"&&n.setMilliseconds(0)}function xn(n){return new Date(n)}function Gr(n,e,t,r,l){let s=xn(e);return n>e?(Mi(s,-1,t,r,l),s<t&&(s=Ui(s,t,r),Mi(s,1,t,r,l))):s>=n&&(Mi(s,1,t,r,l),s>r&&(s=Ui(s,t,r),Mi(s,-1,t,r,l))),(s<t||s>r)&&(s=zl(s,t,r)),s}function Mi(n,e,t,r,l){let a=0;for(;l!=null&&l(n)&&n>=t&&n<=r&&a<=36525;)n.setDate(n.getDate()+e),a++}function zl(n,e,t){return n>t?xn(t):n<e?xn(e):xn(n)}function Ui(n,e,t){const r=zl(n,e,t);return n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),n>t&&n.setDate(t.getDate()),n<e&&n.setDate(e.getDate()),n}function $o(){return{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStartsOn:1}}function lo(n){const e=$o();return typeof n.weekStartsOn=="number"&&(e.weekStartsOn=n.weekStartsOn),n.months&&(e.months=n.months),n.shortMonths&&(e.shortMonths=n.shortMonths),n.weekdays&&(e.weekdays=n.weekdays),e}function fa(n,e,t){const r=n.slice();return r[37]=e[t],r[39]=t,r}function da(n,e,t){const r=n.slice();return r[40]=e[t],r}function ha(n,e,t){const r=n.slice();return r[37]=e[t],r[44]=t,r}function ma(n,e,t){const r=n.slice();return r[45]=e[t],r}function pa(n,e,t){const r=n.slice();return r[45]=e[t],r}function ga(n,e,t){const r=n.slice();return r[50]=e[t],r[44]=t,r}function _a(n,e,t){const r=n.slice();return r[50]=e[t],r[44]=t,r}function va(n){let e,t=n[50]+"",r,l;return{c(){e=A("option"),r=Fe(t),this.h()},l(s){e=I(s,"OPTION",{});var a=B(e);r=Be(a,t),a.forEach(b),this.h()},h(){e.disabled=l=new Date(n[9],n[44],ci(n[9],n[44]),23,59,59,999)<n[2]||new Date(n[9],n[44])>n[3],e.__value=n[44],jt(e,e.__value)},m(s,a){ne(s,e,a),_(e,r)},p(s,a){a[0]&32&&t!==(t=s[50]+"")&&et(r,t),a[0]&588&&l!==(l=new Date(s[9],s[44],ci(s[9],s[44]),23,59,59,999)<s[2]||new Date(s[9],s[44])>s[3])&&(e.disabled=l)},d(s){s&&b(e)}}}function ba(n){let e,t=n[50]+"",r,l;return{c(){e=A("option"),r=Fe(t),this.h()},l(s){e=I(s,"OPTION",{});var a=B(e);r=Be(a,t),a.forEach(b),this.h()},h(){e.__value=n[44],jt(e,e.__value),e.selected=l=n[44]===n[8]},m(s,a){ne(s,e,a),_(e,r)},p(s,a){a[0]&32&&t!==(t=s[50]+"")&&et(r,t),a[0]&256&&l!==(l=s[44]===s[8])&&(e.selected=l)},d(s){s&&b(e)}}}function ya(n){let e,t=n[45]+"",r,l;return{c(){e=A("option"),r=Fe(t),this.h()},l(s){e=I(s,"OPTION",{});var a=B(e);r=Be(a,t),a.forEach(b),this.h()},h(){e.__value=l=n[45],jt(e,e.__value)},m(s,a){ne(s,e,a),_(e,r)},p(s,a){a[0]&64&&t!==(t=s[45]+"")&&et(r,t),a[0]&64&&l!==(l=s[45])&&(e.__value=l,jt(e,e.__value))},d(s){s&&b(e)}}}function wa(n){let e,t=n[45]+"",r,l,s;return{c(){e=A("option"),r=Fe(t),this.h()},l(a){e=I(a,"OPTION",{});var u=B(e);r=Be(u,t),u.forEach(b),this.h()},h(){e.__value=l=n[45],jt(e,e.__value),e.selected=s=n[45]===n[4].getFullYear()},m(a,u){ne(a,e,u),_(e,r)},p(a,u){u[0]&64&&t!==(t=a[45]+"")&&et(r,t),u[0]&64&&l!==(l=a[45])&&(e.__value=l,jt(e,e.__value)),u[0]&80&&s!==(s=a[45]===a[4].getFullYear())&&(e.selected=s)},d(a){a&&b(e)}}}function eu(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[44]-7]+"",r;return{c(){e=A("div"),r=Fe(t),this.h()},l(l){e=I(l,"DIV",{class:!0});var s=B(e);r=Be(s,t),s.forEach(b),this.h()},h(){p(e,"class","header-cell svelte-w239uu")},m(l,s){ne(l,e,s),_(e,r)},p(l,s){s[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[44]-7]+"")&&et(r,t)},d(l){l&&b(e)}}}function tu(n){let e,t=n[5].weekdays[n[5].weekStartsOn+n[44]]+"",r;return{c(){e=A("div"),r=Fe(t),this.h()},l(l){e=I(l,"DIV",{class:!0});var s=B(e);r=Be(s,t),s.forEach(b),this.h()},h(){p(e,"class","header-cell svelte-w239uu")},m(l,s){ne(l,e,s),_(e,r)},p(l,s){s[0]&32&&t!==(t=l[5].weekdays[l[5].weekStartsOn+l[44]]+"")&&et(r,t)},d(l){l&&b(e)}}}function ka(n){let e;function t(s,a){return s[44]+s[5].weekStartsOn<7?tu:eu}let r=t(n),l=r(n);return{c(){l.c(),e=St()},l(s){l.l(s),e=St()},m(s,a){l.m(s,a),ne(s,e,a)},p(s,a){r===(r=t(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){s&&b(e),l.d(s)}}}function Ea(n){let e,t,r=n[40].number+"",l,s,a;function u(){return n[30](n[40])}return{c(){e=A("div"),t=A("span"),l=Fe(r),this.h()},l(f){e=I(f,"DIV",{class:!0});var h=B(e);t=I(h,"SPAN",{class:!0});var m=B(t);l=Be(m,r),m.forEach(b),h.forEach(b),this.h()},h(){p(t,"class","svelte-w239uu"),p(e,"class","cell svelte-w239uu"),Ne(e,"disabled",!Ol(n[40],n[2],n[3])||n[12](n[40])),Ne(e,"selected",n[0]&&n[40].year===n[0].getFullYear()&&n[40].month===n[0].getMonth()&&n[40].number===n[0].getDate()),Ne(e,"today",n[40].year===n[11].getFullYear()&&n[40].month===n[11].getMonth()&&n[40].number===n[11].getDate()),Ne(e,"other-month",n[40].month!==n[8])},m(f,h){ne(f,e,h),_(e,t),_(t,l),s||(a=Ye(e,"click",u),s=!0)},p(f,h){n=f,h[0]&128&&r!==(r=n[40].number+"")&&et(l,r),h[0]&4236&&Ne(e,"disabled",!Ol(n[40],n[2],n[3])||n[12](n[40])),h[0]&129&&Ne(e,"selected",n[0]&&n[40].year===n[0].getFullYear()&&n[40].month===n[0].getMonth()&&n[40].number===n[0].getDate()),h[0]&2176&&Ne(e,"today",n[40].year===n[11].getFullYear()&&n[40].month===n[11].getMonth()&&n[40].number===n[11].getDate()),h[0]&384&&Ne(e,"other-month",n[40].month!==n[8])},d(f){f&&b(e),s=!1,a()}}}function Sa(n){let e,t=ht(n[7].slice(n[39]*7,n[39]*7+7)),r=[];for(let l=0;l<t.length;l+=1)r[l]=Ea(da(n,t,l));return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=I(l,"DIV",{class:!0});var s=B(e);for(let a=0;a<r.length;a+=1)r[a].l(s);s.forEach(b),this.h()},h(){p(e,"class","week svelte-w239uu")},m(l,s){ne(l,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(l,s){if(s[0]&39309){t=ht(l[7].slice(l[39]*7,l[39]*7+7));let a;for(a=0;a<t.length;a+=1){const u=da(l,t,a);r[a]?r[a].p(u,s):(r[a]=Ea(u),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(l){l&&b(e),Pn(r,l)}}}function nu(n){let e,t,r,l,s='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z" transform="rotate(180, 12, 12)"></path></svg>',a,u,f,h,m,v,E,P,D,S,N,L,M,H,F,z,X,Z,De='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-w239uu"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"></path></svg>',ae,re,ge,ke,ce,fe,we,ye,de,he,O=ht(n[5].months),R=[];for(let J=0;J<O.length;J+=1)R[J]=va(_a(n,O,J));let j=ht(n[5].months),se=[];for(let J=0;J<j.length;J+=1)se[J]=ba(ga(n,j,J));let me=ht(n[6]),C=[];for(let J=0;J<me.length;J+=1)C[J]=ya(pa(n,me,J));let ie=ht(n[6]),Q=[];for(let J=0;J<ie.length;J+=1)Q[J]=wa(ma(n,ie,J));let _e=ht(Array(7)),Me=[];for(let J=0;J<_e.length;J+=1)Me[J]=ka(ha(n,_e,J));let Re=ht(Array(6)),Ee=[];for(let J=0;J<Re.length;J+=1)Ee[J]=Sa(fa(n,Re,J));function pe(J){n[31](J)}let ve={timePrecision:n[1],setTime:n[10]};n[4]!==void 0&&(ve.browseDate=n[4]),ce=new Jo({props:ve}),Wt.push(()=>Hn(ce,"browseDate",pe));const Pe=n[24].default,Ve=Dn(Pe,n,n[23],null);return{c(){e=A("div"),t=A("div"),r=A("div"),l=A("button"),l.innerHTML=s,a=ee(),u=A("div"),f=A("select");for(let J=0;J<R.length;J+=1)R[J].c();h=ee(),m=A("select");for(let J=0;J<se.length;J+=1)se[J].c();v=ee(),E=zt("svg"),P=zt("path"),D=ee(),S=A("div"),N=A("select");for(let J=0;J<C.length;J+=1)C[J].c();L=ee(),M=A("select");for(let J=0;J<Q.length;J+=1)Q[J].c();H=ee(),F=zt("svg"),z=zt("path"),X=ee(),Z=A("button"),Z.innerHTML=De,ae=ee(),re=A("div");for(let J=0;J<Me.length;J+=1)Me[J].c();ge=ee();for(let J=0;J<Ee.length;J+=1)Ee[J].c();ke=ee(),nn(ce.$$.fragment),we=ee(),Ve&&Ve.c(),this.h()},l(J){e=I(J,"DIV",{class:!0,tabindex:!0});var qe=B(e);t=I(qe,"DIV",{class:!0,tabindex:!0});var je=B(t);r=I(je,"DIV",{class:!0});var be=B(r);l=I(be,"BUTTON",{type:!0,"aria-label":!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Qe(l)!=="svelte-v2azqq"&&(l.innerHTML=s),a=$(be),u=I(be,"DIV",{class:!0});var tt=B(u);f=I(tt,"SELECT",{class:!0});var Et=B(f);for(let at=0;at<R.length;at+=1)R[at].l(Et);Et.forEach(b),h=$(tt),m=I(tt,"SELECT",{class:!0,tabindex:!0});var Ct=B(m);for(let at=0;at<se.length;at+=1)se[at].l(Ct);Ct.forEach(b),v=$(tt),E=Ft(tt,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var Ot=B(E);P=Ft(Ot,"path",{d:!0,transform:!0}),B(P).forEach(b),Ot.forEach(b),tt.forEach(b),D=$(be),S=I(be,"DIV",{class:!0});var ct=B(S);N=I(ct,"SELECT",{class:!0});var nt=B(N);for(let at=0;at<C.length;at+=1)C[at].l(nt);nt.forEach(b),L=$(ct),M=I(ct,"SELECT",{class:!0,tabindex:!0});var Xe=B(M);for(let at=0;at<Q.length;at+=1)Q[at].l(Xe);Xe.forEach(b),H=$(ct),F=Ft(ct,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var Ue=B(F);z=Ft(Ue,"path",{d:!0,transform:!0}),B(z).forEach(b),Ue.forEach(b),ct.forEach(b),X=$(be),Z=I(be,"BUTTON",{type:!0,"aria-label":!0,class:!0,tabindex:!0,"data-svelte-h":!0}),Qe(Z)!=="svelte-ft7e2n"&&(Z.innerHTML=De),be.forEach(b),ae=$(je),re=I(je,"DIV",{class:!0});var gt=B(re);for(let at=0;at<Me.length;at+=1)Me[at].l(gt);gt.forEach(b),ge=$(je);for(let at=0;at<Ee.length;at+=1)Ee[at].l(je);ke=$(je),tn(ce.$$.fragment,je),we=$(je),Ve&&Ve.l(je),je.forEach(b),qe.forEach(b),this.h()},h(){p(l,"type","button"),p(l,"aria-label","Previous month"),p(l,"class","page-button svelte-w239uu"),p(l,"tabindex","-1"),p(f,"class","svelte-w239uu"),p(m,"class","dummy-select svelte-w239uu"),p(m,"tabindex","-1"),p(P,"d","M6 0l12 12-12 12z"),p(P,"transform","rotate(90, 12, 12)"),p(E,"xmlns","http://www.w3.org/2000/svg"),p(E,"width","24"),p(E,"height","24"),p(E,"viewBox","0 0 24 24"),p(E,"class","svelte-w239uu"),p(u,"class","dropdown month svelte-w239uu"),p(N,"class","svelte-w239uu"),p(M,"class","dummy-select svelte-w239uu"),p(M,"tabindex","-1"),p(z,"d","M6 0l12 12-12 12z"),p(z,"transform","rotate(90, 12, 12)"),p(F,"xmlns","http://www.w3.org/2000/svg"),p(F,"width","24"),p(F,"height","24"),p(F,"viewBox","0 0 24 24"),p(F,"class","svelte-w239uu"),p(S,"class","dropdown year svelte-w239uu"),p(Z,"type","button"),p(Z,"aria-label","Next month"),p(Z,"class","page-button svelte-w239uu"),p(Z,"tabindex","-1"),p(r,"class","top svelte-w239uu"),p(re,"class","header svelte-w239uu"),p(t,"class","tab-container svelte-w239uu"),p(t,"tabindex","-1"),p(e,"class","date-time-picker svelte-w239uu"),p(e,"tabindex","0")},m(J,qe){ne(J,e,qe),_(e,t),_(t,r),_(r,l),_(r,a),_(r,u),_(u,f);for(let je=0;je<R.length;je+=1)R[je]&&R[je].m(f,null);Ur(f,n[8]),_(u,h),_(u,m);for(let je=0;je<se.length;je+=1)se[je]&&se[je].m(m,null);_(u,v),_(u,E),_(E,P),_(r,D),_(r,S),_(S,N);for(let je=0;je<C.length;je+=1)C[je]&&C[je].m(N,null);Ur(N,n[9]),_(S,L),_(S,M);for(let je=0;je<Q.length;je+=1)Q[je]&&Q[je].m(M,null);_(S,H),_(S,F),_(F,z),_(r,X),_(r,Z),_(t,ae),_(t,re);for(let je=0;je<Me.length;je+=1)Me[je]&&Me[je].m(re,null);_(t,ge);for(let je=0;je<Ee.length;je+=1)Ee[je]&&Ee[je].m(t,null);_(t,ke),en(ce,t,null),_(t,we),Ve&&Ve.m(t,null),ye=!0,de||(he=[Ye(l,"click",n[26]),Ye(f,"keydown",n[17]),Ye(f,"input",n[27]),Ye(N,"input",n[28]),Ye(N,"keydown",n[16]),Ye(Z,"click",n[29]),Ye(e,"focusout",n[25]),Ye(e,"keydown",n[18])],de=!0)},p(J,qe){if(qe[0]&556){O=ht(J[5].months);let be;for(be=0;be<O.length;be+=1){const tt=_a(J,O,be);R[be]?R[be].p(tt,qe):(R[be]=va(tt),R[be].c(),R[be].m(f,null))}for(;be<R.length;be+=1)R[be].d(1);R.length=O.length}if((!ye||qe[0]&256)&&Ur(f,J[8]),qe[0]&288){j=ht(J[5].months);let be;for(be=0;be<j.length;be+=1){const tt=ga(J,j,be);se[be]?se[be].p(tt,qe):(se[be]=ba(tt),se[be].c(),se[be].m(m,null))}for(;be<se.length;be+=1)se[be].d(1);se.length=j.length}if(qe[0]&64){me=ht(J[6]);let be;for(be=0;be<me.length;be+=1){const tt=pa(J,me,be);C[be]?C[be].p(tt,qe):(C[be]=ya(tt),C[be].c(),C[be].m(N,null))}for(;be<C.length;be+=1)C[be].d(1);C.length=me.length}if((!ye||qe[0]&576)&&Ur(N,J[9]),qe[0]&80){ie=ht(J[6]);let be;for(be=0;be<ie.length;be+=1){const tt=ma(J,ie,be);Q[be]?Q[be].p(tt,qe):(Q[be]=wa(tt),Q[be].c(),Q[be].m(M,null))}for(;be<Q.length;be+=1)Q[be].d(1);Q.length=ie.length}if(qe[0]&32){_e=ht(Array(7));let be;for(be=0;be<_e.length;be+=1){const tt=ha(J,_e,be);Me[be]?Me[be].p(tt,qe):(Me[be]=ka(tt),Me[be].c(),Me[be].m(re,null))}for(;be<Me.length;be+=1)Me[be].d(1);Me.length=_e.length}if(qe[0]&39309){Re=ht(Array(6));let be;for(be=0;be<Re.length;be+=1){const tt=fa(J,Re,be);Ee[be]?Ee[be].p(tt,qe):(Ee[be]=Sa(tt),Ee[be].c(),Ee[be].m(t,ke))}for(;be<Ee.length;be+=1)Ee[be].d(1);Ee.length=Re.length}const je={};qe[0]&2&&(je.timePrecision=J[1]),!fe&&qe[0]&16&&(fe=!0,je.browseDate=J[4],Kn(()=>fe=!1)),ce.$set(je),Ve&&Ve.p&&(!ye||qe[0]&8388608)&&Cn(Ve,Pe,J,J[23],ye?In(Pe,J[23],qe,null):Tn(J[23]),null)},i(J){ye||(He(ce.$$.fragment,J),He(Ve,J),ye=!0)},o(J){Ge(ce.$$.fragment,J),Ge(Ve,J),ye=!1},d(J){J&&b(e),Pn(R,J),Pn(se,J),Pn(C,J),Pn(Q,J),Pn(Me,J),Pn(Ee,J),$t(ce),Ve&&Ve.d(J),de=!1,Rn(he)}}}function Da(n,e){let t=[];for(let r=n.getFullYear();r<=e.getFullYear();r++)t.push(r);return t}function Ol(n,e,t){const r=new Date(n.year,n.month,n.number),l=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t.getFullYear(),t.getMonth(),t.getDate());return r>=l&&r<=s}function ru(n,e,t){let r,l,s,a,{$$slots:u={},$$scope:f}=e;const h=Zi();let{value:m=null}=e;function v(C){C.getTime()!==(m==null?void 0:m.getTime())&&(t(4,z=Gr(m??z,C,L,M,H)),ca(z,N),t(0,m=xn(z)))}function E(C){t(4,z=Ui(C,L,M)),!ae&&m&&v(z)}function P(C){return t(4,z=zl(C,L,M)),m&&v(z),z}const D=new Date;let{initialBrowseDate:S=new Date}=e,{timePrecision:N=null}=e,{min:L=new Date(S.getFullYear()-20,0,1)}=e,{max:M=new Date(S.getFullYear(),11,31,23,59,59,999)}=e,{isDisabledDate:H=null}=e;function F(C){return H==null?void 0:H(new Date(C.year,C.month,C.number))}let z=xn(m||Ui(S,L,M));function X(C){z.getTime()!==(C==null?void 0:C.getTime())&&(t(4,z=C?xn(C):z),ca(z,N))}let Z=Da(L,M),{locale:De={}}=e,{browseWithoutSelecting:ae=!1}=e;function re(C){z.setFullYear(C),E(z)}function ge(C){let ie=z.getFullYear();C===12?(C=0,ie++):C===-1&&(C=11,ie--);const Q=ci(ie,C),_e=Math.min(z.getDate(),Q);E(new Date(ie,C,_e,z.getHours(),z.getMinutes(),z.getSeconds(),z.getMilliseconds()))}function ke(C){Ol(C,L,M)&&!F(C)&&(z.setFullYear(0),z.setMonth(0),z.setDate(1),z.setFullYear(C.year),z.setMonth(C.month),z.setDate(C.number),v(z),h("select",xn(z)))}function ce(C){if(C.shiftKey&&C.key==="ArrowUp")re(z.getFullYear()-1);else if(C.shiftKey&&C.key==="ArrowDown")re(z.getFullYear()+1);else if(C.shiftKey&&C.key==="ArrowLeft")ge(z.getMonth()-1);else if(C.shiftKey&&C.key==="ArrowRight")ge(z.getMonth()+1);else return!1;return C.preventDefault(),!0}function fe(C){if(C.shiftKey||C.altKey){ce(C);return}else if(C.key==="ArrowUp")re(z.getFullYear()-1);else if(C.key==="ArrowDown")re(z.getFullYear()+1);else if(C.key==="ArrowLeft")ge(z.getMonth()-1);else if(C.key==="ArrowRight")ge(z.getMonth()+1);else{ce(C);return}C.preventDefault()}function we(C){if(C.shiftKey||C.altKey){ce(C);return}else if(C.key==="ArrowUp"||C.key==="ArrowLeft")ge(z.getMonth()-1);else if(C.key==="ArrowDown"||C.key==="ArrowRight")ge(z.getMonth()+1);else{ce(C);return}C.preventDefault()}function ye(C){var Q,_e;let ie=C.shiftKey||C.altKey;if(!(((Q=C.target)==null?void 0:Q.tagName)==="SELECT"||((_e=C.target)==null?void 0:_e.tagName)==="SPAN")){if(ie){ce(C);return}else if(C.key==="ArrowUp")z.setDate(z.getDate()-7),v(z);else if(C.key==="ArrowDown")z.setDate(z.getDate()+7),v(z);else if(C.key==="ArrowLeft")z.setDate(z.getDate()-1),v(z);else if(C.key==="ArrowRight")z.setDate(z.getDate()+1),v(z);else if(C.key==="Enter")v(z),h("select",xn(z));else return;C.preventDefault()}}function de(C){Il.call(this,n,C)}const he=()=>ge(z.getMonth()-1),O=C=>ge(parseInt(C.currentTarget.value)),R=C=>re(parseInt(C.currentTarget.value)),j=()=>ge(z.getMonth()+1),se=C=>ke(C);function me(C){z=C,t(4,z)}return n.$$set=C=>{"value"in C&&t(0,m=C.value),"initialBrowseDate"in C&&t(19,S=C.initialBrowseDate),"timePrecision"in C&&t(1,N=C.timePrecision),"min"in C&&t(2,L=C.min),"max"in C&&t(3,M=C.max),"isDisabledDate"in C&&t(20,H=C.isDisabledDate),"locale"in C&&t(21,De=C.locale),"browseWithoutSelecting"in C&&t(22,ae=C.browseWithoutSelecting),"$$scope"in C&&t(23,f=C.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&1048605&&(m&&m>M?v(Gr(m,M,L,M,H)):m&&m<L?v(Gr(m,L,L,M,H)):m&&(H!=null&&H(m))&&v(Gr(z,m,L,M,H))),n.$$.dirty[0]&1&&X(m),n.$$.dirty[0]&12&&t(6,Z=Da(L,M)),n.$$.dirty[0]&2097152&&t(5,r=lo(De)),n.$$.dirty[0]&16&&t(9,l=z.getFullYear()),n.$$.dirty[0]&16&&t(8,s=z.getMonth()),n.$$.dirty[0]&48&&t(7,a=xo(z,r.weekStartsOn))},[m,N,L,M,z,r,Z,a,s,l,P,D,F,re,ge,ke,fe,we,ye,S,H,De,ae,f,u,de,he,O,R,j,se,me]}class iu extends An{constructor(e){super(),On(this,e,ru,nu,kn,{value:0,initialBrowseDate:19,timePrecision:1,min:2,max:3,isDisabledDate:20,locale:21,browseWithoutSelecting:22},null,[-1,-1])}}function lu(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function ao(n){const e=n-1;return e*e*e+1}function au(n,{delay:e=0,duration:t=400,easing:r=ao,x:l=0,y:s=0,opacity:a=0}={}){const u=getComputedStyle(n),f=+u.opacity,h=u.transform==="none"?"":u.transform,m=f*(1-a),[v,E]=ra(l),[P,D]=ra(s);return{delay:e,duration:t,easing:r,css:(S,N)=>`
			transform: ${h} translate(${(1-S)*v}${E}, ${(1-S)*P}${D});
			opacity: ${f-m*N}`}}function Ca(n,e,t){let r="",l=!0;t=t||new Date(new Date().getFullYear(),0,1,0,0,0,0);let s=t.getFullYear(),a=t.getMonth(),u=t.getDate(),f=t.getHours(),h=t.getMinutes(),m=t.getSeconds();const v=t.getMilliseconds();function E(L){for(let M=0;M<L.length;M++)if(n.startsWith(L[M]))n=n.slice(1);else{l=!1,n.length===0&&(r=L.slice(M));return}}function P(L,M,H){const F=n.match(L);if(F!=null&&F[0]){n=n.slice(F[0].length);const z=parseInt(F[0]);return z>H||z<M?(l=!1,null):z}else return l=!1,null}function D(L){const M=L.findIndex(H=>H.toLowerCase()===n.slice(0,H.length).toLowerCase());return M>=0?(n=n.slice(L[M].length),M):(l=!1,null)}function S(L){if(typeof L=="string")E(L);else if(L.id==="yy"){const M=P(/^[0-9]{2}/,0,99);M!==null&&(s=2e3+M)}else if(L.id==="yyyy"){const M=P(/^[0-9]{4}/,0,9999);M!==null&&(s=M)}else if(L.id==="MM"){const M=P(/^[0-9]{2}/,1,12);M!==null&&(a=M-1)}else if(L.id==="MMM"){const M=D(L.allowedValues||[]);M!==null&&(a=M)}else if(L.id==="dd"){const M=P(/^[0-9]{2}/,1,31);M!==null&&(u=M)}else if(L.id==="HH"){const M=P(/^[0-9]{2}/,0,23);M!==null&&(f=M)}else if(L.id==="mm"){const M=P(/^[0-9]{2}/,0,59);M!==null&&(h=M)}else if(L.id==="ss"){const M=P(/^[0-9]{2}/,0,59);M!==null&&(m=M)}}for(const L of e)if(S(L),!l)break;const N=ci(s,a);return u>N&&(l=!1),{date:l?new Date(s,a,u,f,h,m,v):null,missingPunctuation:r}}function ni(n){return("0"+n.toString()).slice(-2)}function su(n,e){if(n.startsWith("yyyy"))return{id:"yyyy",toString:t=>t.getFullYear().toString()};if(n.startsWith("yy"))return{id:"yy",toString:t=>t.getFullYear().toString().slice(-2)};if(n.startsWith("MMM"))return{id:"MMM",allowedValues:e.shortMonths,toString:t=>e.shortMonths[t.getMonth()]};if(n.startsWith("MM"))return{id:"MM",toString:t=>ni(t.getMonth()+1)};if(n.startsWith("dd"))return{id:"dd",toString:t=>ni(t.getDate())};if(n.startsWith("HH"))return{id:"HH",toString:t=>ni(t.getHours())};if(n.startsWith("mm"))return{id:"mm",toString:t=>ni(t.getMinutes())};if(n.startsWith("ss"))return{id:"ss",toString:t=>ni(t.getSeconds())}}function Ta(n,e={}){const t=lo(e),r=[];for(;n.length>0;){const l=su(n,t);l?(r.push(l),n=n.slice(l.id.length)):typeof r[r.length-1]=="string"?(r[r.length-1]+=n[0],n=n.slice(1)):(r.push(n[0]),n=n.slice(1))}return r}function Ia(n){let e,t,r,l,s=`${n[20]}px`,a;function u(h){n[36](h)}let f={initialBrowseDate:n[3],min:n[4],max:n[5],locale:n[11],browseWithoutSelecting:n[12],timePrecision:n[13],isDisabledDate:n[14],$$slots:{default:[ou]},$$scope:{ctx:n}};return n[16]!==void 0&&(f.value=n[16]),t=new iu({props:f}),Wt.push(()=>Hn(t,"value",u)),t.$on("focusout",n[23]),t.$on("select",n[25]),{c(){e=A("div"),nn(t.$$.fragment),this.h()},l(h){e=I(h,"DIV",{class:!0});var m=B(e);tn(t.$$.fragment,m),m.forEach(b),this.h()},h(){p(e,"class","picker svelte-1vabmef"),Ne(e,"visible",n[2]),Ne(e,"above",n[19]),Pr(e,"--picker-left-position",s)},m(h,m){ne(h,e,m),en(t,e,null),n[37](e),a=!0},p(h,m){const v={};m[0]&8&&(v.initialBrowseDate=h[3]),m[0]&16&&(v.min=h[4]),m[0]&32&&(v.max=h[5]),m[0]&2048&&(v.locale=h[11]),m[0]&4096&&(v.browseWithoutSelecting=h[12]),m[0]&8192&&(v.timePrecision=h[13]),m[0]&16384&&(v.isDisabledDate=h[14]),m[1]&128&&(v.$$scope={dirty:m,ctx:h}),!r&&m[0]&65536&&(r=!0,v.value=h[16],Kn(()=>r=!1)),t.$set(v),(!a||m[0]&4)&&Ne(e,"visible",h[2]),(!a||m[0]&524288)&&Ne(e,"above",h[19]),m[0]&1048576&&s!==(s=`${h[20]}px`)&&Pr(e,"--picker-left-position",s)},i(h){a||(He(t.$$.fragment,h),h&&no(()=>{a&&(l||(l=la(e,n[26],{},!0)),l.run(1))}),a=!0)},o(h){Ge(t.$$.fragment,h),h&&(l||(l=la(e,n[26],{},!1)),l.run(0)),a=!1},d(h){h&&b(e),$t(t),n[37](null),h&&l&&l.end()}}}function ou(n){let e;const t=n[31].default,r=Dn(t,n,n[38],null);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s[1]&128)&&Cn(r,t,l,l[38],e?In(t,l[38],s,null):Tn(l[38]),null)},i(l){e||(He(r,l),e=!0)},o(l){Ge(r,l),e=!1},d(l){r&&r.d(l)}}}function uu(n){let e,t,r,l,s,a,u,f=n[2]&&!n[8]&&Ia(n);return{c(){e=A("div"),t=A("input"),r=ee(),f&&f.c(),this.h()},l(h){e=I(h,"DIV",{class:!0});var m=B(e);t=I(m,"INPUT",{type:!0,autocomplete:!0,id:!0,placeholder:!0,class:!0}),r=$(m),f&&f.l(m),m.forEach(b),this.h()},h(){p(t,"type","text"),p(t,"autocomplete","off"),t.value=n[0],p(t,"id",n[6]),p(t,"placeholder",n[7]),t.disabled=n[8],t.required=n[9],p(t,"class","svelte-1vabmef"),Ne(t,"invalid",!n[1]),p(e,"class",l="date-time-field "+n[10]+" svelte-1vabmef")},m(h,m){ne(h,e,m),_(e,t),n[32](t),_(e,r),f&&f.m(e,null),s=!0,a||(u=[Ye(t,"focus",n[33]),Ye(t,"mousedown",n[34]),Ye(t,"input",n[35]),Ye(e,"focusout",n[23]),Ye(e,"keydown",n[24])],a=!0)},p(h,m){(!s||m[0]&1&&t.value!==h[0])&&(t.value=h[0]),(!s||m[0]&64)&&p(t,"id",h[6]),(!s||m[0]&128)&&p(t,"placeholder",h[7]),(!s||m[0]&256)&&(t.disabled=h[8]),(!s||m[0]&512)&&(t.required=h[9]),(!s||m[0]&2)&&Ne(t,"invalid",!h[1]),h[2]&&!h[8]?f?(f.p(h,m),m[0]&260&&He(f,1)):(f=Ia(h),f.c(),He(f,1),f.m(e,null)):f&&(pn(),Ge(f,1,1,()=>{f=null}),gn()),(!s||m[0]&1024&&l!==(l="date-time-field "+h[10]+" svelte-1vabmef"))&&p(e,"class",l)},i(h){s||(He(f),s=!0)},o(h){Ge(f),s=!1},d(h){h&&b(e),n[32](null),f&&f.d(),a=!1,Rn(u)}}}function cu(n,e,t){let r,l,{$$slots:s={},$$scope:a}=e;const u=Zi();let{initialBrowseDate:f=new Date}=e;const h=Wr(null);Ln(n,h,pe=>t(39,l=pe));const m={subscribe:h.subscribe,set:pe=>{pe==null?(h.set(null),t(27,v=pe)):(pe.getTime()!==(l==null?void 0:l.getTime())||pe.getTime()!==(v==null?void 0:v.getTime()))&&(h.set(xn(pe)),t(27,v=pe))}};Ln(n,m,pe=>t(16,r=pe));let{value:v=null}=e,{min:E=new Date(f.getFullYear()-20,0,1)}=e,{max:P=new Date(f.getFullYear(),11,31,23,59,59,999)}=e,{id:D=null}=e,{placeholder:S="2020-12-31 23:00:00"}=e,{valid:N=!0}=e,{disabled:L=!1}=e,{required:M=!1}=e,{class:H=""}=e,{locale:F={}}=e,{format:z="yyyy-MM-dd HH:mm:ss"}=e,X=Ta(z,F);function Z(pe,ve){t(0,De=ua(pe,ve))}let{text:De=ua(r,X)}=e;function ae(pe,ve){if(pe.length){const Pe=Ca(pe,ve,r);Pe.date!==null?(t(1,N=!0),m.set(Gr(f,Pe.date,E,P,fe))):t(1,N=!1)}else t(1,N=!0),v&&(t(27,v=null),m.set(null))}let{visible:re=!1}=e,{closeOnSelection:ge=!1}=e,{browseWithoutSelecting:ke=!1}=e,{timePrecision:ce=null}=e,{isDisabledDate:fe=null}=e;function we(pe){(pe==null?void 0:pe.currentTarget)instanceof HTMLElement&&pe.relatedTarget&&pe.relatedTarget instanceof Node&&pe.currentTarget.contains(pe.relatedTarget)||t(2,re=!1)}function ye(pe){pe.key==="Escape"&&re?(t(2,re=!1),pe.preventDefault(),pe.stopPropagation()):pe.key==="Enter"&&(t(2,re=!re),pe.preventDefault())}function de(pe){u("select",pe.detail),ge&&t(2,re=!1)}let{dynamicPositioning:he=!1}=e,O,R,j=!1,se=null;function me(){if(t(19,j=!1),t(20,se=null),re&&R&&he){const pe=O.getBoundingClientRect(),ve=R.offsetWidth-pe.width,Pe=pe.bottom+R.offsetHeight+5,Ve=pe.left+R.offsetWidth+5;if(Pe>window.innerHeight&&t(19,j=!0),Ve>window.innerWidth&&(t(20,se=-ve),pe.left<ve+5)){const qe=window.innerWidth/2-R.offsetWidth/2;t(20,se=qe-pe.left)}}}function C(pe){return me(),au(pe,{duration:200,easing:lu,y:j?5:-5})}function ie(pe){Wt[pe?"unshift":"push"](()=>{O=pe,t(17,O)})}const Q=()=>t(2,re=!0),_e=()=>t(2,re=!0),Me=pe=>{if(pe instanceof InputEvent&&pe.inputType==="insertText"&&typeof pe.data=="string"&&pe.currentTarget.value===De+pe.data){let ve=Ca(De,X,r);if(ve.missingPunctuation!==""&&!ve.missingPunctuation.startsWith(pe.data)){t(0,De=De+ve.missingPunctuation+pe.data);return}}t(0,De=pe.currentTarget.value)};function Re(pe){r=pe,m.set(r)}function Ee(pe){Wt[pe?"unshift":"push"](()=>{R=pe,t(18,R)})}return n.$$set=pe=>{"initialBrowseDate"in pe&&t(3,f=pe.initialBrowseDate),"value"in pe&&t(27,v=pe.value),"min"in pe&&t(4,E=pe.min),"max"in pe&&t(5,P=pe.max),"id"in pe&&t(6,D=pe.id),"placeholder"in pe&&t(7,S=pe.placeholder),"valid"in pe&&t(1,N=pe.valid),"disabled"in pe&&t(8,L=pe.disabled),"required"in pe&&t(9,M=pe.required),"class"in pe&&t(10,H=pe.class),"locale"in pe&&t(11,F=pe.locale),"format"in pe&&t(28,z=pe.format),"text"in pe&&t(0,De=pe.text),"visible"in pe&&t(2,re=pe.visible),"closeOnSelection"in pe&&t(29,ge=pe.closeOnSelection),"browseWithoutSelecting"in pe&&t(12,ke=pe.browseWithoutSelecting),"timePrecision"in pe&&t(13,ce=pe.timePrecision),"isDisabledDate"in pe&&t(14,fe=pe.isDisabledDate),"dynamicPositioning"in pe&&t(30,he=pe.dynamicPositioning),"$$scope"in pe&&t(38,a=pe.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&134234168&&m.set(v&&Gr(f,v,E,P,fe)),n.$$.dirty[0]&268437504&&t(15,X=Ta(z,F)),n.$$.dirty[0]&98304&&Z(r,X),n.$$.dirty[0]&32769&&ae(De,X)},[De,N,re,f,E,P,D,S,L,M,H,F,ke,ce,fe,X,r,O,R,j,se,h,m,we,ye,de,C,v,z,ge,he,s,ie,Q,_e,Me,Re,Ee,a]}class fi extends An{constructor(e){super(),On(this,e,cu,uu,kn,{initialBrowseDate:3,value:27,min:4,max:5,id:6,placeholder:7,valid:1,disabled:8,required:9,class:10,locale:11,format:28,text:0,visible:2,closeOnSelection:29,browseWithoutSelecting:12,timePrecision:13,isDisabledDate:14,dynamicPositioning:30},null,[-1,-1])}}var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var oo={exports:{}};(function(n,e){((t,r)=>{n.exports=r()})(Aa,function(){var t=function(i,o){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(c,d){c.__proto__=d}:function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])}))(i,o)},r=function(){return(r=Object.assign||function(i){for(var o,c=1,d=arguments.length;c<d;c++)for(var g in o=arguments[c])Object.prototype.hasOwnProperty.call(o,g)&&(i[g]=o[g]);return i}).apply(this,arguments)};function l(i,o,c){for(var d,g=0,y=o.length;g<y;g++)!d&&g in o||((d=d||Array.prototype.slice.call(o,0,g))[g]=o[g]);return i.concat(d||Array.prototype.slice.call(o))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Aa,a=Object.keys,u=Array.isArray;function f(i,o){return typeof o=="object"&&a(o).forEach(function(c){i[c]=o[c]}),i}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var h=Object.getPrototypeOf,m={}.hasOwnProperty;function v(i,o){return m.call(i,o)}function E(i,o){typeof o=="function"&&(o=o(h(i))),(typeof Reflect>"u"?a:Reflect.ownKeys)(o).forEach(function(c){D(i,c,o[c])})}var P=Object.defineProperty;function D(i,o,c,d){P(i,o,f(c&&v(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function S(i){return{from:function(o){return i.prototype=Object.create(o.prototype),D(i.prototype,"constructor",i),{extend:E.bind(null,i.prototype)}}}}var N=Object.getOwnPropertyDescriptor,L=[].slice;function M(i,o,c){return L.call(i,o,c)}function H(i,o){return o(i)}function F(i){if(!i)throw new Error("Assertion Failed")}function z(i){s.setImmediate?setImmediate(i):setTimeout(i,0)}function X(i,o){if(typeof o=="string"&&v(i,o))return i[o];if(!o)return i;if(typeof o!="string"){for(var c=[],d=0,g=o.length;d<g;++d){var y=X(i,o[d]);c.push(y)}return c}var w,T=o.indexOf(".");return T===-1||(w=i[o.substr(0,T)])==null?void 0:X(w,o.substr(T+1))}function Z(i,o,c){if(i&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof o!="string"&&"length"in o){F(typeof c!="string"&&"length"in c);for(var d=0,g=o.length;d<g;++d)Z(i,o[d],c[d])}else{var y,w,T=o.indexOf(".");T!==-1?(y=o.substr(0,T),(T=o.substr(T+1))===""?c===void 0?u(i)&&!isNaN(parseInt(y))?i.splice(y,1):delete i[y]:i[y]=c:Z(w=(w=i[y])&&v(i,y)?w:i[y]={},T,c)):c===void 0?u(i)&&!isNaN(parseInt(o))?i.splice(o,1):delete i[o]:i[o]=c}}function De(i){var o,c={};for(o in i)v(i,o)&&(c[o]=i[o]);return c}var ae=[].concat;function re(i){return ae.apply([],i)}var se="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(re([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(o){return o+i+"Array"})}))).filter(function(i){return s[i]}),ge=new Set(se.map(function(i){return s[i]})),ke=null;function ce(i){return ke=new WeakMap,i=function o(c){if(!c||typeof c!="object")return c;var d=ke.get(c);if(d)return d;if(u(c)){d=[],ke.set(c,d);for(var g=0,y=c.length;g<y;++g)d.push(o(c[g]))}else if(ge.has(c.constructor))d=c;else{var w,T=h(c);for(w in d=T===Object.prototype?{}:Object.create(T),ke.set(c,d),c)v(c,w)&&(d[w]=o(c[w]))}return d}(i),ke=null,i}var fe={}.toString;function we(i){return fe.call(i).slice(8,-1)}var ye=typeof Symbol<"u"?Symbol.iterator:"@@iterator",de=typeof ye=="symbol"?function(i){var o;return i!=null&&(o=i[ye])&&o.apply(i)}:function(){return null};function he(i,o){o=i.indexOf(o),0<=o&&i.splice(o,1)}var O={};function R(i){var o,c,d,g;if(arguments.length===1){if(u(i))return i.slice();if(this===O&&typeof i=="string")return[i];if(g=de(i))for(c=[];!(d=g.next()).done;)c.push(d.value);else{if(i==null)return[i];if(typeof(o=i.length)!="number")return[i];for(c=new Array(o);o--;)c[o]=i[o]}}else for(o=arguments.length,c=new Array(o);o--;)c[o]=arguments[o];return c}var j=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},se=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ue=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(se),me={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function C(i,o){this.name=i,this.message=o}function ie(i,o){return i+". Errors: "+Object.keys(o).map(function(c){return o[c].toString()}).filter(function(c,d,g){return g.indexOf(c)===d}).join(`
`)}function Q(i,o,c,d){this.failures=o,this.failedKeys=d,this.successCount=c,this.message=ie(i,o)}function _e(i,o){this.name="BulkError",this.failures=Object.keys(o).map(function(c){return o[c]}),this.failuresByPos=o,this.message=ie(i,this.failures)}S(C).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(Q).from(C),S(_e).from(C);var Me=Ue.reduce(function(i,o){return i[o]=o+"Error",i},{}),Re=C,Ee=Ue.reduce(function(i,o){var c=o+"Error";function d(g,y){this.name=c,g?typeof g=="string"?(this.message="".concat(g).concat(y?`
 `+y:""),this.inner=y||null):typeof g=="object"&&(this.message="".concat(g.name," ").concat(g.message),this.inner=g):(this.message=me[o]||c,this.inner=null)}return S(d).from(Re),i[o]=d,i},{}),pe=(Ee.Syntax=SyntaxError,Ee.Type=TypeError,Ee.Range=RangeError,se.reduce(function(i,o){return i[o+"Error"]=Ee[o],i},{}));se=Ue.reduce(function(i,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(i[o+"Error"]=Ee[o]),i},{});function ve(){}function Pe(i){return i}function Ve(i,o){return i==null||i===Pe?o:function(c){return o(i(c))}}function J(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}}function qe(i,o){return i===ve?o:function(){var c=i.apply(this,arguments),d=(c!==void 0&&(arguments[0]=c),this.onsuccess),g=this.onerror,y=(this.onsuccess=null,this.onerror=null,o.apply(this,arguments));return d&&(this.onsuccess=this.onsuccess?J(d,this.onsuccess):d),g&&(this.onerror=this.onerror?J(g,this.onerror):g),y!==void 0?y:c}}function je(i,o){return i===ve?o:function(){i.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?J(c,this.onsuccess):c),d&&(this.onerror=this.onerror?J(d,this.onerror):d)}}function be(i,o){return i===ve?o:function(g){var d=i.apply(this,arguments),g=(f(g,d),this.onsuccess),y=this.onerror,w=(this.onsuccess=null,this.onerror=null,o.apply(this,arguments));return g&&(this.onsuccess=this.onsuccess?J(g,this.onsuccess):g),y&&(this.onerror=this.onerror?J(y,this.onerror):y),d===void 0?w===void 0?void 0:w:f(d,w)}}function tt(i,o){return i===ve?o:function(){return o.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Et(i,o){return i===ve?o:function(){var c=i.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,g=arguments.length,y=new Array(g);g--;)y[g]=arguments[g];return c.then(function(){return o.apply(d,y)})}return o.apply(this,arguments)}}se.ModifyError=Q,se.DexieError=C,se.BulkError=_e;var Ct=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ot(i){Ct=i}var ct={},nt=100,Xe=typeof Promise>"u"?[]:(Ue=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Xe=crypto.subtle.digest("SHA-512",new Uint8Array([0])),h(Xe),Ue]:[Ue,h(Ue),Ue]),Ue=Xe[0],Vr=Xe[1],Vr=Vr&&Vr.then,gt=Ue&&Ue.constructor,at=!!Xe[2],Qt=function(i,o){Jt.push([i,o]),ot&&(queueMicrotask(_t),ot=!1)},Kt=!0,ot=!0,pt=[],rn=[],an=Pe,Ht={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ve,pgp:!1,env:{},finalize:ve},Ze=Ht,Jt=[],Bt=0,Ut=[];function Te(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=Ze;if(typeof i!="function"){if(i!==ct)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Mt(this,this._value)}else this._state=null,this._value=null,++o.ref,function c(d,g){try{g(function(y){if(d._state===null){if(y===d)throw new TypeError("A promise cannot be resolved with itself.");var w=d._lib&&rt();y&&typeof y.then=="function"?c(d,function(T,q){y instanceof Te?y._then(T,q):y.then(T,q)}):(d._state=!0,d._value=y,Gt(d)),w&&ut()}},Mt.bind(null,d))}catch(y){Mt(d,y)}}(this,i)}var mn={get:function(){var i=Ze,o=Vt;function c(d,g){var y=this,w=!i.global&&(i!==Ze||o!==Vt),T=w&&!Mn(),q=new Te(function(te,U){mt(y,new sn(lr(d,i,w,T),lr(g,i,w,T),te,U,i))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return c.prototype=ct,c},set:function(i){D(this,"then",i&&i.prototype===ct?mn:{get:function(){return i},set:mn.set})}};function sn(i,o,c,d,g){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof o=="function"?o:null,this.resolve=c,this.reject=d,this.psd=g}function Mt(i,o){var c,d;rn.push(o),i._state===null&&(c=i._lib&&rt(),o=an(o),i._state=!1,i._value=o,d=i,pt.some(function(g){return g._value===d._value})||pt.push(d),Gt(i),c)&&ut()}function Gt(i){var o=i._listeners;i._listeners=[];for(var c=0,d=o.length;c<d;++c)mt(i,o[c]);var g=i._PSD;--g.ref||g.finalize(),Bt===0&&(++Bt,Qt(function(){--Bt==0&&Yt()},[]))}function mt(i,o){if(i._state===null)i._listeners.push(o);else{var c=i._state?o.onFulfilled:o.onRejected;if(c===null)return(i._state?o.resolve:o.reject)(i._value);++o.psd.ref,++Bt,Qt(wt,[c,i,o])}}function wt(i,o,c){try{var d,g=o._value;!o._state&&rn.length&&(rn=[]),d=Ct&&o._consoleTask?o._consoleTask.run(function(){return i(g)}):i(g),o._state||rn.indexOf(g)!==-1||(y=>{for(var w=pt.length;w;)if(pt[--w]._value===y._value)return pt.splice(w,1)})(o),c.resolve(d)}catch(y){c.reject(y)}finally{--Bt==0&&Yt(),--c.psd.ref||c.psd.finalize()}}function _t(){bn(Ht,function(){rt()&&ut()})}function rt(){var i=Kt;return ot=Kt=!1,i}function ut(){var i,o,c;do for(;0<Jt.length;)for(i=Jt,Jt=[],c=i.length,o=0;o<c;++o){var d=i[o];d[0].apply(null,d[1])}while(0<Jt.length);ot=Kt=!0}function Yt(){for(var i=pt,o=(pt=[],i.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)}),Ut.slice(0)),c=o.length;c;)o[--c]()}function Pt(i){return new Te(ct,!1,i)}function ue(i,o){var c=Ze;return function(){var d=rt(),g=Ze;try{return vt(c,!0),i.apply(this,arguments)}catch(y){o&&o(y)}finally{vt(g,!1),d&&ut()}}}E(Te.prototype,{then:mn,_then:function(i,o){mt(this,new sn(null,null,i,o,Ze))},catch:function(i){var o,c;return arguments.length===1?this.then(null,i):(o=i,c=arguments[1],typeof o=="function"?this.then(null,function(d){return(d instanceof o?c:Pt)(d)}):this.then(null,function(d){return(d&&d.name===o?c:Pt)(d)}))},finally:function(i){return this.then(function(o){return Te.resolve(i()).then(function(){return o})},function(o){return Te.resolve(i()).then(function(){return Pt(o)})})},timeout:function(i,o){var c=this;return i<1/0?new Te(function(d,g){var y=setTimeout(function(){return g(new Ee.Timeout(o))},i);c.then(d,g).finally(clearTimeout.bind(null,y))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&D(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),Ht.env=on(),E(Te,{all:function(){var i=R.apply(null,arguments).map(ft);return new Te(function(o,c){i.length===0&&o([]);var d=i.length;i.forEach(function(g,y){return Te.resolve(g).then(function(w){i[y]=w,--d||o(i)},c)})})},resolve:function(i){return i instanceof Te?i:i&&typeof i.then=="function"?new Te(function(o,c){i.then(o,c)}):new Te(ct,!0,i)},reject:Pt,race:function(){var i=R.apply(null,arguments).map(ft);return new Te(function(o,c){i.map(function(d){return Te.resolve(d).then(o,c)})})},PSD:{get:function(){return Ze},set:function(i){return Ze=i}},totalEchoes:{get:function(){return Vt}},newPSD:_n,usePSD:bn,scheduler:{get:function(){return Qt},set:function(i){Qt=i}},rejectionMapper:{get:function(){return an},set:function(i){an=i}},follow:function(i,o){return new Te(function(c,d){return _n(function(g,y){var w=Ze;w.unhandleds=[],w.onunhandled=y,w.finalize=J(function(){var T,q=this;T=function(){q.unhandleds.length===0?g():y(q.unhandleds[0])},Ut.push(function te(){T(),Ut.splice(Ut.indexOf(te),1)}),++Bt,Qt(function(){--Bt==0&&Yt()},[])},w.finalize),i()},o,c,d)})}}),gt&&(gt.allSettled&&D(Te,"allSettled",function(){var i=R.apply(null,arguments).map(ft);return new Te(function(o){i.length===0&&o([]);var c=i.length,d=new Array(c);i.forEach(function(g,y){return Te.resolve(g).then(function(w){return d[y]={status:"fulfilled",value:w}},function(w){return d[y]={status:"rejected",reason:w}}).then(function(){return--c||o(d)})})})}),gt.any&&typeof AggregateError<"u"&&D(Te,"any",function(){var i=R.apply(null,arguments).map(ft);return new Te(function(o,c){i.length===0&&c(new AggregateError([]));var d=i.length,g=new Array(d);i.forEach(function(y,w){return Te.resolve(y).then(function(T){return o(T)},function(T){g[w]=T,--d||c(new AggregateError(g))})})})}),gt.withResolvers)&&(Te.withResolvers=gt.withResolvers);var Ce={awaits:0,echoes:0,id:0},Lt=0,yt=[],xe=0,Vt=0,br=0;function _n(i,w,c,d){var g=Ze,y=Object.create(g),w=(y.parent=g,y.ref=0,y.global=!1,y.id=++br,Ht.env,y.env=at?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},w&&f(y,w),++g.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()},bn(y,i,c,d));return y.ref===0&&y.finalize(),w}function fn(){return Ce.id||(Ce.id=++Lt),++Ce.awaits,Ce.echoes+=nt,Ce.id}function Mn(){return!!Ce.awaits&&(--Ce.awaits==0&&(Ce.id=0),Ce.echoes=Ce.awaits*nt,!0)}function ft(i){return Ce.echoes&&i&&i.constructor===gt?(fn(),i.then(function(o){return Mn(),o},function(o){return Mn(),dt(o)})):i}function ir(){var i=yt[yt.length-1];yt.pop(),vt(i,!1)}function vt(i,o){var c,d,g=Ze;(o?!Ce.echoes||xe++&&i===Ze:!xe||--xe&&i===Ze)||queueMicrotask(o?(function(y){++Vt,Ce.echoes&&--Ce.echoes!=0||(Ce.echoes=Ce.awaits=Ce.id=0),yt.push(Ze),vt(y,!0)}).bind(null,i):ir),i!==Ze&&(Ze=i,g===Ht&&(Ht.env=on()),at)&&(c=Ht.env.Promise,d=i.env,g.global||i.global)&&(Object.defineProperty(s,"Promise",d.PromiseProp),c.all=d.all,c.race=d.race,c.resolve=d.resolve,c.reject=d.reject,d.allSettled&&(c.allSettled=d.allSettled),d.any)&&(c.any=d.any)}function on(){var i=s.Promise;return at?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function bn(i,o,c,d,g){var y=Ze;try{return vt(i,!0),o(c,d,g)}finally{vt(y,!1)}}function lr(i,o,c,d){return typeof i!="function"?i:function(){var g=Ze;c&&fn(),vt(o,!0);try{return i.apply(this,arguments)}finally{vt(g,!1),d&&queueMicrotask(Mn)}}}function Zn(i){Promise===gt&&Ce.echoes===0?xe===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Vr).indexOf("[native code]")===-1&&(fn=Mn=ve);var dt=Te.reject,jn="",Vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",dr="String expected.",ar=[],Nn="__dbnames",qt="readonly",qn="readwrite";function un(i,o){return i?o?function(){return i.apply(this,arguments)&&o.apply(this,arguments)}:i:o}var hr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vn(i){return typeof i!="string"||/\./.test(i)?function(o){return o}:function(o){return o[i]===void 0&&i in o&&delete(o=ce(o))[i],o}}function pi(){throw Ee.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function kt(i,o){try{var c=Nr(i),d=Nr(o);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return o<i?1:i<o?-1:0;case"binary":for(var g=gi(i),y=gi(o),w=g.length,T=y.length,q=w<T?w:T,te=0;te<q;++te)if(g[te]!==y[te])return g[te]<y[te]?-1:1;return w===T?0:w<T?-1:1;case"Array":for(var U=i,K=o,W=U.length,Y=K.length,G=W<Y?W:Y,V=0;V<G;++V){var le=kt(U[V],K[V]);if(le!==0)return le}return W===Y?0:W<Y?-1:1}}catch{}return NaN}function Nr(i){var o=typeof i;return o=="object"&&(ArrayBuffer.isView(i)||(o=we(i))==="ArrayBuffer")?"binary":o}function gi(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function Br(i,o,c){var d=i.schema.yProps;return d?(o&&0<c.numFailures&&(o=o.filter(function(g,y){return!c.failures[y]})),Promise.all(d.map(function(g){return g=g.updatesTable,o?i.db.table(g).where("k").anyOf(o).delete():i.db.table(g).clear()})).then(function(){return c})):c}_i.prototype.execute=function(i){var o=this["@@propmod"];if(o.add!==void 0){var c=o.add;if(u(c))return l(l([],u(i)?i:[],!0),c).sort();if(typeof c=="number")return(Number(i)||0)+c;if(typeof c=="bigint")try{return BigInt(i)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(o.remove!==void 0){var d=o.remove;if(u(d))return u(i)?i.filter(function(g){return!d.includes(g)}).sort():[];if(typeof d=="number")return Number(i)-d;if(typeof d=="bigint")try{return BigInt(i)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=o.replacePrefix)==null?void 0:c[0],c&&typeof i=="string"&&i.startsWith(c)?o.replacePrefix[1]+i.substring(c.length):i};var mr=_i;function _i(i){this["@@propmod"]=i}function Jr(i,o){for(var c=a(o),d=c.length,g=!1,y=0;y<d;++y){var w=c[y],T=o[w],q=X(i,w);T instanceof mr?(Z(i,w,T.execute(q)),g=!0):q!==T&&(Z(i,w,T),g=!0)}return g}Rt.prototype._trans=function(i,o,c){var d=this._tx||Ze.trans,g=this.name,y=Ct&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function w(te,U,K){if(K.schema[g])return o(K.idbtrans,K);throw new Ee.NotFound("Table "+g+" not part of transaction")}var T=rt();try{var q=d&&d.db._novip===this.db._novip?d===Ze.trans?d._promise(i,w,c):_n(function(){return d._promise(i,w,c)},{trans:d,transless:Ze.transless||Ze}):function te(U,K,W,Y){if(U.idbdb&&(U._state.openComplete||Ze.letThrough||U._vip)){var G=U._createTransaction(K,W,U._dbSchema);try{G.create(),U._state.PR1398_maxLoop=3}catch(V){return V.name===Me.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return te(U,K,W,Y)})):dt(V)}return G._promise(K,function(V,le){return _n(function(){return Ze.trans=G,Y(V,le,G)})}).then(function(V){if(K==="readwrite")try{G.idbtrans.commit()}catch{}return K==="readonly"?V:G._completion.then(function(){return V})})}if(U._state.openComplete)return dt(new Ee.DatabaseClosed(U._state.dbOpenError));if(!U._state.isBeingOpened){if(!U._state.autoOpen)return dt(new Ee.DatabaseClosed);U.open().catch(ve)}return U._state.dbReadyPromise.then(function(){return te(U,K,W,Y)})}(this.db,i,[this.name],w);return y&&(q._consoleTask=y,q=q.catch(function(te){return console.trace(te),dt(te)})),q}finally{T&&ut()}},Rt.prototype.get=function(i,o){var c=this;return i&&i.constructor===Object?this.where(i).first(o):i==null?dt(new Ee.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:i}).then(function(g){return c.hook.reading.fire(g)})}).then(o)},Rt.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(u(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var o=a(i);if(o.length===1)return this.where(o[0]).equals(i[o[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(T){if(T.compound&&o.every(function(te){return 0<=T.keyPath.indexOf(te)})){for(var q=0;q<o.length;++q)if(o.indexOf(T.keyPath[q])===-1)return!1;return!0}return!1}).sort(function(T,q){return T.keyPath.length-q.keyPath.length})[0];if(c&&this.db._maxKey!==jn)return w=c.keyPath.slice(0,o.length),this.where(w).equals(w.map(function(T){return i[T]}));!c&&Ct&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var d=this.schema.idxByName;function g(T,q){return kt(T,q)===0}var w=o.reduce(function(U,q){var te=U[0],U=U[1],K=d[q],W=i[q];return[te||K,te||!K?un(U,K&&K.multi?function(Y){return Y=X(Y,q),u(Y)&&Y.some(function(G){return g(W,G)})}:function(Y){return g(W,X(Y,q))}):U]},[null,null]),y=w[0],w=w[1];return y?this.where(y.name).equals(i[y.keyPath]).filter(w):c?this.filter(w):this.where(o).equals("")},Rt.prototype.filter=function(i){return this.toCollection().and(i)},Rt.prototype.count=function(i){return this.toCollection().count(i)},Rt.prototype.offset=function(i){return this.toCollection().offset(i)},Rt.prototype.limit=function(i){return this.toCollection().limit(i)},Rt.prototype.each=function(i){return this.toCollection().each(i)},Rt.prototype.toArray=function(i){return this.toCollection().toArray(i)},Rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Rt.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,u(i)?"[".concat(i.join("+"),"]"):i))},Rt.prototype.reverse=function(){return this.toCollection().reverse()},Rt.prototype.mapToClass=function(i){for(var o=this.db,c=this.name,d=((this.schema.mappedClass=i).prototype instanceof pi&&(i=(w=>{var T=U,q=w;if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function te(){this.constructor=T}function U(){return w!==null&&w.apply(this,arguments)||this}return t(T,q),T.prototype=q===null?Object.create(q):(te.prototype=q.prototype,new te),Object.defineProperty(U.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),U.prototype.table=function(){return c},U})(i)),new Set),g=i.prototype;g;g=h(g))Object.getOwnPropertyNames(g).forEach(function(w){return d.add(w)});function y(w){if(!w)return w;var T,q=Object.create(i.prototype);for(T in w)if(!d.has(T))try{q[T]=w[T]}catch{}return q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),i},Rt.prototype.defineClass=function(){return this.mapToClass(function(i){f(this,i)})},Rt.prototype.add=function(i,o){var c=this,d=this.schema.primKey,g=d.auto,y=d.keyPath,w=i;return y&&g&&(w=vn(y)(i)),this._trans("readwrite",function(T){return c.core.mutate({trans:T,type:"add",keys:o!=null?[o]:null,values:[w]})}).then(function(T){return T.numFailures?Te.reject(T.failures[0]):T.lastResult}).then(function(T){if(y)try{Z(i,y,T)}catch{}return T})},Rt.prototype.upsert=function(i,o){var c=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(g){return c.core.get({trans:g,key:i}).then(function(y){var w=y??{};return Jr(w,o),d&&Z(w,d,i),c.core.mutate({trans:g,type:"put",values:[w],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[o]}}).then(function(T){return T.numFailures?Te.reject(T.failures[0]):!!y})})})},Rt.prototype.update=function(i,o){return typeof i!="object"||u(i)?this.where(":id").equals(i).modify(o):(i=X(i,this.schema.primKey.keyPath))===void 0?dt(new Ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(o)},Rt.prototype.put=function(i,o){var c=this,d=this.schema.primKey,g=d.auto,y=d.keyPath,w=i;return y&&g&&(w=vn(y)(i)),this._trans("readwrite",function(T){return c.core.mutate({trans:T,type:"put",values:[w],keys:o!=null?[o]:null})}).then(function(T){return T.numFailures?Te.reject(T.failures[0]):T.lastResult}).then(function(T){if(y)try{Z(i,y,T)}catch{}return T})},Rt.prototype.delete=function(i){var o=this;return this._trans("readwrite",function(c){return o.core.mutate({trans:c,type:"delete",keys:[i]}).then(function(d){return Br(o,[i],d)}).then(function(d){return d.numFailures?Te.reject(d.failures[0]):void 0})})},Rt.prototype.clear=function(){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"deleteRange",range:hr}).then(function(c){return Br(i,null,c)})}).then(function(o){return o.numFailures?Te.reject(o.failures[0]):void 0})},Rt.prototype.bulkGet=function(i){var o=this;return this._trans("readonly",function(c){return o.core.getMany({keys:i,trans:c}).then(function(d){return d.map(function(g){return o.hook.reading.fire(g)})})})},Rt.prototype.bulkAdd=function(i,o,c){var d=this,g=Array.isArray(o)?o:void 0,y=(c=c||(g?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(w){var T=d.schema.primKey,te=T.auto,T=T.keyPath;if(T&&g)throw new Ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var q=i.length,te=T&&te?i.map(vn(T)):i;return d.core.mutate({trans:w,type:"add",keys:g,values:te,wantResults:y}).then(function(U){var K=U.numFailures,W=U.failures;if(K===0)return y?U.results:U.lastResult;throw new _e("".concat(d.name,".bulkAdd(): ").concat(K," of ").concat(q," operations failed"),W)})})},Rt.prototype.bulkPut=function(i,o,c){var d=this,g=Array.isArray(o)?o:void 0,y=(c=c||(g?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(w){var T=d.schema.primKey,te=T.auto,T=T.keyPath;if(T&&g)throw new Ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==i.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var q=i.length,te=T&&te?i.map(vn(T)):i;return d.core.mutate({trans:w,type:"put",keys:g,values:te,wantResults:y}).then(function(U){var K=U.numFailures,W=U.failures;if(K===0)return y?U.results:U.lastResult;throw new _e("".concat(d.name,".bulkPut(): ").concat(K," of ").concat(q," operations failed"),W)})})},Rt.prototype.bulkUpdate=function(i){var o=this,c=this.core,d=i.map(function(w){return w.key}),g=i.map(function(w){return w.changes}),y=[];return this._trans("readwrite",function(w){return c.getMany({trans:w,keys:d,cache:"clone"}).then(function(T){var q=[],te=[],U=(i.forEach(function(K,W){var Y=K.key,G=K.changes,V=T[W];if(V){for(var le=0,oe=Object.keys(G);le<oe.length;le++){var x=oe[le],Se=G[x];if(x===o.schema.primKey.keyPath){if(kt(Se,Y)!==0)throw new Ee.Constraint("Cannot update primary key in bulkUpdate()")}else Z(V,x,Se)}y.push(W),q.push(Y),te.push(V)}}),q.length);return c.mutate({trans:w,type:"put",keys:q,values:te,updates:{keys:d,changeSpecs:g}}).then(function(K){var W=K.numFailures,Y=K.failures;if(W===0)return U;for(var G=0,V=Object.keys(Y);G<V.length;G++){var le,oe=V[G],x=y[Number(oe)];x!=null&&(le=Y[oe],delete Y[oe],Y[x]=le)}throw new _e("".concat(o.name,".bulkUpdate(): ").concat(W," of ").concat(U," operations failed"),Y)})})})},Rt.prototype.bulkDelete=function(i){var o=this,c=i.length;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"delete",keys:i}).then(function(g){return Br(o,i,g)})}).then(function(d){var g=d.numFailures,y=d.failures;if(g===0)return d.lastResult;throw new _e("".concat(o.name,".bulkDelete(): ").concat(g," of ").concat(c," operations failed"),y)})};var vi=Rt;function Rt(){}function yr(i){function o(w,T){if(T){for(var q=arguments.length,te=new Array(q-1);--q;)te[q-1]=arguments[q];return c[w].subscribe.apply(null,te),i}if(typeof w=="string")return c[w]}var c={};o.addEventType=y;for(var d=1,g=arguments.length;d<g;++d)y(arguments[d]);return o;function y(w,T,q){var te,U;if(typeof w!="object")return T=T||tt,U={subscribers:[],fire:q=q||ve,subscribe:function(K){U.subscribers.indexOf(K)===-1&&(U.subscribers.push(K),U.fire=T(U.fire,K))},unsubscribe:function(K){U.subscribers=U.subscribers.filter(function(W){return W!==K}),U.fire=U.subscribers.reduce(T,q)}},c[w]=o[w]=U;a(te=w).forEach(function(K){var W=te[K];if(u(W))y(K,te[K][0],te[K][1]);else{if(W!=="asap")throw new Ee.InvalidArgument("Invalid event config");var Y=y(K,Pe,function(){for(var G=arguments.length,V=new Array(G);G--;)V[G]=arguments[G];Y.subscribers.forEach(function(le){z(function(){le.apply(null,V)})})})}})}}function Qn(i,o){return S(o).from({prototype:i}),o}function sr(i,o){return!(i.filter||i.algorithm||i.or)&&(o?i.justLimit:!i.replayFilter)}function wr(i,o){i.filter=un(i.filter,o)}function pr(i,o,c){var d=i.replayFilter;i.replayFilter=d?function(){return un(d(),o())}:o,i.justLimit=c&&!d}function Fr(i,o){if(i.isPrimKey)return o.primaryKey;var c=o.getIndexByKeyPath(i.index);if(c)return c;throw new Ee.Schema("KeyPath "+i.index+" on object store "+o.name+" is not indexed")}function gr(i,o,c){var d=Fr(i,o.schema);return o.openCursor({trans:c,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:d,range:i.range}})}function zr(i,o,c,d){var g,y,w=i.replayFilter?un(i.filter,i.replayFilter()):i.filter;return i.or?(g={},y=function(T,q,te){var U,K;w&&!w(q,te,function(W){return q.stop(W)},function(W){return q.fail(W)})||((K=""+(U=q.primaryKey))=="[object ArrayBuffer]"&&(K=""+new Uint8Array(U)),v(g,K))||(g[K]=!0,o(T,q,te))},Promise.all([i.or._iterate(y,c),bi(gr(i,d,c),i.algorithm,y,!i.keysOnly&&i.valueMapper)])):bi(gr(i,d,c),un(i.algorithm,w),o,!i.keysOnly&&i.valueMapper)}function bi(i,o,c,d){var g=ue(d?function(y,w,T){return c(d(y),w,T)}:c);return i.then(function(y){if(y)return y.start(function(){var w=function(){return y.continue()};o&&!o(y,function(T){return w=T},function(T){y.stop(T),w=ve},function(T){y.fail(T),w=ve})||g(y.value,y,function(T){return w=T}),w()})})}Tt.prototype._read=function(i,o){var c=this._ctx;return c.error?c.table._trans(null,dt.bind(null,c.error)):c.table._trans("readonly",i).then(o)},Tt.prototype._write=function(i){var o=this._ctx;return o.error?o.table._trans(null,dt.bind(null,o.error)):o.table._trans("readwrite",i,"locked")},Tt.prototype._addAlgorithm=function(i){var o=this._ctx;o.algorithm=un(o.algorithm,i)},Tt.prototype._iterate=function(i,o){return zr(this._ctx,i,o,this._ctx.table.core)},Tt.prototype.clone=function(i){var o=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return i&&f(c,i),o._ctx=c,o},Tt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Tt.prototype.each=function(i){var o=this._ctx;return this._read(function(c){return zr(o,i,c,o.table.core)})},Tt.prototype.count=function(i){var o=this;return this._read(function(c){var d,g=o._ctx,y=g.table.core;return sr(g,!0)?y.count({trans:c,query:{index:Fr(g,y.schema),range:g.range}}).then(function(w){return Math.min(w,g.limit)}):(d=0,zr(g,function(){return++d,!1},c,y).then(function(){return d}))}).then(i)},Tt.prototype.sortBy=function(i,o){var c=i.split(".").reverse(),d=c[0],g=c.length-1;function y(q,te){return te?y(q[c[te]],te-1):q[d]}var w=this._ctx.dir==="next"?1:-1;function T(q,te){return kt(y(q,g),y(te,g))*w}return this.toArray(function(q){return q.sort(T)}).then(o)},Tt.prototype.toArray=function(i){var o=this;return this._read(function(c){var d,g,y,w=o._ctx;return w.dir==="next"&&sr(w,!0)&&0<w.limit?(d=w.valueMapper,g=Fr(w,w.table.core.schema),w.table.core.query({trans:c,limit:w.limit,values:!0,query:{index:g,range:w.range}}).then(function(T){return T=T.result,d?T.map(d):T})):(y=[],zr(w,function(T){return y.push(T)},c,w.table.core).then(function(){return y}))},i)},Tt.prototype.offset=function(i){var o=this._ctx;return i<=0||(o.offset+=i,sr(o)?pr(o,function(){var c=i;return function(d,g){return c===0||(c===1?--c:g(function(){d.advance(c),c=0}),!1)}}):pr(o,function(){var c=i;return function(){return--c<0}})),this},Tt.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),pr(this._ctx,function(){var o=i;return function(c,d,g){return--o<=0&&d(g),0<=o}},!0),this},Tt.prototype.until=function(i,o){return wr(this._ctx,function(c,d,g){return!i(c.value)||(d(g),o)}),this},Tt.prototype.first=function(i){return this.limit(1).toArray(function(o){return o[0]}).then(i)},Tt.prototype.last=function(i){return this.reverse().first(i)},Tt.prototype.filter=function(i){var o;return wr(this._ctx,function(c){return i(c.value)}),(o=this._ctx).isMatch=un(o.isMatch,i),this},Tt.prototype.and=function(i){return this.filter(i)},Tt.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Tt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Tt.prototype.desc=function(){return this.reverse()},Tt.prototype.eachKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,d){i(d.key,d)})},Tt.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Tt.prototype.eachPrimaryKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,d){i(d.primaryKey,d)})},Tt.prototype.keys=function(i){var o=this._ctx,c=(o.keysOnly=!o.isMatch,[]);return this.each(function(d,g){c.push(g.key)}).then(function(){return c}).then(i)},Tt.prototype.primaryKeys=function(i){var o=this._ctx;if(o.dir==="next"&&sr(o,!0)&&0<o.limit)return this._read(function(d){var g=Fr(o,o.table.core.schema);return o.table.core.query({trans:d,values:!1,limit:o.limit,query:{index:g,range:o.range}})}).then(function(d){return d.result}).then(i);o.keysOnly=!o.isMatch;var c=[];return this.each(function(d,g){c.push(g.primaryKey)}).then(function(){return c}).then(i)},Tt.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Tt.prototype.firstKey=function(i){return this.limit(1).keys(function(o){return o[0]}).then(i)},Tt.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Tt.prototype.distinct=function(){var i,o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];return o&&o.multi&&(i={},wr(this._ctx,function(d){var d=d.primaryKey.toString(),g=v(i,d);return i[d]=!0,!g})),this},Tt.prototype.modify=function(i){var o=this,c=this._ctx;return this._write(function(d){function g(V,le){var oe=le.failures;W+=V-le.numFailures;for(var x=0,Se=a(oe);x<Se.length;x++){var Ae=Se[x];K.push(oe[Ae])}}var y=typeof i=="function"?i:function(V){return Jr(V,i)},w=c.table.core,U=w.schema.primaryKey,T=U.outbound,q=U.extractKey,te=200,U=o.db._options.modifyChunkSize,K=(U&&(te=typeof U=="object"?U[w.name]||U["*"]||200:U),[]),W=0,Y=[],G=i===yi;return o.clone().primaryKeys().then(function(V){function le(x){var Se=Math.min(te,V.length-x),Ae=V.slice(x,x+Se);return(G?Promise.resolve([]):w.getMany({trans:d,keys:Ae,cache:"immutable"})).then(function(ze){var Ke=[],Oe=[],Je=T?[]:null,We=G?Ae:[];if(!G)for(var Le=0;Le<Se;++Le){var $e=ze[Le],It={value:ce($e),primKey:V[x+Le]};y.call(It,It.value,It)!==!1&&(It.value==null?We.push(V[x+Le]):T||kt(q($e),q(It.value))===0?(Oe.push(It.value),T&&Je.push(V[x+Le])):(We.push(V[x+Le]),Ke.push(It.value)))}return Promise.resolve(0<Ke.length&&w.mutate({trans:d,type:"add",values:Ke}).then(function(Nt){for(var it in Nt.failures)We.splice(parseInt(it),1);g(Ke.length,Nt)})).then(function(){return(0<Oe.length||oe&&typeof i=="object")&&w.mutate({trans:d,type:"put",keys:Je,values:Oe,criteria:oe,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<x}).then(function(Nt){return g(Oe.length,Nt)})}).then(function(){return(0<We.length||oe&&G)&&w.mutate({trans:d,type:"delete",keys:We,criteria:oe,isAdditionalChunk:0<x}).then(function(Nt){return Br(c.table,We,Nt)}).then(function(Nt){return g(We.length,Nt)})}).then(function(){return V.length>x+Se&&le(x+te)})})}var oe=sr(c)&&c.limit===1/0&&(typeof i!="function"||G)&&{index:c.index,range:c.range};return le(0).then(function(){if(0<K.length)throw new Q("Error modifying one or more objects",K,W,Y);return V.length})})})},Tt.prototype.delete=function(){var i=this._ctx,o=i.range;return!sr(i)||i.table.schema.yProps||!i.isPrimKey&&o.type!==3?this.modify(yi):this._write(function(c){var d=i.table.core.schema.primaryKey,g=o;return i.table.core.count({trans:c,query:{index:d,range:g}}).then(function(y){return i.table.core.mutate({trans:c,type:"deleteRange",range:g}).then(function(q){var T=q.failures,q=q.numFailures;if(q)throw new Q("Could not delete some values",Object.keys(T).map(function(te){return T[te]}),y-q);return y-q})})})};var Xi=Tt;function Tt(){}var yi=function(i,o){return o.value=null};function xi(i,o){return i<o?-1:i===o?0:1}function $i(i,o){return o<i?-1:i===o?0:1}function En(i,o,c){return i=i instanceof $n?new i.Collection(i):i,i._ctx.error=new(c||TypeError)(o),i}function _r(i){return new i.Collection(i,function(){return kr("")}).limit(0)}function Kr(Y,o,c,d){var g,y,w,T,q,te,U,K=c.length;if(!c.every(function(V){return typeof V=="string"}))return En(Y,dr);function W(V){g=V==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},y=V==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},w=V==="next"?xi:$i;var le=c.map(function(oe){return{lower:y(oe),upper:g(oe)}}).sort(function(oe,x){return w(oe.lower,x.lower)});T=le.map(function(oe){return oe.upper}),q=le.map(function(oe){return oe.lower}),U=(te=V)==="next"?"":d}W("next");var Y=new Y.Collection(Y,function(){return Bn(T[0],q[K-1]+d)}),G=(Y._ondirectionchange=function(V){W(V)},0);return Y._addAlgorithm(function(V,le,oe){var x=V.key;if(typeof x=="string"){var Se=y(x);if(o(Se,q,G))return!0;for(var Ae=null,ze=G;ze<K;++ze){var Ke=((Oe,Je,We,Le,$e,It)=>{for(var Nt=Math.min(Oe.length,Le.length),it=-1,bt=0;bt<Nt;++bt){var xt=Je[bt];if(xt!==Le[bt])return $e(Oe[bt],We[bt])<0?Oe.substr(0,bt)+We[bt]+We.substr(bt+1):$e(Oe[bt],Le[bt])<0?Oe.substr(0,bt)+Le[bt]+We.substr(bt+1):0<=it?Oe.substr(0,it)+Je[it]+We.substr(it+1):null;$e(Oe[bt],xt)<0&&(it=bt)}return Nt<Le.length&&It==="next"?Oe+We.substr(Oe.length):Nt<Oe.length&&It==="prev"?Oe.substr(0,We.length):it<0?null:Oe.substr(0,it)+Le[it]+We.substr(it+1)})(x,Se,T[ze],q[ze],w,te);Ke===null&&Ae===null?G=ze+1:(Ae===null||0<w(Ae,Ke))&&(Ae=Ke)}le(Ae!==null?function(){V.continue(Ae+U)}:oe)}return!1}),Y}function Bn(i,o,c,d){return{type:2,lower:i,upper:o,lowerOpen:c,upperOpen:d}}function kr(i){return{type:1,lower:i,upper:i}}Object.defineProperty(dn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dn.prototype.between=function(i,o,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(i,o)||this._cmp(i,o)===0&&(c||d)&&(!c||!d)?_r(this):new this.Collection(this,function(){return Bn(i,o,!c,!d)})}catch{return En(this,Vn)}},dn.prototype.equals=function(i){return i==null?En(this,Vn):new this.Collection(this,function(){return kr(i)})},dn.prototype.above=function(i){return i==null?En(this,Vn):new this.Collection(this,function(){return Bn(i,void 0,!0)})},dn.prototype.aboveOrEqual=function(i){return i==null?En(this,Vn):new this.Collection(this,function(){return Bn(i,void 0,!1)})},dn.prototype.below=function(i){return i==null?En(this,Vn):new this.Collection(this,function(){return Bn(void 0,i,!1,!0)})},dn.prototype.belowOrEqual=function(i){return i==null?En(this,Vn):new this.Collection(this,function(){return Bn(void 0,i)})},dn.prototype.startsWith=function(i){return typeof i!="string"?En(this,dr):this.between(i,i+jn,!0,!0)},dn.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Kr(this,function(o,c){return o.indexOf(c[0])===0},[i],jn)},dn.prototype.equalsIgnoreCase=function(i){return Kr(this,function(o,c){return o===c[0]},[i],"")},dn.prototype.anyOfIgnoreCase=function(){var i=R.apply(O,arguments);return i.length===0?_r(this):Kr(this,function(o,c){return c.indexOf(o)!==-1},i,"")},dn.prototype.startsWithAnyOfIgnoreCase=function(){var i=R.apply(O,arguments);return i.length===0?_r(this):Kr(this,function(o,c){return c.some(function(d){return o.indexOf(d)===0})},i,jn)},dn.prototype.anyOf=function(){var i,o,c=this,d=R.apply(O,arguments),g=this._cmp;try{d.sort(g)}catch{return En(this,Vn)}return d.length===0?_r(this):((i=new this.Collection(this,function(){return Bn(d[0],d[d.length-1])}))._ondirectionchange=function(y){g=y==="next"?c._ascending:c._descending,d.sort(g)},o=0,i._addAlgorithm(function(y,w,T){for(var q=y.key;0<g(q,d[o]);)if(++o===d.length)return w(T),!1;return g(q,d[o])===0||(w(function(){y.continue(d[o])}),!1)}),i)},dn.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dn.prototype.noneOf=function(){var i=R.apply(O,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return En(this,Vn)}var o=i.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return o.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},dn.prototype.inAnyRange=function(i,oe){var c=this,d=this._cmp,g=this._ascending,y=this._descending,w=this._min,T=this._max;if(i.length===0)return _r(this);if(!i.every(function(x){return x[0]!==void 0&&x[1]!==void 0&&g(x[0],x[1])<=0}))return En(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ee.InvalidArgument);var q=!oe||oe.includeLowers!==!1,te=oe&&oe.includeUppers===!0,U,K=g;function W(x,Se){return K(x[0],Se[0])}try{(U=i.reduce(function(x,Se){for(var Ae=0,ze=x.length;Ae<ze;++Ae){var Ke=x[Ae];if(d(Se[0],Ke[1])<0&&0<d(Se[1],Ke[0])){Ke[0]=w(Ke[0],Se[0]),Ke[1]=T(Ke[1],Se[1]);break}}return Ae===ze&&x.push(Se),x},[])).sort(W)}catch{return En(this,Vn)}var Y=0,G=te?function(x){return 0<g(x,U[Y][1])}:function(x){return 0<=g(x,U[Y][1])},V=q?function(x){return 0<y(x,U[Y][0])}:function(x){return 0<=y(x,U[Y][0])},le=G,oe=new this.Collection(this,function(){return Bn(U[0][0],U[U.length-1][1],!q,!te)});return oe._ondirectionchange=function(x){K=x==="next"?(le=G,g):(le=V,y),U.sort(W)},oe._addAlgorithm(function(x,Se,Ae){for(var ze,Ke=x.key;le(Ke);)if(++Y===U.length)return Se(Ae),!1;return!G(ze=Ke)&&!V(ze)||(c._cmp(Ke,U[Y][1])===0||c._cmp(Ke,U[Y][0])===0||Se(function(){K===g?x.continue(U[Y][0]):x.continue(U[Y][1])}),!1)}),oe},dn.prototype.startsWithAnyOf=function(){var i=R.apply(O,arguments);return i.every(function(o){return typeof o=="string"})?i.length===0?_r(this):this.inAnyRange(i.map(function(o){return[o,o+jn]})):En(this,"startsWithAnyOf() only works with strings")};var $n=dn;function dn(){}function Un(i){return ue(function(o){return or(o),i(o.target.error),!1})}function or(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Er="storagemutated",Sr="x-storagemutated-1",er=yr(null,Er),Jn=(Gn.prototype._lock=function(){return F(!Ze.global),++this._reculock,this._reculock!==1||Ze.global||(Ze.lockOwnerFor=this),this},Gn.prototype._unlock=function(){if(F(!Ze.global),--this._reculock==0)for(Ze.global||(Ze.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{bn(i[1],i[0])}catch{}}return this},Gn.prototype._locked=function(){return this._reculock&&Ze.lockOwnerFor!==this},Gn.prototype.create=function(i){var o=this;if(this.mode){var c=this.db.idbdb,d=this.db._state.dbOpenError;if(F(!this.idbtrans),!i&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new Ee.DatabaseClosed(d);case"MissingAPIError":throw new Ee.MissingAPI(d.message,d);default:throw new Ee.OpenFailed(d)}if(!this.active)throw new Ee.TransactionInactive;F(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ue(function(g){or(g),o._reject(i.error)}),i.onabort=ue(function(g){or(g),o.active&&o._reject(new Ee.Abort(i.error)),o.active=!1,o.on("abort").fire(g)}),i.oncomplete=ue(function(){o.active=!1,o._resolve(),"mutatedParts"in i&&er.storagemutated.fire(i.mutatedParts)})}return this},Gn.prototype._promise=function(i,o,c){var d,g=this;return i==="readwrite"&&this.mode!=="readwrite"?dt(new Ee.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Te(function(y,w){g._blockedFuncs.push([function(){g._promise(i,o,c).then(y,w)},Ze])}):c?_n(function(){var y=new Te(function(w,T){g._lock();var q=o(w,T,g);q&&q.then&&q.then(w,T)});return y.finally(function(){return g._unlock()}),y._lib=!0,y}):((d=new Te(function(y,w){var T=o(y,w,g);T&&T.then&&T.then(y,w)}))._lib=!0,d):dt(new Ee.TransactionInactive)},Gn.prototype._root=function(){return this.parent?this.parent._root():this},Gn.prototype.waitFor=function(i){var o,c=this._root(),d=Te.resolve(i),g=(c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],o=c.idbtrans.objectStore(c.storeNames[0]),function y(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(o.get(-1/0).onsuccess=y)}()),c._waitingFor);return new Te(function(y,w){d.then(function(T){return c._waitingQueue.push(ue(y.bind(null,T)))},function(T){return c._waitingQueue.push(ue(w.bind(null,T)))}).finally(function(){c._waitingFor===g&&(c._waitingFor=null)})})},Gn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ee.Abort))},Gn.prototype.table=function(i){var o=this._memoizedTables||(this._memoizedTables={});if(v(o,i))return o[i];var c=this.schema[i];if(c)return(c=new this.db.Table(i,c,this)).core=this.db.core.table(i),o[i]=c;throw new Ee.NotFound("Table "+i+" not part of transaction")},Gn);function Gn(){}function Hr(i,o,c,d,g,y,w,T){return{name:i,keyPath:o,unique:c,multi:d,auto:g,compound:y,src:(c&&!w?"&":"")+(d?"*":"")+(g?"++":"")+wi(o),type:T}}function wi(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Xr(i,o,c){return{name:i,primKey:o,indexes:c,mappedClass:null,idxByName:(d=function(g){return[g.name,g]},c.reduce(function(g,y,w){return y=d(y,w),y&&(g[y[0]]=y[1]),g},{}))};var d}var Dr=function(i){try{return i.only([[]]),Dr=function(){return[[]]},[[]]}catch{return Dr=function(){return jn},jn}};function xr(i){return i==null?function(){}:typeof i=="string"?(o=i).split(".").length===1?function(c){return c[o]}:function(c){return X(c,o)}:function(c){return X(c,i)};var o}function ki(i){return[].slice.call(i)}var el=0;function Cr(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function tl(i,o,q){function d(G){if(G.type===3)return null;if(G.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var K=G.lower,W=G.upper,Y=G.lowerOpen,G=G.upperOpen;return K===void 0?W===void 0?null:o.upperBound(W,!!G):W===void 0?o.lowerBound(K,!!Y):o.bound(K,W,!!Y,!!G)}function g(U){var K,W=U.name;return{name:W,schema:U,mutate:function(Y){var G=Y.trans,V=Y.type,le=Y.keys,oe=Y.values,x=Y.range;return new Promise(function(Se,Ae){Se=ue(Se);var ze=G.objectStore(W),Ke=ze.keyPath==null,Oe=V==="put"||V==="add";if(!Oe&&V!=="delete"&&V!=="deleteRange")throw new Error("Invalid operation type: "+V);var Je,We=(le||oe||{length:1}).length;if(le&&oe&&le.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return Se({numFailures:0,failures:{},results:[],lastResult:void 0});function Le(ln){++Nt,or(ln)}var $e=[],It=[],Nt=0;if(V==="deleteRange"){if(x.type===4)return Se({numFailures:Nt,failures:It,results:[],lastResult:void 0});x.type===3?$e.push(Je=ze.clear()):$e.push(Je=ze.delete(d(x)))}else{var Ke=Oe?Ke?[oe,le]:[oe,null]:[le,null],it=Ke[0],bt=Ke[1];if(Oe)for(var xt=0;xt<We;++xt)$e.push(Je=bt&&bt[xt]!==void 0?ze[V](it[xt],bt[xt]):ze[V](it[xt])),Je.onerror=Le;else for(xt=0;xt<We;++xt)$e.push(Je=ze[V](it[xt])),Je.onerror=Le}function Wn(ln){ln=ln.target.result,$e.forEach(function(Ar,_l){return Ar.error!=null&&(It[_l]=Ar.error)}),Se({numFailures:Nt,failures:It,results:V==="delete"?le:$e.map(function(Ar){return Ar.result}),lastResult:ln})}Je.onerror=function(ln){Le(ln),Wn(ln)},Je.onsuccess=Wn})},getMany:function(Y){var G=Y.trans,V=Y.keys;return new Promise(function(le,oe){le=ue(le);for(var x,Se=G.objectStore(W),Ae=V.length,ze=new Array(Ae),Ke=0,Oe=0,Je=function($e){$e=$e.target,ze[$e._pos]=$e.result,++Oe===Ke&&le(ze)},We=Un(oe),Le=0;Le<Ae;++Le)V[Le]!=null&&((x=Se.get(V[Le]))._pos=Le,x.onsuccess=Je,x.onerror=We,++Ke);Ke===0&&le(ze)})},get:function(Y){var G=Y.trans,V=Y.key;return new Promise(function(le,oe){le=ue(le);var x=G.objectStore(W).get(V);x.onsuccess=function(Se){return le(Se.target.result)},x.onerror=Un(oe)})},query:(K=T,function(Y){return new Promise(function(G,V){G=ue(G);var le,oe,x,Oe=Y.trans,Se=Y.values,Ae=Y.limit,Ke=Y.query,ze=Ae===1/0?void 0:Ae,Je=Ke.index,Ke=Ke.range,Oe=Oe.objectStore(W),Oe=Je.isPrimaryKey?Oe:Oe.index(Je.name),Je=d(Ke);if(Ae===0)return G({result:[]});K?((Ke=Se?Oe.getAll(Je,ze):Oe.getAllKeys(Je,ze)).onsuccess=function(We){return G({result:We.target.result})},Ke.onerror=Un(V)):(le=0,oe=!Se&&"openKeyCursor"in Oe?Oe.openKeyCursor(Je):Oe.openCursor(Je),x=[],oe.onsuccess=function(We){var Le=oe.result;return!Le||(x.push(Se?Le.value:Le.primaryKey),++le===Ae)?G({result:x}):void Le.continue()},oe.onerror=Un(V))})}),openCursor:function(Y){var G=Y.trans,V=Y.values,le=Y.query,oe=Y.reverse,x=Y.unique;return new Promise(function(Se,Ae){Se=ue(Se);var Oe=le.index,ze=le.range,Ke=G.objectStore(W),Ke=Oe.isPrimaryKey?Ke:Ke.index(Oe.name),Oe=oe?x?"prevunique":"prev":x?"nextunique":"next",Je=!V&&"openKeyCursor"in Ke?Ke.openKeyCursor(d(ze),Oe):Ke.openCursor(d(ze),Oe);Je.onerror=Un(Ae),Je.onsuccess=ue(function(We){var Le,$e,It,Nt,it=Je.result;it?(it.___id=++el,it.done=!1,Le=it.continue.bind(it),$e=($e=it.continuePrimaryKey)&&$e.bind(it),It=it.advance.bind(it),Nt=function(){throw new Error("Cursor not stopped")},it.trans=G,it.stop=it.continue=it.continuePrimaryKey=it.advance=function(){throw new Error("Cursor not started")},it.fail=ue(Ae),it.next=function(){var bt=this,xt=1;return this.start(function(){return xt--?bt.continue():bt.stop()}).then(function(){return bt})},it.start=function(bt){function xt(){if(Je.result)try{bt()}catch(ln){it.fail(ln)}else it.done=!0,it.start=function(){throw new Error("Cursor behind last entry")},it.stop()}var Wn=new Promise(function(ln,Ar){ln=ue(ln),Je.onerror=Un(Ar),it.fail=Ar,it.stop=function(_l){it.stop=it.continue=it.continuePrimaryKey=it.advance=Nt,ln(_l)}});return Je.onsuccess=ue(function(ln){Je.onsuccess=xt,xt()}),it.continue=Le,it.continuePrimaryKey=$e,it.advance=It,xt(),Wn},Se(it)):Se(null)},Ae)})},count:function(Y){var G=Y.query,V=Y.trans,le=G.index,oe=G.range;return new Promise(function(x,Se){var Ae=V.objectStore(W),Ae=le.isPrimaryKey?Ae:Ae.index(le.name),ze=d(oe),ze=ze?Ae.count(ze):Ae.count();ze.onsuccess=ue(function(Ke){return x(Ke.target.result)}),ze.onerror=Un(Se)})}}}y=q,w=ki((q=i).objectStoreNames);var y,q={schema:{name:q.name,tables:w.map(function(U){return y.objectStore(U)}).map(function(U){var K=U.keyPath,W=U.autoIncrement,G=u(K),Y={},G={name:U.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:K==null,compound:G,keyPath:K,autoIncrement:W,unique:!0,extractKey:xr(K)},indexes:ki(U.indexNames).map(function(V){return U.index(V)}).map(function(x){var Se=x.name,le=x.unique,oe=x.multiEntry,x=x.keyPath,Se={name:Se,compound:u(x),keyPath:x,unique:le,multiEntry:oe,extractKey:xr(x)};return Y[Cr(x)]=Se}),getIndexByKeyPath:function(V){return Y[Cr(V)]}};return Y[":id"]=G.primaryKey,K!=null&&(Y[Cr(K)]=G.primaryKey),G})},hasGetAll:0<w.length&&"getAll"in y.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=q.schema,T=q.hasGetAll,q=w.tables.map(g),te={};return q.forEach(function(U){return te[U.name]=U}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(U){if(te[U])return te[U];throw new Error("Table '".concat(U,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Dr(o),schema:w}}function nl(i,o,c,d){return c=c.IDBKeyRange,o=tl(o,c,d),{dbcore:i.dbcore.reduce(function(g,y){return y=y.create,r(r({},g),y(g))},o)}}function k(i,o){var c=o.db,c=nl(i._middlewares,c,i._deps,o);i.core=c.dbcore,i.tables.forEach(function(d){var g=d.name;i.core.schema.tables.some(function(y){return y.name===g})&&(d.core=i.core.table(g),i[g]instanceof i.Table)&&(i[g].core=d.core)})}function Ie(i,o,c,d){c.forEach(function(g){var y=d[g];o.forEach(function(w){var T=function q(te,U){return N(te,U)||(te=h(te))&&q(te,U)}(w,g);(!T||"value"in T&&T.value===void 0)&&(w===i.Transaction.prototype||w instanceof i.Transaction?D(w,g,{get:function(){return this.table(g)},set:function(q){P(this,g,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):w[g]=new i.Table(g,y))})})}function st(i,o){o.forEach(function(c){for(var d in c)c[d]instanceof i.Table&&delete c[d]})}function lt(i,o){return i._cfg.version-o._cfg.version}function Xt(i,o,c,d){var g=i._dbSchema,y=(c.objectStoreNames.contains("$meta")&&!g.$meta&&(g.$meta=Xr("$meta",Ul("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,g)),w=(y.create(c),y._completion.catch(d),y._reject.bind(y)),T=Ze.transless||Ze;_n(function(){if(Ze.trans=y,Ze.transless=T,o!==0)return k(i,c),te=o,((q=y).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(U){return U??te}):Te.resolve(te)).then(function(le){var K=i,W=le,Y=y,G=c,V=[],le=K._versions,oe=K._dbSchema=Ei(0,K.idbdb,G);return(le=le.filter(function(x){return x._cfg.version>=W})).length===0?Te.resolve():(le.forEach(function(x){V.push(function(){var Se,Ae,ze,Ke=oe,Oe=x._cfg.dbschema,Je=(Si(K,Ke,G),Si(K,Oe,G),oe=K._dbSchema=Oe,yn(Ke,Oe)),We=(Je.add.forEach(function(Le){Sn(G,Le[0],Le[1].primKey,Le[1].indexes)}),Je.change.forEach(function(Le){if(Le.recreate)throw new Ee.Upgrade("Not yet support for changing primary key");var $e=G.objectStore(Le.name);Le.add.forEach(function(It){return tr($e,It)}),Le.change.forEach(function(It){$e.deleteIndex(It.name),tr($e,It)}),Le.del.forEach(function(It){return $e.deleteIndex(It)})}),x._cfg.contentUpgrade);if(We&&x._cfg.version>W)return k(K,G),Y._memoizedTables={},Se=De(Oe),Je.del.forEach(function(Le){Se[Le]=Ke[Le]}),st(K,[K.Transaction.prototype]),Ie(K,[K.Transaction.prototype],a(Se),Se),Y.schema=Se,(Ae=j(We))&&fn(),Oe=Te.follow(function(){var Le;(ze=We(Y))&&Ae&&(Le=Mn.bind(null,null),ze.then(Le,Le))}),ze&&typeof ze.then=="function"?Te.resolve(ze):Oe.then(function(){return ze})}),V.push(function(Se){var Ae,ze,Ke=x._cfg.dbschema;Ae=Ke,ze=Se,[].slice.call(ze.db.objectStoreNames).forEach(function(Oe){return Ae[Oe]==null&&ze.db.deleteObjectStore(Oe)}),st(K,[K.Transaction.prototype]),Ie(K,[K.Transaction.prototype],K._storeNames,K._dbSchema),Y.schema=K._dbSchema}),V.push(function(Se){K.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(K.idbdb.version/10)===x._cfg.version?(K.idbdb.deleteObjectStore("$meta"),delete K._dbSchema.$meta,K._storeNames=K._storeNames.filter(function(Ae){return Ae!=="$meta"})):Se.objectStore("$meta").put(x._cfg.version,"version"))})}),function x(){return V.length?Te.resolve(V.shift()(Y.idbtrans)).then(x):Te.resolve()}().then(function(){Xn(oe,G)}))}).catch(w);var q,te;a(g).forEach(function(U){Sn(c,U,g[U].primKey,g[U].indexes)}),k(i,c),Te.follow(function(){return i.on.populate.fire(y)}).catch(w)})}function Fn(i,o){Xn(i._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var c=Ei(0,i.idbdb,o);Si(i,i._dbSchema,o);for(var d=0,g=yn(c,i._dbSchema).change;d<g.length;d++){var y=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var T=o.objectStore(w.name);w.add.forEach(function(q){Ct&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(q.src)),tr(T,q)})})(g[d]);if(typeof y=="object")return y.value}}function yn(i,o){var c,d={del:[],add:[],change:[]};for(c in i)o[c]||d.del.push(c);for(c in o){var g=i[c],y=o[c];if(g){var w={name:c,def:y,recreate:!1,del:[],add:[],change:[]};if(""+(g.primKey.keyPath||"")!=""+(y.primKey.keyPath||"")||g.primKey.auto!==y.primKey.auto)w.recreate=!0,d.change.push(w);else{var T=g.idxByName,q=y.idxByName,te=void 0;for(te in T)q[te]||w.del.push(te);for(te in q){var U=T[te],K=q[te];U?U.src!==K.src&&w.change.push(K):w.add.push(K)}(0<w.del.length||0<w.add.length||0<w.change.length)&&d.change.push(w)}}else d.add.push([c,y])}return d}function Sn(i,o,c,d){var g=i.db.createObjectStore(o,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(y){return tr(g,y)})}function Xn(i,o){a(i).forEach(function(c){o.db.objectStoreNames.contains(c)||(Ct&&console.debug("Dexie: Creating missing table",c),Sn(o,c,i[c].primKey,i[c].indexes))})}function tr(i,o){i.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function Ei(i,o,c){var d={};return M(o.objectStoreNames,0).forEach(function(g){for(var y=c.objectStore(g),w=Hr(wi(te=y.keyPath),te||"",!0,!1,!!y.autoIncrement,te&&typeof te!="string",!0),T=[],q=0;q<y.indexNames.length;++q){var U=y.index(y.indexNames[q]),te=U.keyPath,U=Hr(U.name,te,!!U.unique,!!U.multiEntry,!1,te&&typeof te!="string",!1);T.push(U)}d[g]=Xr(g,w,T)}),d}function Si(i,o,c){for(var d=c.db.objectStoreNames,g=0;g<d.length;++g){var y=d[g],w=c.objectStore(y);i._hasGetAll="getAll"in w;for(var T=0;T<w.indexNames.length;++T){var q,te=w.indexNames[T],U=w.index(te).keyPath,U=typeof U=="string"?U:"["+M(U).join("+")+"]";o[y]&&(q=o[y].idxByName[U])&&(q.name=te,delete o[y].idxByName[U],o[y].idxByName[te]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ul(i){return i.split(",").map(function(o,c){var g=o.split(":"),d=(d=g[1])==null?void 0:d.trim(),g=(o=g[0].trim()).replace(/([&*]|\+\+)/g,""),y=/^\[/.test(g)?g.match(/^\[(.*)\]$/)[1].split("+"):g;return Hr(g,y||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),u(y),c===0,d)})}jr.prototype._createTableSchema=Xr,jr.prototype._parseIndexSyntax=Ul,jr.prototype._parseStoresSpec=function(i,o){var c=this;a(i).forEach(function(d){if(i[d]!==null){var g=c._parseIndexSyntax(i[d]),y=g.shift();if(!y)throw new Ee.Schema("Invalid schema for table "+d+": "+i[d]);if(y.unique=!0,y.multi)throw new Ee.Schema("Primary key cannot be multiEntry*");g.forEach(function(w){if(w.auto)throw new Ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new Ee.Schema("Index must have a name and cannot be an empty string")}),y=c._createTableSchema(d,y,g),o[d]=y}})},jr.prototype.stores=function(c){var o=this.db,c=(this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c,o._versions),d={},g={};return c.forEach(function(y){f(d,y._cfg.storesSource),g=y._cfg.dbschema={},y._parseStoresSpec(d,g)}),o._dbSchema=g,st(o,[o._allTables,o,o.Transaction.prototype]),Ie(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],a(g),g),o._storeNames=a(g),this},jr.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Et(this._cfg.contentUpgrade||ve,i),this};var yo=jr;function jr(){}function rl(i,o){var c=i._dbNamesDB;return c||(c=i._dbNamesDB=new ur(Nn,{addons:[],indexedDB:i,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function il(i){return i&&typeof i.databases=="function"}function ll(i){return _n(function(){return Ze.letThrough=!0,i()})}function al(i){return!("from"in i)}var wn=function(i,o){var c;if(!this)return c=new wn,i&&"d"in i&&f(c,i),c;f(this,arguments.length?{d:1,from:i,to:1<arguments.length?o:i}:{d:0})};function $r(i,o,c){var d=kt(o,c);if(!isNaN(d)){if(0<d)throw RangeError();if(al(i))return f(i,{from:o,to:c,d:1});var d=i.l,g=i.r;if(kt(c,i.from)<0)return d?$r(d,o,c):i.l={from:o,to:c,d:1,l:null,r:null},Wl(i);if(0<kt(o,i.to))return g?$r(g,o,c):i.r={from:o,to:c,d:1,l:null,r:null},Wl(i);kt(o,i.from)<0&&(i.from=o,i.l=null,i.d=g?g.d+1:1),0<kt(c,i.to)&&(i.to=c,i.r=null,i.d=i.l?i.l.d+1:1),o=!i.r,d&&!i.l&&ei(i,d),g&&o&&ei(i,g)}}function ei(i,o){al(o)||function c(d,g){var y=g.from,w=g.l,T=g.r;$r(d,y,g.to),w&&c(d,w),T&&c(d,T)}(i,o)}function Gl(i,o){var c=Di(o),d=c.next();if(!d.done)for(var g=d.value,y=Di(i),w=y.next(g.from),T=w.value;!d.done&&!w.done;){if(kt(T.from,g.to)<=0&&0<=kt(T.to,g.from))return!0;kt(g.from,T.from)<0?g=(d=c.next(T.from)).value:T=(w=y.next(g.from)).value}return!1}function Di(i){var o=al(i)?null:{s:0,n:i};return{next:function(c){for(var d=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,d)for(;o.n.l&&kt(c,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!d||kt(c,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Wl(i){var o,c,d,g=(((g=i.r)==null?void 0:g.d)||0)-(((g=i.l)==null?void 0:g.d)||0),g=1<g?"r":g<-1?"l":"";g&&(o=g=="r"?"l":"r",c=r({},i),d=i[g],i.from=d.from,i.to=d.to,i[g]=d[g],c[g]=d[o],(i[o]=c).d=Yl(c)),i.d=Yl(i)}function Yl(c){var o=c.r,c=c.l;return(o?c?Math.max(o.d,c.d):o.d:c?c.d:0)+1}function Ci(i,o){return a(o).forEach(function(c){i[c]?ei(i[c],o[c]):i[c]=function d(g){var y,w,T={};for(y in g)v(g,y)&&(w=g[y],T[y]=!w||typeof w!="object"||ge.has(w.constructor)?w:d(w));return T}(o[c])}),i}function sl(i,o){return i.all||o.all||Object.keys(i).some(function(c){return o[c]&&Gl(o[c],i[c])})}E(wn.prototype,((Ue={add:function(i){return ei(this,i),this},addKey:function(i){return $r(this,i,i),this},addKeys:function(i){var o=this;return i.forEach(function(c){return $r(o,c,c)}),this},hasKey:function(i){var o=Di(this).next(i).value;return o&&kt(o.from,i)<=0&&0<=kt(o.to,i)}})[ye]=function(){return Di(this)},Ue));var Tr={},ol={},ul=!1;function Ti(i){Ci(ol,i),ul||(ul=!0,setTimeout(function(){ul=!1,cl(ol,!(ol={}))},0))}function cl(i,o){o===void 0&&(o=!1);var c=new Set;if(i.all)for(var d=0,g=Object.values(Tr);d<g.length;d++)Zl(T=g[d],i,c,o);else for(var y in i){var w,T,y=/^idb\:\/\/(.*)\/(.*)\//.exec(y);y&&(w=y[1],y=y[2],T=Tr["idb://".concat(w,"/").concat(y)])&&Zl(T,i,c,o)}c.forEach(function(q){return q()})}function Zl(i,o,c,d){for(var g=[],y=0,w=Object.entries(i.queries.query);y<w.length;y++){for(var T=w[y],q=T[0],te=[],U=0,K=T[1];U<K.length;U++){var W=K[U];sl(o,W.obsSet)?W.subscribers.forEach(function(le){return c.add(le)}):d&&te.push(W)}d&&g.push([q,te])}if(d)for(var Y=0,G=g;Y<G.length;Y++){var V=G[Y],q=V[0],te=V[1];i.queries.query[q]=te}}function wo(i){var o=i._state,c=i._deps.indexedDB;if(o.isBeingOpened||i.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?dt(o.dbOpenError):i});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var d=o.openCanceller,g=Math.round(10*i.verno),y=!1;function w(){if(o.openCanceller!==d)throw new Ee.DatabaseClosed("db.open() was cancelled")}function T(){return new Te(function(W,Y){if(w(),!c)throw new Ee.MissingAPI;var G=i.name,V=o.autoSchema||!g?c.open(G):c.open(G,g);if(!V)throw new Ee.MissingAPI;V.onerror=Un(Y),V.onblocked=ue(i._fireOnBlocked),V.onupgradeneeded=ue(function(le){var oe;U=V.transaction,o.autoSchema&&!i._options.allowEmptyDB?(V.onerror=or,U.abort(),V.result.close(),(oe=c.deleteDatabase(G)).onsuccess=oe.onerror=ue(function(){Y(new Ee.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(U.onerror=Un(Y),oe=le.oldVersion>Math.pow(2,62)?0:le.oldVersion,K=oe<1,i.idbdb=V.result,y&&Fn(i,U),Xt(i,oe/10,U,Y))},Y),V.onsuccess=ue(function(){U=null;var le,oe,x,Se,Ae,ze,Ke=i.idbdb=V.result,Oe=M(Ke.objectStoreNames);if(0<Oe.length)try{var Je=Ke.transaction((Ae=Oe).length===1?Ae[0]:Ae,"readonly");if(o.autoSchema)ze=Ke,Se=Je,(x=i).verno=ze.version/10,Se=x._dbSchema=Ei(0,ze,Se),x._storeNames=M(ze.objectStoreNames,0),Ie(x,[x._allTables],a(Se),Se);else if(Si(i,i._dbSchema,Je),oe=Je,((oe=yn(Ei(0,(le=i).idbdb,oe),le._dbSchema)).add.length||oe.change.some(function(We){return We.add.length||We.change.length}))&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ke.close(),g=Ke.version+1,y=!0,W(T());k(i,Je)}catch{}ar.push(i),Ke.onversionchange=ue(function(We){o.vcFired=!0,i.on("versionchange").fire(We)}),Ke.onclose=ue(function(){i.close({disableAutoOpen:!1})}),K&&(Oe=i._deps,Ae=G,il(ze=Oe.indexedDB)||Ae===Nn||rl(ze,Oe.IDBKeyRange).put({name:Ae}).catch(ve)),W()},Y)}).catch(function(W){switch(W==null?void 0:W.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),T();break;case"VersionError":if(0<g)return g=0,T()}return Te.reject(W)})}var q,te=o.dbReadyResolve,U=null,K=!1;return Te.race([d,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(W){function Y(){return indexedDB.databases().finally(W)}q=setInterval(Y,100),Y()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(T)]).then(function(){return w(),o.onReadyBeingFired=[],Te.resolve(ll(function(){return i.on.ready.fire(i.vip)})).then(function W(){var Y;if(0<o.onReadyBeingFired.length)return Y=o.onReadyBeingFired.reduce(Et,ve),o.onReadyBeingFired=[],Te.resolve(ll(function(){return Y(i.vip)})).then(W)})}).finally(function(){o.openCanceller===d&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(W){o.dbOpenError=W;try{U&&U.abort()}catch{}return d===o.openCanceller&&i._close(),dt(W)}).finally(function(){o.openComplete=!0,te()}).then(function(){var W;return K&&(W={},i.tables.forEach(function(Y){Y.schema.indexes.forEach(function(G){G.name&&(W["idb://".concat(i.name,"/").concat(Y.name,"/").concat(G.name)]=new wn(-1/0,[[[]]]))}),W["idb://".concat(i.name,"/").concat(Y.name,"/")]=W["idb://".concat(i.name,"/").concat(Y.name,"/:dels")]=new wn(-1/0,[[[]]])}),er(Er).fire(W),cl(W,!0)),i})}function fl(i){function o(y){return i.next(y)}var c=g(o),d=g(function(y){return i.throw(y)});function g(y){return function(T){var T=y(T),q=T.value;return T.done?q:q&&typeof q.then=="function"?q.then(c,d):u(q)?Promise.all(q).then(c,d):c(q)}}return g(o)()}function Ii(i,o,c){for(var d=u(i)?i.slice():[i],g=0;g<c;++g)d.push(o);return d}var ko={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(d){var c=i.table(d),d=c.schema,g={},y=[];function w(W,Y,G){var x=Cr(W),V=g[x]=g[x]||[],le=W==null?0:typeof W=="string"?1:W.length,oe=0<Y,x=r(r({},G),{name:oe?"".concat(x,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:oe,keyTail:Y,keyLength:le,extractKey:xr(W),unique:!oe&&G.unique});return V.push(x),x.isPrimaryKey||y.push(x),1<le&&w(le===2?W[0]:W.slice(0,le-1),Y+1,G),V.sort(function(Se,Ae){return Se.keyTail-Ae.keyTail}),x}var T=w(d.primaryKey.keyPath,0,d.primaryKey);g[":id"]=[T];for(var q=0,te=d.indexes;q<te.length;q++){var U=te[q];w(U.keyPath,0,U)}function K(W){var Y,G=W.query.index;return G.isVirtual?r(r({},W),{query:{index:G.lowLevelIndex,range:(Y=W.query.range,G=G.keyTail,{type:Y.type===1?2:Y.type,lower:Ii(Y.lower,Y.lowerOpen?i.MAX_KEY:i.MIN_KEY,G),lowerOpen:!0,upper:Ii(Y.upper,Y.upperOpen?i.MIN_KEY:i.MAX_KEY,G),upperOpen:!0})}}):W}return r(r({},c),{schema:r(r({},d),{primaryKey:T,indexes:y,getIndexByKeyPath:function(W){return(W=g[Cr(W)])&&W[0]}}),count:function(W){return c.count(K(W))},query:function(W){return c.query(K(W))},openCursor:function(W){var Y=W.query.index,G=Y.keyTail,V=Y.keyLength;return Y.isVirtual?c.openCursor(K(W)).then(function(oe){return oe&&le(oe)}):c.openCursor(W);function le(oe){return Object.create(oe,{continue:{value:function(x){x!=null?oe.continue(Ii(x,W.reverse?i.MAX_KEY:i.MIN_KEY,G)):W.unique?oe.continue(oe.key.slice(0,V).concat(W.reverse?i.MIN_KEY:i.MAX_KEY,G)):oe.continue()}},continuePrimaryKey:{value:function(x,Se){oe.continuePrimaryKey(Ii(x,i.MAX_KEY,G),Se)}},primaryKey:{get:function(){return oe.primaryKey}},key:{get:function(){var x=oe.key;return V===1?x[0]:x.slice(0,V)}},value:{get:function(){return oe.value}}})}}})}})}};function dl(i,o,c,d){return c=c||{},d=d||"",a(i).forEach(function(g){var y,w,T;v(o,g)?(y=i[g],w=o[g],typeof y=="object"&&typeof w=="object"&&y&&w?(T=we(y))!==we(w)?c[d+g]=o[g]:T==="Object"?dl(y,w,c,d+g+"."):y!==w&&(c[d+g]=o[g]):y!==w&&(c[d+g]=o[g])):c[d+g]=void 0}),a(o).forEach(function(g){v(i,g)||(c[d+g]=o[g])}),c}function hl(i,o){return o.type==="delete"?o.keys:o.keys||o.values.map(i.extractKey)}var Eo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(o){var c=i.table(o),d=c.schema.primaryKey;return r(r({},c),{mutate:function(g){var y=Ze.trans,w=y.table(o).hook,T=w.deleting,q=w.creating,te=w.updating;switch(g.type){case"add":if(q.fire===ve)break;return y._promise("readwrite",function(){return U(g)},!0);case"put":if(q.fire===ve&&te.fire===ve)break;return y._promise("readwrite",function(){return U(g)},!0);case"delete":if(T.fire===ve)break;return y._promise("readwrite",function(){return U(g)},!0);case"deleteRange":if(T.fire===ve)break;return y._promise("readwrite",function(){return function K(W,Y,G){return c.query({trans:W,values:!1,query:{index:d,range:Y},limit:G}).then(function(V){var le=V.result;return U({type:"delete",keys:le,trans:W}).then(function(oe){return 0<oe.numFailures?Promise.reject(oe.failures[0]):le.length<G?{failures:[],numFailures:0,lastResult:void 0}:K(W,r(r({},Y),{lower:le[le.length-1],lowerOpen:!0}),G)})})}(g.trans,g.range,1e4)},!0)}return c.mutate(g);function U(K){var W,Y,G,V=Ze.trans,le=K.keys||hl(d,K);if(le)return(K=K.type==="add"||K.type==="put"?r(r({},K),{keys:le}):r({},K)).type!=="delete"&&(K.values=l([],K.values)),K.keys&&(K.keys=l([],K.keys)),W=c,G=le,((Y=K).type==="add"?Promise.resolve([]):W.getMany({trans:Y.trans,keys:G,cache:"immutable"})).then(function(oe){var x=le.map(function(Se,Ae){var ze,Ke,Oe,Je=oe[Ae],We={onerror:null,onsuccess:null};return K.type==="delete"?T.fire.call(We,Se,Je,V):K.type==="add"||Je===void 0?(ze=q.fire.call(We,Se,K.values[Ae],V),Se==null&&ze!=null&&(K.keys[Ae]=Se=ze,d.outbound||Z(K.values[Ae],d.keyPath,Se))):(ze=dl(Je,K.values[Ae]),(Ke=te.fire.call(We,ze,Se,Je,V))&&(Oe=K.values[Ae],Object.keys(Ke).forEach(function(Le){v(Oe,Le)?Oe[Le]=Ke[Le]:Z(Oe,Le,Ke[Le])}))),We});return c.mutate(K).then(function(Se){for(var Ae=Se.failures,ze=Se.results,Ke=Se.numFailures,Se=Se.lastResult,Oe=0;Oe<le.length;++Oe){var Je=(ze||le)[Oe],We=x[Oe];Je==null?We.onerror&&We.onerror(Ae[Oe]):We.onsuccess&&We.onsuccess(K.type==="put"&&oe[Oe]?K.values[Oe]:Je)}return{failures:Ae,results:ze,numFailures:Ke,lastResult:Se}}).catch(function(Se){return x.forEach(function(Ae){return Ae.onerror&&Ae.onerror(Se)}),Promise.reject(Se)})});throw new Error("Keys missing")}}})}})}};function Ql(i,o,c){try{if(!o||o.keys.length<i.length)return null;for(var d=[],g=0,y=0;g<o.keys.length&&y<i.length;++g)kt(o.keys[g],i[y])===0&&(d.push(c?ce(o.values[g]):o.values[g]),++y);return d.length===i.length?d:null}catch{return null}}var So={stack:"dbcore",level:-1,create:function(i){return{table:function(o){var c=i.table(o);return r(r({},c),{getMany:function(d){var g;return d.cache?(g=Ql(d.keys,d.trans._cache,d.cache==="clone"))?Te.resolve(g):c.getMany(d).then(function(y){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?ce(y):y},y}):c.getMany(d)},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function Jl(i,o){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Xl(i,o){switch(i){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Do={stack:"dbcore",level:0,name:"Observability",create:function(i){var o=i.schema.name,c=new wn(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(d,g,y){if(Ze.subscr&&g!=="readonly")throw new Ee.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ze.querier));return i.transaction(d,g,y)},table:function(d){function g(le){var V,le=le.query;return[V=le.index,new wn((V=(le=le.range).lower)!=null?V:i.MIN_KEY,(V=le.upper)!=null?V:i.MAX_KEY)]}var y=i.table(d),w=y.schema,T=w.primaryKey,q=w.indexes,te=T.extractKey,U=T.outbound,K=T.autoIncrement&&q.filter(function(G){return G.compound&&G.keyPath.includes(T.keyPath)}),W=r(r({},y),{mutate:function(G){function V($e){return $e="idb://".concat(o,"/").concat(d,"/").concat($e),Ae[$e]||(Ae[$e]=new wn)}var le,oe,x,Se=G.trans,Ae=G.mutatedParts||(G.mutatedParts={}),ze=V(""),Ke=V(":dels"),Oe=G.type,We=G.type==="deleteRange"?[G.range]:G.type==="delete"?[G.keys]:G.values.length<50?[hl(T,G).filter(function($e){return $e}),G.values]:[],Je=We[0],We=We[1],Le=G.trans._cache;return u(Je)?(ze.addKeys(Je),(Oe=Oe==="delete"||Je.length===We.length?Ql(Je,Le):null)||Ke.addKeys(Je),(Oe||We)&&(le=V,oe=Oe,x=We,w.indexes.forEach(function($e){var It=le($e.name||"");function Nt(bt){return bt!=null?$e.extractKey(bt):null}function it(bt){$e.multiEntry&&u(bt)?bt.forEach(function(xt){return It.addKey(xt)}):It.addKey(bt)}(oe||x).forEach(function(bt,ln){var Wn=oe&&Nt(oe[ln]),ln=x&&Nt(x[ln]);kt(Wn,ln)!==0&&(Wn!=null&&it(Wn),ln!=null)&&it(ln)})}))):Je?(We={from:(Le=Je.lower)!=null?Le:i.MIN_KEY,to:(Oe=Je.upper)!=null?Oe:i.MAX_KEY},Ke.add(We),ze.add(We)):(ze.add(c),Ke.add(c),w.indexes.forEach(function($e){return V($e.name).add(c)})),y.mutate(G).then(function($e){return!Je||G.type!=="add"&&G.type!=="put"||(ze.addKeys($e.results),K&&K.forEach(function(It){for(var Nt=G.values.map(function(Wn){return It.extractKey(Wn)}),it=It.keyPath.findIndex(function(Wn){return Wn===T.keyPath}),bt=0,xt=$e.results.length;bt<xt;++bt)Nt[bt][it]=$e.results[bt];V(It.name).addKeys(Nt)})),Se.mutatedParts=Ci(Se.mutatedParts||{},Ae),$e})}}),Y={get:function(G){return[T,new wn(G.key)]},getMany:function(G){return[T,new wn().addKeys(G.keys)]},count:g,query:g,openCursor:g};return a(Y).forEach(function(G){W[G]=function(V){var le=Ze.subscr,oe=!!le,x=Jl(Ze,y)&&Xl(G,V)?V.obsSet={}:le;if(oe){var Se,le=function(We){return We="idb://".concat(o,"/").concat(d,"/").concat(We),x[We]||(x[We]=new wn)},Ae=le(""),ze=le(":dels"),oe=Y[G](V),Ke=oe[0],oe=oe[1];if((G==="query"&&Ke.isPrimaryKey&&!V.values?ze:le(Ke.name||"")).add(oe),!Ke.isPrimaryKey){if(G!=="count")return Se=G==="query"&&U&&V.values&&y.query(r(r({},V),{values:!1})),y[G].apply(this,arguments).then(function(We){if(G==="query"){if(U&&V.values)return Se.then(function(Nt){return Nt=Nt.result,Ae.addKeys(Nt),We});var Le=V.values?We.result.map(te):We.result;(V.values?Ae:ze).addKeys(Le)}else{var $e,It;if(G==="openCursor")return It=V.values,($e=We)&&Object.create($e,{key:{get:function(){return ze.addKey($e.primaryKey),$e.key}},primaryKey:{get:function(){var Nt=$e.primaryKey;return ze.addKey(Nt),Nt}},value:{get:function(){return It&&Ae.addKey($e.primaryKey),$e.value}}})}return We});ze.add(c)}}return y[G].apply(this,arguments)}}),W}})}};function xl(i,o,c){var d;return c.numFailures===0?o:o.type==="deleteRange"||(d=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1,c.numFailures===d)?null:(d=r({},o),u(d.keys)&&(d.keys=d.keys.filter(function(g,y){return!(y in c.failures)})),"values"in d&&u(d.values)&&(d.values=d.values.filter(function(g,y){return!(y in c.failures)})),d)}function ml(i,o){return c=i,((d=o).lower===void 0||(d.lowerOpen?0<kt(c,d.lower):0<=kt(c,d.lower)))&&(c=i,(d=o).upper===void 0||(d.upperOpen?kt(c,d.upper)<0:kt(c,d.upper)<=0));var c,d}function $l(i,o,c,d,g,y){var w,T,q,te,U,K;return!c||c.length===0||(w=o.query.index,T=w.multiEntry,q=o.query.range,te=d.schema.primaryKey.extractKey,U=w.extractKey,K=(w.lowLevelIndex||w).extractKey,(d=c.reduce(function(W,Y){var G=W,V=[];if(Y.type==="add"||Y.type==="put")for(var le=new wn,oe=Y.values.length-1;0<=oe;--oe){var x,Se=Y.values[oe],Ae=te(Se);!le.hasKey(Ae)&&(x=U(Se),T&&u(x)?x.some(function(We){return ml(We,q)}):ml(x,q))&&(le.addKey(Ae),V.push(Se))}switch(Y.type){case"add":var ze=new wn().addKeys(o.values?W.map(function(Le){return te(Le)}):W),G=W.concat(o.values?V.filter(function(Le){return Le=te(Le),!ze.hasKey(Le)&&(ze.addKey(Le),!0)}):V.map(function(Le){return te(Le)}).filter(function(Le){return!ze.hasKey(Le)&&(ze.addKey(Le),!0)}));break;case"put":var Ke=new wn().addKeys(Y.values.map(function(Le){return te(Le)}));G=W.filter(function(Le){return!Ke.hasKey(o.values?te(Le):Le)}).concat(o.values?V:V.map(function(Le){return te(Le)}));break;case"delete":var Oe=new wn().addKeys(Y.keys);G=W.filter(function(Le){return!Oe.hasKey(o.values?te(Le):Le)});break;case"deleteRange":var Je=Y.range;G=W.filter(function(Le){return!ml(te(Le),Je)})}return G},i))===i)?i:(d.sort(function(W,Y){return kt(K(W),K(Y))||kt(te(W),te(Y))}),o.limit&&o.limit<1/0&&(d.length>o.limit?d.length=o.limit:i.length===o.limit&&d.length<o.limit&&(g.dirty=!0)),y?Object.freeze(d):d)}function ea(i,o){return kt(i.lower,o.lower)===0&&kt(i.upper,o.upper)===0&&!!i.lowerOpen==!!o.lowerOpen&&!!i.upperOpen==!!o.upperOpen}function Co(i,o){return((c,d,g,y)=>{if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((c=kt(c,d))===0){if(g&&y)return 0;if(g)return 1;if(y)return-1}return c})(i.lower,o.lower,i.lowerOpen,o.lowerOpen)<=0&&0<=((c,d,g,y)=>{if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((c=kt(c,d))===0){if(g&&y)return 0;if(g)return-1;if(y)return 1}return c})(i.upper,o.upper,i.upperOpen,o.upperOpen)}function To(i,o,c,d){i.subscribers.add(c),d.addEventListener("abort",function(){var g,y;i.subscribers.delete(c),i.subscribers.size===0&&(g=i,y=o,setTimeout(function(){g.subscribers.size===0&&he(y,g)},3e3))})}var Io={stack:"dbcore",level:0,name:"Cache",create:function(i){var o=i.schema.name;return r(r({},i),{transaction:function(c,d,g){var y,w,T=i.transaction(c,d,g);return d==="readwrite"&&(g=(y=new AbortController).signal,T.addEventListener("abort",(w=function(q){return function(){if(y.abort(),d==="readwrite"){for(var te=new Set,U=0,K=c;U<K.length;U++){var W=K[U],Y=Tr["idb://".concat(o,"/").concat(W)];if(Y){var G=i.table(W),V=Y.optimisticOps.filter(function($e){return $e.trans===T});if(T._explicit&&q&&T.mutatedParts)for(var le=0,oe=Object.values(Y.queries.query);le<oe.length;le++)for(var x=0,Se=(Ke=oe[le]).slice();x<Se.length;x++)sl((Oe=Se[x]).obsSet,T.mutatedParts)&&(he(Ke,Oe),Oe.subscribers.forEach(function($e){return te.add($e)}));else if(0<V.length){Y.optimisticOps=Y.optimisticOps.filter(function($e){return $e.trans!==T});for(var Ae=0,ze=Object.values(Y.queries.query);Ae<ze.length;Ae++)for(var Ke,Oe,Je,We=0,Le=(Ke=ze[Ae]).slice();We<Le.length;We++)(Oe=Le[We]).res!=null&&T.mutatedParts&&(q&&!Oe.dirty?(Je=Object.isFrozen(Oe.res),Je=$l(Oe.res,Oe.req,V,G,Oe,Je),Oe.dirty?(he(Ke,Oe),Oe.subscribers.forEach(function($e){return te.add($e)})):Je!==Oe.res&&(Oe.res=Je,Oe.promise=Te.resolve({result:Je}))):(Oe.dirty&&he(Ke,Oe),Oe.subscribers.forEach(function($e){return te.add($e)})))}}}te.forEach(function($e){return $e()})}}})(!1),{signal:g}),T.addEventListener("error",w(!1),{signal:g}),T.addEventListener("complete",w(!0),{signal:g})),T},table:function(c){var d=i.table(c),g=d.schema.primaryKey;return r(r({},d),{mutate:function(y){var w,T=Ze.trans;return!g.outbound&&T.db._options.cache!=="disabled"&&!T.explicit&&T.idbtrans.mode==="readwrite"&&(w=Tr["idb://".concat(o,"/").concat(c)])?(T=d.mutate(y),y.type!=="add"&&y.type!=="put"||!(50<=y.values.length||hl(g,y).some(function(q){return q==null}))?(w.optimisticOps.push(y),y.mutatedParts&&Ti(y.mutatedParts),T.then(function(q){0<q.numFailures&&(he(w.optimisticOps,y),(q=xl(0,y,q))&&w.optimisticOps.push(q),y.mutatedParts)&&Ti(y.mutatedParts)}),T.catch(function(){he(w.optimisticOps,y),y.mutatedParts&&Ti(y.mutatedParts)})):T.then(function(q){var te=xl(0,r(r({},y),{values:y.values.map(function(U,K){var W;return q.failures[K]?U:(Z(W=(W=g.keyPath)!=null&&W.includes(".")?ce(U):r({},U),g.keyPath,q.results[K]),W)})}),q);w.optimisticOps.push(te),queueMicrotask(function(){return y.mutatedParts&&Ti(y.mutatedParts)})}),T):d.mutate(y)},query:function(y){var w,T,q,te,U,K,W;return Jl(Ze,d)&&Xl("query",y)?(w=((q=Ze.trans)==null?void 0:q.db._options.cache)==="immutable",T=(q=Ze).requery,q=q.signal,K=((Y,G,V,le)=>{var oe=Tr["idb://".concat(Y,"/").concat(G)];if(!oe)return[];if(!(Y=oe.queries[V]))return[null,!1,oe,null];var x=Y[(le.query?le.query.index.name:null)||""];if(!x)return[null,!1,oe,null];switch(V){case"query":var Se=x.find(function(Ae){return Ae.req.limit===le.limit&&Ae.req.values===le.values&&ea(Ae.req.query.range,le.query.range)});return Se?[Se,!0,oe,x]:[x.find(function(Ae){return("limit"in Ae.req?Ae.req.limit:1/0)>=le.limit&&(!le.values||Ae.req.values)&&Co(Ae.req.query.range,le.query.range)}),!1,oe,x];case"count":return Se=x.find(function(Ae){return ea(Ae.req.query.range,le.query.range)}),[Se,!!Se,oe,x]}})(o,c,"query",y),W=K[0],te=K[2],U=K[3],W&&K[1]?W.obsSet=y.obsSet:(K=d.query(y).then(function(Y){var G=Y.result;if(W&&(W.res=G),w){for(var V=0,le=G.length;V<le;++V)Object.freeze(G[V]);Object.freeze(G)}else Y.result=ce(G);return Y}).catch(function(Y){return U&&W&&he(U,W),Promise.reject(Y)}),W={obsSet:y.obsSet,promise:K,subscribers:new Set,type:"query",req:y,dirty:!1},U?U.push(W):(U=[W],(te=te||(Tr["idb://".concat(o,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[y.query.index.name||""]=U)),To(W,U,T,q),W.promise.then(function(Y){return{result:$l(Y.result,y,te==null?void 0:te.optimisticOps,d,W,w)}})):d.query(y)}})}})}};function Ai(i,o){return new Proxy(i,{get:function(c,d,g){return d==="db"?o:Reflect.get(c,d,g)}})}cn.prototype.version=function(i){if(isNaN(i)||i<.1)throw new Ee.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new Ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var o=this._versions,c=o.filter(function(d){return d._cfg.version===i})[0];return c||(c=new this.Version(i),o.push(c),o.sort(lt),c.stores({}),this._state.autoSchema=!1),c},cn.prototype._whenReady=function(i){var o=this;return this.idbdb&&(this._state.openComplete||Ze.letThrough||this._vip)?i():new Te(function(c,d){if(o._state.openComplete)return d(new Ee.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void d(new Ee.DatabaseClosed);o.open().catch(ve)}o._state.dbReadyPromise.then(c,d)}).then(i)},cn.prototype.use=function(g){var o=g.stack,c=g.create,d=g.level,g=g.name,y=(g&&this.unuse({stack:o,name:g}),this._middlewares[o]||(this._middlewares[o]=[]));return y.push({stack:o,create:c,level:d??10,name:g}),y.sort(function(w,T){return w.level-T.level}),this},cn.prototype.unuse=function(i){var o=i.stack,c=i.name,d=i.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(g){return d?g.create!==d:!!c&&g.name!==c})),this},cn.prototype.open=function(){var i=this;return bn(Ht,function(){return wo(i)})},cn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,o=ar.indexOf(this);if(0<=o&&ar.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Te(function(c){i.dbReadyResolve=c}),i.openCanceller=new Te(function(c,d){i.cancelOpen=d}))},cn.prototype.close=function(o){var o=(o===void 0?{disableAutoOpen:!0}:o).disableAutoOpen,c=this._state;o?(c.isBeingOpened&&c.cancelOpen(new Ee.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new Ee.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},cn.prototype.delete=function(i){var o=this,c=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),d=this._state;return new Te(function(g,y){function w(){o.close(i);var T=o._deps.indexedDB.deleteDatabase(o.name);T.onsuccess=ue(function(){var q,te,U;q=o._deps,te=o.name,il(U=q.indexedDB)||te===Nn||rl(U,q.IDBKeyRange).delete(te).catch(ve),g()}),T.onerror=Un(y),T.onblocked=o._fireOnBlocked}if(c)throw new Ee.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(w):w()})},cn.prototype.backendDB=function(){return this.idbdb},cn.prototype.isOpen=function(){return this.idbdb!==null},cn.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},cn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},cn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(cn.prototype,"tables",{get:function(){var i=this;return a(this._allTables).map(function(o){return i._allTables[o]})},enumerable:!1,configurable:!0}),cn.prototype.transaction=function(){var i=(function(o,c,d){var g=arguments.length;if(g<2)throw new Ee.InvalidArgument("Too few arguments");for(var y=new Array(g-1);--g;)y[g-1]=arguments[g];return d=y.pop(),[o,re(y),d]}).apply(this,arguments);return this._transaction.apply(this,i)},cn.prototype._transaction=function(i,o,c){var d,g,y=this,w=Ze.trans,T=(w&&w.db===this&&i.indexOf("!")===-1||(w=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(g=o.map(function(te){if(te=te instanceof y.Table?te.name:te,typeof te!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return te}),i=="r"||i===qt)d=qt;else{if(i!="rw"&&i!=qn)throw new Ee.InvalidArgument("Invalid transaction mode: "+i);d=qn}if(w){if(w.mode===qt&&d===qn){if(!T)throw new Ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&g.forEach(function(te){if(w&&w.storeNames.indexOf(te)===-1){if(!T)throw new Ee.SubTransaction("Table "+te+" not included in parent transaction.");w=null}}),T&&w&&!w.active&&(w=null)}}catch(te){return w?w._promise(null,function(U,K){K(te)}):dt(te)}var q=(function te(U,K,W,Y,G){return Te.resolve().then(function(){var x=Ze.transless||Ze,V=U._createTransaction(K,W,U._dbSchema,Y),x=(V.explicit=!0,{trans:V,transless:x});if(Y)V.idbtrans=Y.idbtrans;else try{V.create(),V.idbtrans._explicit=!0,U._state.PR1398_maxLoop=3}catch(Se){return Se.name===Me.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return te(U,K,W,null,G)})):dt(Se)}var le,oe=j(G),x=(oe&&fn(),Te.follow(function(){var Se;(le=G.call(V,V))&&(oe?(Se=Mn.bind(null,null),le.then(Se,Se)):typeof le.next=="function"&&typeof le.throw=="function"&&(le=fl(le)))},x));return(le&&typeof le.then=="function"?Te.resolve(le).then(function(Se){return V.active?Se:dt(new Ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):x.then(function(){return le})).then(function(Se){return Y&&V._resolve(),V._completion.then(function(){return Se})}).catch(function(Se){return V._reject(Se),dt(Se)})})}).bind(null,this,d,g,w,c);return w?w._promise(d,q,"lock"):Ze.trans?bn(Ze.transless,function(){return y._whenReady(q)}):this._whenReady(q)},cn.prototype.table=function(i){if(v(this._allTables,i))return this._allTables[i];throw new Ee.InvalidTable("Table ".concat(i," does not exist"))};var ur=cn;function cn(i,o){var c,d,g,y,w,T=this,q=(this._middlewares={},this.verno=0,cn.dependencies),q=(this._options=o=r({addons:cn.addons,autoOpen:!0,indexedDB:q.indexedDB,IDBKeyRange:q.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},o.addons),te=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ve,dbReadyPromise:null,cancelOpen:ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen}),U=(te.dbReadyPromise=new Te(function(K){te.dbReadyResolve=K}),te.openCanceller=new Te(function(K,W){te.cancelOpen=W}),this._state=te,this.name=i,this.on=yr(this,"populate","blocked","versionchange","close",{ready:[Et,ve]}),this.once=function(K,W){var Y=function(){for(var G=[],V=0;V<arguments.length;V++)G[V]=arguments[V];T.on(K).unsubscribe(Y),W.apply(T,G)};return T.on(K,Y)},this.on.ready.subscribe=H(this.on.ready.subscribe,function(K){return function(W,Y){cn.vip(function(){var G,V=T._state;V.openComplete?(V.dbOpenError||Te.resolve().then(W),Y&&K(W)):V.onReadyBeingFired?(V.onReadyBeingFired.push(W),Y&&K(W)):(K(W),G=T,Y||K(function le(){G.on.ready.unsubscribe(W),G.on.ready.unsubscribe(le)}))})}}),this.Collection=(c=this,Qn(Xi.prototype,function(le,V){this.db=c;var Y=hr,G=null;if(V)try{Y=V()}catch(x){G=x}var V=le._ctx,le=V.table,oe=le.hook.reading.fire;this._ctx={table:le,index:V.index,isPrimKey:!V.index||le.schema.primKey.keyPath&&V.index===le.schema.primKey.name,range:Y,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:V.or,valueMapper:oe!==Pe?oe:null}})),this.Table=(d=this,Qn(vi.prototype,function(K,W,Y){this.db=d,this._tx=Y,this.name=K,this.schema=W,this.hook=d._allTables[K]?d._allTables[K].hook:yr(null,{creating:[qe,ve],reading:[Ve,Pe],updating:[be,ve],deleting:[je,ve]})})),this.Transaction=(g=this,Qn(Jn.prototype,function(K,W,Y,G,V){var le=this;K!=="readonly"&&W.forEach(function(oe){oe=(oe=Y[oe])==null?void 0:oe.yProps,oe&&(W=W.concat(oe.map(function(x){return x.updatesTable})))}),this.db=g,this.mode=K,this.storeNames=W,this.schema=Y,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=yr(this,"complete","error","abort"),this.parent=V||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(oe,x){le._resolve=oe,le._reject=x}),this._completion.then(function(){le.active=!1,le.on.complete.fire()},function(oe){var x=le.active;return le.active=!1,le.on.error.fire(oe),le.parent?le.parent._reject(oe):x&&le.idbtrans&&le.idbtrans.abort(),dt(oe)})})),this.Version=(y=this,Qn(yo.prototype,function(K){this.db=y,this._cfg={version:K,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,Qn($n.prototype,function(K,W,Y){if(this.db=w,this._ctx={table:K,index:W===":id"?null:W,or:Y},this._cmp=this._ascending=kt,this._descending=function(G,V){return kt(V,G)},this._max=function(G,V){return 0<kt(G,V)?G:V},this._min=function(G,V){return kt(G,V)<0?G:V},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ee.MissingAPI})),this.on("versionchange",function(K){0<K.newVersion?console.warn("Another connection wants to upgrade database '".concat(T.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(T.name,"'. Closing db now to resume the delete request.")),T.close({disableAutoOpen:!1})}),this.on("blocked",function(K){!K.newVersion||K.newVersion<K.oldVersion?console.warn("Dexie.delete('".concat(T.name,"') was blocked")):console.warn("Upgrade '".concat(T.name,"' blocked by other connection holding version ").concat(K.oldVersion/10))}),this._maxKey=Dr(o.IDBKeyRange),this._createTransaction=function(K,W,Y,G){return new T.Transaction(K,W,Y,T._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(K){T.on("blocked").fire(K),ar.filter(function(W){return W.name===T.name&&W!==T&&!W._state.vcFired}).map(function(W){return W.on("versionchange").fire(K)})},this.use(So),this.use(Io),this.use(Do),this.use(ko),this.use(Eo),new Proxy(this,{get:function(K,W,Y){var G;return W==="_vip"||(W==="table"?function(V){return Ai(T.table(V),U)}:(G=Reflect.get(K,W,Y))instanceof vi?Ai(G,U):W==="tables"?G.map(function(V){return Ai(V,U)}):W==="_createTransaction"?function(){return Ai(G.apply(this,arguments),U)}:G)}}));this.vip=U,q.forEach(function(K){return K(T)})}var Oi,Vr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ao=(pl.prototype.subscribe=function(i,o,c){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:o,complete:c})},pl.prototype[Vr]=function(){return this},pl);function pl(i){this._subscribe=i}try{Oi={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Oi={indexedDB:null,IDBKeyRange:null}}function ta(i){var o,c=!1,d=new Ao(function(g){var y=j(i),w,T=!1,q={},te={},U={get closed(){return T},unsubscribe:function(){T||(T=!0,w&&w.abort(),K&&er.storagemutated.unsubscribe(Y))}},K=(g.start&&g.start(U),!1),W=function(){return Zn(G)},Y=function(V){Ci(q,V),sl(te,q)&&W()},G=function(){var V,le,oe;!T&&Oi.indexedDB&&(q={},V={},w&&w.abort(),w=new AbortController,oe=(x=>{var Se=rt();try{y&&fn();var Ae=_n(i,x);return Ae=y?Ae.finally(Mn):Ae}finally{Se&&ut()}})(le={subscr:V,signal:w.signal,requery:W,querier:i,trans:null}),Promise.resolve(oe).then(function(x){c=!0,o=x,T||le.signal.aborted||(q={},(Se=>{for(var Ae in Se)if(v(Se,Ae))return;return 1})(te=V)||K||(er(Er,Y),K=!0),Zn(function(){return!T&&g.next&&g.next(x)}))},function(x){c=!1,["DatabaseClosedError","AbortError"].includes(x==null?void 0:x.name)||T||Zn(function(){T||g.error&&g.error(x)})}))};return setTimeout(W,0),U});return d.hasValue=function(){return c},d.getValue=function(){return o},d}var Ir=ur;function gl(i){var o=vr;try{vr=!0,er.storagemutated.fire(i),cl(i,!0)}finally{vr=o}}E(Ir,r(r({},se),{delete:function(i){return new Ir(i,{addons:[]}).delete()},exists:function(i){return new Ir(i,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return o=Ir.dependencies,c=o.indexedDB,o=o.IDBKeyRange,(il(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(g){return g.name}).filter(function(g){return g!==Nn})}):rl(c,o).toCollection().primaryKeys()).then(i)}catch{return dt(new Ee.MissingAPI)}var o,c},defineClass:function(){return function(i){f(this,i)}},ignoreTransaction:function(i){return Ze.trans?bn(Ze.transless,i):i()},vip:ll,async:function(i){return function(){try{var o=fl(i.apply(this,arguments));return o&&typeof o.then=="function"?o:Te.resolve(o)}catch(c){return dt(c)}}},spawn:function(i,o,c){try{var d=fl(i.apply(c,o||[]));return d&&typeof d.then=="function"?d:Te.resolve(d)}catch(g){return dt(g)}},currentTransaction:{get:function(){return Ze.trans||null}},waitFor:function(i,o){return i=Te.resolve(typeof i=="function"?Ir.ignoreTransaction(i):i).timeout(o||6e4),Ze.trans?Ze.trans.waitFor(i):i},Promise:Te,debug:{get:function(){return Ct},set:function(i){Ot(i)}},derive:S,extend:f,props:E,override:H,Events:yr,on:er,liveQuery:ta,extendObservabilitySet:Ci,getByKeyPath:X,setByKeyPath:Z,delByKeyPath:function(i,o){typeof o=="string"?Z(i,o,void 0):"length"in o&&[].map.call(o,function(c){Z(i,c,void 0)})},shallowClone:De,deepClone:ce,getObjectDiff:dl,cmp:kt,asap:z,minKey:-1/0,addons:[],connections:ar,errnames:Me,dependencies:Oi,cache:Tr,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,o,c){return i+o/Math.pow(10,2*c)})})),Ir.maxKey=Dr(Ir.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(er(Er,function(i){vr||(i=new CustomEvent(Sr,{detail:i}),vr=!0,dispatchEvent(i),vr=!1)}),addEventListener(Sr,function(i){i=i.detail,vr||gl(i)}));var qr,vr=!1,na=function(){};return typeof BroadcastChannel<"u"&&((na=function(){(qr=new BroadcastChannel(Sr)).onmessage=function(i){return i.data&&gl(i.data)}})(),typeof qr.unref=="function"&&qr.unref(),er(Er,function(i){vr||qr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!ur.disableBfCache&&i.persisted){Ct&&console.debug("Dexie: handling persisted pagehide"),qr!=null&&qr.close();for(var o=0,c=ar;o<c.length;o++)c[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!ur.disableBfCache&&i.persisted&&(Ct&&console.debug("Dexie: handling persisted pageshow"),na(),gl({all:new wn(-1/0,[[]])}))})),Te.rejectionMapper=function(i,o){return!i||i instanceof C||i instanceof TypeError||i instanceof SyntaxError||!i.name||!pe[i.name]?i:(o=new pe[i.name](o||i.message,i),"stack"in i&&D(o,"stack",{get:function(){return this.inner.stack}}),o)},Ot(Ct),r(ur,Object.freeze({__proto__:null,Dexie:ur,Entity:pi,PropModification:mr,RangeSet:wn,add:function(i){return new mr({add:i})},cmp:kt,default:ur,liveQuery:ta,mergeRanges:ei,rangesOverlap:Gl,remove:function(i){return new mr({remove:i})},replacePrefix:function(i,o){return new mr({replacePrefix:[i,o]})}}),{default:ur}),ur})})(oo);var fu=oo.exports;const Ml=so(fu),Oa=Symbol.for("Dexie"),Gi=globalThis[Oa]||(globalThis[Oa]=Ml);if(Ml.semVer!==Gi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ml.semVer} and ${Gi.semVer}`);const{liveQuery:di,mergeRanges:Ld,rangesOverlap:Rd,RangeSet:Nd,cmp:Bd,Entity:Fd,PropModification:zd,replacePrefix:Kd,add:Hd,remove:jd,DexieYProvider:Vd}=Gi;var Pl=(n=>(n.Accomodation="Accomodation",n.Food="Food & Drink",n.Transport="Transport",n.Other="Other",n))(Pl||{});const Ma={Accomodation:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/></svg>',"Food & Drink":'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/><path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/></svg>',Transport:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16"> <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>',Other:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16"><path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/><path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/></svg>'},Zt=new Gi("ExpensesDatabase");Zt.version(2).stores({trips:"++id, name, defaultCurrency, startDate, endDate",receipts:"++id, description, total, receiptDate, receiptType, currency, tripId, imageData"});Zt.version(3).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("trips").toCollection().modify(e=>{e.startDateString=e.startDate.toDateString(),e.endDateString=e.endDate.toDateString()}).then(function(){n.table("receipts").toCollection().modify(e=>{e.receiptDateString=e.receiptDate.toDateString()})}));Zt.version(4).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("receipts").where("receiptType").equals("Food").modify(e=>{e.receiptType="Food & Drink"}));Zt.version(6).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"}).upgrade(n=>n.table("receipts").toCollection().modify(e=>{e.imageData=URL.createObjectURL(e.imageData)}));Zt.version(7).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString, notes",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"});function Kl(n,e){const t=Wr(e);return localStorage&&localStorage.getItem(n)&&t.set(JSON.parse(localStorage.getItem(n)!=null?localStorage.getItem(n):e)),t.subscribe(r=>{if(localStorage)try{r!==void 0?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)}catch(l){console.warn(l)}}),t}const hn={AED:{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"..",decimal_digits:2,rounding:0,code:"AED",name_plural:"UAE dirhams"},AFN:{symbol:"Af",name:"Afghan Afghani",symbol_native:"",decimal_digits:0,rounding:0,code:"AFN",name_plural:"Afghan Afghanis"},ALL:{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL",name_plural:"Albanian lek"},AMD:{symbol:"AMD",name:"Armenian Dram",symbol_native:".",decimal_digits:0,rounding:0,code:"AMD",name_plural:"Armenian drams"},ARS:{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS",name_plural:"Argentine pesos"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"},AZN:{symbol:"man.",name:"Azerbaijani Manat",symbol_native:".",decimal_digits:2,rounding:0,code:"AZN",name_plural:"Azerbaijani manats"},BAM:{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM",name_plural:"Bosnia-Herzegovina convertible marks"},BDT:{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"",decimal_digits:2,rounding:0,code:"BDT",use_indian_numbering_system:!0,name_plural:"Bangladeshi takas"},BGN:{symbol:"BGN",name:"Bulgarian Lev",symbol_native:".",decimal_digits:2,rounding:0,code:"BGN",name_plural:"Bulgarian leva"},BHD:{symbol:"BD",name:"Bahraini Dinar",symbol_native:"..",decimal_digits:3,rounding:0,code:"BHD",name_plural:"Bahraini dinars"},BIF:{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF",name_plural:"Burundian francs"},BND:{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND",name_plural:"Brunei dollars"},BOB:{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB",name_plural:"Bolivian bolivianos"},BRL:{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL",name_plural:"Brazilian reals"},BWP:{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP",name_plural:"Botswanan pulas"},BYN:{symbol:"Br",name:"Belarusian Ruble",symbol_native:".",decimal_digits:2,rounding:0,code:"BYN",name_plural:"Belarusian rubles"},BZD:{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD",name_plural:"Belize dollars"},CAD:{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD",name_plural:"Canadian dollars"},CDF:{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF",name_plural:"Congolese francs"},CHF:{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF",name_plural:"Swiss francs"},CLP:{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP",name_plural:"Chilean pesos"},CNY:{symbol:"CN",name:"Chinese Yuan",symbol_native:"CN",decimal_digits:2,rounding:0,code:"CNY",name_plural:"Chinese yuan"},COP:{symbol:"CO$",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP",name_plural:"Colombian pesos"},CRC:{symbol:"",name:"Costa Rican Coln",symbol_native:"",decimal_digits:0,rounding:0,code:"CRC",name_plural:"Costa Rican colns"},CVE:{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE",name_plural:"Cape Verdean escudos"},CZK:{symbol:"K",name:"Czech Republic Koruna",symbol_native:"K",decimal_digits:2,rounding:0,code:"CZK",name_plural:"Czech Republic korunas"},DJF:{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF",name_plural:"Djiboutian francs"},DKK:{symbol:"Dkr",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK",name_plural:"Danish kroner"},DOP:{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP",name_plural:"Dominican pesos"},DZD:{symbol:"DA",name:"Algerian Dinar",symbol_native:"..",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",symbol_native:"..",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},EUR:{symbol:"",name:"Euro",symbol_native:"",decimal_digits:2,rounding:0,code:"EUR",name_plural:"euros"},GBP:{symbol:"",name:"British Pound Sterling",symbol_native:"",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},GEL:{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GH",name:"Ghanaian Cedi",symbol_native:"GH",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"",name:"Israeli New Sheqel",symbol_native:"",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",name:"Indian Rupee",symbol_native:"",decimal_digits:2,rounding:0,code:"INR",use_indian_numbering_system:!0,name_plural:"Indian rupees"},IQD:{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"..",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",name:"Iranian Rial",symbol_native:"",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",name:"Icelandic Krna",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krnur"},JMD:{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",name:"Jordanian Dinar",symbol_native:"..",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"",name:"Japanese Yen",symbol_native:"",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",name:"Cambodian Riel",symbol_native:"",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"",name:"South Korean Won",symbol_native:"",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"..",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:".",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"L.L.",name:"Lebanese Pound",symbol_native:"..",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",name:"Libyan Dinar",symbol_native:"..",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"..",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"",name:"Nigerian Naira",symbol_native:"",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",name:"Nicaraguan Crdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan crdobas"},NOK:{symbol:"Nkr",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"",decimal_digits:2,rounding:0,code:"NPR",use_indian_numbering_system:!0,name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",name:"Omani Rial",symbol_native:"..",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"",name:"Philippine Peso",symbol_native:"",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"",decimal_digits:0,rounding:0,code:"PKR",use_indian_numbering_system:!0,name_plural:"Pakistani rupees"},PLN:{symbol:"z",name:"Polish Zloty",symbol_native:"z",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"",name:"Paraguayan Guarani",symbol_native:"",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",name:"Qatari Rial",symbol_native:"..",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",name:"Serbian Dinar",symbol_native:".",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",name:"Russian Ruble",symbol_native:".",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",name:"Saudi Riyal",symbol_native:"..",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SY",name:"Syrian Pound",symbol_native:"..",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"",name:"Thai Baht",symbol_native:"",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",name:"Tunisian Dinar",symbol_native:"..",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",name:"Tongan Paanga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paanga"},TRY:{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"",name:"Ukrainian Hryvnia",symbol_native:"",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},UYU:{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",name:"Venezuelan Bolvar",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolvars"},VND:{symbol:"",name:"Vietnamese Dong",symbol_native:"",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",name:"Yemeni Rial",symbol_native:"..",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"},ZWL:{symbol:"ZWL$",name:"Zimbabwean Dollar",symbol_native:"ZWL$",decimal_digits:0,rounding:0,code:"ZWL",name_plural:"Zimbabwean Dollar"}},Ll=Kl("defaultCurrency","GBP"),hi=Kl("favCurrencies",["GBP","USD","EUR"]),li=Kl("theme","auto");function Hl(n){let e=[],t=[];for(let r of Object.keys(hn))e.push({value:r,text:`${r} (${hn[r].symbol})`});for(let r of n)t.push({value:r,text:`${r} (${hn[r].symbol})`});return[{groupHeader:"Favourite Currencies",items:t},{groupHeader:"All Currencies",items:e}]}function du(n){n==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",n)}var Rr=function(n,e){this.items=n,this.settings=e||{diacritics:!0}};Rr.prototype.tokenize=function(n,e,t){if(n=mu(String(n||"").toLowerCase()),!n||!n.length)return[];var r,l,s,a,u=[],f=n.split(/ +/);for(r=0,l=f.length;r<l;r++){if(s=pu(f[r]),this.settings.diacritics)for(a in Mr)Mr.hasOwnProperty(a)&&(s=s.replace(new RegExp(a,"g"),Mr[a]));e?s="\\b"+s:t&&(s="\\b^"+s),u.push({string:f[r],regex:new RegExp(s,"i")})}return u};Rr.prototype.iterator=function(n,e){var t;Array.isArray(n)?t=Array.prototype.forEach||function(r){for(var l=0,s=this.length;l<s;l++)r(this[l],l,this)}:t=function(r){for(var l in this)this.hasOwnProperty(l)&&r(this[l],l,this)},t.apply(n,[e])};Rr.prototype.getScoreFunction=function(n,e){var t,r,l,s,a;t=this,n=t.prepareSearch(n,e),l=n.tokens,r=n.options.fields,s=l.length,a=n.options.nesting;var u=function(h,m){var v,E;return!h||(h=String(h||""),E=h.search(m.regex),E===-1)?0:(v=m.string.length/h.length,E===0&&(v+=.5),v)},f=function(){var h=r.length;return h?h===1?function(m,v){return u(Rl(v,r[0],a),m)}:function(m,v){for(var E=0,P=0;E<h;E++)P+=u(Rl(v,r[E],a),m);return P/h}:function(){return 0}}();return s?s===1?function(h){return f(l[0],h)}:n.options.conjunction==="and"?function(h){for(var m,v=0,E=0;v<s;v++){if(m=f(l[v],h),m<=0)return 0;E+=m}return E/s}:function(h){for(var m=0,v=0;m<s;m++)v+=f(l[m],h);return v/s}:function(){return 0}};Rr.prototype.getSortFunction=function(n,e){var t,r,l,s,a,u,f,h,m,v,E;if(l=this,n=l.prepareSearch(n,e),E=!n.query&&e.sort_empty||e.sort,m=function(P,D){return P==="$score"?D.score:Rl(l.items[D.id],P,e.nesting)},a=[],E)for(t=0,r=E.length;t<r;t++)(n.query||E[t].field!=="$score")&&a.push(E[t]);if(n.query){for(v=!0,t=0,r=a.length;t<r;t++)if(a[t].field==="$score"){v=!1;break}v&&a.unshift({field:"$score",direction:"desc"})}else for(t=0,r=a.length;t<r;t++)if(a[t].field==="$score"){a.splice(t,1);break}for(h=[],t=0,r=a.length;t<r;t++)h.push(a[t].direction==="desc"?-1:1);return u=a.length,u?u===1?(s=a[0].field,f=h[0],function(P,D){return f*Pa(m(s,P),m(s,D))}):function(P,D){var S,N,L;for(S=0;S<u;S++)if(L=a[S].field,N=h[S]*Pa(m(L,P),m(L,D)),N)return N;return 0}:null};Rr.prototype.prepareSearch=function(n,e){if(typeof n=="object")return n;e=hu({},e);var t=e.fields,r=e.sort,l=e.sort_empty;return t&&!Array.isArray(t)&&(e.fields=[t]),r&&!Array.isArray(r)&&(e.sort=[r]),l&&!Array.isArray(l)&&(e.sort_empty=[l]),{options:e,query:String(n||"").toLowerCase(),tokens:this.tokenize(n,e.wordsOnly,e.startOnly),total:0,items:[]}};Rr.prototype.search=function(n,e){var t=this,r,l,s,a;return l=this.prepareSearch(n,e),e=l.options,n=l.query,a=e.score||t.getScoreFunction(l),n.length?t.iterator(t.items,function(u,f){r=a(u),(e.filter===!1||r>0)&&l.items.push({score:r,id:f})}):t.iterator(t.items,function(u,f){l.items.push({score:1,id:f})}),s=t.getSortFunction(l,e),s&&l.items.sort(s),l.total=l.items.length,typeof e.limit=="number"&&(l.items=l.items.slice(0,e.limit)),l};var Pa=function(n,e){return typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=Wi(String(n||"")),e=Wi(String(e||"")),n>e?1:e>n?-1:0)},hu=function(n,e){var t,r,l,s;for(t=1,r=arguments.length;t<r;t++)if(s=arguments[t],!!s)for(l in s)s.hasOwnProperty(l)&&(n[l]=s[l]);return n},Rl=function(n,e,t){if(!(!n||!e)){if(!t)return n[e];for(var r=e.split(".");r.length&&(n=n[r.shift()]););return n}},mu=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},pu=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Mr={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"};const Wi=function(){var n,e,t,r,l="",s={};for(t in Mr)if(Mr.hasOwnProperty(t))for(r=Mr[t].substring(2,Mr[t].length-1),l+=r,n=0,e=r.length;n<e;n++)s[r.charAt(n)]=t;var a=new RegExp("["+l+"]","g");return function(u){return u.replace(a,function(f){return s[f]}).toLowerCase()}}();let ri;function Yi(n,e,t,r,l){const s=r(n,e,t);if(t==""||n.isSelected||l)return s;ri||(ri=document.createElement("div")),ri.innerHTML=s;const a=Wi(t);return(a.includes("|")?a.split("|").map(u=>u.trim()):a.split(" ")).filter(u=>u).forEach(u=>{uo(ri,u)}),ri.innerHTML}function uo(n,e){let t=0;if(n.nodeType===3){const l=Wi(n.data);let s=l.indexOf(e);if(s-=l.substr(0,s).toUpperCase().length-l.substr(0,s).length,s>=0){const a=document.createElement("span");a.className="highlight";const u=n.splitText(s);u.splitText(e.length);const f=u.cloneNode(!0);a.appendChild(f),u.parentNode.replaceChild(a,u),t=1}}else if(n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN"))for(var r=0;r<n.childNodes.length;++r)r+=uo(n.childNodes[r],e);return t}function gu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function La(){return navigator.userAgent.toLowerCase().includes("android")}function wl(n){return(n||"").replace(/\t/g," ").trim().split(" ").filter(e=>e).join(" ")}function _u(n){return`${n}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function vu(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(this,r)},e)}}function bu(n,{url:e,parentValue:t,initial:r},l){t&&(e=e.replace("[parent]",encodeURIComponent(t))),n&&(e=e.replace("[query]",encodeURIComponent(n))),Array.isArray(r)&&r.length===0&&(r=null),r&&(e=e.replace("[query]","init"));const s=e[0]==="/"?new URL(e,window.location.origin):new URL(e);if(r){const f=Array.isArray(r)?r:[r];s.searchParams.append("init",f.join(","))}const a=new AbortController,u=Object.assign({},l,{signal:a.signal});return{request:new Request(s,u),controller:a}}const At={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{aria_label:"",aria_describedby:"",aria_selected:n=>n.length?`Option${n.length>1?"s":""} ${n.join(", ")} selected.`:"",aria_listActive:(n,e,t)=>`You are currently focused on option ${n[e]}. ${t} result${t>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",empty:"No options",nomatch:"No matching options",max:n=>`Maximum items ${n} selected`,fetchBefore:"Type to start searching",fetchQuery:(n,e)=>`Type at least ${n} character${n>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:n=>`${n} selected`,createRowLabel:n=>`Add '${n}'`,emptyCreatable:"Add new by typing"},requestFactory:null};function yu(n,{from:e,to:t},r={}){const l=getComputedStyle(n),s=l.transform==="none"?"":l.transform,[a,u]=l.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*a/t.width-(t.left+a),h=e.top+e.height*u/t.height-(t.top+u),{delay:m=0,duration:v=P=>Math.sqrt(P)*120,easing:E=ao}=r;return{delay:m,duration:Zr(v)?v(Math.sqrt(f*f+h*h)):v,easing:E,css:(P,D)=>{const S=D*f,N=D*h,L=P+D*e.width/t.width,M=P+D*e.height/t.height;return`transform: ${s} translate(${S}px, ${N}px) scale(${L}, ${M});`}}}const Pi={START:"start",CENTER:"center",END:"end"},fr={HORIZONTAL:"horizontal",VERTICAL:"vertical"},ii={OBSERVED:0,REQUESTED:1},wu={[fr.VERTICAL]:"top",[fr.HORIZONTAL]:"left"},Ra={[fr.VERTICAL]:"scrollTop",[fr.HORIZONTAL]:"scrollLeft"};class ku{constructor({itemSize:e,itemCount:t,estimatedItemSize:r}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:r}){t!=null&&(this.itemCount=t),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const r=this.getSize(t),l=e;e+=r,this.itemSizeAndPositionData[t]={offset:l,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let r=t.offset+t.size;for(let l=this.lastMeasuredIndex+1;l<=e;l++){const s=this.getSize(l);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${l} of value ${s}`);this.itemSizeAndPositionData[l]={offset:r,size:s},r+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Pi.START,containerSize:t,currentOffset:r,targetIndex:l}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(l),a=s.offset,u=a-t+s.size;let f;switch(e){case Pi.END:f=u;break;case Pi.CENTER:f=a-(t-s.size)/2;break;case Pi.START:f=a;break;default:f=Math.max(u,Math.min(a,r))}const h=this.getTotalSize();return Math.max(0,Math.min(h-t,f))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:r}){if(this.getTotalSize()===0)return{};const s=t+e;let a=this.findNearestItem(t);if(a===void 0)throw Error(`Invalid offset ${t} specified`);const u=this.getSizeAndPositionForIndex(a);t=u.offset+u.size;let f=a;for(;t<s&&f<this.itemCount-1;)f++,t+=this.getSizeAndPositionForIndex(f).size;return r&&(a=Math.max(0,a-r),f=Math.min(f+r,this.itemCount-1)),{start:a,stop:f}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:t,offset:r}){let l=0,s=0;for(;e<=t;){if(l=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(l).offset,s===r)return l;s<r?e=l+1:s>r&&(t=l-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const Eu=n=>({}),Na=n=>({});function Ba(n,e,t){const r=n.slice();return r[37]=e[t],r}const Su=n=>({style:n[0]&4,index:n[0]&4}),Fa=n=>({style:n[37].style,index:n[37].index}),Du=n=>({}),za=n=>({});function Ka(n,e){let t,r;const l=e[21].item,s=Dn(l,e,e[20],Fa);return{key:n,first:null,c(){t=St(),s&&s.c(),this.h()},l(a){t=St(),s&&s.l(a),this.h()},h(){this.first=t},m(a,u){ne(a,t,u),s&&s.m(a,u),r=!0},p(a,u){e=a,s&&s.p&&(!r||u[0]&1048580)&&Cn(s,l,e,e[20],r?In(l,e[20],u,Su):Tn(e[20]),Fa)},i(a){r||(He(s,a),r=!0)},o(a){Ge(s,a),r=!1},d(a){a&&b(t),s&&s.d(a)}}}function Cu(n){let e,t,r,l=[],s=new Map,a,u;const f=n[21].header,h=Dn(f,n,n[20],za);let m=ht(n[2]);const v=D=>D[0]?D[0](D[37].index):D[37].index;for(let D=0;D<m.length;D+=1){let S=Ba(n,m,D),N=v(S);s.set(N,l[D]=Ka(N,S))}const E=n[21].footer,P=Dn(E,n,n[20],Na);return{c(){e=A("div"),h&&h.c(),t=ee(),r=A("div");for(let D=0;D<l.length;D+=1)l[D].c();a=ee(),P&&P.c(),this.h()},l(D){e=I(D,"DIV",{class:!0,style:!0});var S=B(e);h&&h.l(S),t=$(S),r=I(S,"DIV",{class:!0,style:!0});var N=B(r);for(let L=0;L<l.length;L+=1)l[L].l(N);N.forEach(b),a=$(S),P&&P.l(S),S.forEach(b),this.h()},h(){p(r,"class","virtual-list-inner svelte-dwpad5"),p(r,"style",n[4]),p(e,"class","virtual-list-wrapper svelte-dwpad5"),p(e,"style",n[3])},m(D,S){ne(D,e,S),h&&h.m(e,null),_(e,t),_(e,r);for(let N=0;N<l.length;N+=1)l[N]&&l[N].m(r,null);_(e,a),P&&P.m(e,null),n[22](e),u=!0},p(D,S){h&&h.p&&(!u||S[0]&1048576)&&Cn(h,f,D,D[20],u?In(f,D[20],S,Du):Tn(D[20]),za),S[0]&1048581&&(m=ht(D[2]),pn(),l=Lr(l,S,v,1,D,m,s,r,Go,Ka,null,Ba),gn()),(!u||S[0]&16)&&p(r,"style",D[4]),P&&P.p&&(!u||S[0]&1048576)&&Cn(P,E,D,D[20],u?In(E,D[20],S,Eu):Tn(D[20]),Na),(!u||S[0]&8)&&p(e,"style",D[3])},i(D){if(!u){He(h,D);for(let S=0;S<m.length;S+=1)He(l[S]);He(P,D),u=!0}},o(D){Ge(h,D);for(let S=0;S<l.length;S+=1)Ge(l[S]);Ge(P,D),u=!1},d(D){D&&b(e),h&&h.d(D);for(let S=0;S<l.length;S+=1)l[S].d();P&&P.d(D),n[22](null)}}}const Tu=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();function Iu(n,e,t){let{$$slots:r={},$$scope:l}=e,{height:s}=e,{width:a="100%"}=e,{itemCount:u}=e,{itemSize:f}=e,{estimatedItemSize:h=null}=e,{stickyIndices:m=null}=e,{getKey:v=null}=e,{scrollDirection:E=fr.VERTICAL}=e,{scrollOffset:P=null}=e,{scrollToIndex:D=null}=e,{scrollToAlignment:S=null}=e,{scrollToBehaviour:N="instant"}=e,{overscanCount:L=3}=e;const M=Zi(),H=new ku({itemCount:u,itemSize:f,estimatedItemSize:j()});let F=!1,z,X=[],Z={offset:P||D!=null&&X.length&&he(D)||0,scrollChangeReason:ii.REQUESTED},De=Z,ae={scrollToIndex:D,scrollToAlignment:S,scrollOffset:P,itemCount:u,itemSize:f,estimatedItemSize:h},re={},ge="",ke="";we(),Fl(()=>{t(18,F=!0),z.addEventListener("scroll",O,Tu),P!=null?ye(P):D!=null&&ye(he(D))}),Mo(()=>{F&&z.removeEventListener("scroll",O)});function ce(){if(!F)return;const C=ae.scrollToIndex!==D||ae.scrollToAlignment!==S,ie=ae.itemCount!==u||ae.itemSize!==f||ae.estimatedItemSize!==h;ie&&(H.updateConfig({itemSize:f,itemCount:u,estimatedItemSize:j()}),de()),ae.scrollOffset!==P?t(19,Z={offset:P||0,scrollChangeReason:ii.REQUESTED}):typeof D=="number"&&(C||ie)&&t(19,Z={offset:he(D,S,u),scrollChangeReason:ii.REQUESTED}),ae={scrollToIndex:D,scrollToAlignment:S,scrollOffset:P,itemCount:u,itemSize:f,estimatedItemSize:h}}function fe(){if(!F)return;const{offset:C,scrollChangeReason:ie}=Z;(De.offset!==C||De.scrollChangeReason!==ie)&&we(),De.offset!==C&&ie===ii.REQUESTED&&ye(C),De=Z}function we(){const{offset:C}=Z,{start:ie,stop:Q}=H.getVisibleRange({containerSize:E===fr.VERTICAL?s:a,offset:C,overscanCount:L});let _e=[];const Me=H.getTotalSize();E===fr.VERTICAL?(t(3,ge=`height:${s}${typeof s=="number"?"px":""};width:${a};`),t(4,ke=`flex-direction:column;height:${Me}px;`)):(t(3,ge=`height:${s};width:${a}${typeof a=="number"?"px":""}`),t(4,ke=`min-height:100%;width:${Me}px;`));const Re=m!=null&&m.length!==0;if(Re)for(let Ee=0;Ee<m.length;Ee++){const pe=m[Ee];_e.push({index:pe,style:se(pe,!0)})}if(ie!==void 0&&Q!==void 0){for(let Ee=ie;Ee<=Q;Ee++)Re&&m.includes(Ee)||_e.push({index:Ee,style:se(Ee,!1)});M("itemsUpdated",{start:ie,end:Q})}t(2,X=_e)}function ye(C){"scroll"in z?z.scroll({[wu[E]]:C,behavior:N}):t(1,z[Ra[E]]=C,z)}function de(C=0){re={},H.resetItem(C),we()}function he(C,ie=S,Q=u){return(C<0||C>=Q)&&(C=0),H.getUpdatedOffsetForIndex({align:ie,containerSize:E===fr.VERTICAL?s:a,currentOffset:Z.offset||0,targetIndex:C})}function O(C){const ie=R();ie<0||Z.offset===ie||C.target!==z||(t(19,Z={offset:ie,scrollChangeReason:ii.OBSERVED}),M("afterScroll",{offset:ie,event:C}))}function R(){return z[Ra[E]]}function j(){return h||typeof f=="number"&&f||50}function se(C,ie){if(re[C])return re[C];const{size:Q,offset:_e}=H.getSizeAndPositionForIndex(C);let Me;return E===fr.VERTICAL?(Me=`left:0;width:100%;height:${Q}px;`,ie?Me+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${_e}px;margin-bottom:${-(_e+Q)}px;`:Me+=`position:absolute;top:${_e}px;`):(Me=`top:0;width:${Q}px;`,ie?Me+=`position:sticky;z-index:1;left:0;margin-left:${_e}px;margin-right:${-(_e+Q)}px;`:Me+=`position:absolute;height:100%;left:${_e}px;`),re[C]=Me}function me(C){Wt[C?"unshift":"push"](()=>{z=C,t(1,z)})}return n.$$set=C=>{"height"in C&&t(5,s=C.height),"width"in C&&t(6,a=C.width),"itemCount"in C&&t(7,u=C.itemCount),"itemSize"in C&&t(8,f=C.itemSize),"estimatedItemSize"in C&&t(9,h=C.estimatedItemSize),"stickyIndices"in C&&t(10,m=C.stickyIndices),"getKey"in C&&t(0,v=C.getKey),"scrollDirection"in C&&t(11,E=C.scrollDirection),"scrollOffset"in C&&t(12,P=C.scrollOffset),"scrollToIndex"in C&&t(13,D=C.scrollToIndex),"scrollToAlignment"in C&&t(14,S=C.scrollToAlignment),"scrollToBehaviour"in C&&t(15,N=C.scrollToBehaviour),"overscanCount"in C&&t(16,L=C.overscanCount),"$$scope"in C&&t(20,l=C.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&29568&&ce(),n.$$.dirty[0]&524288&&fe(),n.$$.dirty[0]&263264&&F&&de(0)},[v,z,X,ge,ke,s,a,u,f,h,m,E,P,D,S,N,L,de,F,Z,l,r,me]}class Au extends An{constructor(e){super(),On(this,e,Iu,Cu,kn,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get height(){return this.$$.ctx[5]}set height(e){this.$$set({height:e}),zn()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),zn()}get itemCount(){return this.$$.ctx[7]}set itemCount(e){this.$$set({itemCount:e}),zn()}get itemSize(){return this.$$.ctx[8]}set itemSize(e){this.$$set({itemSize:e}),zn()}get estimatedItemSize(){return this.$$.ctx[9]}set estimatedItemSize(e){this.$$set({estimatedItemSize:e}),zn()}get stickyIndices(){return this.$$.ctx[10]}set stickyIndices(e){this.$$set({stickyIndices:e}),zn()}get getKey(){return this.$$.ctx[0]}set getKey(e){this.$$set({getKey:e}),zn()}get scrollDirection(){return this.$$.ctx[11]}set scrollDirection(e){this.$$set({scrollDirection:e}),zn()}get scrollOffset(){return this.$$.ctx[12]}set scrollOffset(e){this.$$set({scrollOffset:e}),zn()}get scrollToIndex(){return this.$$.ctx[13]}set scrollToIndex(e){this.$$set({scrollToIndex:e}),zn()}get scrollToAlignment(){return this.$$.ctx[14]}set scrollToAlignment(e){this.$$set({scrollToAlignment:e}),zn()}get scrollToBehaviour(){return this.$$.ctx[15]}set scrollToBehaviour(e){this.$$set({scrollToBehaviour:e}),zn()}get overscanCount(){return this.$$.ctx[16]}set overscanCount(e){this.$$set({overscanCount:e}),zn()}get recomputeSizes(){return this.$$.ctx[17]}}function kl(n,e){const t=window.getComputedStyle(n);let{groups:{value:r,unit:l}}=t[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),s=parseFloat(r);if(l!=="px"){const a=l==="rem"?document.documentElement:n.parentElement.parentElement;s=parseFloat(window.getComputedStyle(a).fontSize.match(/\d+/).shift())*s}return s}function Ou(n){const e=n.parentElement.parentElement.getBoundingClientRect(),t=n.getBoundingClientRect(),r={};return r.top=e.top<0,r.left=e.left<0,r.bottom=e.bottom+t.height>(window.innerHeight||document.documentElement.clientHeight)&&e.top>t.height&&(window.innerHeight||document.documentElement.clientHeight)>t.height+50,r.right=e.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function El(n,e,t){if(!e||!t)return;const r=Ou(e);r.bottom&&!r.top?e.parentElement.style.bottom=e.parentElement.parentElement.clientHeight+1+"px":(!n||r.top||e.parentElement.style.bottom!=="")&&(e.parentElement.style.bottom="")}function Mu(n,e,t){let r;const l=kl(e,"maxHeight")-kl(e,"paddingTop")-kl(e,"paddingBottom");e.parentElement.style.cssText="opacity: 0; display: block";const s=n.$$.ctx[1].firstElementChild.firstElementChild;if(s){s.style="";const a=s.getBoundingClientRect().height,u=n.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let f;if(u&&(u.style="",f=u.getBoundingClientRect().height),f&&a!==f){const h=t[0].$isGroupHeader?a:f,m=t[0].$isGroupHeader?f:a;r=t.map(v=>v.$isGroupHeader?h:m)}else r=a}return e.parentElement.style.cssText="",{size:r,height:l}}function Li({container:n,scrollContainer:e,virtualList:t,center:r},l){if(t||!n)return;const s=n.querySelector(`[data-pos="${l}"]`);if(!s)return;const a=s.getBoundingClientRect(),u=e.getBoundingClientRect(),f=s.offsetHeight/3,h=0;switch(!0){case s.offsetTop<e.scrollTop:e.scrollTop=s.offsetTop-f+h;break;case s.offsetTop+a.height>e.scrollTop+u.height:e.scrollTop=s.offsetTop+a.height-e.offsetHeight+f+h;break}}function Pu(n,e,t,r){return{optionProps:[],optionsWithGroups:!1,valueField:n,labelField:e,optLabel:t,optItems:r}}function Lu(n,e,t,r,l){if(t)return Array.isArray(e)?e:[e];const s=Array.isArray(e)?e:[e];return n.reduce((u,f,h)=>{const m=f[r]&&Array.isArray(f)?f[r]:null;if(m){const v=m.reduce((E,P)=>(s.includes(P[l])&&E.push(P),E),[]);if(v.length)return u.push(...v),u}return u},[]).sort((u,f)=>s.indexOf(u[l])<s.indexOf(f[l])?-1:1)}function Ha(n,e,t,r){return r?n:typeof n[0]=="object"?n.map(l=>({...l})):n.map(l=>({[e||"value"]:l,[t||"text"]:l}))}function Ru(n,e){const t=n.reduce((r,l,s)=>l[e.optItems]?(l[e.optItems].length===0||(e.optionsWithGroups=!0,r.push({label:l[e.optLabel],$isGroupHeader:!0}),r.push(...l[e.optItems].map(a=>(a.$isGroupItem=!0,a)))),r):(r.push(l),r),[]);return Nu(t,e),t}function Nu(n,e){n.some(t=>t.$isGroupHeader?!1:(e.optionProps=Bu(t),!0))}function Bu(n){const e=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(n).filter(t=>!e.includes(t))}function Fu(n,e,t,r,l){if(t&&(n=n.filter(h=>!t.has(h[r.valueField])).filter((h,m,v)=>!(h.$isGroupHeader&&(v[m+1]&&v[m+1].$isGroupHeader||v.length<=1||v.length-1===m)))),l.disabled||!e)return n;const s=new Rr(n);(r.optionsWithGroups||l.skipSort)&&(s.getSortFunction=()=>null);let a="and";e.includes("|")&&(a="or",e=e.split("|").map(h=>h.trim()).join(" "));const u=s.search(e,{fields:l.fields||r.optionProps,sort:l.sort||zu(r.labelField),conjunction:l.conjunction||a,nesting:l.nesting||!1,wordsOnly:l.wordsOnly||!1,startOnly:l.startOnly||!1});return r.optionsWithGroups?u.items.reduce((h,m)=>{const v=n[m.id];if(t&&v.isSelected)return h;const E=h.push(v);if(v.$isGroupItem){const P=n.slice(0,m.id);let D=null;do D=P.pop(),D&&D.$isGroupHeader&&!h.includes(D)&&h.splice(E-1,0,D);while(D&&!D.$isGroupHeader)}return h},[]):u.items.map(h=>n[h.id])}function zu(n){return[{field:n,direction:"asc"}]}function Ri(n,e,t){const r=n==="value";let l=r?"value":"text";if(e&&e.length){const s=e[0][t]?e[0][t][0]:e[0];if(!s||typeof s=="string")return l;const a=r?0:1,u=r?["id","value","ID"]:["name","title","label"];l=Object.keys(s).filter(f=>u.includes(f)).concat([Object.keys(s)[a]]).shift()}return l}function co(n,e){return n.bound_item=e,{destroy:()=>{}}}const Ku=n=>({isCreating:n[1]&16,inputValue:n[0]&8388608,i18n:n[0]&16777216}),ja=n=>({isCreating:n[35],inputValue:n[23],i18n:n[24]});function Va(n,e,t){const r=n.slice();return r[164]=e[t],r[166]=t,r}const Hu=n=>({item:n[0]&33554432,inputValue:n[0]&8388608}),qa=n=>({item:n[164],inputValue:n[23]});function Ua(n){const e=n[25][n[163]];n[164]=e}const ju=n=>({item:n[0]&33554432|n[5]&256,inputValue:n[0]&8388608}),Ga=n=>({item:n[164],inputValue:n[23]}),Vu=n=>({}),Wa=n=>({}),qu=n=>({}),Ya=n=>({}),Uu=n=>({isOpen:n[0]&1048576}),Za=n=>({isOpen:n[20]}),Gu=n=>({selectedOptions:n[0]&524288,inputValue:n[0]&8388608}),Qa=n=>({selectedOptions:n[19],inputValue:n[23]});function Ja(n,e,t){const r=n.slice();return r[164]=e[t],r}const Wu=n=>({selectedOptions:n[0]&524288}),Xa=n=>({selectedOptions:n[19],bindItem:co}),Yu=n=>({selectedOptions:n[0]&524288,i18n:n[0]&16777216}),xa=n=>({selectedOptions:n[19],i18n:n[24]}),Zu=n=>({}),$a=n=>({});function es(n,e,t){const r=n.slice();return r[164]=e[t],r}function ts(n){let e,t,r,l,s;return{c(){e=A("span"),t=Fe(n[46]),r=ee(),l=A("span"),s=Fe(n[45]),this.h()},l(a){e=I(a,"SPAN",{id:!0});var u=B(e);t=Be(u,n[46]),u.forEach(b),r=$(a),l=I(a,"SPAN",{id:!0});var f=B(l);s=Be(f,n[45]),f.forEach(b),this.h()},h(){p(e,"id","aria-selection"),p(l,"id","aria-context")},m(a,u){ne(a,e,u),_(e,t),ne(a,r,u),ne(a,l,u),_(l,s)},p(a,u){u[1]&32768&&et(t,a[46]),u[1]&16384&&et(s,a[45])},d(a){a&&(b(e),b(r),b(l))}}}function ns(n){let e,t=[],r=new Map,l,s,a,u=ht(n[19]);const f=h=>h[164][h[27]];for(let h=0;h<u.length;h+=1){let m=es(n,u,h),v=f(m);r.set(v,t[h]=rs(v,m))}return{c(){e=A("select");for(let h=0;h<t.length;h+=1)t[h].c();this.h()},l(h){e=I(h,"SELECT",{name:!0,size:!0,class:!0,id:!0,tabindex:!0,"aria-hidden":!0});var m=B(e);for(let v=0;v<t.length;v+=1)t[v].l(m);m.forEach(b),this.h()},h(){p(e,"name",n[4]),e.required=n[5],e.multiple=n[0],e.disabled=n[3],p(e,"size","1"),p(e,"class","sv-hidden-element"),p(e,"id",n[50]),p(e,"tabindex","-1"),p(e,"aria-hidden","true")},m(h,m){ne(h,e,m);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null);n[112](e),s||(a=ui(l=n[60].call(null,e,n[13])),s=!0)},p(h,m){m[0]&134742016&&(u=ht(h[19]),t=Lr(t,m,f,1,h,u,r,e,Yr,rs,null,es)),m[0]&16&&p(e,"name",h[4]),m[0]&32&&(e.required=h[5]),m[0]&1&&(e.multiple=h[0]),m[0]&8&&(e.disabled=h[3]),l&&Zr(l.update)&&m[0]&8192&&l.update.call(null,h[13])},d(h){h&&b(e);for(let m=0;m<t.length;m+=1)t[m].d();n[112](null),s=!1,a()}}}function rs(n,e){let t,r;return{key:n,first:null,c(){t=A("option"),this.h()},l(l){t=I(l,"OPTION",{}),B(t).forEach(b),this.h()},h(){t.__value=r=e[164][e[27]],jt(t,t.__value),t.selected=!0,this.first=t},m(l,s){ne(l,t,s)},p(l,s){e=l,s[0]&134742016&&r!==(r=e[164][e[27]])&&(t.__value=r,jt(t,t.__value))},d(l){l&&b(t)}}}function is(n){let e,t,r,l;const s=[Ju,Qu],a=[];function u(f,h){return f[0]&&f[33]?0:1}return e=u(n),t=a[e]=s[e](n),{c(){t.c(),r=St()},l(f){t.l(f),r=St()},m(f,h){a[e].m(f,h),ne(f,r,h),l=!0},p(f,h){let m=e;e=u(f),e===m?a[e].p(f,h):(pn(),Ge(a[m],1,1,()=>{a[m]=null}),gn(),t=a[e],t?t.p(f,h):(t=a[e]=s[e](f),t.c()),He(t,1),t.m(r.parentNode,r))},i(f){l||(He(t),l=!0)},o(f){Ge(t),l=!1},d(f){f&&b(r),a[e].d(f)}}}function Qu(n){let e;const t=n[109].selection,r=Dn(t,n,n[118],Xa),l=r||Xu(n);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){r?r.p&&(!e||a[0]&524288|a[3]&33554432)&&Cn(r,t,s,s[118],e?In(t,s[118],a,Wu):Tn(s[118]),Xa):l&&l.p&&(!e||a[0]&524289|a[1]&8192)&&l.p(s,e?a:[-1,-1,-1,-1,-1,-1])},i(s){e||(He(l,s),e=!0)},o(s){Ge(l,s),e=!1},d(s){l&&l.d(s)}}}function Ju(n){let e;const t=n[109].collapsedSelection,r=Dn(t,n,n[118],xa),l=r||xu(n);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){r?r.p&&(!e||a[0]&17301504|a[3]&33554432)&&Cn(r,t,s,s[118],e?In(t,s[118],a,Yu):Tn(s[118]),xa):l&&l.p&&(!e||a[0]&17301504)&&l.p(s,e?a:[-1,-1,-1,-1,-1,-1])},i(s){e||(He(l,s),e=!0)},o(s){Ge(l,s),e=!1},d(s){l&&l.d(s)}}}function ls(n){let e,t='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',r,l,s;return{c(){e=A("button"),e.innerHTML=t,this.h()},l(a){e=I(a,"BUTTON",{class:!0,tabindex:!0,type:!0,"data-action":!0,"data-svelte-h":!0}),Qe(e)!=="svelte-179wtvk"&&(e.innerHTML=t),this.h()},h(){p(e,"class","sv-item--btn"),p(e,"tabindex","-1"),p(e,"type","button"),p(e,"data-action","deselect")},m(a,u){ne(a,e,u),l||(s=ui(r=co.call(null,e,n[164])),l=!0)},p(a,u){n=a,r&&Zr(r.update)&&u[0]&524288&&r.update.call(null,n[164])},d(a){a&&b(e),l=!1,s()}}}function as(n,e){let t,r,l,s,a=e[44](e[164],!0)+"",u,f,h,m=Dt,v,E,P=e[0]&&ls(e);return{key:n,first:null,c(){t=A("div"),r=A("div"),l=A("div"),s=new Ji(!1),u=ee(),P&&P.c(),f=ee(),this.h()},l(D){t=I(D,"DIV",{class:!0});var S=B(t);r=I(S,"DIV",{class:!0});var N=B(r);l=I(N,"DIV",{class:!0});var L=B(l);s=Qi(L,!1),L.forEach(b),N.forEach(b),u=$(S),P&&P.l(S),f=$(S),S.forEach(b),this.h()},h(){s.a=null,p(l,"class","sv-item--content"),p(r,"class","sv-item--wrap"),Ne(r,"is-multi",e[0]),p(t,"class","sv-item--container svelte-11q5y3b"),this.first=t},m(D,S){ne(D,t,S),_(t,r),_(r,l),s.m(a,l),_(t,u),P&&P.m(t,null),_(t,f),v||(E=Ye(t,"mousedown",Al(e[111])),v=!0)},p(D,S){e=D,S[0]&524288|S[1]&8192&&a!==(a=e[44](e[164],!0)+"")&&s.p(a),S[0]&1&&Ne(r,"is-multi",e[0]),e[0]?P?P.p(e,S):(P=ls(e),P.c(),P.m(t,f)):P&&(P.d(1),P=null)},r(){h=t.getBoundingClientRect()},f(){qo(t),m()},a(){m(),m=Vo(t,h,yu,{duration:e[36]})},d(D){D&&b(t),P&&P.d(),v=!1,E()}}}function Xu(n){let e=[],t=new Map,r,l=ht(n[19]);const s=a=>a[164][a[27]];for(let a=0;a<l.length;a+=1){let u=Ja(n,l,a),f=s(u);t.set(f,e[a]=as(f,u))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=St()},l(a){for(let u=0;u<e.length;u+=1)e[u].l(a);r=St()},m(a,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,u);ne(a,r,u)},p(a,u){if(u[0]&134742017|u[1]&8192){l=ht(a[19]);for(let f=0;f<e.length;f+=1)e[f].r();e=Lr(e,u,s,1,a,l,t,r.parentNode,Wo,as,r,Ja);for(let f=0;f<e.length;f+=1)e[f].a()}},d(a){a&&b(r);for(let u=0;u<e.length;u+=1)e[u].d(a)}}}function xu(n){let e=n[24].collapsedSelection(n[19].length)+"",t;return{c(){t=Fe(e)},l(r){t=Be(r,e)},m(r,l){ne(r,t,l)},p(r,l){l[0]&17301504&&e!==(e=r[24].collapsedSelection(r[19].length)+"")&&et(t,e)},d(r){r&&b(t)}}}function ss(n){let e,t;const r=n[109]["clear-icon"],l=Dn(r,n,n[118],Qa),s=l||$u(n);return{c(){e=A("button"),s&&s.c(),this.h()},l(a){e=I(a,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var u=B(e);s&&s.l(u),u.forEach(b),this.h()},h(){p(e,"type","button"),p(e,"class","sv-btn-indicator svelte-11q5y3b"),p(e,"data-action","deselect"),p(e,"tabindex","-1"),Ne(e,"sv-has-selection",n[19].length)},m(a,u){ne(a,e,u),s&&s.m(e,null),t=!0},p(a,u){l?l.p&&(!t||u[0]&8912896|u[3]&33554432)&&Cn(l,r,a,a[118],t?In(r,a[118],u,Gu):Tn(a[118]),Qa):s&&s.p&&(!t||u[0]&524288)&&s.p(a,t?u:[-1,-1,-1,-1,-1,-1]),(!t||u[0]&524288)&&Ne(e,"sv-has-selection",a[19].length)},i(a){t||(He(s,a),t=!0)},o(a){Ge(s,a),t=!1},d(a){a&&b(e),s&&s.d(a)}}}function os(n){let e,t;return{c(){e=zt("svg"),t=zt("path"),this.h()},l(r){e=Ft(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=B(e);t=Ft(l,"path",{d:!0}),B(t).forEach(b),l.forEach(b),this.h()},h(){p(t,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),p(e,"class","indicator-icon svelte-11q5y3b"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,l){ne(r,e,l),_(e,t)},d(r){r&&b(e)}}}function $u(n){let e,t=n[19].length&&os();return{c(){t&&t.c(),e=St()},l(r){t&&t.l(r),e=St()},m(r,l){t&&t.m(r,l),ne(r,e,l)},p(r,l){r[19].length?t||(t=os(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&b(e),t&&t.d(r)}}}function us(n){let e;return{c(){e=A("span"),this.h()},l(t){e=I(t,"SPAN",{class:!0}),B(e).forEach(b),this.h()},h(){p(e,"class","sv-btn-separator svelte-11q5y3b")},m(t,r){ne(t,e,r)},d(t){t&&b(e)}}}function ec(n){let e,t;return{c(){e=zt("svg"),t=zt("path"),this.h()},l(r){e=Ft(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var l=B(e);t=Ft(l,"path",{d:!0}),B(t).forEach(b),l.forEach(b),this.h()},h(){p(t,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),p(e,"class","indicator-icon svelte-11q5y3b"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,l){ne(r,e,l),_(e,t)},p:Dt,d(r){r&&b(e)}}}function cs(n){let e,t,r,l,s,a,u,f;const h=n[109]["list-header"],m=Dn(h,n,n[118],Wa),v=[nc,tc],E=[];function P(S,N){return S[25].length?0:S[25].length===0&&(!S[14]||!S[23])||S[26]?1:-1}~(l=P(n))&&(s=E[l]=v[l](n));let D=n[14]&&n[23]&&!n[26]&&ds(n);return{c(){m&&m.c(),e=ee(),t=A("div"),r=A("div"),s&&s.c(),a=ee(),D&&D.c(),u=St(),this.h()},l(S){m&&m.l(S),e=$(S),t=I(S,"DIV",{class:!0,tabindex:!0});var N=B(t);r=I(N,"DIV",{class:!0});var L=B(r);s&&s.l(L),L.forEach(b),N.forEach(b),a=$(S),D&&D.l(S),u=St(),this.h()},h(){p(r,"class","sv-dropdown-content"),Ne(r,"max-reached",n[26]),p(t,"class","sv-dropdown-scroll svelte-11q5y3b"),p(t,"tabindex","-1"),Ne(t,"has-items",n[25].length>0),Ne(t,"is-virtual",n[15])},m(S,N){m&&m.m(S,N),ne(S,e,N),ne(S,t,N),_(t,r),~l&&E[l].m(r,null),n[116](r),n[117](t),ne(S,a,N),D&&D.m(S,N),ne(S,u,N),f=!0},p(S,N){m&&m.p&&(!f||N[3]&33554432)&&Cn(m,h,S,S[118],f?In(h,S[118],N,Vu):Tn(S[118]),Wa);let L=l;l=P(S),l===L?~l&&E[l].p(S,N):(s&&(pn(),Ge(E[L],1,1,()=>{E[L]=null}),gn()),~l?(s=E[l],s?s.p(S,N):(s=E[l]=v[l](S),s.c()),He(s,1),s.m(r,null)):s=null),(!f||N[0]&67108864)&&Ne(r,"max-reached",S[26]),(!f||N[0]&33554432)&&Ne(t,"has-items",S[25].length>0),(!f||N[0]&32768)&&Ne(t,"is-virtual",S[15]),S[14]&&S[23]&&!S[26]?D?(D.p(S,N),N[0]&75513856&&He(D,1)):(D=ds(S),D.c(),He(D,1),D.m(u.parentNode,u)):D&&(pn(),Ge(D,1,1,()=>{D=null}),gn())},i(S){f||(He(m,S),He(s),He(D),f=!0)},o(S){Ge(m,S),Ge(s),Ge(D),f=!1},d(S){S&&(b(e),b(t),b(a),b(u)),m&&m.d(S),~l&&E[l].d(),n[116](null),n[117](null),D&&D.d(S)}}}function tc(n){let e,t,r,l;return{c(){e=A("div"),t=A("div"),r=A("div"),l=Fe(n[42]),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=B(e);t=I(a,"DIV",{class:!0});var u=B(t);r=I(u,"DIV",{class:!0});var f=B(r);l=Be(f,n[42]),f.forEach(b),u.forEach(b),a.forEach(b),this.h()},h(){p(r,"class","sv-item--content"),p(t,"class","sv-item--wrap"),p(e,"class","is-dropdown-row svelte-11q5y3b")},m(s,a){ne(s,e,a),_(e,t),_(t,r),_(r,l)},p(s,a){a[1]&2048&&et(l,s[42])},i:Dt,o:Dt,d(s){s&&b(e)}}}function nc(n){let e,t,r,l;const s=[ic,rc],a=[];function u(f,h){return f[15]?0:1}return e=u(n),t=a[e]=s[e](n),{c(){t.c(),r=St()},l(f){t.l(f),r=St()},m(f,h){a[e].m(f,h),ne(f,r,h),l=!0},p(f,h){let m=e;e=u(f),e===m?a[e].p(f,h):(pn(),Ge(a[m],1,1,()=>{a[m]=null}),gn(),t=a[e],t?t.p(f,h):(t=a[e]=s[e](f),t.c()),He(t,1),t.m(r.parentNode,r))},i(f){l||(He(t),l=!0)},o(f){Ge(t),l=!1},d(f){f&&b(r),a[e].d(f)}}}function rc(n){let e,t,r=ht(n[25]),l=[];for(let a=0;a<r.length;a+=1)l[a]=fs(Va(n,r,a));const s=a=>Ge(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=St()},l(a){for(let u=0;u<l.length;u+=1)l[u].l(a);e=St()},m(a,u){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,u);ne(a,e,u),t=!0},p(a,u){if(u[0]&44041344|u[1]&8192|u[3]&33554432){r=ht(a[25]);let f;for(f=0;f<r.length;f+=1){const h=Va(a,r,f);l[f]?(l[f].p(h,u),He(l[f],1)):(l[f]=fs(h),l[f].c(),He(l[f],1),l[f].m(e.parentNode,e))}for(pn(),f=r.length;f<l.length;f+=1)s(f);gn()}},i(a){if(!t){for(let u=0;u<r.length;u+=1)He(l[u]);t=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)Ge(l[u]);t=!1},d(a){a&&b(e),Pn(l,a)}}}function ic(n){let e,t,r={width:"100%",height:n[49],itemCount:n[25].length,itemSize:n[22],scrollToAlignment:"auto",scrollToIndex:n[21],$$slots:{item:[fc,({style:l,index:s})=>({162:l,163:s}),({style:l,index:s})=>[0,0,0,0,0,(l?128:0)|(s?256:0)]]},$$scope:{ctx:n}};return e=new Au({props:r}),n[115](e),{c(){nn(e.$$.fragment)},l(l){tn(e.$$.fragment,l)},m(l,s){en(e,l,s),t=!0},p(l,s){const a={};s[1]&262144&&(a.height=l[49]),s[0]&33554432&&(a.itemCount=l[25].length),s[0]&4194304&&(a.itemSize=l[22]),s[0]&2097152&&(a.scrollToIndex=l[21]),s[0]&44041344|s[1]&8192|s[3]&33554432|s[5]&384&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(He(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){n[115](null),$t(e,l)}}}function lc(n){let e,t,r;const l=n[109].option,s=Dn(l,n,n[118],qa),a=s||sc(n);return{c(){e=A("div"),a&&a.c(),t=ee(),this.h()},l(u){e=I(u,"DIV",{"data-pos":!0,class:!0});var f=B(e);a&&a.l(f),t=$(f),f.forEach(b),this.h()},h(){p(e,"data-pos",n[166]),p(e,"class","sv-item--wrap in-dropdown svelte-11q5y3b"),Ne(e,"sv-dd-item-active",n[21]===n[166]),Ne(e,"is-selected",n[164].$selected),Ne(e,"is-disabled",n[164][n[7]])},m(u,f){ne(u,e,f),a&&a.m(e,null),_(e,t),r=!0},p(u,f){s?s.p&&(!r||f[0]&41943040|f[3]&33554432)&&Cn(s,l,u,u[118],r?In(l,u[118],f,Hu):Tn(u[118]),qa):a&&a.p&&(!r||f[0]&41944064|f[1]&8192)&&a.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[0]&2097152)&&Ne(e,"sv-dd-item-active",u[21]===u[166]),(!r||f[0]&33554432)&&Ne(e,"is-selected",u[164].$selected),(!r||f[0]&33554560)&&Ne(e,"is-disabled",u[164][u[7]])},i(u){r||(He(a,u),r=!0)},o(u){Ge(a,u),r=!1},d(u){u&&b(e),a&&a.d(u)}}}function ac(n){let e,t,r=n[164].label+"",l;return{c(){e=A("div"),t=A("b"),l=Fe(r),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=B(e);t=I(a,"B",{});var u=B(t);l=Be(u,r),u.forEach(b),a.forEach(b),this.h()},h(){p(e,"class","sv-optgroup-header")},m(s,a){ne(s,e,a),_(e,t),_(t,l)},p(s,a){a[0]&33554432&&r!==(r=s[164].label+"")&&et(l,r)},i:Dt,o:Dt,d(s){s&&b(e)}}}function sc(n){let e,t,r=Yi(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Ji(!1),this.h()},l(l){e=I(l,"DIV",{class:!0});var s=B(e);t=Qi(s,!1),s.forEach(b),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(l,s){ne(l,e,s),t.m(r,e)},p(l,s){s[0]&41944064|s[1]&8192&&r!==(r=Yi(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&b(e)}}}function fs(n){let e,t,r,l;const s=[ac,lc],a=[];function u(f,h){return f[164].$isGroupHeader?0:1}return e=u(n),t=a[e]=s[e](n),{c(){t.c(),r=St()},l(f){t.l(f),r=St()},m(f,h){a[e].m(f,h),ne(f,r,h),l=!0},p(f,h){let m=e;e=u(f),e===m?a[e].p(f,h):(pn(),Ge(a[m],1,1,()=>{a[m]=null}),gn(),t=a[e],t?t.p(f,h):(t=a[e]=s[e](f),t.c()),He(t,1),t.m(r.parentNode,r))},i(f){l||(He(t),l=!0)},o(f){Ge(t),l=!1},d(f){f&&b(r),a[e].d(f)}}}function oc(n){let e,t,r;const l=n[109].option,s=Dn(l,n,n[118],Ga),a=s||cc(n);return{c(){e=A("div"),a&&a.c(),this.h()},l(u){e=I(u,"DIV",{"data-pos":!0,class:!0});var f=B(e);a&&a.l(f),f.forEach(b),this.h()},h(){p(e,"data-pos",t=n[163]),p(e,"class","sv-item--wrap in-dropdown svelte-11q5y3b"),Ne(e,"sv-dd-item-active",n[21]===n[163]),Ne(e,"is-selected",n[164].$selected),Ne(e,"is-disabled",n[164][n[7]])},m(u,f){ne(u,e,f),a&&a.m(e,null),r=!0},p(u,f){s?s.p&&(!r||f[0]&41943040|f[3]&33554432|f[5]&256)&&Cn(s,l,u,u[118],r?In(l,u[118],f,ju):Tn(u[118]),Ga):a&&a.p&&(!r||f[0]&41944064|f[1]&8192|f[5]&256)&&a.p(u,r?f:[-1,-1,-1,-1,-1,-1]),(!r||f[5]&256&&t!==(t=u[163]))&&p(e,"data-pos",t),(!r||f[0]&2097152|f[5]&256)&&Ne(e,"sv-dd-item-active",u[21]===u[163]),(!r||f[0]&33554432|f[5]&256)&&Ne(e,"is-selected",u[164].$selected),(!r||f[0]&33554560|f[5]&256)&&Ne(e,"is-disabled",u[164][u[7]])},i(u){r||(He(a,u),r=!0)},o(u){Ge(a,u),r=!1},d(u){u&&b(e),a&&a.d(u)}}}function uc(n){let e,t,r=n[164].label+"",l;return{c(){e=A("div"),t=A("b"),l=Fe(r),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=B(e);t=I(a,"B",{});var u=B(t);l=Be(u,r),u.forEach(b),a.forEach(b),this.h()},h(){p(e,"class","sv-optgroup-header")},m(s,a){ne(s,e,a),_(e,t),_(t,l)},p(s,a){a[0]&33554432|a[5]&256&&r!==(r=s[164].label+"")&&et(l,r)},i:Dt,o:Dt,d(s){s&&b(e)}}}function cc(n){let e,t,r=Yi(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Ji(!1),this.h()},l(l){e=I(l,"DIV",{class:!0});var s=B(e);t=Qi(s,!1),s.forEach(b),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(l,s){ne(l,e,s),t.m(r,e)},p(l,s){s[0]&41944064|s[1]&8192|s[5]&256&&r!==(r=Yi(l[164],!1,l[23],l[44],l[10])+"")&&t.p(r)},d(l){l&&b(e)}}}function fc(n){Ua(n);let e,t,r,l,s;const a=[uc,oc],u=[];function f(h,m){return h[164].$isGroupHeader?0:1}return t=f(n),r=u[t]=a[t](n),{c(){e=A("div"),r.c(),this.h()},l(h){e=I(h,"DIV",{slot:!0,style:!0});var m=B(e);r.l(m),m.forEach(b),this.h()},h(){p(e,"slot","item"),p(e,"style",l=n[162])},m(h,m){ne(h,e,m),u[t].m(e,null),s=!0},p(h,m){Ua(h);let v=t;t=f(h),t===v?u[t].p(h,m):(pn(),Ge(u[v],1,1,()=>{u[v]=null}),gn(),r=u[t],r?r.p(h,m):(r=u[t]=a[t](h),r.c()),He(r,1),r.m(e,null)),(!s||m[5]&128&&l!==(l=h[162]))&&p(e,"style",l)},i(h){s||(He(r),s=!0)},o(h){Ge(r),s=!1},d(h){h&&b(e),u[t].d()}}}function ds(n){let e,t,r,l,s,a;const u=n[109]["create-row"],f=Dn(u,n,n[118],ja),h=f||dc(n);return{c(){e=A("div"),t=A("button"),h&&h.c(),this.h()},l(m){e=I(m,"DIV",{class:!0});var v=B(e);t=I(v,"BUTTON",{type:!0,class:!0});var E=B(t);h&&h.l(E),E.forEach(b),v.forEach(b),this.h()},h(){p(t,"type","button"),p(t,"class","creatable-row svelte-11q5y3b"),t.disabled=r=n[1](n[23]),Ne(t,"active",(n[25].length?n[25].length:0)===n[21]),Ne(t,"is-disabled",n[1](n[23])),p(e,"class","is-dropdown-row svelte-11q5y3b")},m(m,v){ne(m,e,v),_(e,t),h&&h.m(t,null),l=!0,s||(a=[Ye(t,"click",Al(n[51])),Ye(t,"mousedown",Al(n[110]))],s=!0)},p(m,v){f?f.p&&(!l||v[0]&25165824|v[1]&16|v[3]&33554432)&&Cn(f,u,m,m[118],l?In(u,m[118],v,Ku):Tn(m[118]),ja):h&&h.p&&(!l||v[0]&25165824|v[1]&18)&&h.p(m,l?v:[-1,-1,-1,-1,-1,-1]),(!l||v[0]&8388610&&r!==(r=m[1](m[23])))&&(t.disabled=r),(!l||v[0]&35651584)&&Ne(t,"active",(m[25].length?m[25].length:0)===m[21]),(!l||v[0]&8388610)&&Ne(t,"is-disabled",m[1](m[23]))},i(m){l||(He(h,m),l=!0)},o(m){Ge(h,m),l=!1},d(m){m&&b(e),h&&h.d(m),s=!1,Rn(a)}}}function dc(n){let e,t=n[24].createRowLabel(n[23])+"",r,l,s,a,u,f,h,m="Enter";return{c(){e=A("span"),r=Fe(t),l=ee(),s=A("span"),a=A("kbd"),u=Fe(n[32]),f=Fe("+"),h=A("kbd"),h.textContent=m,this.h()},l(v){e=I(v,"SPAN",{class:!0});var E=B(e);r=Be(E,t),E.forEach(b),l=$(v),s=I(v,"SPAN",{class:!0});var P=B(s);a=I(P,"KBD",{class:!0});var D=B(a);u=Be(D,n[32]),D.forEach(b),f=Be(P,"+"),h=I(P,"KBD",{class:!0,"data-svelte-h":!0}),Qe(h)!=="svelte-eby1n8"&&(h.textContent=m),P.forEach(b),this.h()},h(){p(e,"class","svelte-11q5y3b"),Ne(e,"is-loading",n[35]),p(a,"class","svelte-11q5y3b"),p(h,"class","svelte-11q5y3b"),p(s,"class","shortcut svelte-11q5y3b")},m(v,E){ne(v,e,E),_(e,r),ne(v,l,E),ne(v,s,E),_(s,a),_(a,u),_(s,f),_(s,h)},p(v,E){E[0]&25165824&&t!==(t=v[24].createRowLabel(v[23])+"")&&et(r,t),E[1]&16&&Ne(e,"is-loading",v[35]),E[1]&2&&et(u,v[32])},d(v){v&&(b(e),b(l),b(s))}}}function hc(n){let e,t,r,l,s,a,u,f,h,m,v,E,P,D,S,N,L,M,H,F,z,X,Z,De,ae,re,ge,ke,ce=n[28]&&ts(n),fe=n[4]&&!n[6]&&ns(n);const we=n[109].icon,ye=Dn(we,n,n[118],$a);let de=n[19].length&&is(n),he=n[9]&&!n[3]&&ss(n),O=n[9]&&us();const R=n[109]["dropdown-toggle"],j=Dn(R,n,n[118],Za),se=j||ec(),me=n[109]["control-end"],C=Dn(me,n,n[118],Ya);let ie=n[18]&&n[31]&&cs(n);return{c(){e=A("div"),t=A("span"),ce&&ce.c(),r=ee(),fe&&fe.c(),l=ee(),s=A("div"),ye&&ye.c(),a=ee(),u=A("div"),de&&de.c(),f=ee(),h=A("span"),m=A("input"),L=ee(),M=A("div"),he&&he.c(),H=ee(),O&&O.c(),F=ee(),z=A("button"),se&&se.c(),X=ee(),C&&C.c(),Z=ee(),De=A("div"),ie&&ie.c(),this.h()},l(Q){e=I(Q,"DIV",{class:!0,role:!0});var _e=B(e);t=I(_e,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Me=B(t);ce&&ce.l(Me),Me.forEach(b),r=$(_e),fe&&fe.l(_e),l=$(_e),s=I(_e,"DIV",{class:!0});var Re=B(s);ye&&ye.l(Re),a=$(Re),u=I(Re,"DIV",{class:!0});var Ee=B(u);de&&de.l(Ee),f=$(Ee),h=I(Ee,"SPAN",{class:!0,"data-value":!0});var pe=B(h);m=I(pe,"INPUT",{type:!0,class:!0,size:!0,id:!0,placeholder:!0,inputmode:!0,enterkeyhint:!0,"aria-label":!0,"aria-describedby":!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,"aria-autocomplete":!0,tabindex:!0}),pe.forEach(b),Ee.forEach(b),L=$(Re),M=I(Re,"DIV",{class:!0});var ve=B(M);he&&he.l(ve),H=$(ve),O&&O.l(ve),F=$(ve),z=I(ve,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var Pe=B(z);se&&se.l(Pe),Pe.forEach(b),ve.forEach(b),X=$(Re),C&&C.l(Re),Re.forEach(b),Z=$(_e),De=I(_e,"DIV",{class:!0});var Ve=B(De);ie&&ie.l(Ve),Ve.forEach(b),_e.forEach(b),this.h()},h(){p(t,"aria-live","polite"),p(t,"aria-atomic","false"),p(t,"aria-relevant","additions text"),p(t,"class","a11y-text svelte-11q5y3b"),p(m,"type","text"),p(m,"class","sv-input--text svelte-11q5y3b"),p(m,"size","1"),p(m,"id",n[2]),p(m,"placeholder",v=n[23]?"":n[47]),p(m,"inputmode",n[48]),m.readOnly=E=!n[8],p(m,"enterkeyhint",n[43]),m.disabled=n[3],p(m,"aria-label",P=n[24].aria_label),p(m,"aria-describedby",D=n[24].aria_describedby),p(m,"autocapitalize","none"),p(m,"autocomplete","off"),p(m,"autocorrect","off"),p(m,"spellcheck","false"),p(m,"aria-autocomplete","list"),p(m,"tabindex","0"),Ne(m,"keep-value",!n[11]),p(h,"class","sv-input--sizer svelte-11q5y3b"),p(h,"data-value",S=n[23]||n[47]),p(u,"class","sv-control--selection svelte-11q5y3b"),Ne(u,"is-single",n[0]===!1),Ne(u,"has-items",n[19].length>0),Ne(u,"has-input",n[23].length),p(z,"type","button"),p(z,"class","sv-btn-indicator svelte-11q5y3b"),p(z,"data-action","toggle"),p(z,"tabindex","-1"),Ne(z,"sv-dropdown-opened",n[20]),p(M,"class","sv-buttons svelte-11q5y3b"),Ne(M,"is-loading",n[34]),p(s,"class","sv-control svelte-11q5y3b"),p(De,"class","sv_dropdown svelte-11q5y3b"),Ne(De,"is-open",n[30]),p(e,"class",ae=ia(`svelecte ${n[16]}`)+" svelte-11q5y3b"),p(e,"role","none"),Ne(e,"is-required",n[5]),Ne(e,"is-empty",n[19].length===0),Ne(e,"is-invalid",n[5]&&n[19].length===0),Ne(e,"is-tainted",n[29]),Ne(e,"is-valid",n[5]?n[19].length>0:!0),Ne(e,"is-focused",n[28]),Ne(e,"is-open",n[20]),Ne(e,"is-disabled",n[3])},m(Q,_e){ne(Q,e,_e),_(e,t),ce&&ce.m(t,null),_(e,r),fe&&fe.m(e,null),_(e,l),_(e,s),ye&&ye.m(s,null),_(s,a),_(s,u),de&&de.m(u,null),_(u,f),_(u,h),_(h,m),n[113](m),jt(m,n[23]),_(s,L),_(s,M),he&&he.m(M,null),_(M,H),O&&O.m(M,null),_(M,F),_(M,z),se&&se.m(z,null),_(s,X),C&&C.m(s,null),_(e,Z),_(e,De),ie&&ie.m(De,null),re=!0,ge||(ke=[Ye(m,"input",n[114]),Ye(m,"focus",n[56]),Ye(m,"keydown",n[53]),Ye(m,"keyup",n[54]),Ye(m,"input",n[55]),Ye(m,"blur",n[57]),Ye(m,"paste",n[58]),ui(N=n[12].call(null,u,{items:n[19],flipDurationMs:n[36],type:n[2],dragDisabled:n[33]})),Ye(u,"consider",n[59]),Ye(u,"finalize",n[59]),Ye(s,"mousedown",hs),Ye(s,"click",n[52]),Ye(De,"mousedown",hs),Ye(De,"click",n[52]),ui(n[17].call(null,De))],ge=!0)},p(Q,_e){Q[28]?ce?ce.p(Q,_e):(ce=ts(Q),ce.c(),ce.m(t,null)):ce&&(ce.d(1),ce=null),Q[4]&&!Q[6]?fe?fe.p(Q,_e):(fe=ns(Q),fe.c(),fe.m(e,l)):fe&&(fe.d(1),fe=null),ye&&ye.p&&(!re||_e[3]&33554432)&&Cn(ye,we,Q,Q[118],re?In(we,Q[118],_e,Zu):Tn(Q[118]),$a),Q[19].length?de?(de.p(Q,_e),_e[0]&524288&&He(de,1)):(de=is(Q),de.c(),He(de,1),de.m(u,f)):de&&(pn(),Ge(de,1,1,()=>{de=null}),gn()),(!re||_e[0]&4)&&p(m,"id",Q[2]),(!re||_e[0]&8388608|_e[1]&65536&&v!==(v=Q[23]?"":Q[47]))&&p(m,"placeholder",v),(!re||_e[1]&131072)&&p(m,"inputmode",Q[48]),(!re||_e[0]&256&&E!==(E=!Q[8]))&&(m.readOnly=E),(!re||_e[1]&4096)&&p(m,"enterkeyhint",Q[43]),(!re||_e[0]&8)&&(m.disabled=Q[3]),(!re||_e[0]&16777216&&P!==(P=Q[24].aria_label))&&p(m,"aria-label",P),(!re||_e[0]&16777216&&D!==(D=Q[24].aria_describedby))&&p(m,"aria-describedby",D),_e[0]&8388608&&m.value!==Q[23]&&jt(m,Q[23]),(!re||_e[0]&2048)&&Ne(m,"keep-value",!Q[11]),(!re||_e[0]&8388608|_e[1]&65536&&S!==(S=Q[23]||Q[47]))&&p(h,"data-value",S),N&&Zr(N.update)&&_e[0]&524292|_e[1]&36&&N.update.call(null,{items:Q[19],flipDurationMs:Q[36],type:Q[2],dragDisabled:Q[33]}),(!re||_e[0]&1)&&Ne(u,"is-single",Q[0]===!1),(!re||_e[0]&524288)&&Ne(u,"has-items",Q[19].length>0),(!re||_e[0]&8388608)&&Ne(u,"has-input",Q[23].length),Q[9]&&!Q[3]?he?(he.p(Q,_e),_e[0]&520&&He(he,1)):(he=ss(Q),he.c(),He(he,1),he.m(M,H)):he&&(pn(),Ge(he,1,1,()=>{he=null}),gn()),Q[9]?O||(O=us(),O.c(),O.m(M,F)):O&&(O.d(1),O=null),j&&j.p&&(!re||_e[0]&1048576|_e[3]&33554432)&&Cn(j,R,Q,Q[118],re?In(R,Q[118],_e,Uu):Tn(Q[118]),Za),(!re||_e[0]&1048576)&&Ne(z,"sv-dropdown-opened",Q[20]),(!re||_e[1]&8)&&Ne(M,"is-loading",Q[34]),C&&C.p&&(!re||_e[3]&33554432)&&Cn(C,me,Q,Q[118],re?In(me,Q[118],_e,qu):Tn(Q[118]),Ya),Q[18]&&Q[31]?ie?(ie.p(Q,_e),_e[0]&262144|_e[1]&1&&He(ie,1)):(ie=cs(Q),ie.c(),He(ie,1),ie.m(De,null)):ie&&(pn(),Ge(ie,1,1,()=>{ie=null}),gn()),(!re||_e[0]&1073741824)&&Ne(De,"is-open",Q[30]),(!re||_e[0]&65536&&ae!==(ae=ia(`svelecte ${Q[16]}`)+" svelte-11q5y3b"))&&p(e,"class",ae),(!re||_e[0]&65568)&&Ne(e,"is-required",Q[5]),(!re||_e[0]&589824)&&Ne(e,"is-empty",Q[19].length===0),(!re||_e[0]&589856)&&Ne(e,"is-invalid",Q[5]&&Q[19].length===0),(!re||_e[0]&536936448)&&Ne(e,"is-tainted",Q[29]),(!re||_e[0]&589856)&&Ne(e,"is-valid",Q[5]?Q[19].length>0:!0),(!re||_e[0]&268500992)&&Ne(e,"is-focused",Q[28]),(!re||_e[0]&1114112)&&Ne(e,"is-open",Q[20]),(!re||_e[0]&65544)&&Ne(e,"is-disabled",Q[3])},i(Q){re||(He(ye,Q),He(de),He(he),He(se,Q),He(C,Q),He(ie),re=!0)},o(Q){Ge(ye,Q),Ge(de),Ge(he),Ge(se,Q),Ge(C,Q),Ge(ie),re=!1},d(Q){Q&&b(e),ce&&ce.d(),fe&&fe.d(),ye&&ye.d(Q),de&&de.d(),n[113](null),he&&he.d(),O&&O.d(),se&&se.d(Q),C&&C.d(Q),ie&&ie.d(),ge=!1,Rn(ke)}}}At.requestFactory=bu;const Ni={default(n){return _u(n[this.label])}},Bi=n=>({destroy:()=>{}}),mc=At;function hs(n){n.preventDefault()}function pc(n,e,t){let r,l,s,a,u,f,h,m,v,E,{$$slots:P={},$$scope:D}=e,{name:S="svelecte"}=e,{inputId:N=""}=e,{required:L=!1}=e,{disabled:M=!1}=e,{anchor_element:H=null}=e,{options:F=[]}=e,{optionResolver:z=null}=e,{valueField:X=At.valueField}=e,{labelField:Z=At.labelField}=e,{groupLabelField:De=At.groupLabelField}=e,{groupItemsField:ae=At.groupItemsField}=e,{disabledField:re=At.disabledField}=e,{placeholder:ge=At.placeholder}=e,{searchable:ke=At.searchable}=e,{clearable:ce=At.clearable}=e,{renderer:fe=null}=e,{disableHighlight:we=!1}=e,{highlightFirstItem:ye=At.highlightFirstItem}=e,{selectOnTab:de=At.selectOnTab}=e,{resetOnBlur:he=At.resetOnBlur}=e,{resetOnSelect:O=At.resetOnSelect}=e,{closeAfterSelect:R=At.closeAfterSelect}=e,{deselectMode:j="native"}=e,{dndzone:se=()=>({noop:!0,destroy:()=>{}})}=e,{validatorAction:me=[]}=e,{strictMode:C=!0}=e,{multiple:ie=At.multiple}=e,{max:Q=At.max}=e,{collapseSelection:_e=At.collapseSelection}=e,{keepSelectionInList:Me=At.keepSelectionInList}=e,{creatable:Re=At.creatable}=e,{creatablePrefix:Ee=At.creatablePrefix}=e,{allowEditing:pe=At.allowEditing}=e,{keepCreated:ve=At.keepCreated}=e,{delimiter:Pe=At.delimiter}=e,{createFilter:Ve=null}=e,{createHandler:J=null}=e,{fetch:qe=null}=e,{fetchProps:je=At.fetchProps}=e,{fetchMode:be="auto"}=e,{fetchCallback:tt=At.fetchCallback}=e,{fetchResetOnBlur:Et=!0}=e,{fetchDebounceTime:Ct=At.fetchDebounceTime}=e,{minQuery:Ot=At.minQuery}=e,{lazyDropdown:ct=At.lazyDropdown}=e,{virtualList:nt=At.virtualList}=e,{vlHeight:Xe=At.vlHeight}=e,{vlItemSize:Ue=At.vlItemSize}=e,{searchProps:gt=null}=e,{class:at="svelecte-control"}=e,{i18n:Qt=null}=e,{readSelection:Kt=null}=e,{value:ot=null}=e,{valueAsObject:pt=At.valueAsObject}=e,{parentValue:rn=void 0}=e,{positionResolver:an=Bi}=e;function Ht(){Nn.focus()}function Ze(k,Ie){Nr(k),Ie&&Rt()}function Jt(k){return k?ot:Kt}function Bt(k){qe&&(Sr({init:!0,initValue:k,storedValue:Et}),t(64,Et=!1))}const Ut=Zi(),Te=`sv-${S}-select`;qe&&ot&&pt&&(!F||F&&F.length===0)&&(F=Array.isArray(ot)?ot:[ot]),N||(N=`${Te}-input`),ie=S&&!ie?S.endsWith("[]"):ie;let mn=!1,sn,Mt=z?z(F,new Set):Ha(F,X,Z,nt&&!!qe),Gt,mt=X||Ri("value",Mt,ae),wt=Z||Ri("label",Mt,ae),_t=ot!==null?Lu(Mt,ot,pt,ae,mt):[];const rt=_t.reduce((k,Ie)=>(k.add(Ie[mt]),k),new Set);let ut=_t.filter(k=>k.$created),Yt=!1,Pt=!1,ue=!1,Ce=!1,Lt=!1,yt=ye?0:null,xe=!ct,Vt=null,br=nt&&Xe===null&&Ue===null,_n=Xe,fn=Ue,Mn,ft="",ir=!1,vt,on=be==="init"||qe&&qe.includes("[query]")===!1,bn=on||qe&&F.length===0?ot:null,lr=null,Zn=_e!==null,dt=!1,jn=!1,Vn=100,dr=!1,ar=!1,Nn,qt,qn,un,hr;const vn=Pu(mt,wt,De,ae);Jr(Qt,!0);function pi(k,Ie){mn&&(k&&mt!==k&&(t(107,vn.valueField=t(27,mt=k),vn),rt.size>0&&gr()),Ie&&(t(107,vn.labelField=t(104,wt=Ie),vn),(fe===null||fe==="default")&&t(44,a=Ni.default.bind({label:wt}))))}function kt(k){if(mn){if(Mt!==k){if(k=Ha(k,mt,wt,nt&&!!qe),!X){const Ie=Ri("value",k||null,ae);!X&&mt!==Ie&&(t(107,vn.valueField=t(27,mt=Ie),vn),rt.size>0&&gr())}if(!Z){const Ie=Ri("label",k||null,ae);!Z&&wt!==Ie&&(t(107,vn.labelField=Ie,vn),t(104,wt=Ie),(fe===null||fe==="default")&&t(44,a=Ni.default.bind({label:wt})))}}t(61,F=k),t(103,Mt=z?z(k,rt):k)}}function Nr(k,Ie){if(!(sn===k&&!(Ie!=null&&Ie.skipEqualityCheck))){if(gr(),k!==null){if((ie&&!Array.isArray(k)||!ie&&Array.isArray(k))&&console.warn(`Passed 'value' property should ${ie?"be":"NOT be"} an array`),bn)return;const st=Array.isArray(k)?k:[k],lt=st.reduce((Fn,yn)=>{if(pt&&(!C||Re&&yn.$created))return Fn.push(yn),Fn;const Sn=l.find(Xn=>pt?Xn[mt]==yn[mt]:Xn[mt]==yn);return Sn?Fn.push(Sn):!C&&Fn.push(J?J({inputValue:yn,valueField:mt,labelField:wt,prefix:Ee}):{[mt]:yn,[wt]:yn}),Fn},[]);if(!(lt.every(wr)&&(ie?st.length===lt.length:lt.length>0))){console.warn('[Svelecte]: provided "value" property is invalid',k),t(63,ot=ie?[]:null),t(65,Kt=ot),Ut("invalidValue",k);return}t(65,Kt=Array.isArray(k)?lt:lt.shift())}sn=k}}function gi(k){if(dr)return;const Ie=k.map(lt=>{const{$disabled:Xt,$isGroupItem:Fn,...yn}=lt;return yn}),st=ie?Ie:Ie.length?Ie[0]:null;pt?sn=st:sn=ie?st.map(lt=>lt[mt]):_t.length?st[mt]:null,t(63,ot=sn),t(65,Kt=st),Q&&k.length===Q&&t(42,$n=vt.max(Q))}function Br(k){if(k!==void 0&&Gt!==k||k===void 0&&Gt!==k){const Ie=k===void 0?!1:!k;gr(),sn=ie?[]:null,t(3,M=Ie)}Gt=k,ar=k!==void 0}function mr(k){!mn||!xe||cr().then(()=>{if(!hr)return;const Ie=Mu(hr,un,s);t(22,fn=Ie.size),t(106,_n=Ie.height)}).then(()=>an===Bi&&El(Ce,un,xe))}function _i(k){mn&&(k&&!Pt&&(Pt=!0),!xe&&k&&t(31,xe=!0),cr().then(()=>{br&&mr()}).then(()=>{an===Bi&&El(k,un,!0),k&&(ye&&(_t.length===0||ie)&&Jn(0,{asc:!0}),!ie&&_t.length&&t(21,yt=l.findIndex(Ie=>Ie===_t[0])),Li({container:qn,scrollContainer:un,virtualList:nt,center:!1},yt)),cr().then(()=>t(30,Lt=k))}),Vt||(Vt=()=>an===Bi&&El(k,un,!0)),document[k?"addEventListener":"removeEventListener"]("scroll",Vt,{passive:!0}))}function Jr(k,Ie=null){(mn||Ie)&&t(24,vt=Object.assign({},mc.i18n,k||{}))}function vi(k,Ie){if(!(qe&&!on)){if(k){t(42,$n=vt.max(Q));return}t(42,$n=Ie.length!==l.length&&_t.length!==l.length?Re?vt.emptyCreatable:vt.nomatch:Re?vt.emptyCreatable:vt.empty)}}function Rt(){cr().then(()=>{Ut("change",Kt),qt&&(qt.dispatchEvent(new Event("input")),qt.dispatchEvent(new Event("change")))})}function yr(k){Ut("createoption",k)}function Qn(k,Ie){if(Ie=Ie||k.detail,!(M||Ie[re]||Ie.$isGroupHeader)){if(!Ie||ie&&r)return!1;if(rt.has(Ie[mt]))return!ie&&j!=="toggle"?void 0:pr(null,Ie);if(typeof Ie=="string"){if(!Re||(Ie=wl(Ie),ut.includes(Ie)||rt.has(Ie)))return;t(35,jn=!0),Promise.resolve().then(()=>J({inputValue:Ie,valueField:mt,labelField:wt,prefix:Ee})).then(st=>{t(35,jn=!1),!qe&&ut.push(Ie),st.$created=!0,ve&&t(103,Mt=[...Mt,st]),yr(st),wr(st),sr(),Rt()}).catch(st=>{t(35,jn=!1),Ut("createFail",{input:Ie,error:st})});return}wr(Ie),sr(),Rt()}}function sr(){(ie&&O||!ie)&&t(23,ft=""),(R===!0||R==="auto"&&!ie)&&t(20,Ce=!1),Q&&_t.length==Q&&t(21,yt=0)}function wr(k){if(k.$selected=!0,ie)_t.push(k),t(19,_t),rt.add(k[mt]);else{const Ie=_t.shift();Ie&&(Ie.$selected=!1),t(19,_t=[k]),rt.clear(),rt.add(k[mt]),cr().then(()=>{t(21,yt=l.indexOf(k))})}return z?(t(103,Mt=z(F,rt)),!0):(t(108,l),t(103,Mt),t(107,vn),!0)}function pr(k={},Ie=null,st){M||(Ie=Ie||k.detail,Ie?(Fr(Ie,st),Me!==!0&&cr().then(()=>Li({scrollContainer:un,container:qn,virtualList:nt,center:!1},yt))):gr(),Rt())}function Fr(k,Ie){if(k.$created){if(ut.splice(ut.findIndex(lt=>lt===k[mt]),1),t(105,ut),!ve){const lt=Mt.findIndex(Xt=>Xt[mt]===k[mt]);lt!==-1&&Mt.splice(lt,1),t(103,Mt)}Ie&&pe&&t(23,ft=k[wt].replace(Ee,""))}k.$selected=!1;const st=k[mt];if(rt.delete(st),_t.splice(_t.findIndex(lt=>lt[mt]==st),1),t(19,_t),z){t(103,Mt=z(F,rt));return}t(108,l=qe&&!on&&Et?[]:l)}function gr(){if(!(rt.size===0||!ie&&j==="none")){if(rt.clear(),t(19,_t=_t.reduce((k,Ie)=>(Ie.$selected=!1,[]),[])),ve||t(105,ut=[]),t(26,r=!1),ft&&t(23,ft=""),z){t(103,Mt=z(F,rt));return}t(108,l=qe&&!on&&Et?[]:l)}}function zr(k){ut.includes(ft)||Qn(null,ft)}function bi(k){if(Re&&Pe.indexOf(k.key)>-1){ft.length>0&&Qn(null,ft),k.preventDefault();return}const Ie=de&&Ce&&!k.shiftKey?"Tab":"No-tab";let st=lr?k.metaKey:k.ctrlKey,lt=["PageUp","PageDown"].includes(k.key),Xt=!1,Fn=!1;switch(k.key){case"End":if(ft.length!==0)return;Jn(s.length,{desc:!0});case"PageDown":if(lt){const[Xn,tr]=Hr();t(21,yt=Math.min(Math.ceil((tr*yt+Xn)/tr),s.length))}case"ArrowUp":if(k.preventDefault(),!Ce){t(20,Ce=!0);return}Jn(yt-1,{desc:!0}),cr().then(()=>Li({scrollContainer:un,container:qn,virtualList:nt,center:!1},yt));break;case"Home":if(Fn=!0,ft.length!==0||ft.length===0&&s.length===0)return;Jn(0,{asc:!0});case"PageUp":if(lt){const[Xn,tr]=Hr();t(21,yt=Math.floor((tr*yt-Xn)/tr))}case"ArrowDown":if(k.preventDefault(),!Ce){t(20,Ce=!0);return}!Fn&&Jn((yt===null?-1:yt)+1,{asc:!0}),cr().then(()=>Li({scrollContainer:un,container:qn,virtualList:nt,center:!1},yt));break;case"Escape":Ce&&(k.preventDefault(),k.stopPropagation()),ft||t(20,Ce=!1),t(23,ft="");break;case Ie:case"Enter":if(!Ce){k.key!==Ie&&Ut("enterKey",k);return}let Sn=st?null:s[yt];if(Re&&ft){const Xn=Ve(wl(ft));Sn=!Sn||st?wl(ft):Sn,st=Xn}if(!st&&Sn&&Qn(null,Sn),s.length<=yt&&Jn(s.length-1),!Sn&&_t.length){t(20,Ce=!1),k.key!==Ie&&Ut("enterKey",k);return}(k.key!==Ie||k.key===Ie&&de!=="select-navigate")&&k.preventDefault();break;case" ":!qe&&!Ce&&(t(20,Ce=!0),k.preventDefault());break;case"Backspace":if(_e==="always")return;Xt=!0;case"Delete":if(ft===""&&_t.length){if(!ie&&j==="none")return;st?pr({}):pr(null,_t[_t.length-1],Xt),k.preventDefault()}default:!st&&!["Tab","Shift"].includes(k.key)&&!Ce&&!dt&&t(20,Ce=!0)}}function Xi(k){if(M)return;const Ie=k.target.closest("[data-action]");if(Pt||(Pt=!0),(Ie==null?void 0:Ie.dataset.action)==="default")return;k.preventDefault();const st=k.target.closest("[data-pos]");if(!Ie&&!st)return Gn(k.target);switch((Ie==null?void 0:Ie.dataset.action)||"select"){case"deselect":let Xt=Ie.bound_item;if(!Xt){const yn=Ie.dataset.id;Xt=_t.filter(Sn=>Sn[mt]==yn).shift()}pr({},Xt),Xt&&!Yt&&Nn.focus();break;case"select":const Fn=parseInt(st.dataset.pos);Qn(null,s[Fn]);break;case"toggle":t(20,Ce=!Ce);break}}function Tt(k){if(La()&&!m&&k.key==="Enter")return!0;ir=["Enter","Escape"].includes(k.key)&&Ce,bi(k)}function yi(k){ir&&(k.stopImmediatePropagation(),k.preventDefault()),ir=!1}function xi(){_t.length}function $i(){t(28,Yt=!0),t(20,Ce=Pt),ue||t(29,ue=!0),_e==="blur"&&!dr&&setTimeout(()=>{t(33,Zn=!1)},100),Ut("focus",Nn)}function En(){t(28,Yt=!1),t(20,Ce=!1),Pt=!1,he?t(23,ft=""):Bn&&!on&&Bn.abort("blur"),_e==="blur"&&!dr&&setTimeout(()=>{t(33,Zn=!0)},100),Ut("blur",Nn)}function _r(k){if(Re){k.preventDefault();const Ie=new RegExp("([^"+Pe+"\\n]+)","g"),st=k.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),lt=st.match(Ie);lt.length===1&&st.indexOf(",")===-1&&t(23,ft=lt.pop().trim()),lt.forEach(Xt=>Qn(null,Xt.trim()))}}function Kr(k){dr=k.type==="consider",t(19,_t=k.detail.items),dr||(Rt(),_e==="blur"&&setTimeout(()=>{t(33,Zn=!0)},200))}let Bn,kr,$n=qe?on?vt.fetchInit:Ot>1?vt.fetchQuery(Ot,0):vt.fetchBefore:Re?vt.emptyCreatable:vt.empty;function dn(k,Ie){if(!k){kr=null;return}(on||bn)&&(t(34,dt=!0),Sr({init:!0})),kr=vu(Sr,Ct)}let Un=Wr({control:null});const or=(k=null)=>Un.update(Ie=>{var st;return(st=Ie.control)==null||st.abort(),{control:k}});function Er(k){on||r||kr&&(or(),t(34,dt=!0),ft.length<Ot&&t(34,dt=!1),Et&&t(25,s=[]),t(30,Lt=!(k.length>=Ot)),t(42,$n=Ot<=1?vt.fetchBefore:vt.fetchQuery(Ot,k.length)),kr())}function Sr(k={}){if(or(),k.init!==!0&&!ft.length||ar&&!rn){t(34,dt=!1),Et&&t(103,Mt=z?z(F,rt):[]);return}if(ft&&ft.length<Ot){t(34,dt=!1);return}on&&sn&&(!ie||(sn==null?void 0:sn.length)>0)&&(bn=sn);const Ie=bn||k.initValue;on&&t(42,$n=vt.fetchInit);const st=At.requestFactory(ft,{parentValue:rn,url:qe,initial:Ie},je);Bn=st.controller,or(st.controller),window.fetch(st.request).then(lt=>lt.json()).then(lt=>(!Array.isArray(lt)&&(lt!=null&&lt.error)&&Ut("fetchError",lt.error),Promise.resolve(tt?tt(lt):lt.data||lt.items||lt.options||lt).then(Xt=>{Array.isArray(Xt)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",Xt),Xt=[]),t(103,Mt=Xt),Ut("fetch",Xt),cr().then(()=>{Ie&&(bn=null,Nr(Ie,{skipEqualityCheck:!0}),"storedValue"in k&&t(64,Et=k.storedValue))})}))).catch(lt=>{if(lt instanceof DOMException&&lt.name==="AbortError")return!0;t(103,Mt=[]),Ut("fetchError",lt),console.warn("[Svelecte] Fetch Error:",lt)}).then(lt=>{lt!==!0&&(t(42,$n=on?vt.empty:Ie?Ot>1?vt.fetchQuery(Ot,0):vt.fetchBefore:vt.fetchEmpty),Bn=null,t(34,dt=!1),Yt&&t(20,Ce=!0),Ce&&!Lt&&t(30,Lt=!0))})}function er(k){return Me?Me===!0?k?rt:null:k||ie?rt:null:rt}function Jn(k,Ie={},st=0){var Xt;const lt=Re?s.length+1:s.length;if(!(st>=2)){if(k<0&&(k=Ie.desc?lt-1:0),(yt===null&&ye||k>=lt)&&(k=0),(Xt=s[k])!=null&&Xt.$isGroupHeader){Jn(Ie.asc?k+1:k-1,Ie,++st);return}t(21,yt=k)}}function Gn(k){if(!M){if(!Yt){Nn.focus();return}k.tagName==="INPUT"&&ft||t(20,Ce=!Ce)}}function Hr(){return nt?[un.offsetHeight,fn]:[un.offsetHeight,qn.firstElementChild.offsetHeight]}const wi=me.length?me.shift():()=>{};Fl(()=>{t(18,mn=!0),La(),lr=gu(),t(32,Mn=lr?"":"Ctrl"),H?(t(38,qt=document.getElementById(H)),t(38,qt.className="sv-hidden-element",qt),t(38,qt.innerHTML="",qt),t(38,qt.tabIndex=-1,qt),t(38,qt.disabled=M,qt),t(38,qt.required=L,qt),t(38,qt.multiple=ie,qt),!ie&&qt.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),rt.forEach(k=>{qt.insertAdjacentHTML("beforeend",`<option value=${k} selected>${k}</option>`)})):_t.length&&setTimeout(()=>{qt&&Array.from(qt.children).forEach(k=>{k.selected=!0})},200),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t(36,Vn=0)});function Xr(k){Il.call(this,n,k)}function Dr(k){Il.call(this,n,k)}function xr(k){Wt[k?"unshift":"push"](()=>{qt=k,t(38,qt),t(19,_t),t(27,mt)})}function ki(k){Wt[k?"unshift":"push"](()=>{Nn=k,t(37,Nn)})}function el(){ft=this.value,t(23,ft)}function Cr(k){Wt[k?"unshift":"push"](()=>{hr=k,t(41,hr)})}function tl(k){Wt[k?"unshift":"push"](()=>{qn=k,t(39,qn)})}function nl(k){Wt[k?"unshift":"push"](()=>{un=k,t(40,un)})}return n.$$set=k=>{"name"in k&&t(4,S=k.name),"inputId"in k&&t(2,N=k.inputId),"required"in k&&t(5,L=k.required),"disabled"in k&&t(3,M=k.disabled),"anchor_element"in k&&t(6,H=k.anchor_element),"options"in k&&t(61,F=k.options),"optionResolver"in k&&t(66,z=k.optionResolver),"valueField"in k&&t(67,X=k.valueField),"labelField"in k&&t(68,Z=k.labelField),"groupLabelField"in k&&t(69,De=k.groupLabelField),"groupItemsField"in k&&t(70,ae=k.groupItemsField),"disabledField"in k&&t(7,re=k.disabledField),"placeholder"in k&&t(71,ge=k.placeholder),"searchable"in k&&t(8,ke=k.searchable),"clearable"in k&&t(9,ce=k.clearable),"renderer"in k&&t(72,fe=k.renderer),"disableHighlight"in k&&t(10,we=k.disableHighlight),"highlightFirstItem"in k&&t(73,ye=k.highlightFirstItem),"selectOnTab"in k&&t(74,de=k.selectOnTab),"resetOnBlur"in k&&t(11,he=k.resetOnBlur),"resetOnSelect"in k&&t(75,O=k.resetOnSelect),"closeAfterSelect"in k&&t(76,R=k.closeAfterSelect),"deselectMode"in k&&t(77,j=k.deselectMode),"dndzone"in k&&t(12,se=k.dndzone),"validatorAction"in k&&t(13,me=k.validatorAction),"strictMode"in k&&t(78,C=k.strictMode),"multiple"in k&&t(0,ie=k.multiple),"max"in k&&t(79,Q=k.max),"collapseSelection"in k&&t(80,_e=k.collapseSelection),"keepSelectionInList"in k&&t(81,Me=k.keepSelectionInList),"creatable"in k&&t(14,Re=k.creatable),"creatablePrefix"in k&&t(82,Ee=k.creatablePrefix),"allowEditing"in k&&t(83,pe=k.allowEditing),"keepCreated"in k&&t(84,ve=k.keepCreated),"delimiter"in k&&t(85,Pe=k.delimiter),"createFilter"in k&&t(1,Ve=k.createFilter),"createHandler"in k&&t(62,J=k.createHandler),"fetch"in k&&t(86,qe=k.fetch),"fetchProps"in k&&t(87,je=k.fetchProps),"fetchMode"in k&&t(88,be=k.fetchMode),"fetchCallback"in k&&t(89,tt=k.fetchCallback),"fetchResetOnBlur"in k&&t(64,Et=k.fetchResetOnBlur),"fetchDebounceTime"in k&&t(90,Ct=k.fetchDebounceTime),"minQuery"in k&&t(91,Ot=k.minQuery),"lazyDropdown"in k&&t(92,ct=k.lazyDropdown),"virtualList"in k&&t(15,nt=k.virtualList),"vlHeight"in k&&t(93,Xe=k.vlHeight),"vlItemSize"in k&&t(94,Ue=k.vlItemSize),"searchProps"in k&&t(95,gt=k.searchProps),"class"in k&&t(16,at=k.class),"i18n"in k&&t(96,Qt=k.i18n),"readSelection"in k&&t(65,Kt=k.readSelection),"value"in k&&t(63,ot=k.value),"valueAsObject"in k&&t(97,pt=k.valueAsObject),"parentValue"in k&&t(98,rn=k.parentValue),"positionResolver"in k&&t(17,an=k.positionResolver),"$$scope"in k&&t(118,D=k.$$scope)},n.$$.update=()=>{n.$$.dirty[2]&96&&pi(X,Z),n.$$.dirty[0]&524288|n.$$.dirty[2]&131072&&t(26,r=Q!==0&&_t.length==Q),n.$$.dirty[1]&1073741824&&kt(F),n.$$.dirty[3]&17408&&t(108,l=Ru(Mt,vn)),n.$$.dirty[2]&2&&Nr(ot),n.$$.dirty[0]&75497472|n.$$.dirty[3]&49156&&t(25,s=r?[]:Fu(l,ft,er(ft),vn,gt||{})),n.$$.dirty[2]&2048&&ye&&Jn(0,{asc:!0}),n.$$.dirty[0]&35667968&&s.length<=yt&&Jn(0,{asc:!Re,desc:Re}),n.$$.dirty[0]&2|n.$$.dirty[3]&4096&&(Ve||t(1,Ve=k=>ut.includes(k))),n.$$.dirty[2]&1&&(J||t(62,J=({inputValue:k,labelField:Ie,valueField:st,prefix:lt})=>({[st]:k,[Ie]:`${lt}${k}`}))),n.$$.dirty[3]&8&&Jr(Qt),n.$$.dirty[3]&32&&Br(rn),n.$$.dirty[0]&524288&&gi(_t),n.$$.dirty[2]&1024|n.$$.dirty[3]&2048&&t(44,a=typeof fe=="function"?fe:Ni[fe]||Ni.default.bind({label:wt})),n.$$.dirty[0]&37748736|n.$$.dirty[3]&8192&&t(49,u=Math.min(_n,Array.isArray(fn)?fn.reduce((k,Ie)=>(k+=Ie,k),0):s.length*fn)),n.$$.dirty[0]&33554432&&br&&mr(),n.$$.dirty[0]&1048576&&_i(Ce),n.$$.dirty[0]&256&&t(48,f=ke?"text":"none"),n.$$.dirty[0]&524288|n.$$.dirty[2]&512&&t(47,h=_t.length?"":ge),n.$$.dirty[0]&524289&&t(43,m=_t.length>0&&ie===!1?null:"enter"),n.$$.dirty[0]&17301504|n.$$.dirty[3]&2048&&t(46,v=vt.aria_selected(_t.map(k=>k[wt]))),n.$$.dirty[0]&61865984|n.$$.dirty[3]&2048&&t(45,E=s.length&&yt>0?Ce?vt.aria_listActive(s[yt],wt,s.length):vt.aria_inputFocused():ft.length?vt.nomatch:vt.empty),n.$$.dirty[0]&8388608&&Er(ft),n.$$.dirty[0]&262144|n.$$.dirty[2]&16777216|n.$$.dirty[3]&32&&mn&&dn(qe),n.$$.dirty[0]&100663296&&vi(r,s)},[ie,Ve,N,M,S,L,H,re,ke,ce,we,he,se,me,Re,nt,at,an,mn,_t,Ce,yt,fn,ft,vt,s,r,mt,Yt,ue,Lt,xe,Mn,Zn,dt,jn,Vn,Nn,qt,qn,un,hr,$n,m,a,E,v,h,f,u,Te,zr,Xi,Tt,yi,xi,$i,En,_r,Kr,wi,F,J,ot,Et,Kt,z,X,Z,De,ae,ge,fe,ye,de,O,R,j,C,Q,_e,Me,Ee,pe,ve,Pe,qe,je,be,tt,Ct,Ot,ct,Xe,Ue,gt,Qt,pt,rn,Ht,Ze,Jt,Bt,Mt,wt,ut,_n,vn,l,P,Xr,Dr,xr,ki,el,Cr,tl,nl,D]}class mi extends An{constructor(e){super(),On(this,e,pc,hc,kn,{name:4,inputId:2,required:5,disabled:3,anchor_element:6,options:61,optionResolver:66,valueField:67,labelField:68,groupLabelField:69,groupItemsField:70,disabledField:7,placeholder:71,searchable:8,clearable:9,renderer:72,disableHighlight:10,highlightFirstItem:73,selectOnTab:74,resetOnBlur:11,resetOnSelect:75,closeAfterSelect:76,deselectMode:77,dndzone:12,validatorAction:13,strictMode:78,multiple:0,max:79,collapseSelection:80,keepSelectionInList:81,creatable:14,creatablePrefix:82,allowEditing:83,keepCreated:84,delimiter:85,createFilter:1,createHandler:62,fetch:86,fetchProps:87,fetchMode:88,fetchCallback:89,fetchResetOnBlur:64,fetchDebounceTime:90,minQuery:91,lazyDropdown:92,virtualList:15,vlHeight:93,vlItemSize:94,searchProps:95,class:16,i18n:96,readSelection:65,value:63,valueAsObject:97,parentValue:98,positionResolver:17,focus:99,setSelection:100,getSelection:101,refetchWith:102},null,[-1,-1,-1,-1,-1,-1])}get focus(){return this.$$.ctx[99]}get setSelection(){return this.$$.ctx[100]}get getSelection(){return this.$$.ctx[101]}get refetchWith(){return this.$$.ctx[102]}}function gc(n){let e,t,r,l="Add New Trip",s,a,u,f="Trip Name",h,m,v,E,P,D="Trip Currency",S,N,L,M,H,F,z="Trip Start",X,Z,De,ae,re,ge,ke="Trip End",ce,fe,we,ye,de,he,O="Add Trip",R,j,se="Cancel",me,C,ie;function Q(ve){n[8](ve)}let _e={options:n[4],name:void 0,inputId:"tripCurrency",required:!0,groupLabelField:"groupHeader",groupItemsField:"items"};n[1]!==void 0&&(_e.value=n[1]),N=new mi({props:_e}),Wt.push(()=>Hn(N,"value",Q));function Me(ve){n[9](ve)}let Re={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[2]!==void 0&&(Re.value=n[2]),Z=new fi({props:Re}),Wt.push(()=>Hn(Z,"value",Me));function Ee(ve){n[10](ve)}let pe={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[2],id:"tripEnd"};return n[3]!==void 0&&(pe.value=n[3]),fe=new fi({props:pe}),Wt.push(()=>Hn(fe,"value",Ee)),{c(){e=A("div"),t=A("form"),r=A("h1"),r.textContent=l,s=ee(),a=A("div"),u=A("label"),u.textContent=f,h=ee(),m=A("input"),v=ee(),E=A("div"),P=A("label"),P.textContent=D,S=ee(),nn(N.$$.fragment),M=ee(),H=A("div"),F=A("label"),F.textContent=z,X=ee(),nn(Z.$$.fragment),ae=ee(),re=A("div"),ge=A("label"),ge.textContent=ke,ce=ee(),nn(fe.$$.fragment),ye=ee(),de=A("div"),he=A("button"),he.textContent=O,R=ee(),j=A("a"),j.textContent=se,this.h()},l(ve){e=I(ve,"DIV",{class:!0});var Pe=B(e);t=I(Pe,"FORM",{});var Ve=B(t);r=I(Ve,"H1",{"data-svelte-h":!0}),Qe(r)!=="svelte-1x3twms"&&(r.textContent=l),s=$(Ve),a=I(Ve,"DIV",{class:!0});var J=B(a);u=I(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(u)!=="svelte-1y8z10u"&&(u.textContent=f),h=$(J),m=I(J,"INPUT",{id:!0,class:!0,type:!0}),J.forEach(b),v=$(Ve),E=I(Ve,"DIV",{class:!0});var qe=B(E);P=I(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(P)!=="svelte-1fzihue"&&(P.textContent=D),S=$(qe),tn(N.$$.fragment,qe),qe.forEach(b),M=$(Ve),H=I(Ve,"DIV",{class:!0});var je=B(H);F=I(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(F)!=="svelte-4n7gli"&&(F.textContent=z),X=$(je),tn(Z.$$.fragment,je),je.forEach(b),ae=$(Ve),re=I(Ve,"DIV",{class:!0});var be=B(re);ge=I(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(ge)!=="svelte-1dn7717"&&(ge.textContent=ke),ce=$(be),tn(fe.$$.fragment,be),be.forEach(b),ye=$(Ve),de=I(Ve,"DIV",{class:!0});var tt=B(de);he=I(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Qe(he)!=="svelte-1038w6b"&&(he.textContent=O),R=$(tt),j=I(tt,"A",{href:!0,class:!0,"data-svelte-h":!0}),Qe(j)!=="svelte-1qwf9kk"&&(j.textContent=se),tt.forEach(b),Ve.forEach(b),Pe.forEach(b),this.h()},h(){p(u,"for","tripName"),p(u,"class","form-label"),p(m,"id","tripName"),p(m,"class","form-control"),p(m,"type","text"),p(a,"class","mb-3"),p(P,"for","tripCurrency"),p(P,"class","form-label"),p(E,"class","mb-3"),p(F,"for","tripStart"),p(F,"class","form-label"),p(H,"class","mb-3"),p(ge,"for","tripStart"),p(ge,"class","form-label"),p(re,"class","mb-3"),p(he,"class","btn btn-primary col-md-2"),p(j,"href","#/"),p(j,"class","btn btn-outline-primary col-md-2"),p(de,"class","mt-4 gap-3 d-grid d-md-flex justify-content-md-center"),p(e,"class","w-100")},m(ve,Pe){ne(ve,e,Pe),_(e,t),_(t,r),_(t,s),_(t,a),_(a,u),_(a,h),_(a,m),jt(m,n[0]),_(t,v),_(t,E),_(E,P),_(E,S),en(N,E,null),_(t,M),_(t,H),_(H,F),_(H,X),en(Z,H,null),_(t,ae),_(t,re),_(re,ge),_(re,ce),en(fe,re,null),_(t,ye),_(t,de),_(de,he),_(de,R),_(de,j),me=!0,C||(ie=[Ye(m,"input",n[7]),Ye(he,"click",n[5])],C=!0)},p(ve,[Pe]){Pe&1&&m.value!==ve[0]&&jt(m,ve[0]);const Ve={};Pe&16&&(Ve.options=ve[4]),!L&&Pe&2&&(L=!0,Ve.value=ve[1],Kn(()=>L=!1)),N.$set(Ve);const J={};!De&&Pe&4&&(De=!0,J.value=ve[2],Kn(()=>De=!1)),Z.$set(J);const qe={};Pe&4&&(qe.min=ve[2]),!we&&Pe&8&&(we=!0,qe.value=ve[3],Kn(()=>we=!1)),fe.$set(qe)},i(ve){me||(He(N.$$.fragment,ve),He(Z.$$.fragment,ve),He(fe.$$.fragment,ve),me=!0)},o(ve){Ge(N.$$.fragment,ve),Ge(Z.$$.fragment,ve),Ge(fe.$$.fragment,ve),me=!1},d(ve){ve&&b(e),$t(N),$t(Z),$t(fe),C=!1,Rn(ie)}}}function _c(n,e,t){let r,l,s;Ln(n,hi,S=>t(6,l=S)),Ln(n,Ll,S=>t(11,s=S));let a="My Trip",u=s,f=new Date,h=new Date;async function m(){try{const S=await Zt.trips.add({name:a,defaultCurrency:u,startDate:f,startDateString:f.toDateString(),endDate:h,endDateString:h.toDateString(),notes:""});window.location.href="#/trip/"+S}catch{window.location.href="#/"}}function v(){a=this.value,t(0,a)}function E(S){u=S,t(1,u)}function P(S){f=S,t(2,f)}function D(S){h=S,t(3,h)}return n.$$.update=()=>{n.$$.dirty&64&&t(4,r=Hl(l))},[a,u,f,h,r,m,l,v,E,P,D]}class vc extends An{constructor(e){super(),On(this,e,_c,gc,kn,{})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function ai(n,e,t){const r=document.createElement(e);return n&&(r.className=n),t&&t.appendChild(r),r}function bc(n,e,t){let r=`translate3d(${n}px,0px,0)`;return t!==void 0&&(r+=` scale3d(${t},${t},1)`),r}function Nl(n,e,t){n.style.width=typeof e=="number"?`${e}px`:e,n.style.height=typeof t=="number"?`${t}px`:t}const Yn={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function yc(n){return"button"in n&&n.button===1||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey}function si(n,e,t=document){let r=[];if(n instanceof Element)r=[n];else if(n instanceof NodeList||Array.isArray(n))r=Array.from(n);else{const l=typeof n=="string"?n:e;l&&(r=Array.from(t.querySelectorAll(l)))}return r}function wc(n){return typeof n=="function"&&n.prototype&&n.prototype.goTo}function ms(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class kc{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class Ec{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,r=100){var l,s,a;this._filters[e]||(this._filters[e]=[]),(l=this._filters[e])===null||l===void 0||l.push({fn:t,priority:r}),(s=this._filters[e])===null||s===void 0||s.sort((u,f)=>u.priority-f.priority),(a=this.pswp)===null||a===void 0||a.addFilter(e,t,r)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(l=>{t[0]=l.fn.apply(this,t)}),t[0]}on(e,t){var r,l;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(t),(l=this.pswp)===null||l===void 0||l.on(e,t)}off(e,t){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(l=>t!==l)),(r=this.pswp)===null||r===void 0||r.off(e,t)}dispatch(e,t){var r;if(this.pswp)return this.pswp.dispatch(e,t);const l=new kc(e,t);return(r=this._listeners[e])===null||r===void 0||r.forEach(s=>{s.call(this,l)}),l}}class Sc{constructor(e,t){if(this.element=ai("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(Nl(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=bc(0,0,e/250)):Nl(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class Dc{constructor(e,t,r){this.instance=t,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Yn.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{const r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Sc(r,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=ai("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=ai("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const l=this.element;this.updateSrcsetSizes(),this.data.srcset&&(l.srcset=this.data.srcset),l.src=(t=this.data.src)!==null&&t!==void 0?t:"",l.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=Yn.LOADING,l.complete?this.onLoaded():(l.onload=()=>{this.onLoaded()},l.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Yn.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Yn.LOADED||this.state===Yn.ERROR)&&this.removePlaceholder())}onError(){this.state=Yn.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Yn.LOADING,this)}isError(){return this.state===Yn.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(Nl(this.element,e,t),this.isImageContent()&&!this.isError()))){const r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Yn.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let r=ai("pswp__error-msg","div");r.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=ai("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Yn.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||ms())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!ms()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Yn.LOADED||this.state===Yn.ERROR)&&this.removePlaceholder()))}}function Cc(n,e){if(n.getViewportSizeFn){const t=n.getViewportSizeFn(n,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Fi(n,e,t,r,l){let s=0;if(e.paddingFn)s=e.paddingFn(t,r,l)[n];else if(e.padding)s=e.padding[n];else{const a="padding"+n[0].toUpperCase()+n.slice(1);e[a]&&(s=e[a])}return Number(s)||0}function Tc(n,e,t,r){return{x:e.x-Fi("left",n,e,t,r)-Fi("right",n,e,t,r),y:e.y-Fi("top",n,e,t,r)-Fi("bottom",n,e,t,r)}}const ps=4e3;class Ic{constructor(e,t,r,l){this.pswp=l,this.options=e,this.itemData=t,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,r){const l={x:e,y:t};this.elementSize=l,this.panAreaSize=r;const s=r.x/l.x,a=r.y/l.y;this.fit=Math.min(1,s<a?s:a),this.fill=Math.min(1,s>a?s:a),this.vFill=Math.min(1,a),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",r=this.options[t];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>ps&&(e=ps/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function fo(n,e,t){const r=e.createContentFromData(n,t);let l;const{options:s}=e;if(s){l=new Ic(s,n,-1);let a;e.pswp?a=e.pswp.viewportSize:a=Cc(s,e);const u=Tc(s,a,n,t);l.update(r.width,r.height,u)}return r.lazyLoad(),l&&r.setDisplayedSize(Math.ceil(r.width*l.initial),Math.ceil(r.height*l.initial)),r}function Ac(n,e){const t=e.getItemData(n);if(!e.dispatch("lazyLoadSlide",{index:n,itemData:t}).defaultPrevented)return fo(t,e,n)}class Oc extends Ec{getNumItems(){var e;let t=0;const r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?t=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(t=r.items.length));const l=this.dispatch("numItems",{dataSource:r,numItems:t});return this.applyFilters("numItems",l.numItems,r)}createContentFromData(e,t){return new Dc(e,this,t)}getItemData(e){var t;const r=(t=this.options)===null||t===void 0?void 0:t.dataSource;let l={};Array.isArray(r)?l=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),l=r.items[e]);let s=l;s instanceof Element&&(s=this._domElementToItemData(s));const a=this.dispatch("itemData",{itemData:s||{},index:e});return this.applyFilters("itemData",a.itemData,e)}_getGalleryDOMElements(e){var t,r;return(t=this.options)!==null&&t!==void 0&&t.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?si(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){t.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(t.srcset=r.dataset.pswpSrcset),t.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,t.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,r.dataset.pswpType&&(t.type=r.dataset.pswpType);const s=e.querySelector("img");if(s){var l;t.msrc=s.currentSrc||s.src,t.alt=(l=s.getAttribute("alt"))!==null&&l!==void 0?l:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,r)}lazyLoadData(e,t){return fo(e,this,t)}}class Mc extends Oc{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){si(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(yc(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);const l={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,l,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,l=si(this.options.children,this.options.childSelector,e.currentTarget).findIndex(s=>s===t||s.contains(t));return l!==-1?l:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,r){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const l=si(this.options.gallery);l[0]&&(t={gallery:l[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:r}=this;t&&(r.dataSource=t);const l=[],s=typeof r.pswpModule;if(wc(r.pswpModule))l.push(Promise.resolve(r.pswpModule));else{if(s==="string")throw new Error("pswpModule as string is no longer supported");if(s==="function")l.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&l.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=Ac(e,this));const a=++this._uid;Promise.all(l).then(u=>{if(this.shouldOpen){const f=u[0];this._openPhotoswipe(f,a)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(l=>{var s;(s=this._listeners[l])===null||s===void 0||s.forEach(a=>{r.on(l,a)})}),Object.keys(this._filters).forEach(l=>{var s;(s=this._filters[l])===null||s===void 0||s.forEach(a=>{r.addFilter(l,a.fn,a.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},si(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}function Pc(n){let e,t,r,l,s,a,u,f,h,m,v,E,P="Cancel",D,S;return{c(){e=A("dialog"),t=A("h4"),r=Fe(n[1]),l=ee(),s=A("p"),a=Fe(n[2]),u=ee(),f=A("div"),h=A("button"),m=Fe(n[3]),v=ee(),E=A("button"),E.textContent=P,this.h()},l(N){e=I(N,"DIALOG",{class:!0});var L=B(e);t=I(L,"H4",{});var M=B(t);r=Be(M,n[1]),M.forEach(b),l=$(L),s=I(L,"P",{class:!0});var H=B(s);a=Be(H,n[2]),H.forEach(b),u=$(L),f=I(L,"DIV",{class:!0});var F=B(f);h=I(F,"BUTTON",{class:!0});var z=B(h);m=Be(z,n[3]),z.forEach(b),v=$(F),E=I(F,"BUTTON",{class:!0,"data-svelte-h":!0}),Qe(E)!=="svelte-h8rc8b"&&(E.textContent=P),F.forEach(b),L.forEach(b),this.h()},h(){p(s,"class","mt-3 mb-4"),p(h,"class","btn btn-primary"),p(E,"class","btn btn-outline-primary"),p(f,"class","buttons d-flex justify-content-center gap-2"),p(e,"class","svelte-z50xoi")},m(N,L){ne(N,e,L),_(e,t),_(t,r),_(e,l),_(e,s),_(s,a),_(e,u),_(e,f),_(f,h),_(h,m),_(f,v),_(f,E),n[7](e),D||(S=[Ye(h,"click",n[4]),Ye(E,"click",n[5])],D=!0)},p(N,[L]){L&2&&et(r,N[1]),L&4&&et(a,N[2]),L&8&&et(m,N[3])},i:Dt,o:Dt,d(N){N&&b(e),n[7](null),D=!1,Rn(S)}}}function Lc(n,e,t){let{dialogRef:r}=e,{title:l="Diaglog title"}=e,{body:s="Diaglog body"}=e,{confirmText:a="Confirm"}=e,{confirmCallback:u}=e;function f(){r==null||r.close("confirmed"),u()}function h(){r==null||r.close()}function m(v){Wt[v?"unshift":"push"](()=>{r=v,t(0,r)})}return n.$$set=v=>{"dialogRef"in v&&t(0,r=v.dialogRef),"title"in v&&t(1,l=v.title),"body"in v&&t(2,s=v.body),"confirmText"in v&&t(3,a=v.confirmText),"confirmCallback"in v&&t(6,u=v.confirmCallback)},[r,l,s,a,f,h,u,m]}class Rc extends An{constructor(e){super(),On(this,e,Lc,Pc,kn,{dialogRef:0,title:1,body:2,confirmText:3,confirmCallback:6})}}function gs(n,e,t){const r=n.slice();return r[21]=e[t],r}function _s(n,e,t){const r=n.slice();return r[24]=e[t],r}function Sl(n){const e=n.slice(),t=Array.from(new Set(e[8].map(r=>r.currency)));return e[20]=t,e}function vs(n){let e,t,r=n[3].name+"",l,s,a,u,f,h,m,v,E,P,D='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',S,N,L=n[3].startDate.toDateString()+"",M,H,F=n[3].endDate.toDateString()+"",z,X,Z,De,ae=n[3].defaultCurrency+"",re,ge,ke=hn[n[3].defaultCurrency].symbol+"",ce,fe,we,ye,de,he,O,R,j,se,me,C,ie,Q,_e,Me,Re,Ee,pe="Notes:",ve,Pe,Ve,J,qe="Receipts:",je,be,tt,Et;function Ct(Xe,Ue){return Xe[6]?Nc:Bc}let Ot=Ct(n),ct=Ot(n),nt=n[8]&&bs(Sl(n));return{c(){e=A("h1"),t=A("span"),l=Fe(r),s=ee(),a=A("span"),u=A("a"),f=zt("svg"),h=zt("path"),m=zt("path"),E=ee(),P=A("button"),P.innerHTML=D,S=ee(),N=A("h4"),M=Fe(L),H=Fe(" - "),z=Fe(F),X=ee(),Z=A("p"),De=Fe("Default currency: "),re=Fe(ae),ge=Fe(" ("),ce=Fe(ke),fe=Fe(")"),we=ee(),ye=A("a"),de=Fe("+ Add Receipt"),O=ee(),R=A("button"),ct.c(),j=ee(),se=A("a"),me=zt("svg"),C=zt("path"),ie=zt("path"),Q=Fe(`
        Export/Print`),Me=ee(),Re=A("div"),Ee=A("h5"),Ee.textContent=pe,ve=ee(),Pe=A("textarea"),Ve=ee(),J=A("h5"),J.textContent=qe,je=ee(),nt&&nt.c(),be=St(),this.h()},l(Xe){e=I(Xe,"H1",{class:!0});var Ue=B(e);t=I(Ue,"SPAN",{});var gt=B(t);l=Be(gt,r),gt.forEach(b),s=$(Ue),a=I(Ue,"SPAN",{});var at=B(a);u=I(at,"A",{href:!0,class:!0,title:!0});var Qt=B(u);f=Ft(Qt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Kt=B(f);h=Ft(Kt,"path",{d:!0}),B(h).forEach(b),m=Ft(Kt,"path",{"fill-rule":!0,d:!0}),B(m).forEach(b),Kt.forEach(b),Qt.forEach(b),E=$(at),P=I(at,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Qe(P)!=="svelte-7al2bn"&&(P.innerHTML=D),at.forEach(b),Ue.forEach(b),S=$(Xe),N=I(Xe,"H4",{});var ot=B(N);M=Be(ot,L),H=Be(ot," - "),z=Be(ot,F),ot.forEach(b),X=$(Xe),Z=I(Xe,"P",{});var pt=B(Z);De=Be(pt,"Default currency: "),re=Be(pt,ae),ge=Be(pt," ("),ce=Be(pt,ke),fe=Be(pt,")"),pt.forEach(b),we=$(Xe),ye=I(Xe,"A",{class:!0,href:!0});var rn=B(ye);de=Be(rn,"+ Add Receipt"),rn.forEach(b),O=$(Xe),R=I(Xe,"BUTTON",{class:!0});var an=B(R);ct.l(an),an.forEach(b),j=$(Xe),se=I(Xe,"A",{href:!0,target:!0,class:!0});var Ht=B(se);me=Ft(Ht,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ze=B(me);C=Ft(Ze,"path",{d:!0}),B(C).forEach(b),ie=Ft(Ze,"path",{d:!0}),B(ie).forEach(b),Ze.forEach(b),Q=Be(Ht,`
        Export/Print`),Ht.forEach(b),Me=$(Xe),Re=I(Xe,"DIV",{class:!0});var Jt=B(Re);Ee=I(Jt,"H5",{"data-svelte-h":!0}),Qe(Ee)!=="svelte-srqctx"&&(Ee.textContent=pe),ve=$(Jt),Pe=I(Jt,"TEXTAREA",{style:!0,class:!0,placeholder:!0,id:!0}),B(Pe).forEach(b),Jt.forEach(b),Ve=$(Xe),J=I(Xe,"H5",{class:!0,"data-svelte-h":!0}),Qe(J)!=="svelte-7onek5"&&(J.textContent=qe),je=$(Xe),nt&&nt.l(Xe),be=St(),this.h()},h(){p(h,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(m,"fill-rule","evenodd"),p(m,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(f,"xmlns","http://www.w3.org/2000/svg"),p(f,"width","16"),p(f,"height","16"),p(f,"fill","currentColor"),p(f,"class","bi bi-pencil-square"),p(f,"viewBox","0 0 16 16"),p(u,"href",v="#/update/"+n[3].id),p(u,"class","btn btn-outline-secondary no-outline"),p(u,"title","Update Trip"),p(P,"class","btn btn-outline-secondary no-outline hover-red"),p(P,"title","Delete Trip"),p(e,"class","d-flex justify-content-between"),p(ye,"class","btn btn-primary"),p(ye,"href",he="#/addreceipt/"+n[3].id),p(R,"class","btn"),Ne(R,"btn-outline-primary",!n[6]),Ne(R,"btn-secondary",n[6]),p(C,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(ie,"d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"),p(me,"xmlns","http://www.w3.org/2000/svg"),p(me,"width","16"),p(me,"height","16"),p(me,"fill","currentColor"),p(me,"class","bi bi-download"),p(me,"viewBox","0 0 16 16"),p(se,"href",_e="#/print/"+n[3].id),p(se,"target","_blank"),p(se,"class","btn btn-outline-primary"),Pr(Pe,"height","50vh"),p(Pe,"class","form-control d-block"),p(Pe,"placeholder","A space for notes about your trip"),p(Pe,"id","tripNotes"),p(Re,"class","hide mt-3 flex-column"),Ne(Re,"show",n[6]),p(J,"class","mt-3")},m(Xe,Ue){ne(Xe,e,Ue),_(e,t),_(t,l),_(e,s),_(e,a),_(a,u),_(u,f),_(f,h),_(f,m),_(a,E),_(a,P),ne(Xe,S,Ue),ne(Xe,N,Ue),_(N,M),_(N,H),_(N,z),ne(Xe,X,Ue),ne(Xe,Z,Ue),_(Z,De),_(Z,re),_(Z,ge),_(Z,ce),_(Z,fe),ne(Xe,we,Ue),ne(Xe,ye,Ue),_(ye,de),ne(Xe,O,Ue),ne(Xe,R,Ue),ct.m(R,null),ne(Xe,j,Ue),ne(Xe,se,Ue),_(se,me),_(me,C),_(me,ie),_(se,Q),ne(Xe,Me,Ue),ne(Xe,Re,Ue),_(Re,Ee),_(Re,ve),_(Re,Pe),jt(Pe,n[7]),ne(Xe,Ve,Ue),ne(Xe,J,Ue),ne(Xe,je,Ue),nt&&nt.m(Xe,Ue),ne(Xe,be,Ue),tt||(Et=[Ye(P,"click",function(){Zr(n[9](n[3]))&&n[9](n[3]).apply(this,arguments)}),Ye(R,"click",n[12]),Ye(Pe,"input",n[16]),Ye(Pe,"input",n[11])],tt=!0)},p(Xe,Ue){n=Xe,Ue&8&&r!==(r=n[3].name+"")&&et(l,r),Ue&8&&v!==(v="#/update/"+n[3].id)&&p(u,"href",v),Ue&8&&L!==(L=n[3].startDate.toDateString()+"")&&et(M,L),Ue&8&&F!==(F=n[3].endDate.toDateString()+"")&&et(z,F),Ue&8&&ae!==(ae=n[3].defaultCurrency+"")&&et(re,ae),Ue&8&&ke!==(ke=hn[n[3].defaultCurrency].symbol+"")&&et(ce,ke),Ue&8&&he!==(he="#/addreceipt/"+n[3].id)&&p(ye,"href",he),Ot!==(Ot=Ct(n))&&(ct.d(1),ct=Ot(n),ct&&(ct.c(),ct.m(R,null))),Ue&64&&Ne(R,"btn-outline-primary",!n[6]),Ue&64&&Ne(R,"btn-secondary",n[6]),Ue&8&&_e!==(_e="#/print/"+n[3].id)&&p(se,"href",_e),Ue&128&&jt(Pe,n[7]),Ue&64&&Ne(Re,"show",n[6]),n[8]?nt?nt.p(Sl(n),Ue):(nt=bs(Sl(n)),nt.c(),nt.m(be.parentNode,be)):nt&&(nt.d(1),nt=null)},d(Xe){Xe&&(b(e),b(S),b(N),b(X),b(Z),b(we),b(ye),b(O),b(R),b(j),b(se),b(Me),b(Re),b(Ve),b(J),b(je),b(be)),ct.d(),nt&&nt.d(Xe),tt=!1,Rn(Et)}}}function Nc(n){let e,t,r,l,s;return{c(){e=zt("svg"),t=zt("path"),r=zt("path"),l=zt("path"),s=Fe(`
          Hide`),this.h()},l(a){e=Ft(a,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=B(e);t=Ft(u,"path",{d:!0}),B(t).forEach(b),r=Ft(u,"path",{d:!0}),B(r).forEach(b),l=Ft(u,"path",{d:!0}),B(l).forEach(b),u.forEach(b),s=Be(a,`
          Hide`),this.h()},h(){p(t,"d","M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"),p(r,"d","M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"),p(l,"d","M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-eye-slash"),p(e,"viewBox","0 0 16 16")},m(a,u){ne(a,e,u),_(e,t),_(e,r),_(e,l),ne(a,s,u)},d(a){a&&(b(e),b(s))}}}function Bc(n){let e,t,r,l,s;return{c(){e=zt("svg"),t=zt("path"),r=zt("path"),l=zt("path"),s=Fe(`
          Notes`),this.h()},l(a){e=Ft(a,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=B(e);t=Ft(u,"path",{d:!0}),B(t).forEach(b),r=Ft(u,"path",{d:!0}),B(r).forEach(b),l=Ft(u,"path",{d:!0}),B(l).forEach(b),u.forEach(b),s=Be(a,`
          Notes`),this.h()},h(){p(t,"d","M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"),p(r,"d","M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"),p(l,"d","M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-journal-text"),p(e,"viewBox","0 0 16 16")},m(a,u){ne(a,e,u),_(e,t),_(e,r),_(e,l),ne(a,s,u)},d(a){a&&(b(e),b(s))}}}function bs(n){let e,t,r,l="<tr><th>Description</th> <th>Date</th> <th>Type</th> <th>Total</th> <th></th></tr>",s,a,u=[],f=new Map,h,m,v,E,P,D,S,N,L="<strong>Total</strong>",M,H,F,z,X,Z,De=ht(n[8]);const ae=ke=>ke[24].id;for(let ke=0;ke<De.length;ke+=1){let ce=_s(n,De,ke),fe=ae(ce);f.set(fe,u[ke]=ys(fe,ce))}let re=ht(n[20]),ge=[];for(let ke=0;ke<re.length;ke+=1)ge[ke]=ws(gs(n,re,ke));return{c(){e=A("div"),t=A("table"),r=A("thead"),r.innerHTML=l,s=ee(),a=A("tbody");for(let ke=0;ke<u.length;ke+=1)u[ke].c();h=ee(),m=A("tfoot"),v=A("tr"),E=A("td"),P=ee(),D=A("td"),S=ee(),N=A("td"),N.innerHTML=L,M=ee(),H=A("td");for(let ke=0;ke<ge.length;ke+=1)ge[ke].c();F=ee(),z=A("td"),this.h()},l(ke){e=I(ke,"DIV",{class:!0});var ce=B(e);t=I(ce,"TABLE",{class:!0});var fe=B(t);r=I(fe,"THEAD",{"data-svelte-h":!0}),Qe(r)!=="svelte-1vpbmbw"&&(r.innerHTML=l),s=$(fe),a=I(fe,"TBODY",{});var we=B(a);for(let O=0;O<u.length;O+=1)u[O].l(we);we.forEach(b),h=$(fe),m=I(fe,"TFOOT",{class:!0});var ye=B(m);v=I(ye,"TR",{});var de=B(v);E=I(de,"TD",{}),B(E).forEach(b),P=$(de),D=I(de,"TD",{}),B(D).forEach(b),S=$(de),N=I(de,"TD",{class:!0,"data-svelte-h":!0}),Qe(N)!=="svelte-14afisz"&&(N.innerHTML=L),M=$(de),H=I(de,"TD",{});var he=B(H);for(let O=0;O<ge.length;O+=1)ge[O].l(he);he.forEach(b),F=$(de),z=I(de,"TD",{}),B(z).forEach(b),de.forEach(b),ye.forEach(b),fe.forEach(b),ce.forEach(b),this.h()},h(){p(N,"class","text-end"),p(m,"class","table-group-divider"),p(t,"class","table table-striped table-hover"),p(e,"class","table-responsive")},m(ke,ce){ne(ke,e,ce),_(e,t),_(t,r),_(t,s),_(t,a);for(let fe=0;fe<u.length;fe+=1)u[fe]&&u[fe].m(a,null);_(t,h),_(t,m),_(m,v),_(v,E),_(v,P),_(v,D),_(v,S),_(v,N),_(v,M),_(v,H);for(let fe=0;fe<ge.length;fe+=1)ge[fe]&&ge[fe].m(H,null);_(v,F),_(v,z),X||(Z=ui(n[13].call(null,a)),X=!0)},p(ke,ce){if(ce&1280&&(De=ht(ke[8]),u=Lr(u,ce,ae,1,ke,De,f,a,Yr,ys,null,_s)),ce&256){re=ht(ke[20]);let fe;for(fe=0;fe<re.length;fe+=1){const we=gs(ke,re,fe);ge[fe]?ge[fe].p(we,ce):(ge[fe]=ws(we),ge[fe].c(),ge[fe].m(H,null))}for(;fe<ge.length;fe+=1)ge[fe].d(1);ge.length=re.length}},d(ke){ke&&b(e);for(let ce=0;ce<u.length;ce+=1)u[ce].d();Pn(ge,ke),X=!1,Z()}}}function ys(n,e){let t,r,l,s,a,u,f,h,m,v,E,P,D,S=e[24].description+"",N,L,M,H=e[24].receiptDateString+"",F,z,X,Z,De,ae=Ma[e[24].receiptType]+"",re,ge,ke=e[24].receiptType+"",ce,fe,we,ye=hn[e[24].currency].symbol+"",de,he,O=e[24].total.toFixed(2)+"",R,j,se,me,C,ie,Q,_e,Me,Re,Ee='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',pe,ve,Pe;return{key:n,first:null,c(){t=A("tr"),r=A("td"),l=A("div"),s=A("span"),a=A("a"),u=zt("svg"),f=zt("path"),h=zt("path"),P=ee(),D=A("span"),N=Fe(S),L=ee(),M=A("td"),F=Fe(H),z=ee(),X=A("td"),Z=A("abbr"),De=new Ji(!1),ge=A("span"),ce=Fe(ke),fe=ee(),we=A("td"),de=Fe(ye),he=ee(),R=Fe(O),j=ee(),se=A("td"),me=A("a"),C=zt("svg"),ie=zt("path"),Q=zt("path"),Me=ee(),Re=A("button"),Re.innerHTML=Ee,pe=ee(),this.h()},l(Ve){t=I(Ve,"TR",{});var J=B(t);r=I(J,"TD",{});var qe=B(r);l=I(qe,"DIV",{class:!0});var je=B(l);s=I(je,"SPAN",{});var be=B(s);a=I(be,"A",{class:!0,href:!0,"data-pswp-width":!0,"data-pswp-height":!0,target:!0,rel:!0,title:!0,style:!0});var tt=B(a);u=Ft(tt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Et=B(u);f=Ft(Et,"path",{d:!0}),B(f).forEach(b),h=Ft(Et,"path",{d:!0}),B(h).forEach(b),Et.forEach(b),tt.forEach(b),be.forEach(b),P=$(je),D=I(je,"SPAN",{});var Ct=B(D);N=Be(Ct,S),Ct.forEach(b),je.forEach(b),qe.forEach(b),L=$(J),M=I(J,"TD",{});var Ot=B(M);F=Be(Ot,H),Ot.forEach(b),z=$(J),X=I(J,"TD",{});var ct=B(X);Z=I(ct,"ABBR",{class:!0,title:!0});var nt=B(Z);De=Qi(nt,!1),nt.forEach(b),ge=I(ct,"SPAN",{class:!0});var Xe=B(ge);ce=Be(Xe,ke),Xe.forEach(b),ct.forEach(b),fe=$(J),we=I(J,"TD",{class:!0});var Ue=B(we);de=Be(Ue,ye),he=$(Ue),R=Be(Ue,O),Ue.forEach(b),j=$(J),se=I(J,"TD",{});var gt=B(se);me=I(gt,"A",{class:!0,href:!0,title:!0});var at=B(me);C=Ft(at,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Qt=B(C);ie=Ft(Qt,"path",{d:!0}),B(ie).forEach(b),Q=Ft(Qt,"path",{"fill-rule":!0,d:!0}),B(Q).forEach(b),Qt.forEach(b),at.forEach(b),Me=$(gt),Re=I(gt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Qe(Re)!=="svelte-j31sw3"&&(Re.innerHTML=Ee),gt.forEach(b),pe=$(J),J.forEach(b),this.h()},h(){p(f,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"),p(h,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"),p(u,"xmlns","http://www.w3.org/2000/svg"),p(u,"width","16"),p(u,"height","16"),p(u,"fill","currentColor"),p(u,"class","bi bi-image"),p(u,"viewBox","0 0 16 16"),p(a,"class","btn btn-outline-primary btn-sm rImages"),p(a,"href",m=e[24].imageData),p(a,"data-pswp-width",v=e[24].imageWidth),p(a,"data-pswp-height",E=e[24].imageHeight),p(a,"target","_blank"),p(a,"rel","noreferrer"),p(a,"title","View Image"),Pr(a,"border","none"),p(l,"class","receiptDesc"),De.a=null,p(Z,"class","me-2 typeIcon"),p(Z,"title",re=e[24].receiptType),p(ge,"class","typeText"),p(we,"class","text-nowrap"),p(ie,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(Q,"fill-rule","evenodd"),p(Q,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(C,"xmlns","http://www.w3.org/2000/svg"),p(C,"width","16"),p(C,"height","16"),p(C,"fill","currentColor"),p(C,"class","bi bi-pencil-square"),p(C,"viewBox","0 0 16 16"),p(me,"class","btn btn-outline-secondary no-outline btn-sm"),p(me,"href",_e="#/editreceipt/"+e[24].id),p(me,"title","Edit Receipt"),p(Re,"class","btn btn-outline-secondary no-outline btn-sm hover-red"),p(Re,"title","Delete Receipt"),this.first=t},m(Ve,J){ne(Ve,t,J),_(t,r),_(r,l),_(l,s),_(s,a),_(a,u),_(u,f),_(u,h),_(l,P),_(l,D),_(D,N),_(t,L),_(t,M),_(M,F),_(t,z),_(t,X),_(X,Z),De.m(ae,Z),_(X,ge),_(ge,ce),_(t,fe),_(t,we),_(we,de),_(we,he),_(we,R),_(t,j),_(t,se),_(se,me),_(me,C),_(C,ie),_(C,Q),_(se,Me),_(se,Re),_(t,pe),ve||(Pe=Ye(Re,"click",function(){Zr(e[10](e[24]))&&e[10](e[24]).apply(this,arguments)}),ve=!0)},p(Ve,J){e=Ve,J&256&&m!==(m=e[24].imageData)&&p(a,"href",m),J&256&&v!==(v=e[24].imageWidth)&&p(a,"data-pswp-width",v),J&256&&E!==(E=e[24].imageHeight)&&p(a,"data-pswp-height",E),J&256&&S!==(S=e[24].description+"")&&et(N,S),J&256&&H!==(H=e[24].receiptDateString+"")&&et(F,H),J&256&&ae!==(ae=Ma[e[24].receiptType]+"")&&De.p(ae),J&256&&re!==(re=e[24].receiptType)&&p(Z,"title",re),J&256&&ke!==(ke=e[24].receiptType+"")&&et(ce,ke),J&256&&ye!==(ye=hn[e[24].currency].symbol+"")&&et(de,ye),J&256&&O!==(O=e[24].total.toFixed(2)+"")&&et(R,O),J&256&&_e!==(_e="#/editreceipt/"+e[24].id)&&p(me,"href",_e)},d(Ve){Ve&&b(t),ve=!1,Pe()}}}function ws(n){let e=hn[n[21]].symbol+"",t,r,l=n[8].filter(f).reduce(ks,0).toFixed(2)+"",s,a,u;function f(...h){return n[17](n[21],...h)}return{c(){t=Fe(e),r=ee(),s=Fe(l),a=ee(),u=A("br")},l(h){t=Be(h,e),r=$(h),s=Be(h,l),a=$(h),u=I(h,"BR",{})},m(h,m){ne(h,t,m),ne(h,r,m),ne(h,s,m),ne(h,a,m),ne(h,u,m)},p(h,m){n=h,m&256&&e!==(e=hn[n[21]].symbol+"")&&et(t,e),m&256&&l!==(l=n[8].filter(f).reduce(ks,0).toFixed(2)+"")&&et(s,l)},d(h){h&&(b(t),b(r),b(s),b(a),b(u))}}}function Fc(n){let e,t,r,l,s;function a(h){n[15](h)}let u={title:n[0],body:n[1],confirmText:"Delete",confirmCallback:n[2]};n[4]!==void 0&&(u.dialogRef=n[4]),t=new Rc({props:u}),Wt.push(()=>Hn(t,"dialogRef",a));let f=n[3]&&vs(n);return{c(){e=A("div"),nn(t.$$.fragment),l=ee(),f&&f.c(),this.h()},l(h){e=I(h,"DIV",{class:!0});var m=B(e);tn(t.$$.fragment,m),l=$(m),f&&f.l(m),m.forEach(b),this.h()},h(){p(e,"class","w-100")},m(h,m){ne(h,e,m),en(t,e,null),_(e,l),f&&f.m(e,null),s=!0},p(h,[m]){const v={};m&1&&(v.title=h[0]),m&2&&(v.body=h[1]),m&4&&(v.confirmCallback=h[2]),!r&&m&16&&(r=!0,v.dialogRef=h[4],Kn(()=>r=!1)),t.$set(v),h[3]?f?f.p(h,m):(f=vs(h),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(h){s||(He(t.$$.fragment,h),s=!0)},o(h){Ge(t.$$.fragment,h),s=!1},d(h){h&&b(e),$t(t),f&&f.d()}}}const zc=2e3,ks=(n,e)=>n+e.total;function Kc(n,e,t){let r,l=Dt,s=()=>(l(),l=oi(E,ae=>t(8,r=ae)),E);n.$$.on_destroy.push(()=>l());let a="",u="",f=()=>{},{tripId:h}=e,m,v,E,P=!1,D="",S;h>-1&&Zt.trips.get(h).then(ae=>{t(3,m=ae),t(7,D=m==null?void 0:m.notes),s(t(5,E=di(async()=>await Zt.receipts.where({tripId:h}).reverse().sortBy("receiptDate"))))});async function N(ae){t(0,a="Delete Trip"),t(1,u=`Are you sure you want to delete trip "${ae.name}"? It will also delete all receipts for this trip`),t(2,f=async()=>{let re=await Zt.trips.where("id").equals(ae.id).delete();console.log(`Deleted ${re} trip(s)`),re=await Zt.receipts.where("tripId").equals(ae.id).delete(),console.log(`Deleted ${re} receipts(s)`),window.location.href="#/"}),v==null||v.showModal()}async function L(ae){t(0,a="Delete Receipt"),t(1,u=`Are you sure you want to delete receipt for "${ae.description}"?`),t(2,f=async()=>{await Zt.receipts.where("id").equals(ae.id).delete()}),v==null||v.showModal()}async function M(){S&&clearTimeout(S),S=setTimeout(H,zc)}async function H(){if(m)try{const ae=await Zt.trips.update(m.id,{notes:D})}catch(ae){console.error(ae)}}function F(){t(6,P=!P)}function z(ae){new Mc({gallery:".rImages",pswpModule:()=>io(()=>import("./D2Nf-uDI.js"),[],import.meta.url)}).init()}function X(ae){v=ae,t(4,v)}function Z(){D=this.value,t(7,D)}const De=(ae,re)=>re.currency==ae;return n.$$set=ae=>{"tripId"in ae&&t(14,h=ae.tripId)},[a,u,f,m,v,E,P,D,r,N,L,M,F,z,h,X,Z,De]}class Hc extends An{constructor(e){super(),On(this,e,Kc,Fc,kn,{tripId:14})}}function ho(){let n=document.getElementById("tripToggle");n==null||n.classList.toggle("show")}function Es(n,e,t){const r=n.slice();return r[8]=e[t],r}function Ss(n,e,t){const r=n.slice();return r[12]=e[t],r}function Dl(n){const e=n.slice(),t=Array.from(new Set(e[2].filter(function(...l){return n[5](e[8],...l)}).map(r=>r.currency)));return e[11]=t,e}function jc(n){let e,t="You have no trips";return{c(){e=A("i"),e.textContent=t,this.h()},l(r){e=I(r,"I",{class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-1hu6yjc"&&(e.textContent=t),this.h()},h(){p(e,"class","text-center d-block")},m(r,l){ne(r,e,l)},p:Dt,d(r){r&&b(e)}}}function Vc(n){let e=[],t=new Map,r,l=ht(n[1]);const s=a=>a[8].id;for(let a=0;a<l.length;a+=1){let u=Es(n,l,a),f=s(u);t.set(f,e[a]=Ts(f,u))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=St()},l(a){for(let u=0;u<e.length;u+=1)e[u].l(a);r=St()},m(a,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,u);ne(a,r,u)},p(a,u){u&7&&(l=ht(a[1]),e=Lr(e,u,s,1,a,l,t,r.parentNode,Yr,Ts,r,Es))},d(a){a&&b(r);for(let u=0;u<e.length;u+=1)e[u].d(a)}}}function Ds(n){let e,t=ht(n[11]),r=[];for(let l=0;l<t.length;l+=1)r[l]=Cs(Ss(n,t,l));return{c(){e=A("small");for(let l=0;l<r.length;l+=1)r[l].c()},l(l){e=I(l,"SMALL",{});var s=B(e);for(let a=0;a<r.length;a+=1)r[a].l(s);s.forEach(b)},m(l,s){ne(l,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(l,s){if(s&6){t=ht(l[11]);let a;for(a=0;a<t.length;a+=1){const u=Ss(l,t,a);r[a]?r[a].p(u,s):(r[a]=Cs(u),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(l){l&&b(e),Pn(r,l)}}}function Cs(n){let e=hn[n[12]].symbol+"",t,r,l=n[2].filter(f).filter(h).reduce(Is,0).toFixed(2)+"",s,a,u;function f(...m){return n[6](n[8],...m)}function h(...m){return n[7](n[12],...m)}return{c(){t=Fe(e),r=ee(),s=Fe(l),a=ee(),u=A("br")},l(m){t=Be(m,e),r=$(m),s=Be(m,l),a=$(m),u=I(m,"BR",{})},m(m,v){ne(m,t,v),ne(m,r,v),ne(m,s,v),ne(m,a,v),ne(m,u,v)},p(m,v){n=m,v&6&&e!==(e=hn[n[12]].symbol+"")&&et(t,e),v&6&&l!==(l=n[2].filter(f).filter(h).reduce(Is,0).toFixed(2)+"")&&et(s,l)},d(m){m&&(b(t),b(r),b(s),b(a),b(u))}}}function Ts(n,e){let t,r,l,s=e[8].name+"",a,u,f,h,m=e[8].startDateString+"",v,E,P=e[8].endDateString+"",D,S,N,L,M,H,F=e[2]&&Ds(Dl(e));return{key:n,first:null,c(){t=A("a"),r=A("div"),l=A("strong"),a=Fe(s),u=ee(),F&&F.c(),f=ee(),h=A("div"),v=Fe(m),E=Fe(" - "),D=Fe(P),S=ee(),this.h()},l(z){t=I(z,"A",{href:!0,class:!0,"aria-current":!0,"data-trip-id":!0});var X=B(t);r=I(X,"DIV",{class:!0});var Z=B(r);l=I(Z,"STRONG",{class:!0});var De=B(l);a=Be(De,s),De.forEach(b),u=$(Z),F&&F.l(Z),Z.forEach(b),f=$(X),h=I(X,"DIV",{class:!0});var ae=B(h);v=Be(ae,m),E=Be(ae," - "),D=Be(ae,P),ae.forEach(b),S=$(X),X.forEach(b),this.h()},h(){p(l,"class","mb-1"),p(r,"class","d-flex w-100 align-items-center justify-content-between"),p(h,"class","col-10 mb-1 small"),p(t,"href",N="#/trip/"+e[8].id),p(t,"class","list-group-item list-group-item-action py-3 lh-sm m-2"),p(t,"aria-current","false"),p(t,"data-trip-id",L=e[8].id),Ne(t,"active",e[0]==e[8].id),this.first=t},m(z,X){ne(z,t,X),_(t,r),_(r,l),_(l,a),_(r,u),F&&F.m(r,null),_(t,f),_(t,h),_(h,v),_(h,E),_(h,D),_(t,S),M||(H=Ye(t,"click",ho),M=!0)},p(z,X){e=z,X&2&&s!==(s=e[8].name+"")&&et(a,s),e[2]?F?F.p(Dl(e),X):(F=Ds(Dl(e)),F.c(),F.m(r,null)):F&&(F.d(1),F=null),X&2&&m!==(m=e[8].startDateString+"")&&et(v,m),X&2&&P!==(P=e[8].endDateString+"")&&et(D,P),X&2&&N!==(N="#/trip/"+e[8].id)&&p(t,"href",N),X&2&&L!==(L=e[8].id)&&p(t,"data-trip-id",L),X&3&&Ne(t,"active",e[0]==e[8].id)},d(z){z&&b(t),F&&F.d(),M=!1,H()}}}function qc(n){let e;function t(s,a){return s[1]&&s[1].length>0?Vc:jc}let r=t(n),l=r(n);return{c(){l.c(),e=St()},l(s){l.l(s),e=St()},m(s,a){l.m(s,a),ne(s,e,a)},p(s,[a]){r===(r=t(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(e.parentNode,e)))},i:Dt,o:Dt,d(s){s&&b(e),l.d(s)}}}const Is=(n,e)=>n+e.total;function Uc(n,e,t){let r,l,{tripId:s}=e,a=di(()=>Zt.trips.toCollection().reverse().sortBy("endDate"));Ln(n,a,v=>t(1,r=v));let u=di(()=>Zt.receipts.toArray());Ln(n,u,v=>t(2,l=v));const f=(v,E)=>E.tripId==v.id,h=(v,E)=>E.tripId==v.id,m=(v,E)=>E.currency==v;return n.$$set=v=>{"tripId"in v&&t(0,s=v.tripId)},[s,r,l,a,u,f,h,m]}class Gc extends An{constructor(e){super(),On(this,e,Uc,qc,kn,{tripId:0})}}function As(n){let e,t,r="Update Trip",l,s,a,u="Trip Name",f,h,m,v,E,P="Trip Currency",D,S,N,L,M,H,F="Trip Start",z,X,Z,De,ae,re,ge="Trip End",ke,ce,fe,we,ye,de,he="Update Trip",O,R,j,se,me,C,ie;function Q(ve){n[8](ve)}let _e={options:n[3],name:void 0,inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[0].defaultCurrency!==void 0&&(_e.value=n[0].defaultCurrency),S=new mi({props:_e}),Wt.push(()=>Hn(S,"value",Q));function Me(ve){n[9](ve)}let Re={format:"yyyy-MM-dd",closeOnSelection:!0,id:"tripStart"};n[1]!==void 0&&(Re.value=n[1]),X=new fi({props:Re}),Wt.push(()=>Hn(X,"value",Me));function Ee(ve){n[10](ve)}let pe={format:"yyyy-MM-dd",closeOnSelection:!0,min:n[1],id:"tripEnd"};return n[2]!==void 0&&(pe.value=n[2]),ce=new fi({props:pe}),Wt.push(()=>Hn(ce,"value",Ee)),{c(){e=A("form"),t=A("h1"),t.textContent=r,l=ee(),s=A("div"),a=A("label"),a.textContent=u,f=ee(),h=A("input"),m=ee(),v=A("div"),E=A("label"),E.textContent=P,D=ee(),nn(S.$$.fragment),L=ee(),M=A("div"),H=A("label"),H.textContent=F,z=ee(),nn(X.$$.fragment),De=ee(),ae=A("div"),re=A("label"),re.textContent=ge,ke=ee(),nn(ce.$$.fragment),we=ee(),ye=A("div"),de=A("button"),de.textContent=he,O=ee(),R=A("a"),j=Fe("Cancel"),this.h()},l(ve){e=I(ve,"FORM",{});var Pe=B(e);t=I(Pe,"H1",{"data-svelte-h":!0}),Qe(t)!=="svelte-9352dq"&&(t.textContent=r),l=$(Pe),s=I(Pe,"DIV",{class:!0});var Ve=B(s);a=I(Ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(a)!=="svelte-1y8z10u"&&(a.textContent=u),f=$(Ve),h=I(Ve,"INPUT",{id:!0,class:!0,type:!0}),Ve.forEach(b),m=$(Pe),v=I(Pe,"DIV",{class:!0});var J=B(v);E=I(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(E)!=="svelte-1fzihue"&&(E.textContent=P),D=$(J),tn(S.$$.fragment,J),J.forEach(b),L=$(Pe),M=I(Pe,"DIV",{class:!0});var qe=B(M);H=I(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(H)!=="svelte-4n7gli"&&(H.textContent=F),z=$(qe),tn(X.$$.fragment,qe),qe.forEach(b),De=$(Pe),ae=I(Pe,"DIV",{class:!0});var je=B(ae);re=I(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(re)!=="svelte-1dn7717"&&(re.textContent=ge),ke=$(je),tn(ce.$$.fragment,je),je.forEach(b),we=$(Pe),ye=I(Pe,"DIV",{class:!0});var be=B(ye);de=I(be,"BUTTON",{class:!0,"data-svelte-h":!0}),Qe(de)!=="svelte-tvzxmt"&&(de.textContent=he),O=$(be),R=I(be,"A",{href:!0,class:!0});var tt=B(R);j=Be(tt,"Cancel"),tt.forEach(b),be.forEach(b),Pe.forEach(b),this.h()},h(){p(a,"for","tripName"),p(a,"class","form-label"),p(h,"id","tripName"),p(h,"class","form-control"),p(h,"type","text"),p(s,"class","mb-3"),p(E,"for","tripCurrency"),p(E,"class","form-label"),p(v,"class","mb-3"),p(H,"for","tripStart"),p(H,"class","form-label"),p(M,"class","mb-3"),p(re,"for","tripStart"),p(re,"class","form-label"),p(ae,"class","mb-3"),p(de,"class","btn btn-primary col-md-2"),p(R,"href",se="#/trip/"+n[0].id),p(R,"class","btn btn-outline-primary col-md-2"),p(ye,"class","mt-4 gap-3 d-grid d-md-flex justify-content-md-center")},m(ve,Pe){ne(ve,e,Pe),_(e,t),_(e,l),_(e,s),_(s,a),_(s,f),_(s,h),jt(h,n[0].name),_(e,m),_(e,v),_(v,E),_(v,D),en(S,v,null),_(e,L),_(e,M),_(M,H),_(M,z),en(X,M,null),_(e,De),_(e,ae),_(ae,re),_(ae,ke),en(ce,ae,null),_(e,we),_(e,ye),_(ye,de),_(ye,O),_(ye,R),_(R,j),me=!0,C||(ie=[Ye(h,"input",n[7]),Ye(de,"click",n[4])],C=!0)},p(ve,Pe){Pe&1&&h.value!==ve[0].name&&jt(h,ve[0].name);const Ve={};Pe&8&&(Ve.options=ve[3]),!N&&Pe&1&&(N=!0,Ve.value=ve[0].defaultCurrency,Kn(()=>N=!1)),S.$set(Ve);const J={};!Z&&Pe&2&&(Z=!0,J.value=ve[1],Kn(()=>Z=!1)),X.$set(J);const qe={};Pe&2&&(qe.min=ve[1]),!fe&&Pe&4&&(fe=!0,qe.value=ve[2],Kn(()=>fe=!1)),ce.$set(qe),(!me||Pe&1&&se!==(se="#/trip/"+ve[0].id))&&p(R,"href",se)},i(ve){me||(He(S.$$.fragment,ve),He(X.$$.fragment,ve),He(ce.$$.fragment,ve),me=!0)},o(ve){Ge(S.$$.fragment,ve),Ge(X.$$.fragment,ve),Ge(ce.$$.fragment,ve),me=!1},d(ve){ve&&b(e),$t(S),$t(X),$t(ce),C=!1,Rn(ie)}}}function Wc(n){let e,t,r=n[0]&&As(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(l){e=I(l,"DIV",{class:!0});var s=B(e);r&&r.l(s),s.forEach(b),this.h()},h(){p(e,"class","w-100")},m(l,s){ne(l,e,s),r&&r.m(e,null),t=!0},p(l,[s]){l[0]?r?(r.p(l,s),s&1&&He(r,1)):(r=As(l),r.c(),He(r,1),r.m(e,null)):r&&(pn(),Ge(r,1,1,()=>{r=null}),gn())},i(l){t||(He(r),t=!0)},o(l){Ge(r),t=!1},d(l){l&&b(e),r&&r.d()}}}function Yc(n,e,t){let r,l;Ln(n,hi,D=>t(6,l=D));let{tripId:s}=e,a,u,f;s>-1&&Zt.trips.get(s).then(D=>{t(0,a=D),t(1,u=new Date(a.startDateString)),t(2,f=new Date(a.endDateString))});async function h(){try{const D=await Zt.trips.update(a.id,{name:a.name,defaultCurrency:a.defaultCurrency,startDate:u,endDate:f,startDateString:u.toDateString(),endDateString:f.toDateString()});window.location.href="#/trip/"+a.id}catch{window.location.href="#/"}}function m(){a.name=this.value,t(0,a)}function v(D){n.$$.not_equal(a.defaultCurrency,D)&&(a.defaultCurrency=D,t(0,a))}function E(D){u=D,t(1,u)}function P(D){f=D,t(2,f)}return n.$$set=D=>{"tripId"in D&&t(5,s=D.tripId)},n.$$.update=()=>{n.$$.dirty&64&&t(3,r=Hl(l))},[a,u,f,r,h,s,l,m,v,E,P]}class Zc extends An{constructor(e){super(),On(this,e,Yc,Wc,kn,{tripId:5})}}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var Qc={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:$c,fromCents:!1},mo=function(e){return Math.round(e)},jl=function(e){return Math.pow(10,e)},Jc=function(e,t){return mo(e/t)*t},Xc=/(\d)(?=(\d{3})+\b)/g,xc=/(\d)(?=(\d\d)+\d\b)/g;function rr(n,e){var t=this;if(!(t instanceof rr))return new rr(n,e);var r=Object.assign({},Qc,e),l=jl(r.precision),s=Hi(n,r);t.intValue=s,t.value=s/l,r.increment=r.increment||1/l,r.useVedic?r.groups=xc:r.groups=Xc,this.s=r,this.p=l}function Hi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,l=e.decimal,s=e.errorOnInvalid,a=e.precision,u=e.fromCents,f=jl(a),h=typeof n=="number",m=n instanceof rr;if(m&&u)return n.intValue;if(h||m)r=m?n.value:n;else if(typeof n=="string"){var v=new RegExp("[^-\\d"+l+"]","g"),E=new RegExp("\\"+l,"g");r=n.replace(/\((.*)\)/,"-$1").replace(v,"").replace(E,"."),r=r||0}else{if(s)throw Error("Invalid Input");r=0}return u||(r*=f,r=r.toFixed(4)),t?mo(r):r}function $c(n,e){var t=e.pattern,r=e.negativePattern,l=e.symbol,s=e.separator,a=e.decimal,u=e.groups,f=(""+n).replace(/^-/,"").split("."),h=f[0],m=f[1];return(n.value>=0?t:r).replace("!",l).replace("#",h.replace(u,"$1"+s)+(m?a+m:""))}rr.prototype={add:function(e){var t=this.intValue,r=this.s,l=this.p;return rr((t+=Hi(e,r))/(r.fromCents?1:l),r)},subtract:function(e){var t=this.intValue,r=this.s,l=this.p;return rr((t-=Hi(e,r))/(r.fromCents?1:l),r)},multiply:function(e){var t=this.intValue,r=this.s;return rr((t*=e)/(r.fromCents?1:jl(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return rr(t/=Hi(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,l=this.s,s=[],a=Math[t>=0?"floor":"ceil"](t/e),u=Math.abs(t-a*e),f=l.fromCents?1:r;e!==0;e--){var h=rr(a/f,l);u-- >0&&(h=h[t>=0?"add":"subtract"](1/f)),s.push(h)}return s},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return Jc(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var ef={exports:{}};(function(n){var e=function(t){var r=Object.prototype,l=r.hasOwnProperty,s=Object.defineProperty||function(O,R,j){O[R]=j.value},a,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",m=u.toStringTag||"@@toStringTag";function v(O,R,j){return Object.defineProperty(O,R,{value:j,enumerable:!0,configurable:!0,writable:!0}),O[R]}try{v({},"")}catch{v=function(R,j,se){return R[j]=se}}function E(O,R,j,se){var me=R&&R.prototype instanceof H?R:H,C=Object.create(me.prototype),ie=new ye(se||[]);return s(C,"_invoke",{value:ke(O,j,ie)}),C}t.wrap=E;function P(O,R,j){try{return{type:"normal",arg:O.call(R,j)}}catch(se){return{type:"throw",arg:se}}}var D="suspendedStart",S="suspendedYield",N="executing",L="completed",M={};function H(){}function F(){}function z(){}var X={};v(X,f,function(){return this});var Z=Object.getPrototypeOf,De=Z&&Z(Z(de([])));De&&De!==r&&l.call(De,f)&&(X=De);var ae=z.prototype=H.prototype=Object.create(X);F.prototype=z,s(ae,"constructor",{value:z,configurable:!0}),s(z,"constructor",{value:F,configurable:!0}),F.displayName=v(z,m,"GeneratorFunction");function re(O){["next","throw","return"].forEach(function(R){v(O,R,function(j){return this._invoke(R,j)})})}t.isGeneratorFunction=function(O){var R=typeof O=="function"&&O.constructor;return R?R===F||(R.displayName||R.name)==="GeneratorFunction":!1},t.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,z):(O.__proto__=z,v(O,m,"GeneratorFunction")),O.prototype=Object.create(ae),O},t.awrap=function(O){return{__await:O}};function ge(O,R){function j(C,ie,Q,_e){var Me=P(O[C],O,ie);if(Me.type==="throw")_e(Me.arg);else{var Re=Me.arg,Ee=Re.value;return Ee&&typeof Ee=="object"&&l.call(Ee,"__await")?R.resolve(Ee.__await).then(function(pe){j("next",pe,Q,_e)},function(pe){j("throw",pe,Q,_e)}):R.resolve(Ee).then(function(pe){Re.value=pe,Q(Re)},function(pe){return j("throw",pe,Q,_e)})}}var se;function me(C,ie){function Q(){return new R(function(_e,Me){j(C,ie,_e,Me)})}return se=se?se.then(Q,Q):Q()}s(this,"_invoke",{value:me})}re(ge.prototype),v(ge.prototype,h,function(){return this}),t.AsyncIterator=ge,t.async=function(O,R,j,se,me){me===void 0&&(me=Promise);var C=new ge(E(O,R,j,se),me);return t.isGeneratorFunction(R)?C:C.next().then(function(ie){return ie.done?ie.value:C.next()})};function ke(O,R,j){var se=D;return function(C,ie){if(se===N)throw new Error("Generator is already running");if(se===L){if(C==="throw")throw ie;return he()}for(j.method=C,j.arg=ie;;){var Q=j.delegate;if(Q){var _e=ce(Q,j);if(_e){if(_e===M)continue;return _e}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(se===D)throw se=L,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);se=N;var Me=P(O,R,j);if(Me.type==="normal"){if(se=j.done?L:S,Me.arg===M)continue;return{value:Me.arg,done:j.done}}else Me.type==="throw"&&(se=L,j.method="throw",j.arg=Me.arg)}}}function ce(O,R){var j=R.method,se=O.iterator[j];if(se===a)return R.delegate=null,j==="throw"&&O.iterator.return&&(R.method="return",R.arg=a,ce(O,R),R.method==="throw")||j!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+j+"' method")),M;var me=P(se,O.iterator,R.arg);if(me.type==="throw")return R.method="throw",R.arg=me.arg,R.delegate=null,M;var C=me.arg;if(!C)return R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,M;if(C.done)R[O.resultName]=C.value,R.next=O.nextLoc,R.method!=="return"&&(R.method="next",R.arg=a);else return C;return R.delegate=null,M}re(ae),v(ae,m,"Generator"),v(ae,f,function(){return this}),v(ae,"toString",function(){return"[object Generator]"});function fe(O){var R={tryLoc:O[0]};1 in O&&(R.catchLoc=O[1]),2 in O&&(R.finallyLoc=O[2],R.afterLoc=O[3]),this.tryEntries.push(R)}function we(O){var R=O.completion||{};R.type="normal",delete R.arg,O.completion=R}function ye(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(fe,this),this.reset(!0)}t.keys=function(O){var R=Object(O),j=[];for(var se in R)j.push(se);return j.reverse(),function me(){for(;j.length;){var C=j.pop();if(C in R)return me.value=C,me.done=!1,me}return me.done=!0,me}};function de(O){if(O){var R=O[f];if(R)return R.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var j=-1,se=function me(){for(;++j<O.length;)if(l.call(O,j))return me.value=O[j],me.done=!1,me;return me.value=a,me.done=!0,me};return se.next=se}}return{next:he}}t.values=de;function he(){return{value:a,done:!0}}return ye.prototype={constructor:ye,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(we),!O)for(var R in this)R.charAt(0)==="t"&&l.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=a)},stop:function(){this.done=!0;var O=this.tryEntries[0],R=O.completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var R=this;function j(_e,Me){return C.type="throw",C.arg=O,R.next=_e,Me&&(R.method="next",R.arg=a),!!Me}for(var se=this.tryEntries.length-1;se>=0;--se){var me=this.tryEntries[se],C=me.completion;if(me.tryLoc==="root")return j("end");if(me.tryLoc<=this.prev){var ie=l.call(me,"catchLoc"),Q=l.call(me,"finallyLoc");if(ie&&Q){if(this.prev<me.catchLoc)return j(me.catchLoc,!0);if(this.prev<me.finallyLoc)return j(me.finallyLoc)}else if(ie){if(this.prev<me.catchLoc)return j(me.catchLoc,!0)}else if(Q){if(this.prev<me.finallyLoc)return j(me.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(O,R){for(var j=this.tryEntries.length-1;j>=0;--j){var se=this.tryEntries[j];if(se.tryLoc<=this.prev&&l.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var me=se;break}}me&&(O==="break"||O==="continue")&&me.tryLoc<=R&&R<=me.finallyLoc&&(me=null);var C=me?me.completion:{};return C.type=O,C.arg=R,me?(this.method="next",this.next=me.finallyLoc,M):this.complete(C)},complete:function(O,R){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&R&&(this.next=R),M},finish:function(O){for(var R=this.tryEntries.length-1;R>=0;--R){var j=this.tryEntries[R];if(j.finallyLoc===O)return this.complete(j.completion,j.afterLoc),we(j),M}},catch:function(O){for(var R=this.tryEntries.length-1;R>=0;--R){var j=this.tryEntries[R];if(j.tryLoc===O){var se=j.completion;if(se.type==="throw"){var me=se.arg;we(j)}return me}}throw new Error("illegal catch attempt")},delegateYield:function(O,R,j){return this.delegate={iterator:de(O),resultName:R,nextLoc:j},this.method==="next"&&(this.arg=a),M}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(ef);var Vl=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`;const tf=Vl;let Os=0;var po=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=tf("Job",Os),Os+=1),{id:r,action:e,payload:t}},Qr={};let ql=!1;Qr.logging=ql;Qr.setLogging=n=>{ql=n};Qr.log=(...n)=>ql?console.log.apply(void 0,n):null;const nf=po,{log:zi}=Qr,rf=Vl;let Ms=0;var lf=()=>{const n=rf("Scheduler",Ms),e={},t={};let r=[];Ms+=1;const l=()=>r.length,s=()=>Object.keys(e).length,a=()=>{if(r.length!==0){const v=Object.keys(e);for(let E=0;E<v.length;E+=1)if(typeof t[v[E]]>"u"){r[0](e[v[E]]);break}}},u=(v,E)=>new Promise((P,D)=>{const S=nf({action:v,payload:E});r.push(async N=>{r.shift(),t[N.id]=S;try{P(await N[v].apply(void 0,[...E,S.id]))}catch(L){D(L)}finally{delete t[N.id],a()}}),zi(`[${n}]: Add ${S.id} to JobQueue`),zi(`[${n}]: JobQueue length=${r.length}`),a()});return{addWorker:v=>(e[v.id]=v,zi(`[${n}]: Add ${v.id}`),zi(`[${n}]: Number of workers=${s()}`),a(),v.id),addJob:async(v,...E)=>{if(s()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return u(v,E)},terminate:async()=>{Object.keys(e).forEach(async v=>{await e[v].terminate()}),r=[]},getQueueLen:l,getNumWorkers:s}};function af(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sf=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof af=="function"&&(e.type="node"),typeof n>"u"?e:e[n]};const of=sf("type")==="browser",uf=of?n=>new URL(n,window.location.href).href:n=>n;var cf=n=>{const e={...n};return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=uf(e[t]))}),e},go={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ff="7.0.0",df={version:ff};var hf={workerBlobURL:!0,logger:()=>{}};const mf=df.version,pf=hf;var gf={...pf,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${mf}/dist/worker.min.js`},_f=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t},vf=n=>{n.terminate()},bf=(n,e)=>{n.onmessage=({data:t})=>{e(t)}},yf=async(n,e)=>{n.postMessage(e)};const Cl=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:l}}})=>{t(Error(`File could not be read! Code=${l}`))},r.readAsArrayBuffer(n)}),Bl=async n=>{let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=await Bl(n.src)),n.tagName==="VIDEO"&&(e=await Bl(n.poster)),n.tagName==="CANVAS"&&await new Promise(t=>{n.toBlob(async r=>{e=await Cl(r),t()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const t=await n.convertToBlob();e=await Cl(t)}else(n instanceof File||n instanceof Blob)&&(e=await Cl(n));return new Uint8Array(e)};var wf=Bl;const kf=gf,Ef=_f,Sf=vf,Df=bf,Cf=yf,Tf=wf;var If={defaultOptions:kf,spawnWorker:Ef,terminateWorker:Sf,onMessage:Df,send:Cf,loadImage:Tf};const Af=cf,nr=po,{log:Ps}=Qr,Of=Vl,Or=go,{defaultOptions:Mf,spawnWorker:Pf,terminateWorker:Lf,onMessage:Rf,loadImage:Ls,send:Nf}=If;let Rs=0;var _o=async(n="eng",e=Or.LSTM_ONLY,t={},r={})=>{const l=Of("Worker",Rs),{logger:s,errorHandler:a,...u}=Af({...Mf,...t}),f={},h=typeof n=="string"?n.split("+"):n;let m=e,v=r;const E=[Or.DEFAULT,Or.LSTM_ONLY].includes(e)&&!u.legacyCore;let P,D;const S=new Promise((de,he)=>{D=de,P=he}),N=de=>{P(de.message)};let L=Pf(u);L.onerror=N,Rs+=1;const M=({id:de,action:he,payload:O})=>new Promise((R,j)=>{Ps(`[${l}]: Start ${de}, action=${he}`);const se=`${he}-${de}`;f[se]={resolve:R,reject:j},Nf(L,{workerId:l,jobId:de,action:he,payload:O})}),H=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),F=de=>M(nr({id:de,action:"load",payload:{options:{lstmOnly:E,corePath:u.corePath,logging:u.logging}}})),z=(de,he,O)=>M(nr({id:O,action:"FS",payload:{method:"writeFile",args:[de,he]}})),X=(de,he)=>M(nr({id:he,action:"FS",payload:{method:"readFile",args:[de,{encoding:"utf8"}]}})),Z=(de,he)=>M(nr({id:he,action:"FS",payload:{method:"unlink",args:[de]}})),De=(de,he,O)=>M(nr({id:O,action:"FS",payload:{method:de,args:he}})),ae=(de,he)=>M(nr({id:he,action:"loadLanguage",payload:{langs:de,options:{langPath:u.langPath,dataPath:u.dataPath,cachePath:u.cachePath,cacheMethod:u.cacheMethod,gzip:u.gzip,lstmOnly:[Or.DEFAULT,Or.LSTM_ONLY].includes(m)&&!u.legacyLang}}})),re=(de,he,O,R)=>M(nr({id:R,action:"initialize",payload:{langs:de,oem:he,config:O}})),ge=(de="eng",he,O,R)=>{if(E&&[Or.TESSERACT_ONLY,Or.TESSERACT_LSTM_COMBINED].includes(he))throw Error("Legacy model requested but code missing.");const j=he||m;m=j;const se=O||v;v=se;const C=(typeof de=="string"?de.split("+"):de).filter(ie=>!h.includes(ie));return h.push(...C),C.length>0?ae(C,R).then(()=>re(de,j,se,R)):re(de,j,se,R)},ke=(de={},he)=>M(nr({id:he,action:"setParameters",payload:{params:de}})),ce=async(de,he={},O={text:!0},R)=>M(nr({id:R,action:"recognize",payload:{image:await Ls(de),options:he,output:O}})),fe=async(de,he)=>{if(E)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return M(nr({id:he,action:"detect",payload:{image:await Ls(de)}}))},we=async()=>(L!==null&&(Lf(L),L=null),Promise.resolve());Rf(L,({workerId:de,jobId:he,status:O,action:R,data:j})=>{const se=`${R}-${he}`;if(O==="resolve")Ps(`[${de}]: Complete ${he}`),f[se].resolve({jobId:he,data:j}),delete f[se];else if(O==="reject")if(f[se].reject(j),delete f[se],R==="load"&&P(j),a)a(j);else throw Error(j);else O==="progress"&&s({...j,userJobId:he})});const ye={id:l,worker:L,load:H,writeText:z,readText:X,removeFile:Z,FS:De,reinitialize:ge,setParameters:ke,recognize:ce,detect:fe,terminate:we};return F().then(()=>ae(n)).then(()=>re(n,e,r)).then(()=>D(ye)).catch(()=>{}),S};const vo=_o,Bf=async(n,e,t)=>{const r=await vo(e,1,t);return r.recognize(n).finally(async()=>{await r.terminate()})},Ff=async(n,e)=>{const t=await vo("osd",0,e);return t.detect(n).finally(async()=>{await t.terminate()})};var zf={recognize:Bf,detect:Ff},Kf={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Hf={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const jf=lf,Vf=_o,qf=zf,Uf=Kf,Gf=go,Wf=Hf,{setLogging:Yf}=Qr;var Zf={languages:Uf,OEM:Gf,PSM:Wf,createScheduler:jf,createWorker:Vf,setLogging:Yf,...qf};const Ns=so(Zf);function Bs(n,e,t){const r=n.slice();return r[32]=e[t],r}function Fs(n,e,t){const r=n.slice();return r[35]=e[t],r}function zs(n,e,t){const r=n.slice();return r[38]=e[t],r}function Ks(n){let e,t,r,l,s,a,u,f,h,m,v,E="Receipt description",P,D,S,N,L,M,H,F="Receipt Date",z,X,Z,De,ae,re,ge="Receipt value:",ke,ce,fe,we,ye,de,he,O="Receipt Type",R,j,se,me="--Please choose type--",C,ie,Q,_e="Receipt Currency",Me,Re,Ee,pe,ve,Pe,Ve,J="Scanning image...",qe,je,be,tt,Et,Ct="Stop scan and enter manually",Ot,ct,nt,Xe,Ue,gt,at,Qt;function Kt(ue,Ce){return ue[1]?Jf:Qf}let ot=Kt(n),pt=ot(n);function rn(ue,Ce){return ue[9]?xf:Xf}let an=rn(n),Ht=an(n);function Ze(ue,Ce){return ue[1]?ed:$f}let Jt=Ze(n),Bt=Jt(n),Ut=ht(n[2]),Te=[];for(let ue=0;ue<Ut.length;ue+=1)Te[ue]=Hs(zs(n,Ut,ue));function mn(ue){n[21](ue)}let sn={format:"yyyy-MM-dd",closeOnSelection:!0,id:"rDate"};n[4]!==void 0&&(sn.value=n[4]),X=new fi({props:sn}),Wt.push(()=>Hn(X,"value",mn));let Mt=ht(n[3]),Gt=[];for(let ue=0;ue<Mt.length;ue+=1)Gt[ue]=js(Fs(n,Mt,ue));let mt=ht(Object.values(Pl)),wt=[];for(let ue=0;ue<mt.length;ue+=1)wt[ue]=Vs(Bs(n,mt,ue));function _t(ue){n[24](ue)}let rt={options:n[12],name:void 0,inputId:"rCurrency",groupLabelField:"groupHeader",groupItemsField:"items"};n[5]!==void 0&&(rt.value=n[5]),Re=new mi({props:rt}),Wt.push(()=>Hn(Re,"value",_t));function ut(ue,Ce){return ue[1]?nd:td}let Yt=ut(n),Pt=Yt(n);return{c(){pt.c(),e=ee(),Ht.c(),t=ee(),r=A("div"),l=A("input"),s=ee(),a=A("div"),u=A("div"),Bt.c(),f=ee(),h=A("div"),m=A("div"),v=A("label"),v.textContent=E,P=ee(),D=A("input"),S=ee(),N=A("datalist");for(let ue=0;ue<Te.length;ue+=1)Te[ue].c();L=ee(),M=A("div"),H=A("label"),H.textContent=F,z=ee(),nn(X.$$.fragment),De=ee(),ae=A("div"),re=A("label"),re.textContent=ge,ke=ee(),ce=A("input"),fe=ee(),we=A("datalist");for(let ue=0;ue<Gt.length;ue+=1)Gt[ue].c();ye=ee(),de=A("div"),he=A("label"),he.textContent=O,R=ee(),j=A("select"),se=A("option"),se.textContent=me;for(let ue=0;ue<wt.length;ue+=1)wt[ue].c();C=ee(),ie=A("div"),Q=A("label"),Q.textContent=_e,Me=ee(),nn(Re.$$.fragment),pe=ee(),Pt.c(),ve=ee(),Pe=A("div"),Ve=A("h4"),Ve.textContent=J,qe=ee(),je=A("div"),be=A("div"),tt=ee(),Et=A("button"),Et.textContent=Ct,Ot=ee(),ct=A("div"),nt=A("a"),Xe=Fe("Cancel"),this.h()},l(ue){pt.l(ue),e=$(ue),Ht.l(ue),t=$(ue),r=I(ue,"DIV",{class:!0});var Ce=B(r);l=I(Ce,"INPUT",{id:!0,type:!0,accept:!0}),Ce.forEach(b),s=$(ue),a=I(ue,"DIV",{id:!0});var Lt=B(a);u=I(Lt,"DIV",{class:!0});var yt=B(u);Bt.l(yt),yt.forEach(b),f=$(Lt),h=I(Lt,"DIV",{class:!0});var xe=B(h);m=I(xe,"DIV",{class:!0});var Vt=B(m);v=I(Vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(v)!=="svelte-1glg0dd"&&(v.textContent=E),P=$(Vt),D=I(Vt,"INPUT",{class:!0,list:!0,id:!0,name:!0,placeholder:!0}),S=$(Vt),N=I(Vt,"DATALIST",{id:!0});var br=B(N);for(let dt=0;dt<Te.length;dt+=1)Te[dt].l(br);br.forEach(b),Vt.forEach(b),L=$(xe),M=I(xe,"DIV",{class:!0});var _n=B(M);H=I(_n,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(H)!=="svelte-cn0bms"&&(H.textContent=F),z=$(_n),tn(X.$$.fragment,_n),_n.forEach(b),De=$(xe),ae=I(xe,"DIV",{class:!0});var fn=B(ae);re=I(fn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(re)!=="svelte-1y6fy9c"&&(re.textContent=ge),ke=$(fn),ce=I(fn,"INPUT",{class:!0,list:!0,id:!0,name:!0,type:!0,step:!0,placeholder:!0}),fe=$(fn),we=I(fn,"DATALIST",{id:!0});var Mn=B(we);for(let dt=0;dt<Gt.length;dt+=1)Gt[dt].l(Mn);Mn.forEach(b),fn.forEach(b),ye=$(xe),de=I(xe,"DIV",{class:!0});var ft=B(de);he=I(ft,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(he)!=="svelte-1vxf1l8"&&(he.textContent=O),R=$(ft),j=I(ft,"SELECT",{id:!0,class:!0});var ir=B(j);se=I(ir,"OPTION",{"data-svelte-h":!0}),Qe(se)!=="svelte-ua8958"&&(se.textContent=me);for(let dt=0;dt<wt.length;dt+=1)wt[dt].l(ir);ir.forEach(b),ft.forEach(b),C=$(xe),ie=I(xe,"DIV",{class:!0});var vt=B(ie);Q=I(vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(Q)!=="svelte-15s44q2"&&(Q.textContent=_e),Me=$(vt),tn(Re.$$.fragment,vt),vt.forEach(b),pe=$(xe),Pt.l(xe),xe.forEach(b),Lt.forEach(b),ve=$(ue),Pe=I(ue,"DIV",{class:!0});var on=B(Pe);Ve=I(on,"H4",{"data-svelte-h":!0}),Qe(Ve)!=="svelte-7jxjwi"&&(Ve.textContent=J),qe=$(on),je=I(on,"DIV",{class:!0});var bn=B(je);be=I(bn,"DIV",{class:!0,style:!0,role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),B(be).forEach(b),bn.forEach(b),tt=$(on),Et=I(on,"BUTTON",{class:!0,"data-svelte-h":!0}),Qe(Et)!=="svelte-1741erf"&&(Et.textContent=Ct),on.forEach(b),Ot=$(ue),ct=I(ue,"DIV",{class:!0});var lr=B(ct);nt=I(lr,"A",{href:!0,class:!0});var Zn=B(nt);Xe=Be(Zn,"Cancel"),Zn.forEach(b),lr.forEach(b),this.h()},h(){p(l,"id","imageInput"),p(l,"type","file"),p(l,"accept","image/*;capture=camera"),p(r,"class","mb-3"),p(u,"class","img-scan d-flex col-md-6 col-12"),p(v,"for","rDesc"),p(v,"class","form-label"),p(D,"class","form-control"),p(D,"list","descOptions"),p(D,"id","rDesc"),p(D,"name","rDesc"),p(D,"placeholder","Double-click for suggestions"),p(N,"id","descOptions"),p(m,"class","mb-3"),p(H,"for","rDate"),p(H,"class","form-label"),p(M,"class","mb-3"),p(re,"for","rVal"),p(re,"class","form-label"),p(ce,"class","form-control"),p(ce,"list","valOptions"),p(ce,"id","rVal"),p(ce,"name","rVal"),p(ce,"type","number"),p(ce,"step","0.01"),p(ce,"placeholder","Double-click for suggestions"),p(we,"id","valOptions"),p(ae,"class","mb-3"),p(he,"for","rType"),p(he,"class","form-label"),se.selected=!0,se.__value="--Please choose type--",jt(se,se.__value),p(j,"id","rType"),p(j,"class","form-control"),n[8]===void 0&&no(()=>n[23].call(j)),p(de,"class","mb-3"),p(Q,"for","rCurrency"),p(Q,"class","form-label"),p(ie,"class","mb-3"),p(h,"class","d-flex flex-column col-md-6 col-12"),p(a,"id","receiptEntry"),Ne(a,"show",n[10]),p(be,"class","progress-bar"),Pr(be,"width",n[11]+"%"),p(be,"role","progressbar"),p(be,"aria-valuenow",n[11]),p(be,"aria-valuemin","0"),p(be,"aria-valuemax","100"),p(je,"class","progress"),p(Et,"class","d-block mt-3 btn btn-outline-primary"),p(Pe,"class","flex-column hide"),Ne(Pe,"show",!n[10]&&n[9]),p(nt,"href",Ue="#/trip/"+n[0].id),p(nt,"class","mt-4 btn btn-outline-primary col-md-2"),p(ct,"class","mt-3 d-grid d-md-flex justify-content-md-center")},m(ue,Ce){pt.m(ue,Ce),ne(ue,e,Ce),Ht.m(ue,Ce),ne(ue,t,Ce),ne(ue,r,Ce),_(r,l),ne(ue,s,Ce),ne(ue,a,Ce),_(a,u),Bt.m(u,null),_(a,f),_(a,h),_(h,m),_(m,v),_(m,P),_(m,D),jt(D,n[6]),_(m,S),_(m,N);for(let Lt=0;Lt<Te.length;Lt+=1)Te[Lt]&&Te[Lt].m(N,null);_(h,L),_(h,M),_(M,H),_(M,z),en(X,M,null),_(h,De),_(h,ae),_(ae,re),_(ae,ke),_(ae,ce),jt(ce,n[7]),_(ae,fe),_(ae,we);for(let Lt=0;Lt<Gt.length;Lt+=1)Gt[Lt]&&Gt[Lt].m(we,null);_(h,ye),_(h,de),_(de,he),_(de,R),_(de,j),_(j,se);for(let Lt=0;Lt<wt.length;Lt+=1)wt[Lt]&&wt[Lt].m(j,null);Ur(j,n[8],!0),_(h,C),_(h,ie),_(ie,Q),_(ie,Me),en(Re,ie,null),_(h,pe),Pt.m(h,null),ne(ue,ve,Ce),ne(ue,Pe,Ce),_(Pe,Ve),_(Pe,qe),_(Pe,je),_(je,be),_(Pe,tt),_(Pe,Et),ne(ue,Ot,Ce),ne(ue,ct,Ce),_(ct,nt),_(nt,Xe),gt=!0,at||(Qt=[Ye(l,"change",n[16]),Ye(D,"input",n[20]),Ye(ce,"input",n[22]),Ye(j,"change",n[23]),Ye(Et,"click",n[25])],at=!0)},p(ue,Ce){if(ot===(ot=Kt(ue))&&pt?pt.p(ue,Ce):(pt.d(1),pt=ot(ue),pt&&(pt.c(),pt.m(e.parentNode,e))),an!==(an=rn(ue))&&(Ht.d(1),Ht=an(ue),Ht&&(Ht.c(),Ht.m(t.parentNode,t))),Jt===(Jt=Ze(ue))&&Bt?Bt.p(ue,Ce):(Bt.d(1),Bt=Jt(ue),Bt&&(Bt.c(),Bt.m(u,null))),Ce[0]&64&&D.value!==ue[6]&&jt(D,ue[6]),Ce[0]&4){Ut=ht(ue[2]);let xe;for(xe=0;xe<Ut.length;xe+=1){const Vt=zs(ue,Ut,xe);Te[xe]?Te[xe].p(Vt,Ce):(Te[xe]=Hs(Vt),Te[xe].c(),Te[xe].m(N,null))}for(;xe<Te.length;xe+=1)Te[xe].d(1);Te.length=Ut.length}const Lt={};if(!Z&&Ce[0]&16&&(Z=!0,Lt.value=ue[4],Kn(()=>Z=!1)),X.$set(Lt),Ce[0]&128&&ro(ce.value)!==ue[7]&&jt(ce,ue[7]),Ce[0]&8){Mt=ht(ue[3]);let xe;for(xe=0;xe<Mt.length;xe+=1){const Vt=Fs(ue,Mt,xe);Gt[xe]?Gt[xe].p(Vt,Ce):(Gt[xe]=js(Vt),Gt[xe].c(),Gt[xe].m(we,null))}for(;xe<Gt.length;xe+=1)Gt[xe].d(1);Gt.length=Mt.length}if(Ce&0){mt=ht(Object.values(Pl));let xe;for(xe=0;xe<mt.length;xe+=1){const Vt=Bs(ue,mt,xe);wt[xe]?wt[xe].p(Vt,Ce):(wt[xe]=Vs(Vt),wt[xe].c(),wt[xe].m(j,null))}for(;xe<wt.length;xe+=1)wt[xe].d(1);wt.length=mt.length}Ce[0]&256&&Ur(j,ue[8]);const yt={};Ce[0]&4096&&(yt.options=ue[12]),!Ee&&Ce[0]&32&&(Ee=!0,yt.value=ue[5],Kn(()=>Ee=!1)),Re.$set(yt),Yt===(Yt=ut(ue))&&Pt?Pt.p(ue,Ce):(Pt.d(1),Pt=Yt(ue),Pt&&(Pt.c(),Pt.m(h,null))),(!gt||Ce[0]&1024)&&Ne(a,"show",ue[10]),(!gt||Ce[0]&2048)&&Pr(be,"width",ue[11]+"%"),(!gt||Ce[0]&2048)&&p(be,"aria-valuenow",ue[11]),(!gt||Ce[0]&1536)&&Ne(Pe,"show",!ue[10]&&ue[9]),(!gt||Ce[0]&1&&Ue!==(Ue="#/trip/"+ue[0].id))&&p(nt,"href",Ue)},i(ue){gt||(He(X.$$.fragment,ue),He(Re.$$.fragment,ue),gt=!0)},o(ue){Ge(X.$$.fragment,ue),Ge(Re.$$.fragment,ue),gt=!1},d(ue){ue&&(b(e),b(t),b(r),b(s),b(a),b(ve),b(Pe),b(Ot),b(ct)),pt.d(ue),Ht.d(ue),Bt.d(),Pn(Te,ue),$t(X),Pn(Gt,ue),Pn(wt,ue),$t(Re),Pt.d(),at=!1,Rn(Qt)}}}function Qf(n){let e,t,r=n[0].name+"",l,s;return{c(){e=A("h1"),t=Fe('Add Receipt to "'),l=Fe(r),s=Fe('"')},l(a){e=I(a,"H1",{});var u=B(e);t=Be(u,'Add Receipt to "'),l=Be(u,r),s=Be(u,'"'),u.forEach(b)},m(a,u){ne(a,e,u),_(e,t),_(e,l),_(e,s)},p(a,u){u[0]&1&&r!==(r=a[0].name+"")&&et(l,r)},d(a){a&&b(e)}}}function Jf(n){let e,t,r=n[1].description+"",l,s;return{c(){e=A("h1"),t=Fe('Update Receipt for "'),l=Fe(r),s=Fe('"')},l(a){e=I(a,"H1",{});var u=B(e);t=Be(u,'Update Receipt for "'),l=Be(u,r),s=Be(u,'"'),u.forEach(b)},m(a,u){ne(a,e,u),_(e,t),_(e,l),_(e,s)},p(a,u){u[0]&2&&r!==(r=a[1].description+"")&&et(l,r)},d(a){a&&b(e)}}}function Xf(n){let e,t="Choose image to begin";return{c(){e=A("p"),e.textContent=t},l(r){e=I(r,"P",{"data-svelte-h":!0}),Qe(e)!=="svelte-1rdbglw"&&(e.textContent=t)},m(r,l){ne(r,e,l)},d(r){r&&b(e)}}}function xf(n){let e,t="Click 'Browse' to start again";return{c(){e=A("p"),e.textContent=t},l(r){e=I(r,"P",{"data-svelte-h":!0}),Qe(e)!=="svelte-1raiglx"&&(e.textContent=t)},m(r,l){ne(r,e,l)},d(r){r&&b(e)}}}function $f(n){let e;return{c(){e=A("img"),this.h()},l(t){e=I(t,"IMG",{id:!0,class:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),p(e,"alt","Your chosen receipt")},m(t,r){ne(t,e,r)},p:Dt,d(t){t&&b(e)}}}function ed(n){let e,t;return{c(){e=A("img"),this.h()},l(r){e=I(r,"IMG",{id:!0,class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),Vi(e.src,t=n[9])||p(e,"src",t),p(e,"alt","Your chosen receipt")},m(r,l){ne(r,e,l)},p(r,l){l[0]&512&&!Vi(e.src,t=r[9])&&p(e,"src",t)},d(r){r&&b(e)}}}function Hs(n){let e,t;return{c(){e=A("option"),this.h()},l(r){e=I(r,"OPTION",{}),B(e).forEach(b),this.h()},h(){e.__value=t=n[38],jt(e,e.__value)},m(r,l){ne(r,e,l)},p(r,l){l[0]&4&&t!==(t=r[38])&&(e.__value=t,jt(e,e.__value))},d(r){r&&b(e)}}}function js(n){let e,t=n[35]+"",r,l;return{c(){e=A("option"),r=Fe(t),this.h()},l(s){e=I(s,"OPTION",{});var a=B(e);r=Be(a,t),a.forEach(b),this.h()},h(){e.__value=l=n[35],jt(e,e.__value)},m(s,a){ne(s,e,a),_(e,r)},p(s,a){a[0]&8&&t!==(t=s[35]+"")&&et(r,t),a[0]&8&&l!==(l=s[35])&&(e.__value=l,jt(e,e.__value))},d(s){s&&b(e)}}}function Vs(n){let e,t=n[32]+"",r;return{c(){e=A("option"),r=Fe(t),this.h()},l(l){e=I(l,"OPTION",{});var s=B(e);r=Be(s,t),s.forEach(b),this.h()},h(){e.__value=n[32],jt(e,e.__value)},m(l,s){ne(l,e,s),_(e,r)},p:Dt,d(l){l&&b(e)}}}function td(n){let e,t="Add Receipt",r,l;return{c(){e=A("button"),e.textContent=t,this.h()},l(s){e=I(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-1059pct"&&(e.textContent=t),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-primary")},m(s,a){ne(s,e,a),r||(l=Ye(e,"click",n[13]),r=!0)},p:Dt,d(s){s&&b(e),r=!1,l()}}}function nd(n){let e,t="Update Receipt",r,l;return{c(){e=A("button"),e.textContent=t,this.h()},l(s){e=I(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Qe(e)!=="svelte-jbq1gp"&&(e.textContent=t),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-primary")},m(s,a){ne(s,e,a),r||(l=Ye(e,"click",n[14]),r=!0)},p:Dt,d(s){s&&b(e),r=!1,l()}}}function rd(n){let e,t,r=n[0]&&Ks(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(l){e=I(l,"DIV",{class:!0});var s=B(e);r&&r.l(s),s.forEach(b),this.h()},h(){p(e,"class","w-100")},m(l,s){ne(l,e,s),r&&r.m(e,null),t=!0},p(l,s){l[0]?r?(r.p(l,s),s[0]&1&&He(r,1)):(r=Ks(l),r.c(),He(r,1),r.m(e,null)):r&&(pn(),Ge(r,1,1,()=>{r=null}),gn())},i(l){t||(He(r),t=!0)},o(l){Ge(r),t=!1},d(l){l&&b(e),r&&r.d()}}}function id(n){return/,\d{2}$/.test(n)}function qs(n,e){if(n.src.startsWith("data:image/jpeg;base64"))return n.src;const t=document.createElement("canvas"),r=t.getContext("2d");return t.width=n.naturalWidth,t.height=n.naturalHeight,r.drawImage(n,0,0,n.naturalWidth,n.naturalHeight),t.toDataURL("image/jpeg",e)}function ld(n,e,t){let r,l;Ln(n,hi,O=>t(19,l=O));const{createWorker:s}=Ns;let{tripId:a}=e,{receiptId:u}=e,f,h,m=[],v=[],E=new Date,P,D,S,N,L,M,H,F=!1,z=0,X;a>-1&&Zt.trips.get(a).then(O=>{t(0,f=O),u<0&&t(5,P=f.defaultCurrency)}),u>-1&&Zt.receipts.get(u).then(O=>{t(1,h=O),t(4,E=new Date(h.receiptDateString)),t(5,P=h.currency),t(6,D=h.description),t(7,S=h.total),t(8,N=h.receiptType),t(9,L=h.imageData),t(10,F=!0)});async function Z(){const O=document.getElementById("imgChosen");H=O.naturalWidth,M=O.naturalHeight,t(9,L=qs(O,.7)),await Zt.receipts.add({description:D,currency:P,receiptDate:E,receiptDateString:E.toDateString(),receiptType:N,total:S,tripId:a,imageData:L,imageHeight:M,imageWidth:H}),window.location.href="#/trip/"+a}async function De(){const O=document.getElementById("imgChosen");H=O.naturalWidth,M=O.naturalHeight,t(9,L=qs(O,.7)),await Zt.receipts.update(h.id,{description:D,currency:P,receiptDate:E,receiptDateString:E.toDateString(),receiptType:N,total:S,tripId:h.tripId,imageData:L,imageHeight:M,imageWidth:H}),window.location.href="#/trip/"+h.tripId}function ae(O){O.status=="recognizing text"&&t(11,z=Math.floor(O.progress*100))}async function re(O){X=await s("eng",1,{logger:j=>ae(j)}),await X.setParameters({tessedit_pageseg_mode:Ns.PSM.SPARSE_TEXT});var R=await X.recognize(O,{},{blocks:!0});return R.data.blocks?R.data.blocks:[]}async function ge(O){t(11,z=0),!F&&X&&await X.terminate(),O&&t(10,F=!0)}async function ke(O){t(2,m=[]),t(3,v=[]),t(10,F=!1),await ge(!1);var R=O.target.files[0],j=URL.createObjectURL(R);const se=document.getElementById("imgChosen");se.src=j,t(9,L=j);var me=await re(j);for(let C of me){if(C.confidence<40)continue;let ie=C.text.trim();m.push(ie);let Q=rr(ie,{decimal:id(ie)?",":"."});Q.value>0&&v.push(Q.format({symbol:"",separator:"",decimal:"."}))}t(2,m),t(3,v=v.reverse()),t(10,F=!0)}Ho(()=>{ge(!1)});function ce(){D=this.value,t(6,D)}function fe(O){E=O,t(4,E)}function we(){S=ro(this.value),t(7,S)}function ye(){N=Po(this),t(8,N)}function de(O){P=O,t(5,P)}const he=()=>ge(!0);return n.$$set=O=>{"tripId"in O&&t(17,a=O.tripId),"receiptId"in O&&t(18,u=O.receiptId)},n.$$.update=()=>{n.$$.dirty[0]&524288&&t(12,r=Hl(l))},[f,h,m,v,E,P,D,S,N,L,F,z,r,Z,De,ge,ke,a,u,l,ce,fe,we,ye,de,he]}class bo extends An{constructor(e){super(),On(this,e,ld,rd,kn,{tripId:17,receiptId:18},null,[-1,-1])}}function ad(n){let e,t,r="Preferences",l,s,a,u="Default Currency",f,h,m,v,E,P="The currency that each trip will default to",D,S,N,L="Favourite Currencies",M,H,F,z,X,Z="These currencies will always appear at the top of the currency list",De,ae,re="Colour Theme",ge,ke,ce,fe,we,ye=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"></path></svg>
                    Auto`,de,he,O,R,j=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun" viewBox="0 0 16 16"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"></path></svg>
                    Light`,se,me,C,ie,Q=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"></path></svg>
                   Dark`,_e,Me,Re,Ee="Export Data",pe,ve,Pe="Allows you to backup your data",Ve,J,qe=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"></path><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"></path></svg>
                    Export Data`,je,be,tt="Import Data",Et,Ct,Ot="Allows you to restore your data from a backup",ct,nt,Xe="<p><strong>Warning!</strong> Importing will overwrite your current data</p>",Ue,gt,at,Qt,Kt,ot,pt,rn,an,Ht,Ze,Jt,Bt,Ut="Done",Te,mn,sn,Mt;function Gt(rt){n[12](rt)}let mt={options:n[7],name:void 0,inputId:"defCurrency"};n[3]!==void 0&&(mt.value=n[3]),h=new mi({props:mt}),Wt.push(()=>Hn(h,"value",Gt));function wt(rt){n[13](rt)}let _t={options:n[7],name:void 0,inputId:"favCurrency",multiple:!0,placeholder:"Choose currencies"};return n[4]!==void 0&&(_t.value=n[4]),H=new mi({props:_t}),Wt.push(()=>Hn(H,"value",wt)),mn=Lo(n[15][0]),{c(){e=A("div"),t=A("h1"),t.textContent=r,l=ee(),s=A("div"),a=A("label"),a.textContent=u,f=ee(),nn(h.$$.fragment),v=ee(),E=A("div"),E.textContent=P,D=ee(),S=A("div"),N=A("label"),N.textContent=L,M=ee(),nn(H.$$.fragment),z=ee(),X=A("div"),X.textContent=Z,De=ee(),ae=A("span"),ae.textContent=re,ge=ee(),ke=A("div"),ce=A("input"),fe=ee(),we=A("label"),we.innerHTML=ye,de=ee(),he=A("input"),O=ee(),R=A("label"),R.innerHTML=j,se=ee(),me=A("input"),C=ee(),ie=A("label"),ie.innerHTML=Q,_e=ee(),Me=A("div"),Re=A("h4"),Re.textContent=Ee,pe=ee(),ve=A("div"),ve.textContent=Pe,Ve=ee(),J=A("button"),J.innerHTML=qe,je=ee(),be=A("h4"),be.textContent=tt,Et=ee(),Ct=A("span"),Ct.textContent=Ot,ct=ee(),nt=A("div"),nt.innerHTML=Xe,Ue=ee(),gt=A("div"),at=A("input"),Qt=ee(),Kt=A("button"),ot=zt("svg"),pt=zt("path"),rn=zt("path"),an=Fe(`
                    Import Data`),Ze=ee(),Jt=A("div"),Bt=A("button"),Bt.textContent=Ut,this.h()},l(rt){e=I(rt,"DIV",{class:!0});var ut=B(e);t=I(ut,"H1",{"data-svelte-h":!0}),Qe(t)!=="svelte-nxbse8"&&(t.textContent=r),l=$(ut),s=I(ut,"DIV",{class:!0});var Yt=B(s);a=I(Yt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(a)!=="svelte-it9jnu"&&(a.textContent=u),f=$(Yt),tn(h.$$.fragment,Yt),v=$(Yt),E=I(Yt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Qe(E)!=="svelte-2gnq35"&&(E.textContent=P),Yt.forEach(b),D=$(ut),S=I(ut,"DIV",{class:!0});var Pt=B(S);N=I(Pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Qe(N)!=="svelte-18qx5ce"&&(N.textContent=L),M=$(Pt),tn(H.$$.fragment,Pt),z=$(Pt),X=I(Pt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Qe(X)!=="svelte-13r3flk"&&(X.textContent=Z),Pt.forEach(b),De=$(ut),ae=I(ut,"SPAN",{class:!0,"data-svelte-h":!0}),Qe(ae)!=="svelte-u79m7h"&&(ae.textContent=re),ge=$(ut),ke=I(ut,"DIV",{class:!0,role:!0,"aria-label":!0});var ue=B(ke);ce=I(ue,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),fe=$(ue),we=I(ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Qe(we)!=="svelte-annllc"&&(we.innerHTML=ye),de=$(ue),he=I(ue,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),O=$(ue),R=I(ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Qe(R)!=="svelte-llbehq"&&(R.innerHTML=j),se=$(ue),me=I(ue,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),C=$(ue),ie=I(ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Qe(ie)!=="svelte-u2uuxq"&&(ie.innerHTML=Q),ue.forEach(b),_e=$(ut),Me=I(ut,"DIV",{class:!0});var Ce=B(Me);Re=I(Ce,"H4",{class:!0,"data-svelte-h":!0}),Qe(Re)!=="svelte-54jtfj"&&(Re.textContent=Ee),pe=$(Ce),ve=I(Ce,"DIV",{class:!0,"data-svelte-h":!0}),Qe(ve)!=="svelte-fiho8j"&&(ve.textContent=Pe),Ve=$(Ce),J=I(Ce,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qe(J)!=="svelte-14j3op3"&&(J.innerHTML=qe),je=$(Ce),be=I(Ce,"H4",{class:!0,"data-svelte-h":!0}),Qe(be)!=="svelte-16c5uey"&&(be.textContent=tt),Et=$(Ce),Ct=I(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),Qe(Ct)!=="svelte-v7gjsw"&&(Ct.textContent=Ot),ct=$(Ce),nt=I(Ce,"DIV",{class:!0,"data-svelte-h":!0}),Qe(nt)!=="svelte-wmieih"&&(nt.innerHTML=Xe),Ue=$(Ce),gt=I(Ce,"DIV",{class:!0});var Lt=B(gt);at=I(Lt,"INPUT",{id:!0,type:!0,accept:!0}),Lt.forEach(b),Qt=$(Ce),Kt=I(Ce,"BUTTON",{class:!0,type:!0});var yt=B(Kt);ot=Ft(yt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var xe=B(ot);pt=Ft(xe,"path",{d:!0}),B(pt).forEach(b),rn=Ft(xe,"path",{d:!0}),B(rn).forEach(b),xe.forEach(b),an=Be(yt,`
                    Import Data`),yt.forEach(b),Ce.forEach(b),Ze=$(ut),Jt=I(ut,"DIV",{class:!0});var Vt=B(Jt);Bt=I(Vt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qe(Bt)!=="svelte-1hckcap"&&(Bt.textContent=Ut),Vt.forEach(b),ut.forEach(b),this.h()},h(){p(a,"for","defCurrency"),p(a,"class","form-label"),p(E,"id","defCurrencyHelp"),p(E,"class","form-text"),p(s,"class","mb-3"),p(N,"for","favCurrency"),p(N,"class","form-label"),p(X,"id","favCurrencyHelp"),p(X,"class","form-text"),p(S,"class","mb-3"),p(ae,"class","form-label mt-2"),p(ce,"type","radio"),p(ce,"class","btn-check btn-outline-secondary"),p(ce,"name","options-color"),p(ce,"id","optionAuto"),ce.__value="auto",jt(ce,ce.__value),p(ce,"autocomplete","off"),p(we,"class","btn btn-outline-secondary"),p(we,"for","optionAuto"),p(he,"type","radio"),p(he,"class","btn-check btn-outline-secondary"),p(he,"name","options-color"),p(he,"id","optionLight"),he.__value="light",jt(he,he.__value),p(he,"autocomplete","off"),p(R,"class","btn btn-outline-secondary"),p(R,"for","optionLight"),p(me,"type","radio"),p(me,"class","btn-check btn-outline-secondary"),p(me,"name","options-color"),p(me,"id","optionDark"),me.__value="dark",jt(me,me.__value),p(me,"autocomplete","off"),p(ie,"class","btn btn-outline-secondary"),p(ie,"for","optionDark"),p(ke,"class","btn-group mb-3"),p(ke,"role","group"),p(ke,"aria-label","Colour Theme Picker"),p(Re,"class","mt-4"),p(ve,"class","form-label"),p(J,"class","btn btn-outline-primary col-md-2"),p(J,"type","button"),p(be,"class","mt-4"),p(Ct,"class","form-label"),p(nt,"class","bd-callout bd-callout-warning"),p(at,"id","importInput"),p(at,"type","file"),p(at,"accept","application/json"),p(gt,"class","mb-3"),p(pt,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(rn,"d","M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"),p(ot,"xmlns","http://www.w3.org/2000/svg"),p(ot,"width","16"),p(ot,"height","16"),p(ot,"fill","currentColor"),p(ot,"class","bi bi-upload"),p(ot,"viewBox","0 0 16 16"),p(Kt,"class","btn btn-outline-primary col-md-2"),p(Kt,"type","button"),Kt.disabled=Ht=!n[1],p(Me,"class","d-block"),p(Bt,"class","mt-4 btn btn-primary"),p(Bt,"type","button"),p(Jt,"class","d-grid mt-4 col-md-4 mx-auto"),p(e,"class","row"),mn.p(ce,he,me)},m(rt,ut){ne(rt,e,ut),_(e,t),_(e,l),_(e,s),_(s,a),_(s,f),en(h,s,null),_(s,v),_(s,E),_(e,D),_(e,S),_(S,N),_(S,M),en(H,S,null),_(S,z),_(S,X),_(e,De),_(e,ae),_(e,ge),_(e,ke),_(ke,ce),ce.checked=ce.__value===n[5],_(ke,fe),_(ke,we),_(ke,de),_(ke,he),he.checked=he.__value===n[5],_(ke,O),_(ke,R),_(ke,se),_(ke,me),me.checked=me.__value===n[5],_(ke,C),_(ke,ie),_(e,_e),_(e,Me),_(Me,Re),_(Me,pe),_(Me,ve),_(Me,Ve),_(Me,J),_(Me,je),_(Me,be),_(Me,Et),_(Me,Ct),_(Me,ct),_(Me,nt),_(Me,Ue),_(Me,gt),_(gt,at),_(Me,Qt),_(Me,Kt),_(Kt,ot),_(ot,pt),_(ot,rn),_(Kt,an),_(e,Ze),_(e,Jt),_(Jt,Bt),Te=!0,sn||(Mt=[Ye(ce,"change",n[14]),Ye(he,"change",n[16]),Ye(me,"change",n[17]),Ye(J,"click",n[9]),Ye(at,"change",n[11]),Ye(Kt,"click",n[10]),Ye(Bt,"click",n[8])],sn=!0)},p(rt,ut){const Yt={};!m&&ut&8&&(m=!0,Yt.value=rt[3],Kn(()=>m=!1)),h.$set(Yt);const Pt={};!F&&ut&16&&(F=!0,Pt.value=rt[4],Kn(()=>F=!1)),H.$set(Pt),ut&32&&(ce.checked=ce.__value===rt[5]),ut&32&&(he.checked=he.__value===rt[5]),ut&32&&(me.checked=me.__value===rt[5]),(!Te||ut&2&&Ht!==(Ht=!rt[1]))&&(Kt.disabled=Ht)},i(rt){Te||(He(h.$$.fragment,rt),He(H.$$.fragment,rt),Te=!0)},o(rt){Ge(h.$$.fragment,rt),Ge(H.$$.fragment,rt),Te=!1},d(rt){rt&&b(e),$t(h),$t(H),mn.r(),sn=!1,Rn(Mt)}}}function sd(n){let e,t,r="Welcome!",l,s,a,u='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"></path><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"></path></svg>',f,h,m="Create a trip using the button at the top",v,E,P="Or add receipts by selecting a trip",D,S,N,L,M=n[2]&&Us(n);return{c(){e=A("h1"),t=A("span"),t.textContent=r,l=ee(),s=A("span"),a=A("button"),a.innerHTML=u,f=ee(),h=A("p"),h.textContent=m,v=ee(),E=A("p"),E.textContent=P,D=ee(),M&&M.c(),S=St(),this.h()},l(H){e=I(H,"H1",{class:!0});var F=B(e);t=I(F,"SPAN",{"data-svelte-h":!0}),Qe(t)!=="svelte-d14puh"&&(t.textContent=r),l=$(F),s=I(F,"SPAN",{});var z=B(s);a=I(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Qe(a)!=="svelte-1g2ob46"&&(a.innerHTML=u),z.forEach(b),F.forEach(b),f=$(H),h=I(H,"P",{"data-svelte-h":!0}),Qe(h)!=="svelte-xbo4ew"&&(h.textContent=m),v=$(H),E=I(H,"P",{"data-svelte-h":!0}),Qe(E)!=="svelte-1g1vmu2"&&(E.textContent=P),D=$(H),M&&M.l(H),S=St(),this.h()},h(){p(a,"class","btn btn-outline-secondary no-outline"),p(a,"title","Preferences"),p(e,"class","d-flex justify-content-between")},m(H,F){ne(H,e,F),_(e,t),_(e,l),_(e,s),_(s,a),ne(H,f,F),ne(H,h,F),ne(H,v,F),ne(H,E,F),ne(H,D,F),M&&M.m(H,F),ne(H,S,F),N||(L=Ye(a,"click",n[8]),N=!0)},p(H,F){H[2]?M?M.p(H,F):(M=Us(H),M.c(),M.m(S.parentNode,S)):M&&(M.d(1),M=null)},i:Dt,o:Dt,d(H){H&&(b(e),b(f),b(h),b(v),b(E),b(D),b(S)),M&&M.d(H),N=!1,L()}}}function Us(n){let e,t,r="Your most recent trip:",l,s,a,u,f,h=n[2].name+"",m,v,E,P=n[2].startDateString+"",D,S,N=n[2].endDateString+"",L,M;return{c(){e=A("div"),t=A("h4"),t.textContent=r,l=ee(),s=A("div"),a=A("a"),u=A("div"),f=A("strong"),m=Fe(h),v=ee(),E=A("div"),D=Fe(P),S=Fe(" - "),L=Fe(N),this.h()},l(H){e=I(H,"DIV",{class:!0});var F=B(e);t=I(F,"H4",{"data-svelte-h":!0}),Qe(t)!=="svelte-1dpo13w"&&(t.textContent=r),l=$(F),s=I(F,"DIV",{class:!0});var z=B(s);a=I(z,"A",{href:!0,class:!0});var X=B(a);u=I(X,"DIV",{class:!0});var Z=B(u);f=I(Z,"STRONG",{class:!0});var De=B(f);m=Be(De,h),De.forEach(b),v=$(Z),E=I(Z,"DIV",{class:!0});var ae=B(E);D=Be(ae,P),S=Be(ae," - "),L=Be(ae,N),ae.forEach(b),Z.forEach(b),X.forEach(b),z.forEach(b),F.forEach(b),this.h()},h(){p(f,"class","mb-1"),p(E,"class","col-10 mb-1 text-center"),p(u,"class","d-flex w-100 align-items-center justify-content-between flex-column"),p(a,"href",M="#/trip/"+n[2].id),p(a,"class","py-3 lh-sm m-2 list-group-item list-group-item-action"),p(s,"class","col-lg-6 col-md-12 list-group"),p(e,"class","row mb-4")},m(H,F){ne(H,e,F),_(e,t),_(e,l),_(e,s),_(s,a),_(a,u),_(u,f),_(f,m),_(u,v),_(u,E),_(E,D),_(E,S),_(E,L)},p(H,F){F&4&&h!==(h=H[2].name+"")&&et(m,h),F&4&&P!==(P=H[2].startDateString+"")&&et(D,P),F&4&&N!==(N=H[2].endDateString+"")&&et(L,N),F&4&&M!==(M="#/trip/"+H[2].id)&&p(a,"href",M)},d(H){H&&b(e)}}}function od(n){let e,t,r,l,s,a='<div id="importSuccess" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">Import success!</div> <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button></div></div> <div id="importFailed" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">Import failed!</div> <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button></div></div>',u;const f=[sd,ad],h=[];function m(v,E){return v[0]?v[0]?1:-1:0}return~(t=m(n))&&(r=h[t]=f[t](n)),{c(){e=A("div"),r&&r.c(),l=ee(),s=A("div"),s.innerHTML=a,this.h()},l(v){e=I(v,"DIV",{class:!0});var E=B(e);r&&r.l(E),l=$(E),s=I(E,"DIV",{class:!0,"data-svelte-h":!0}),Qe(s)!=="svelte-1dgnvby"&&(s.innerHTML=a),E.forEach(b),this.h()},h(){p(s,"class","toast-container position-fixed top-0 end-0 p-3"),p(e,"class","col-12")},m(v,E){ne(v,e,E),~t&&h[t].m(e,null),_(e,l),_(e,s),u=!0},p(v,[E]){let P=t;t=m(v),t===P?~t&&h[t].p(v,E):(r&&(pn(),Ge(h[P],1,1,()=>{h[P]=null}),gn()),~t?(r=h[t],r?r.p(v,E):(r=h[t]=f[t](v),r.c()),He(r,1),r.m(e,l)):r=null)},i(v){u||(He(r),u=!0)},o(v){Ge(r),u=!1},d(v){v&&b(e),~t&&h[t].d()}}}function ud(n,e){const t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=e,r.click(),URL.revokeObjectURL(t)}function cd(n){return n.done?(bootstrap.Toast.getOrCreateInstance(document.getElementById("importSuccess")).show(),!0):!1}function fd(n,e,t){let r,l,s,a;Ln(n,Ll,X=>t(3,l=X)),Ln(n,hi,X=>t(4,s=X)),Ln(n,li,X=>t(5,a=X));let u=di(()=>Zt.trips.orderBy("endDate").reverse().first());Ln(n,u,X=>t(2,r=X));let f=[],h=!1,m=!1,v=null;for(let X of Object.keys(hn))f.push({value:X,text:`${X} (${hn[X].symbol})`});function E(){t(0,h=!h)}Fl(async()=>{await io(()=>import("./BO8M21Ov.js"),[],import.meta.url)});async function P(){try{const X=await Zt.export({prettyJson:!0});ud(X,"trippin-data-export.json")}catch(X){console.error(+X)}}function D(){if(v)try{Zt.import(v,{overwriteValues:!0,progressCallback:cd})}catch(X){console.error(X),bootstrap.Toast.getOrCreateInstance(document.getElementById("importFailed")).show()}}function S(X){var Z=X.target.files[0];Z&&(t(1,m=!0),v=Z)}const N=[[]];function L(X){l=X,Ll.set(l)}function M(X){s=X,hi.set(s)}function H(){a=this.__value,li.set(a)}function F(){a=this.__value,li.set(a)}function z(){a=this.__value,li.set(a)}return[h,m,r,l,s,a,u,f,E,P,D,S,L,M,H,N,F,z]}class dd extends An{constructor(e){super(),On(this,e,fd,od,kn,{})}}function Gs(n,e,t){const r=n.slice();return r[8]=e[t],r}function Ws(n,e,t){const r=n.slice();return r[11]=e[t],r}function Ys(n,e,t){const r=n.slice();return r[8]=e[t],r}function Tl(n){const e=n.slice(),t=Array.from(new Set(e[3].map(r=>r.currency)));return e[7]=t,e}function Zs(n){let e,t,r="After clicking 'Export/Print', you should be able to print/save to PDF",l,s,a,u,f,h,m,v="Export/Print",E,P,D=n[0].name+"",S,N,L,M=n[0].startDateString+"",H,F,z=n[0].endDateString+"",X,Z,De,ae="Receipt Summary",re,ge,ke,ce,fe=n[3]&&Qs(Tl(n));return{c(){e=A("div"),t=A("p"),t.textContent=r,l=ee(),s=A("p"),a=A("label"),u=A("input"),f=Fe(`
            Include notes`),h=ee(),m=A("button"),m.textContent=v,E=ee(),P=A("h1"),S=Fe(D),N=ee(),L=A("h4"),H=Fe(M),F=Fe(" - "),X=Fe(z),Z=ee(),De=A("h5"),De.textContent=ae,re=ee(),fe&&fe.c(),ge=St(),this.h()},l(we){e=I(we,"DIV",{class:!0,id:!0});var ye=B(e);t=I(ye,"P",{"data-svelte-h":!0}),Qe(t)!=="svelte-drk65c"&&(t.textContent=r),l=$(ye),s=I(ye,"P",{});var de=B(s);a=I(de,"LABEL",{});var he=B(a);u=I(he,"INPUT",{type:!0}),f=Be(he,`
            Include notes`),he.forEach(b),de.forEach(b),h=$(ye),m=I(ye,"BUTTON",{class:!0,onclick:!0,"data-svelte-h":!0}),Qe(m)!=="svelte-1fkvb7c"&&(m.textContent=v),ye.forEach(b),E=$(we),P=I(we,"H1",{});var O=B(P);S=Be(O,D),O.forEach(b),N=$(we),L=I(we,"H4",{});var R=B(L);H=Be(R,M),F=Be(R," - "),X=Be(R,z),R.forEach(b),Z=$(we),De=I(we,"H5",{"data-svelte-h":!0}),Qe(De)!=="svelte-1hbjnf6"&&(De.textContent=ae),re=$(we),fe&&fe.l(we),ge=St(),this.h()},h(){p(u,"type","checkbox"),p(m,"class","btn btn-primary"),p(m,"onclick","window.print()"),p(e,"class","no-print mt-3 hide"),p(e,"id","printMessage")},m(we,ye){ne(we,e,ye),_(e,t),_(e,l),_(e,s),_(s,a),_(a,u),u.checked=n[2],_(a,f),_(e,h),_(e,m),ne(we,E,ye),ne(we,P,ye),_(P,S),ne(we,N,ye),ne(we,L,ye),_(L,H),_(L,F),_(L,X),ne(we,Z,ye),ne(we,De,ye),ne(we,re,ye),fe&&fe.m(we,ye),ne(we,ge,ye),ke||(ce=Ye(u,"change",n[5]),ke=!0)},p(we,ye){ye&4&&(u.checked=we[2]),ye&1&&D!==(D=we[0].name+"")&&et(S,D),ye&1&&M!==(M=we[0].startDateString+"")&&et(H,M),ye&1&&z!==(z=we[0].endDateString+"")&&et(X,z),we[3]?fe?fe.p(Tl(we),ye):(fe=Qs(Tl(we)),fe.c(),fe.m(ge.parentNode,ge)):fe&&(fe.d(1),fe=null)},d(we){we&&(b(e),b(E),b(P),b(N),b(L),b(Z),b(De),b(re),b(ge)),fe&&fe.d(we),ke=!1,ce()}}}function Qs(n){let e,t,r="<tr><th>Receipt Description</th> <th>Receipt Date</th> <th>Receipt Type</th> <th>Receipt Total</th></tr>",l,s,a=[],u=new Map,f,h,m,v,E,P,D,S,N="<strong>Total</strong>",L,M,H,F,z,X,Z=[],De=new Map,ae,re,ge=`// Wait for images to render before printing
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
              incrementCounter();
            else
              img.addEventListener( 'load', incrementCounter, false );
        } );

        function printDiaglog() {
          window.print()
        }
        function incrementCounter() {
            counter++;
            if ( counter === len ) {
              document.getElementById("printMessage").classList.remove("hide");
            }
        }`,ke=ht(n[3]);const ce=O=>O[8].id;for(let O=0;O<ke.length;O+=1){let R=Ys(n,ke,O),j=ce(R);u.set(j,a[O]=Js(j,R))}let fe=ht(n[7]),we=[];for(let O=0;O<fe.length;O+=1)we[O]=Xs(Ws(n,fe,O));let ye=n[2]&&xs(n),de=ht(n[3]);const he=O=>O[8].id;for(let O=0;O<de.length;O+=1){let R=Gs(n,de,O),j=he(R);De.set(j,Z[O]=$s(j,R))}return{c(){e=A("table"),t=A("thead"),t.innerHTML=r,l=ee(),s=A("tbody");for(let O=0;O<a.length;O+=1)a[O].c();f=ee(),h=A("tfoot"),m=A("tr"),v=A("td"),E=ee(),P=A("td"),D=ee(),S=A("td"),S.innerHTML=N,L=ee(),M=A("td");for(let O=0;O<we.length;O+=1)we[O].c();H=ee(),F=A("td"),z=ee(),ye&&ye.c(),X=ee();for(let O=0;O<Z.length;O+=1)Z[O].c();ae=ee(),re=A("script"),re.textContent=ge,this.h()},l(O){e=I(O,"TABLE",{class:!0});var R=B(e);t=I(R,"THEAD",{"data-svelte-h":!0}),Qe(t)!=="svelte-1yqevk1"&&(t.innerHTML=r),l=$(R),s=I(R,"TBODY",{});var j=B(s);for(let ie=0;ie<a.length;ie+=1)a[ie].l(j);j.forEach(b),f=$(R),h=I(R,"TFOOT",{class:!0});var se=B(h);m=I(se,"TR",{});var me=B(m);v=I(me,"TD",{}),B(v).forEach(b),E=$(me),P=I(me,"TD",{}),B(P).forEach(b),D=$(me),S=I(me,"TD",{class:!0,"data-svelte-h":!0}),Qe(S)!=="svelte-14afisz"&&(S.innerHTML=N),L=$(me),M=I(me,"TD",{});var C=B(M);for(let ie=0;ie<we.length;ie+=1)we[ie].l(C);C.forEach(b),H=$(me),F=I(me,"TD",{}),B(F).forEach(b),me.forEach(b),se.forEach(b),R.forEach(b),z=$(O),ye&&ye.l(O),X=$(O);for(let ie=0;ie<Z.length;ie+=1)Z[ie].l(O);ae=$(O),re=I(O,"SCRIPT",{"data-svelte-h":!0}),Qe(re)!=="svelte-wsa5ae"&&(re.textContent=ge),this.h()},h(){p(S,"class","text-end"),p(h,"class","table-group-divider"),p(e,"class","table table-striped table-hover")},m(O,R){ne(O,e,R),_(e,t),_(e,l),_(e,s);for(let j=0;j<a.length;j+=1)a[j]&&a[j].m(s,null);_(e,f),_(e,h),_(h,m),_(m,v),_(m,E),_(m,P),_(m,D),_(m,S),_(m,L),_(m,M);for(let j=0;j<we.length;j+=1)we[j]&&we[j].m(M,null);_(m,H),_(m,F),ne(O,z,R),ye&&ye.m(O,R),ne(O,X,R);for(let j=0;j<Z.length;j+=1)Z[j]&&Z[j].m(O,R);ne(O,ae,R),ne(O,re,R)},p(O,R){if(R&8&&(ke=ht(O[3]),a=Lr(a,R,ce,1,O,ke,u,s,Yr,Js,null,Ys)),R&8){fe=ht(O[7]);let j;for(j=0;j<fe.length;j+=1){const se=Ws(O,fe,j);we[j]?we[j].p(se,R):(we[j]=Xs(se),we[j].c(),we[j].m(M,null))}for(;j<we.length;j+=1)we[j].d(1);we.length=fe.length}O[2]?ye?ye.p(O,R):(ye=xs(O),ye.c(),ye.m(X.parentNode,X)):ye&&(ye.d(1),ye=null),R&8&&(de=ht(O[3]),Z=Lr(Z,R,he,1,O,de,De,ae.parentNode,Yr,$s,ae,Gs))},d(O){O&&(b(e),b(z),b(X),b(ae),b(re));for(let R=0;R<a.length;R+=1)a[R].d();Pn(we,O),ye&&ye.d(O);for(let R=0;R<Z.length;R+=1)Z[R].d(O)}}}function Js(n,e){let t,r,l=e[8].description+"",s,a,u,f=e[8].receiptDateString+"",h,m,v,E=e[8].receiptType+"",P,D,S,N=hn[e[8].currency].symbol+"",L,M,H=e[8].total.toFixed(2)+"",F,z;return{key:n,first:null,c(){t=A("tr"),r=A("td"),s=Fe(l),a=ee(),u=A("td"),h=Fe(f),m=ee(),v=A("td"),P=Fe(E),D=ee(),S=A("td"),L=Fe(N),M=ee(),F=Fe(H),z=ee(),this.h()},l(X){t=I(X,"TR",{});var Z=B(t);r=I(Z,"TD",{});var De=B(r);s=Be(De,l),De.forEach(b),a=$(Z),u=I(Z,"TD",{});var ae=B(u);h=Be(ae,f),ae.forEach(b),m=$(Z),v=I(Z,"TD",{});var re=B(v);P=Be(re,E),re.forEach(b),D=$(Z),S=I(Z,"TD",{});var ge=B(S);L=Be(ge,N),M=$(ge),F=Be(ge,H),ge.forEach(b),z=$(Z),Z.forEach(b),this.h()},h(){this.first=t},m(X,Z){ne(X,t,Z),_(t,r),_(r,s),_(t,a),_(t,u),_(u,h),_(t,m),_(t,v),_(v,P),_(t,D),_(t,S),_(S,L),_(S,M),_(S,F),_(t,z)},p(X,Z){e=X,Z&8&&l!==(l=e[8].description+"")&&et(s,l),Z&8&&f!==(f=e[8].receiptDateString+"")&&et(h,f),Z&8&&E!==(E=e[8].receiptType+"")&&et(P,E),Z&8&&N!==(N=hn[e[8].currency].symbol+"")&&et(L,N),Z&8&&H!==(H=e[8].total.toFixed(2)+"")&&et(F,H)},d(X){X&&b(t)}}}function Xs(n){let e=hn[n[11]].symbol+"",t,r,l=n[3].filter(f).reduce(eo,0).toFixed(2)+"",s,a,u;function f(...h){return n[6](n[11],...h)}return{c(){t=Fe(e),r=ee(),s=Fe(l),a=ee(),u=A("br")},l(h){t=Be(h,e),r=$(h),s=Be(h,l),a=$(h),u=I(h,"BR",{})},m(h,m){ne(h,t,m),ne(h,r,m),ne(h,s,m),ne(h,a,m),ne(h,u,m)},p(h,m){n=h,m&8&&e!==(e=hn[n[11]].symbol+"")&&et(t,e),m&8&&l!==(l=n[3].filter(f).reduce(eo,0).toFixed(2)+"")&&et(s,l)},d(h){h&&(b(t),b(r),b(s),b(a),b(u))}}}function xs(n){let e,t="Notes:",r,l,s=n[0].notes+"",a;return{c(){e=A("h5"),e.textContent=t,r=ee(),l=A("p"),a=Fe(s),this.h()},l(u){e=I(u,"H5",{"data-svelte-h":!0}),Qe(e)!=="svelte-srqctx"&&(e.textContent=t),r=$(u),l=I(u,"P",{style:!0});var f=B(l);a=Be(f,s),f.forEach(b),this.h()},h(){Pr(l,"white-space","pre-wrap")},m(u,f){ne(u,e,f),ne(u,r,f),ne(u,l,f),_(l,a)},p(u,f){f&1&&s!==(s=u[0].notes+"")&&et(a,s)},d(u){u&&(b(e),b(r),b(l))}}}function $s(n,e){let t,r=e[8].description+"",l,s,a,u=hn[e[8].currency].symbol+"",f,h,m=e[8].total.toFixed(2)+"",v,E,P,D,S;return{key:n,first:null,c(){t=A("div"),l=Fe(r),s=ee(),a=A("strong"),f=Fe(u),h=ee(),v=Fe(m),E=ee(),P=A("img"),this.h()},l(N){t=I(N,"DIV",{class:!0});var L=B(t);l=Be(L,r),s=$(L),a=I(L,"STRONG",{});var M=B(a);f=Be(M,u),h=$(M),v=Be(M,m),M.forEach(b),L.forEach(b),E=$(N),P=I(N,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){p(t,"class","page-print mb-2"),p(P,"class","img-print"),p(P,"alt",D="receipt with description '"+e[8].description+"'"),Vi(P.src,S=e[8].imageData)||p(P,"src",S),this.first=t},m(N,L){ne(N,t,L),_(t,l),_(t,s),_(t,a),_(a,f),_(a,h),_(a,v),ne(N,E,L),ne(N,P,L)},p(N,L){e=N,L&8&&r!==(r=e[8].description+"")&&et(l,r),L&8&&u!==(u=hn[e[8].currency].symbol+"")&&et(f,u),L&8&&m!==(m=e[8].total.toFixed(2)+"")&&et(v,m),L&8&&D!==(D="receipt with description '"+e[8].description+"'")&&p(P,"alt",D),L&8&&!Vi(P.src,S=e[8].imageData)&&p(P,"src",S)},d(N){N&&(b(t),b(E),b(P))}}}function hd(n){let e,t=n[0]&&Zs(n);return{c(){e=A("div"),t&&t.c()},l(r){e=I(r,"DIV",{});var l=B(e);t&&t.l(l),l.forEach(b)},m(r,l){ne(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]?t?t.p(r,l):(t=Zs(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:Dt,o:Dt,d(r){r&&b(e),t&&t.d()}}}const eo=(n,e)=>n+e.total;function md(n,e,t){let r,l=Dt,s=()=>(l(),l=oi(f,E=>t(3,r=E)),f);n.$$.on_destroy.push(()=>l());let{tripId:a=-1}=e,u,f,h=!1;a>-1&&Zt.trips.get(a).then(E=>{t(0,u=E),s(t(1,f=di(()=>Zt.receipts.where({tripId:a}).reverse().sortBy("receiptDate")))),document.title=u==null?void 0:u.name});function m(){h=this.checked,t(2,h)}const v=(E,P)=>P.currency==E;return n.$$set=E=>{"tripId"in E&&t(4,a=E.tripId)},[u,f,h,r,a,m,v]}class pd extends An{constructor(e){super(),On(this,e,md,hd,kn,{tripId:4})}}function gd(n){let e,t,r,l=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="38" viewBox="0 0 375.91 152.28" style="enable-background:new 0 0 375.91 152.28;" xml:space="preserve"><style type="text/css">.st0{fill:currentColor;}
		   </style><g id="Layer_1"><g><path class="st0" d="M0,19.62h59.19V36.2H0V19.62z M20.94,27.62h17.24v88.06H20.94V27.62z" fill="currentColor"></path><path class="st0" d="M60.18,47.1h17.84v68.58H60.18V47.1z M93.28,63.69c-1.01-0.22-2.14-0.33-3.37-0.33
					   c-3.74,0-6.66,1.17-8.75,3.5c-2.09,2.33-3.14,5.57-3.14,9.71l-1.39-17.51c1.94-4.1,4.44-7.3,7.5-9.61
					   c3.06-2.31,6.42-3.47,10.08-3.47c1.41,0,2.7,0.23,3.87,0.69c1.17,0.46,2.17,1.13,3.01,2.01l-5.22,16.05
					   C95.15,64.26,94.29,63.91,93.28,63.69z"></path><path class="st0" d="M109,19.62h17.24v17.11H109V19.62z M109,47.1h17.24v68.58H109V47.1z"></path><path class="st0" d="M140.58,47.1h17.18v96.46h-17.18V47.1z M162.68,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C168.4,116.67,165.3,115.65,162.68,113.6z"></path><path class="st0" d="M204.6,47.1h17.18v96.46H204.6V47.1z M226.7,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C232.42,116.67,229.32,115.65,226.7,113.6z"></path><path class="st0" d="M267.43,19.62h17.24v17.11h-17.24V19.62z M267.43,47.1h17.24v68.58h-17.24V47.1z"></path><path class="st0" d="M299.01,47.1h17.24v68.58h-17.24V47.1z M332.31,70.62c0-2.73-0.72-4.83-2.15-6.31
					   c-1.43-1.48-3.45-2.21-6.04-2.21c-2.51,0-4.45,0.74-5.81,2.21c-1.37,1.48-2.05,3.6-2.05,6.38l-1.39-11.63
					   c1.72-4.27,3.96-7.52,6.74-9.74c2.77-2.22,6.05-3.34,9.84-3.34c5.72,0,10.16,1.98,13.31,5.95c3.15,3.96,4.72,9.54,4.72,16.71
					   v47.04h-17.18V70.62z"></path><path class="st0" d="M356.55,19.62h17.24v23.65l-17.24,16.91V19.62z"></path></g></g></svg>`,s,a,u,f='<li class="nav-item"><a class="btn btn-outline-light" href="#/add">+ Add Trip</a></li>',h,m,v=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg>
				Trips`,E,P,D,S,N,L,M,H,F,z,X,Z;N=new Gc({props:{tripId:n[3]}});const De=[Ed,kd,wd,yd,bd,vd],ae=[];function re(ge,ke){return ge[4]==="add"?0:ge[4]==="trip"&&ge[3]>-1?1:ge[4]==="update"&&ge[3]>-1?2:ge[4]==="addreceipt"&&ge[3]>-1?3:ge[4]==="editreceipt"&&ge[3]>-1?4:5}return H=re(n),F=ae[H]=De[H](n),{c(){e=A("nav"),t=A("div"),r=A("a"),r.innerHTML=l,s=ee(),a=A("div"),u=A("ul"),u.innerHTML=f,h=ee(),m=A("button"),m.innerHTML=v,E=ee(),P=A("main"),D=A("div"),S=A("div"),nn(N.$$.fragment),L=ee(),M=A("div"),F.c(),this.h()},l(ge){e=I(ge,"NAV",{class:!0,"aria-label":!0});var ke=B(e);t=I(ke,"DIV",{class:!0});var ce=B(t);r=I(ce,"A",{"aria-current":!0,class:!0,href:!0,"data-svelte-h":!0}),Qe(r)!=="svelte-184qgqe"&&(r.innerHTML=l),s=$(ce),a=I(ce,"DIV",{class:!0});var fe=B(a);u=I(fe,"UL",{class:!0,"data-svelte-h":!0}),Qe(u)!=="svelte-d6xdjk"&&(u.innerHTML=f),h=$(fe),m=I(fe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Qe(m)!=="svelte-d1pynv"&&(m.innerHTML=v),fe.forEach(b),ce.forEach(b),ke.forEach(b),E=$(ge),P=I(ge,"MAIN",{class:!0});var we=B(P);D=I(we,"DIV",{class:!0});var ye=B(D);S=I(ye,"DIV",{class:!0,id:!0});var de=B(S);tn(N.$$.fragment,de),de.forEach(b),ye.forEach(b),L=$(we),M=I(we,"DIV",{class:!0,id:!0});var he=B(M);F.l(he),he.forEach(b),we.forEach(b),this.h()},h(){p(r,"aria-current","page"),p(r,"class","navbar-brand text-light"),p(r,"href","#"),p(u,"class","navbar-nav me-auto"),p(m,"class","listTitleSmall btn btn-outline-light me-2"),p(m,"type","button"),p(a,"class","collapse navbar-collapse"),p(t,"class","container-fluid"),p(e,"class","navbar navbar-expand navbar-dark bg-dark"),p(e,"aria-label","Second navbar example"),p(S,"class","list-group scrollarea d-none pt-4"),p(S,"id","tripToggle"),p(D,"class","tripList d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary"),p(M,"class","d-flex p-3 w-100"),p(M,"id","mainPane"),p(P,"class","d-flex flex-nowrap")},m(ge,ke){ne(ge,e,ke),_(e,t),_(t,r),_(t,s),_(t,a),_(a,u),_(a,h),_(a,m),ne(ge,E,ke),ne(ge,P,ke),_(P,D),_(D,S),en(N,S,null),_(P,L),_(P,M),ae[H].m(M,null),z=!0,X||(Z=Ye(m,"click",ho),X=!0)},p(ge,ke){const ce={};ke&8&&(ce.tripId=ge[3]),N.$set(ce);let fe=H;H=re(ge),H===fe?ae[H].p(ge,ke):(pn(),Ge(ae[fe],1,1,()=>{ae[fe]=null}),gn(),F=ae[H],F?F.p(ge,ke):(F=ae[H]=De[H](ge),F.c()),He(F,1),F.m(M,null))},i(ge){z||(He(N.$$.fragment,ge),He(F),z=!0)},o(ge){Ge(N.$$.fragment,ge),Ge(F),z=!1},d(ge){ge&&(b(e),b(E),b(P)),$t(N),ae[H].d(),X=!1,Z()}}}function _d(n){let e,t;return e=new pd({props:{tripId:n[3]}}),{c(){nn(e.$$.fragment)},l(r){tn(e.$$.fragment,r)},m(r,l){en(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(He(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){$t(e,r)}}}function vd(n){let e,t;return e=new dd({}),{c(){nn(e.$$.fragment)},l(r){tn(e.$$.fragment,r)},m(r,l){en(e,r,l),t=!0},p:Dt,i(r){t||(He(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){$t(e,r)}}}function bd(n){let e,t;return e=new bo({props:{tripId:n[3],receiptId:n[5]}}),{c(){nn(e.$$.fragment)},l(r){tn(e.$$.fragment,r)},m(r,l){en(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.tripId=r[3]),l&32&&(s.receiptId=r[5]),e.$set(s)},i(r){t||(He(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){$t(e,r)}}}function yd(n){let e,t;return e=new bo({props:{tripId:n[3],receiptId:-1}}),{c(){nn(e.$$.fragment)},l(r){tn(e.$$.fragment,r)},m(r,l){en(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(He(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){$t(e,r)}}}function wd(n){let e,t;return e=new Zc({props:{tripId:n[3]}}),{c(){nn(e.$$.fragment)},l(r){tn(e.$$.fragment,r)},m(r,l){en(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(He(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){$t(e,r)}}}function kd(n){let e=n[3],t,r,l=to(n);return{c(){l.c(),t=St()},l(s){l.l(s),t=St()},m(s,a){l.m(s,a),ne(s,t,a),r=!0},p(s,a){a&8&&kn(e,e=s[3])?(pn(),Ge(l,1,1,Dt),gn(),l=to(s),l.c(),He(l,1),l.m(t.parentNode,t)):l.p(s,a)},i(s){r||(He(l),r=!0)},o(s){Ge(l),r=!1},d(s){s&&b(t),l.d(s)}}}function Ed(n){let e,t;return e=new vc({}),{c(){nn(e.$$.fragment)},l(r){tn(e.$$.fragment,r)},m(r,l){en(e,r,l),t=!0},p:Dt,i(r){t||(He(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){$t(e,r)}}}function to(n){let e,t;return e=new Hc({props:{tripId:n[3]}}),{c(){nn(e.$$.fragment)},l(r){tn(e.$$.fragment,r)},m(r,l){en(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(He(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){$t(e,r)}}}function Sd(n){let e,t,r,l;const s=[_d,gd],a=[];function u(f,h){return f[4]==="print"&&f[3]>-1?0:1}return e=u(n),t=a[e]=s[e](n),{c(){t.c(),r=St()},l(f){t.l(f),r=St()},m(f,h){a[e].m(f,h),ne(f,r,h),l=!0},p(f,[h]){let m=e;e=u(f),e===m?a[e].p(f,h):(pn(),Ge(a[m],1,1,()=>{a[m]=null}),gn(),t=a[e],t?t.p(f,h):(t=a[e]=s[e](f),t.c()),He(t,1),t.m(r.parentNode,r))},i(f){l||(He(t),l=!0)},o(f){Ge(t),l=!1},d(f){f&&b(r),a[e].d(f)}}}function Dd(n,e,t){let r,l,s,a,u,f,h=Dt,m=()=>(h(),h=oi(r,F=>t(3,f=F)),r),v,E=Dt,P=()=>(E(),E=oi(s,F=>t(4,v=F)),s),D,S=Dt,N=()=>(S(),S=oi(l,F=>t(5,D=F)),l),L;Ln(n,li,F=>t(8,u=F)),Ln(n,jo,F=>t(6,L=F)),n.$$.on_destroy.push(()=>h()),n.$$.on_destroy.push(()=>E()),n.$$.on_destroy.push(()=>S());const M=new RegExp("#/(?<route>[a-z]+)(?<tripId>/[0-9]+|$)");function H(){var F;(F=document.getElementById("tripToggle"))==null||F.classList.remove("show"),a?(ti(s,v=a.groups.route||"",v),v=="editreceipt"?ti(l,D=parseInt(a.groups.tripId.replace("/","")||"-1"),D):ti(r,f=parseInt(a.groups.tripId.replace("/","")||"-1"),f)):(ti(s,v="",v),ti(r,f=-1,f))}return Ro(()=>{du(u),H()}),n.$$.update=()=>{n.$$.dirty&64&&(a=M.exec(L.url.hash))},m(t(2,r=Wr(-1))),N(t(1,l=Wr(-1))),P(t(0,s=Wr(""))),[s,l,r,f,v,D,L]}class Cd extends An{constructor(e){super(),On(this,e,Dd,Sd,kn,{})}}function Td(n){let e,t,r;return t=new Cd({}),{c(){e=ee(),nn(t.$$.fragment),this.h()},l(l){No("svelte-1mxz4jk",document.head).forEach(b),e=$(l),tn(t.$$.fragment,l),this.h()},h(){document.title="Trippin'"},m(l,s){ne(l,e,s),en(t,l,s),r=!0},p:Dt,i(l){r||(He(t.$$.fragment,l),r=!0)},o(l){Ge(t.$$.fragment,l),r=!1},d(l){l&&b(e),$t(t,l)}}}class qd extends An{constructor(e){super(),On(this,e,null,Td,kn,{})}}export{Gi as D,qd as P};
