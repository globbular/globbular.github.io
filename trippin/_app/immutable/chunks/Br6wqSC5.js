import{n as Tt,O as Qo,P as Jo,d as y,Q as Xo,A as or,B as Or,s as En,F as An,c as Pn,u as Ln,g as Rn,a as Mn,x as p,i as le,e as v,f as T,h as H,k as ee,l as A,m as te,R as Eo,r as Ea,S as $o,p as Bt,z as On,T as Wt,U as Ne,V as Ua,W as rt,X as ai,b as nt,j as ze,t as Ke,v as ar,Y as Ga,Z as _a,_ as zt,$ as Kt,a0 as Tr,a1 as Ve,a2 as Hi,a3 as qi,a4 as Vr,o as Gn,y as li,a5 as ri,a6 as es,a7 as Hr,a8 as So,a9 as xa,I as ts,aa as ns,ab as Ni,ac as rs,ad as is}from"./Z0orwM1g.js";import{a as Be,t as Ue,S as Nn,i as Bn,g as _n,c as vn,d as cn,m as fn,e as dn,b as hn,f as Ur}from"./BXSA36yP.js";import{w as ii,b as as}from"./Ck-4zBCS.js";import{_ as Sa}from"./C1FmrZbK.js";import{p as ls}from"./DZtzROLk.js";const Co=typeof window<"u";let os=Co?()=>window.performance.now():()=>Date.now(),Ca=Co?n=>requestAnimationFrame(n):Tt;const qr=new Set;function Do(n){qr.forEach(e=>{e.c(n)||(qr.delete(e),e.f())}),qr.size!==0&&Ca(Do)}function ss(n){let e;return qr.size===0&&Ca(Do),{promise:new Promise(t=>{qr.add(e={c:n,f:t})}),abort(){qr.delete(e)}}}const Bi=new Map;let Fi=0;function us(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function cs(n,e){const t={stylesheet:Jo(e),rules:{}};return Bi.set(n,t),t}function fs(n,e,t,r,a,s,o,c=0){const d=16.666/r;let m=`{
`;for(let R=0;R<=1;R+=d){const x=e+(t-e)*s(R);m+=R*100+`%{${o(x,1-x)}}
`}const g=m+`100% {${o(t,1-t)}}
}`,b=`__svelte_${us(g)}_${c}`,I=Qo(n),{stylesheet:O,rules:C}=Bi.get(I)||cs(I,n);C[b]||(C[b]=!0,O.insertRule(`@keyframes ${b} ${g}`,O.cssRules.length));const D=n.style.animation||"";return n.style.animation=`${D?`${D}, `:""}${b} ${r}ms linear ${a}ms 1 both`,Fi+=1,b}function ds(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),a=t.length-r.length;a&&(n.style.animation=r.join(", "),Fi-=a,Fi||hs())}function hs(){Ca(()=>{Fi||(Bi.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&y(e)}),Bi.clear())})}function ps(n,e,t,r){if(!e)return Tt;const a=n.getBoundingClientRect();if(e.left===a.left&&e.right===a.right&&e.top===a.top&&e.bottom===a.bottom)return Tt;const{delay:s=0,duration:o=300,easing:c=Xo,start:d=os()+s,end:m=d+o,tick:g=Tt,css:b}=t(n,{from:e,to:a},r);let I=!0,O=!1,C;function D(){b&&(C=fs(n,0,1,o,s,c,b)),s||(O=!0)}function R(){b&&ds(n,C),I=!1}return ss(x=>{if(!O&&x>=d&&(O=!0),O&&x>=m&&(g(1,0),R()),!I)return!1;if(O){const X=x-d,oe=0+1*c(X/o);g(oe,1-oe)}return!0}),D(),g(0,1),R}function ms(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,a=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,gs(n,a)}}function gs(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),a=r.transform==="none"?"":r.transform;n.style.transform=`${a} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Nt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Gr(n,e){n.d(1),e.delete(n.key)}function _s(n,e){Ue(n,1,1,()=>{e.delete(n.key)})}function vs(n,e){n.f(),Gr(n,e)}function Ar(n,e,t,r,a,s,o,c,d,m,g,b){let I=n.length,O=s.length,C=I;const D={};for(;C--;)D[n[C].key]=C;const R=[],x=new Map,X=new Map,oe=[];for(C=O;C--;){const V=b(a,s,C),be=t(V);let re=o.get(be);re?oe.push(()=>re.p(V,e)):(re=m(be,V),re.c()),x.set(be,R[C]=re),be in D&&X.set(be,Math.abs(C-D[be]))}const q=new Set,ce=new Set;function ne(V){Be(V,1),V.m(c,g),o.set(V.key,V),g=V.first,O--}for(;I&&O;){const V=R[O-1],be=n[I-1],re=V.key,se=be.key;V===be?(g=V.first,I--,O--):x.has(se)?!o.has(re)||q.has(re)?ne(V):ce.has(se)?I--:X.get(re)>X.get(se)?(ce.add(re),ne(V)):(q.add(se),I--):(d(be,o),I--)}for(;I--;){const V=n[I];x.has(V.key)||d(V,o)}for(;O;)ne(R[O-1]);return or(oe),R}var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Io(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var To={exports:{}};(function(n,e){((t,r)=>{n.exports=r()})(Wa,function(){var t=function(i,l){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(u,f){u.__proto__=f}:function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}))(i,l)},r=function(){return(r=Object.assign||function(i){for(var l,u=1,f=arguments.length;u<f;u++)for(var h in l=arguments[u])Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h]);return i}).apply(this,arguments)};function a(i,l,u){for(var f,h=0,_=l.length;h<_;h++)!f&&h in l||((f=f||Array.prototype.slice.call(l,0,h))[h]=l[h]);return i.concat(f||Array.prototype.slice.call(l))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Wa,o=Object.keys,c=Array.isArray;function d(i,l){return typeof l=="object"&&o(l).forEach(function(u){i[u]=l[u]}),i}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var m=Object.getPrototypeOf,g={}.hasOwnProperty;function b(i,l){return g.call(i,l)}function I(i,l){typeof l=="function"&&(l=l(m(i))),(typeof Reflect>"u"?o:Reflect.ownKeys)(l).forEach(function(u){C(i,u,l[u])})}var O=Object.defineProperty;function C(i,l,u,f){O(i,l,d(u&&b(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function D(i){return{from:function(l){return i.prototype=Object.create(l.prototype),C(i.prototype,"constructor",i),{extend:I.bind(null,i.prototype)}}}}var R=Object.getOwnPropertyDescriptor,x=[].slice;function X(i,l,u){return x.call(i,l,u)}function oe(i,l){return l(i)}function q(i){if(!i)throw new Error("Assertion Failed")}function ce(i){s.setImmediate?setImmediate(i):setTimeout(i,0)}function ne(i,l){if(typeof l=="string"&&b(i,l))return i[l];if(!l)return i;if(typeof l!="string"){for(var u=[],f=0,h=l.length;f<h;++f){var _=ne(i,l[f]);u.push(_)}return u}var w,E=l.indexOf(".");return E===-1||(w=i[l.substr(0,E)])==null?void 0:ne(w,l.substr(E+1))}function V(i,l,u){if(i&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof l!="string"&&"length"in l){q(typeof u!="string"&&"length"in u);for(var f=0,h=l.length;f<h;++f)V(i,l[f],u[f])}else{var _,w,E=l.indexOf(".");E!==-1?(_=l.substr(0,E),(E=l.substr(E+1))===""?u===void 0?c(i)&&!isNaN(parseInt(_))?i.splice(_,1):delete i[_]:i[_]=u:V(w=(w=i[_])&&b(i,_)?w:i[_]={},E,u)):u===void 0?c(i)&&!isNaN(parseInt(l))?i.splice(l,1):delete i[l]:i[l]=u}}function be(i){var l,u={};for(l in i)b(i,l)&&(u[l]=i[l]);return u}var re=[].concat;function se(i){return re.apply([],i)}var pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(se([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(l){return l+i+"Array"})}))).filter(function(i){return s[i]}),Ce=new Set(pe.map(function(i){return s[i]})),ve=null;function me(i){return ve=new WeakMap,i=function l(u){if(!u||typeof u!="object")return u;var f=ve.get(u);if(f)return f;if(c(u)){f=[],ve.set(u,f);for(var h=0,_=u.length;h<_;++h)f.push(l(u[h]))}else if(Ce.has(u.constructor))f=u;else{var w,E=m(u);for(w in f=E===Object.prototype?{}:Object.create(E),ve.set(u,f),u)b(u,w)&&(f[w]=l(u[w]))}return f}(i),ve=null,i}var J={}.toString;function fe(i){return J.call(i).slice(8,-1)}var _e=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ae=typeof _e=="symbol"?function(i){var l;return i!=null&&(l=i[_e])&&l.apply(i)}:function(){return null};function ie(i,l){l=i.indexOf(l),0<=l&&i.splice(l,1)}var S={};function P(i){var l,u,f,h;if(arguments.length===1){if(c(i))return i.slice();if(this===S&&typeof i=="string")return[i];if(h=ae(i))for(u=[];!(f=h.next()).done;)u.push(f.value);else{if(i==null)return[i];if(typeof(l=i.length)!="number")return[i];for(u=new Array(l);l--;)u[l]=i[l]}}else for(l=arguments.length,u=new Array(l);l--;)u[l]=arguments[l];return u}var j=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Le=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pe),de={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Y(i,l){this.name=i,this.message=l}function Z(i,l){return i+". Errors: "+Object.keys(l).map(function(u){return l[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function W(i,l,u,f){this.failures=l,this.failedKeys=f,this.successCount=u,this.message=Z(i,l)}function ue(i,l){this.name="BulkError",this.failures=Object.keys(l).map(function(u){return l[u]}),this.failuresByPos=l,this.message=Z(i,this.failures)}D(Y).from(Error).extend({toString:function(){return this.name+": "+this.message}}),D(W).from(Y),D(ue).from(Y);var Oe=Le.reduce(function(i,l){return i[l]=l+"Error",i},{}),Ee=Y,he=Le.reduce(function(i,l){var u=l+"Error";function f(h,_){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(_?`
 `+_:""),this.inner=_||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=de[l]||u,this.inner=null)}return D(f).from(Ee),i[l]=f,i},{}),et=(he.Syntax=SyntaxError,he.Type=TypeError,he.Range=RangeError,pe.reduce(function(i,l){return i[l+"Error"]=he[l],i},{}));pe=Le.reduce(function(i,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(i[l+"Error"]=he[l]),i},{});function Fe(){}function Je(i){return i}function ct(i,l){return i==null||i===Je?l:function(u){return l(i(u))}}function He(i,l){return function(){i.apply(this,arguments),l.apply(this,arguments)}}function bt(i,l){return i===Fe?l:function(){var u=i.apply(this,arguments),f=(u!==void 0&&(arguments[0]=u),this.onsuccess),h=this.onerror,_=(this.onsuccess=null,this.onerror=null,l.apply(this,arguments));return f&&(this.onsuccess=this.onsuccess?He(f,this.onsuccess):f),h&&(this.onerror=this.onerror?He(h,this.onerror):h),_!==void 0?_:u}}function jt(i,l){return i===Fe?l:function(){i.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?He(u,this.onsuccess):u),f&&(this.onerror=this.onerror?He(f,this.onerror):f)}}function gt(i,l){return i===Fe?l:function(h){var f=i.apply(this,arguments),h=(d(h,f),this.onsuccess),_=this.onerror,w=(this.onsuccess=null,this.onerror=null,l.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?He(h,this.onsuccess):h),_&&(this.onerror=this.onerror?He(_,this.onerror):_),f===void 0?w===void 0?void 0:w:d(f,w)}}function tn(i,l){return i===Fe?l:function(){return l.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Dt(i,l){return i===Fe?l:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,_=new Array(h);h--;)_[h]=arguments[h];return u.then(function(){return l.apply(f,_)})}return l.apply(this,arguments)}}pe.ModifyError=W,pe.DexieError=Y,pe.BulkError=ue;var Pt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function yt(i){Pt=i}var wt={},We=100,Pe=typeof Promise>"u"?[]:(Le=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Pe=crypto.subtle.digest("SHA-512",new Uint8Array([0])),m(Pe),Le]:[Le,m(Le),Le]),Le=Pe[0],Kr=Pe[1],Kr=Kr&&Kr.then,_t=Le&&Le.constructor,Yt=!!Pe[2],Ht=function(i,l){rn.push([i,l]),dt&&(queueMicrotask(ut),dt=!1)},Zt=!0,dt=!0,ht=[],Qt=[],Xt=Je,Mt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Fe,pgp:!1,env:{},finalize:Fe},Me=Mt,rn=[],Ut=0,qt=[];function ke(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=Me;if(typeof i!="function"){if(i!==wt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&st(this,this._value)}else this._state=null,this._value=null,++l.ref,function u(f,h){try{h(function(_){if(f._state===null){if(_===f)throw new TypeError("A promise cannot be resolved with itself.");var w=f._lib&&vt();_&&typeof _.then=="function"?u(f,function(E,N){_ instanceof ke?_._then(E,N):_.then(E,N)}):(f._state=!0,f._value=_,kt(f)),w&&Lt()}},st.bind(null,f))}catch(_){st(f,_)}}(this,i)}var lt={get:function(){var i=Me,l=Cn;function u(f,h){var _=this,w=!i.global&&(i!==Me||l!==Cn),E=w&&!yn(),N=new ke(function(G,B){it(_,new xe(on(f,i,w,E),on(h,i,w,E),G,B,i))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return u.prototype=wt,u},set:function(i){C(this,"then",i&&i.prototype===wt?lt:{get:function(){return i},set:lt.set})}};function xe(i,l,u,f,h){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof l=="function"?l:null,this.resolve=u,this.reject=f,this.psd=h}function st(i,l){var u,f;Qt.push(l),i._state===null&&(u=i._lib&&vt(),l=Xt(l),i._state=!1,i._value=l,f=i,ht.some(function(h){return h._value===f._value})||ht.push(f),kt(i),u)&&Lt()}function kt(i){var l=i._listeners;i._listeners=[];for(var u=0,f=l.length;u<f;++u)it(i,l[u]);var h=i._PSD;--h.ref||h.finalize(),Ut===0&&(++Ut,Ht(function(){--Ut==0&&Ie()},[]))}function it(i,l){if(i._state===null)i._listeners.push(l);else{var u=i._state?l.onFulfilled:l.onRejected;if(u===null)return(i._state?l.resolve:l.reject)(i._value);++l.psd.ref,++Ut,Ht(It,[u,i,l])}}function It(i,l,u){try{var f,h=l._value;!l._state&&Qt.length&&(Qt=[]),f=Pt&&l._consoleTask?l._consoleTask.run(function(){return i(h)}):i(h),l._state||Qt.indexOf(h)!==-1||(_=>{for(var w=ht.length;w;)if(ht[--w]._value===_._value)return ht.splice(w,1)})(l),u.resolve(f)}catch(_){u.reject(_)}finally{--Ut==0&&Ie(),--u.psd.ref||u.psd.finalize()}}function ut(){pn(Mt,function(){vt()&&Lt()})}function vt(){var i=Zt;return dt=Zt=!1,i}function Lt(){var i,l,u;do for(;0<rn.length;)for(i=rn,rn=[],u=i.length,l=0;l<u;++l){var f=i[l];f[0].apply(null,f[1])}while(0<rn.length);dt=Zt=!0}function Ie(){for(var i=ht,l=(ht=[],i.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)}),qt.slice(0)),u=l.length;u;)l[--u]()}function $e(i){return new ke(wt,!1,i)}function Ye(i,l){var u=Me;return function(){var f=vt(),h=Me;try{return pt(u,!0),i.apply(this,arguments)}catch(_){l&&l(_)}finally{pt(h,!1),f&&Lt()}}}I(ke.prototype,{then:lt,_then:function(i,l){it(this,new xe(null,null,i,l,Me))},catch:function(i){var l,u;return arguments.length===1?this.then(null,i):(l=i,u=arguments[1],typeof l=="function"?this.then(null,function(f){return(f instanceof l?u:$e)(f)}):this.then(null,function(f){return(f&&f.name===l?u:$e)(f)}))},finally:function(i){return this.then(function(l){return ke.resolve(i()).then(function(){return l})},function(l){return ke.resolve(i()).then(function(){return $e(l)})})},timeout:function(i,l){var u=this;return i<1/0?new ke(function(f,h){var _=setTimeout(function(){return h(new he.Timeout(l))},i);u.then(f,h).finally(clearTimeout.bind(null,_))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(ke.prototype,Symbol.toStringTag,"Dexie.Promise"),Mt.env=sn(),I(ke,{all:function(){var i=P.apply(null,arguments).map(ot);return new ke(function(l,u){i.length===0&&l([]);var f=i.length;i.forEach(function(h,_){return ke.resolve(h).then(function(w){i[_]=w,--f||l(i)},u)})})},resolve:function(i){return i instanceof ke?i:i&&typeof i.then=="function"?new ke(function(l,u){i.then(l,u)}):new ke(wt,!0,i)},reject:$e,race:function(){var i=P.apply(null,arguments).map(ot);return new ke(function(l,u){i.map(function(f){return ke.resolve(f).then(l,u)})})},PSD:{get:function(){return Me},set:function(i){return Me=i}},totalEchoes:{get:function(){return Cn}},newPSD:bn,usePSD:pn,scheduler:{get:function(){return Ht},set:function(i){Ht=i}},rejectionMapper:{get:function(){return Xt},set:function(i){Xt=i}},follow:function(i,l){return new ke(function(u,f){return bn(function(h,_){var w=Me;w.unhandleds=[],w.onunhandled=_,w.finalize=He(function(){var E,N=this;E=function(){N.unhandleds.length===0?h():_(N.unhandleds[0])},qt.push(function G(){E(),qt.splice(qt.indexOf(G),1)}),++Ut,Ht(function(){--Ut==0&&Ie()},[])},w.finalize),i()},l,u,f)})}}),_t&&(_t.allSettled&&C(ke,"allSettled",function(){var i=P.apply(null,arguments).map(ot);return new ke(function(l){i.length===0&&l([]);var u=i.length,f=new Array(u);i.forEach(function(h,_){return ke.resolve(h).then(function(w){return f[_]={status:"fulfilled",value:w}},function(w){return f[_]={status:"rejected",reason:w}}).then(function(){return--u||l(f)})})})}),_t.any&&typeof AggregateError<"u"&&C(ke,"any",function(){var i=P.apply(null,arguments).map(ot);return new ke(function(l,u){i.length===0&&u(new AggregateError([]));var f=i.length,h=new Array(f);i.forEach(function(_,w){return ke.resolve(_).then(function(E){return l(E)},function(E){h[w]=E,--f||u(new AggregateError(h))})})})}),_t.withResolvers)&&(ke.withResolvers=_t.withResolvers);var Ze={awaits:0,echoes:0,id:0},Ge=0,at=[],Sn=0,Cn=0,xn=0;function bn(i,w,u,f){var h=Me,_=Object.create(h),w=(_.parent=h,_.ref=0,_.global=!1,_.id=++xn,Mt.env,_.env=Yt?{Promise:ke,PromiseProp:{value:ke,configurable:!0,writable:!0},all:ke.all,race:ke.race,allSettled:ke.allSettled,any:ke.any,resolve:ke.resolve,reject:ke.reject}:{},w&&d(_,w),++h.ref,_.finalize=function(){--this.parent.ref||this.parent.finalize()},pn(_,i,u,f));return _.ref===0&&_.finalize(),w}function ln(){return Ze.id||(Ze.id=++Ge),++Ze.awaits,Ze.echoes+=We,Ze.id}function yn(){return!!Ze.awaits&&(--Ze.awaits==0&&(Ze.id=0),Ze.echoes=Ze.awaits*We,!0)}function ot(i){return Ze.echoes&&i&&i.constructor===_t?(ln(),i.then(function(l){return yn(),l},function(l){return yn(),Rt(l)})):i}function Fn(){var i=at[at.length-1];at.pop(),pt(i,!1)}function pt(i,l){var u,f,h=Me;(l?!Ze.echoes||Sn++&&i===Me:!Sn||--Sn&&i===Me)||queueMicrotask(l?(function(_){++Cn,Ze.echoes&&--Ze.echoes!=0||(Ze.echoes=Ze.awaits=Ze.id=0),at.push(Me),pt(_,!0)}).bind(null,i):Fn),i!==Me&&(Me=i,h===Mt&&(Mt.env=sn()),Yt)&&(u=Mt.env.Promise,f=i.env,h.global||i.global)&&(Object.defineProperty(s,"Promise",f.PromiseProp),u.all=f.all,u.race=f.race,u.resolve=f.resolve,u.reject=f.reject,f.allSettled&&(u.allSettled=f.allSettled),f.any)&&(u.any=f.any)}function sn(){var i=s.Promise;return Yt?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function pn(i,l,u,f,h){var _=Me;try{return pt(i,!0),l(u,f,h)}finally{pt(_,!1)}}function on(i,l,u,f){return typeof i!="function"?i:function(){var h=Me;u&&ln(),pt(l,!0);try{return i.apply(this,arguments)}finally{pt(h,!1),f&&queueMicrotask(yn)}}}function sr(i){Promise===_t&&Ze.echoes===0?Sn===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Kr).indexOf("[native code]")===-1&&(ln=yn=Fe);var Rt=ke.reject,zn="ï¿¿",Kn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ur="String expected.",tr=[],Dn="__dbnames",Ft="readonly",jn="readwrite";function $t(i,l){return i?l?function(){return i.apply(this,arguments)&&l.apply(this,arguments)}:i:l}var cr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function un(i){return typeof i!="string"||/\./.test(i)?function(l){return l}:function(l){return l[i]===void 0&&i in l&&delete(l=me(l))[i],l}}function ci(){throw he.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function mt(i,l){try{var u=Lr(i),f=Lr(l);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return l<i?1:i<l?-1:0;case"binary":for(var h=fi(i),_=fi(l),w=h.length,E=_.length,N=w<E?w:E,G=0;G<N;++G)if(h[G]!==_[G])return h[G]<_[G]?-1:1;return w===E?0:w<E?-1:1;case"Array":for(var B=i,L=l,z=B.length,K=L.length,F=z<K?z:K,M=0;M<F;++M){var Q=mt(B[M],L[M]);if(Q!==0)return Q}return z===K?0:z<K?-1:1}}catch{}return NaN}function Lr(i){var l=typeof i;return l=="object"&&(ArrayBuffer.isView(i)||(l=fe(i))==="ArrayBuffer")?"binary":l}function fi(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function Rr(i,l,u){var f=i.schema.yProps;return f?(l&&0<u.numFailures&&(l=l.filter(function(h,_){return!u.failures[_]})),Promise.all(f.map(function(h){return h=h.updatesTable,l?i.db.table(h).where("k").anyOf(l).delete():i.db.table(h).clear()})).then(function(){return u})):u}di.prototype.execute=function(i){var l=this["@@propmod"];if(l.add!==void 0){var u=l.add;if(c(u))return a(a([],c(i)?i:[],!0),u).sort();if(typeof u=="number")return(Number(i)||0)+u;if(typeof u=="bigint")try{return BigInt(i)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(l.remove!==void 0){var f=l.remove;if(c(f))return c(i)?i.filter(function(h){return!f.includes(h)}).sort():[];if(typeof f=="number")return Number(i)-f;if(typeof f=="bigint")try{return BigInt(i)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return u=(u=l.replacePrefix)==null?void 0:u[0],u&&typeof i=="string"&&i.startsWith(u)?l.replacePrefix[1]+i.substring(u.length):i};var fr=di;function di(i){this["@@propmod"]=i}function Wr(i,l){for(var u=o(l),f=u.length,h=!1,_=0;_<f;++_){var w=u[_],E=l[w],N=ne(i,w);E instanceof fr?(V(i,w,E.execute(N)),h=!0):N!==E&&(V(i,w,E),h=!0)}return h}At.prototype._trans=function(i,l,u){var f=this._tx||Me.trans,h=this.name,_=Pt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function w(G,B,L){if(L.schema[h])return l(L.idbtrans,L);throw new he.NotFound("Table "+h+" not part of transaction")}var E=vt();try{var N=f&&f.db._novip===this.db._novip?f===Me.trans?f._promise(i,w,u):bn(function(){return f._promise(i,w,u)},{trans:f,transless:Me.transless||Me}):function G(B,L,z,K){if(B.idbdb&&(B._state.openComplete||Me.letThrough||B._vip)){var F=B._createTransaction(L,z,B._dbSchema);try{F.create(),B._state.PR1398_maxLoop=3}catch(M){return M.name===Oe.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return G(B,L,z,K)})):Rt(M)}return F._promise(L,function(M,Q){return bn(function(){return Me.trans=F,K(M,Q,F)})}).then(function(M){if(L==="readwrite")try{F.idbtrans.commit()}catch{}return L==="readonly"?M:F._completion.then(function(){return M})})}if(B._state.openComplete)return Rt(new he.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return Rt(new he.DatabaseClosed);B.open().catch(Fe)}return B._state.dbReadyPromise.then(function(){return G(B,L,z,K)})}(this.db,i,[this.name],w);return _&&(N._consoleTask=_,N=N.catch(function(G){return console.trace(G),Rt(G)})),N}finally{E&&Lt()}},At.prototype.get=function(i,l){var u=this;return i&&i.constructor===Object?this.where(i).first(l):i==null?Rt(new he.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:i}).then(function(h){return u.hook.reading.fire(h)})}).then(l)},At.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(c(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var l=o(i);if(l.length===1)return this.where(l[0]).equals(i[l[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(E){if(E.compound&&l.every(function(G){return 0<=E.keyPath.indexOf(G)})){for(var N=0;N<l.length;++N)if(l.indexOf(E.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(E,N){return E.keyPath.length-N.keyPath.length})[0];if(u&&this.db._maxKey!==zn)return w=u.keyPath.slice(0,l.length),this.where(w).equals(w.map(function(E){return i[E]}));!u&&Pt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var f=this.schema.idxByName;function h(E,N){return mt(E,N)===0}var w=l.reduce(function(B,N){var G=B[0],B=B[1],L=f[N],z=i[N];return[G||L,G||!L?$t(B,L&&L.multi?function(K){return K=ne(K,N),c(K)&&K.some(function(F){return h(z,F)})}:function(K){return h(z,ne(K,N))}):B]},[null,null]),_=w[0],w=w[1];return _?this.where(_.name).equals(i[_.keyPath]).filter(w):u?this.filter(w):this.where(l).equals("")},At.prototype.filter=function(i){return this.toCollection().and(i)},At.prototype.count=function(i){return this.toCollection().count(i)},At.prototype.offset=function(i){return this.toCollection().offset(i)},At.prototype.limit=function(i){return this.toCollection().limit(i)},At.prototype.each=function(i){return this.toCollection().each(i)},At.prototype.toArray=function(i){return this.toCollection().toArray(i)},At.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},At.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,c(i)?"[".concat(i.join("+"),"]"):i))},At.prototype.reverse=function(){return this.toCollection().reverse()},At.prototype.mapToClass=function(i){for(var l=this.db,u=this.name,f=((this.schema.mappedClass=i).prototype instanceof ci&&(i=(w=>{var E=B,N=w;if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function G(){this.constructor=E}function B(){return w!==null&&w.apply(this,arguments)||this}return t(E,N),E.prototype=N===null?Object.create(N):(G.prototype=N.prototype,new G),Object.defineProperty(B.prototype,"db",{get:function(){return l},enumerable:!1,configurable:!0}),B.prototype.table=function(){return u},B})(i)),new Set),h=i.prototype;h;h=m(h))Object.getOwnPropertyNames(h).forEach(function(w){return f.add(w)});function _(w){if(!w)return w;var E,N=Object.create(i.prototype);for(E in w)if(!f.has(E))try{N[E]=w[E]}catch{}return N}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),i},At.prototype.defineClass=function(){return this.mapToClass(function(i){d(this,i)})},At.prototype.add=function(i,l){var u=this,f=this.schema.primKey,h=f.auto,_=f.keyPath,w=i;return _&&h&&(w=un(_)(i)),this._trans("readwrite",function(E){return u.core.mutate({trans:E,type:"add",keys:l!=null?[l]:null,values:[w]})}).then(function(E){return E.numFailures?ke.reject(E.failures[0]):E.lastResult}).then(function(E){if(_)try{V(i,_,E)}catch{}return E})},At.prototype.upsert=function(i,l){var u=this,f=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return u.core.get({trans:h,key:i}).then(function(_){var w=_??{};return Wr(w,l),f&&V(w,f,i),u.core.mutate({trans:h,type:"put",values:[w],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[l]}}).then(function(E){return E.numFailures?ke.reject(E.failures[0]):!!_})})})},At.prototype.update=function(i,l){return typeof i!="object"||c(i)?this.where(":id").equals(i).modify(l):(i=ne(i,this.schema.primKey.keyPath))===void 0?Rt(new he.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(l)},At.prototype.put=function(i,l){var u=this,f=this.schema.primKey,h=f.auto,_=f.keyPath,w=i;return _&&h&&(w=un(_)(i)),this._trans("readwrite",function(E){return u.core.mutate({trans:E,type:"put",values:[w],keys:l!=null?[l]:null})}).then(function(E){return E.numFailures?ke.reject(E.failures[0]):E.lastResult}).then(function(E){if(_)try{V(i,_,E)}catch{}return E})},At.prototype.delete=function(i){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:[i]}).then(function(f){return Rr(l,[i],f)}).then(function(f){return f.numFailures?ke.reject(f.failures[0]):void 0})})},At.prototype.clear=function(){var i=this;return this._trans("readwrite",function(l){return i.core.mutate({trans:l,type:"deleteRange",range:cr}).then(function(u){return Rr(i,null,u)})}).then(function(l){return l.numFailures?ke.reject(l.failures[0]):void 0})},At.prototype.bulkGet=function(i){var l=this;return this._trans("readonly",function(u){return l.core.getMany({keys:i,trans:u}).then(function(f){return f.map(function(h){return l.hook.reading.fire(h)})})})},At.prototype.bulkAdd=function(i,l,u){var f=this,h=Array.isArray(l)?l:void 0,_=(u=u||(h?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(w){var E=f.schema.primKey,G=E.auto,E=E.keyPath;if(E&&h)throw new he.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==i.length)throw new he.InvalidArgument("Arguments objects and keys must have the same length");var N=i.length,G=E&&G?i.map(un(E)):i;return f.core.mutate({trans:w,type:"add",keys:h,values:G,wantResults:_}).then(function(B){var L=B.numFailures,z=B.failures;if(L===0)return _?B.results:B.lastResult;throw new ue("".concat(f.name,".bulkAdd(): ").concat(L," of ").concat(N," operations failed"),z)})})},At.prototype.bulkPut=function(i,l,u){var f=this,h=Array.isArray(l)?l:void 0,_=(u=u||(h?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(w){var E=f.schema.primKey,G=E.auto,E=E.keyPath;if(E&&h)throw new he.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==i.length)throw new he.InvalidArgument("Arguments objects and keys must have the same length");var N=i.length,G=E&&G?i.map(un(E)):i;return f.core.mutate({trans:w,type:"put",keys:h,values:G,wantResults:_}).then(function(B){var L=B.numFailures,z=B.failures;if(L===0)return _?B.results:B.lastResult;throw new ue("".concat(f.name,".bulkPut(): ").concat(L," of ").concat(N," operations failed"),z)})})},At.prototype.bulkUpdate=function(i){var l=this,u=this.core,f=i.map(function(w){return w.key}),h=i.map(function(w){return w.changes}),_=[];return this._trans("readwrite",function(w){return u.getMany({trans:w,keys:f,cache:"clone"}).then(function(E){var N=[],G=[],B=(i.forEach(function(L,z){var K=L.key,F=L.changes,M=E[z];if(M){for(var Q=0,$=Object.keys(F);Q<$.length;Q++){var U=$[Q],ge=F[U];if(U===l.schema.primKey.keyPath){if(mt(ge,K)!==0)throw new he.Constraint("Cannot update primary key in bulkUpdate()")}else V(M,U,ge)}_.push(z),N.push(K),G.push(M)}}),N.length);return u.mutate({trans:w,type:"put",keys:N,values:G,updates:{keys:f,changeSpecs:h}}).then(function(L){var z=L.numFailures,K=L.failures;if(z===0)return B;for(var F=0,M=Object.keys(K);F<M.length;F++){var Q,$=M[F],U=_[Number($)];U!=null&&(Q=K[$],delete K[$],K[U]=Q)}throw new ue("".concat(l.name,".bulkUpdate(): ").concat(z," of ").concat(B," operations failed"),K)})})})},At.prototype.bulkDelete=function(i){var l=this,u=i.length;return this._trans("readwrite",function(f){return l.core.mutate({trans:f,type:"delete",keys:i}).then(function(h){return Rr(l,i,h)})}).then(function(f){var h=f.numFailures,_=f.failures;if(h===0)return f.lastResult;throw new ue("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),_)})};var hi=At;function At(){}function gr(i){function l(w,E){if(E){for(var N=arguments.length,G=new Array(N-1);--N;)G[N-1]=arguments[N];return u[w].subscribe.apply(null,G),i}if(typeof w=="string")return u[w]}var u={};l.addEventType=_;for(var f=1,h=arguments.length;f<h;++f)_(arguments[f]);return l;function _(w,E,N){var G,B;if(typeof w!="object")return E=E||tn,B={subscribers:[],fire:N=N||Fe,subscribe:function(L){B.subscribers.indexOf(L)===-1&&(B.subscribers.push(L),B.fire=E(B.fire,L))},unsubscribe:function(L){B.subscribers=B.subscribers.filter(function(z){return z!==L}),B.fire=B.subscribers.reduce(E,N)}},u[w]=l[w]=B;o(G=w).forEach(function(L){var z=G[L];if(c(z))_(L,G[L][0],G[L][1]);else{if(z!=="asap")throw new he.InvalidArgument("Invalid event config");var K=_(L,Je,function(){for(var F=arguments.length,M=new Array(F);F--;)M[F]=arguments[F];K.subscribers.forEach(function(Q){ce(function(){Q.apply(null,M)})})})}})}}function Wn(i,l){return D(l).from({prototype:i}),l}function nr(i,l){return!(i.filter||i.algorithm||i.or)&&(l?i.justLimit:!i.replayFilter)}function _r(i,l){i.filter=$t(i.filter,l)}function dr(i,l,u){var f=i.replayFilter;i.replayFilter=f?function(){return $t(f(),l())}:l,i.justLimit=u&&!f}function Mr(i,l){if(i.isPrimKey)return l.primaryKey;var u=l.getIndexByKeyPath(i.index);if(u)return u;throw new he.Schema("KeyPath "+i.index+" on object store "+l.name+" is not indexed")}function hr(i,l,u){var f=Mr(i,l.schema);return l.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:f,range:i.range}})}function Nr(i,l,u,f){var h,_,w=i.replayFilter?$t(i.filter,i.replayFilter()):i.filter;return i.or?(h={},_=function(E,N,G){var B,L;w&&!w(N,G,function(z){return N.stop(z)},function(z){return N.fail(z)})||((L=""+(B=N.primaryKey))=="[object ArrayBuffer]"&&(L=""+new Uint8Array(B)),b(h,L))||(h[L]=!0,l(E,N,G))},Promise.all([i.or._iterate(_,u),pi(hr(i,f,u),i.algorithm,_,!i.keysOnly&&i.valueMapper)])):pi(hr(i,f,u),$t(i.algorithm,w),l,!i.keysOnly&&i.valueMapper)}function pi(i,l,u,f){var h=Ye(f?function(_,w,E){return u(f(_),w,E)}:u);return i.then(function(_){if(_)return _.start(function(){var w=function(){return _.continue()};l&&!l(_,function(E){return w=E},function(E){_.stop(E),w=Fe},function(E){_.fail(E),w=Fe})||h(_.value,_,function(E){return w=E}),w()})})}Et.prototype._read=function(i,l){var u=this._ctx;return u.error?u.table._trans(null,Rt.bind(null,u.error)):u.table._trans("readonly",i).then(l)},Et.prototype._write=function(i){var l=this._ctx;return l.error?l.table._trans(null,Rt.bind(null,l.error)):l.table._trans("readwrite",i,"locked")},Et.prototype._addAlgorithm=function(i){var l=this._ctx;l.algorithm=$t(l.algorithm,i)},Et.prototype._iterate=function(i,l){return Nr(this._ctx,i,l,this._ctx.table.core)},Et.prototype.clone=function(i){var l=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&d(u,i),l._ctx=u,l},Et.prototype.raw=function(){return this._ctx.valueMapper=null,this},Et.prototype.each=function(i){var l=this._ctx;return this._read(function(u){return Nr(l,i,u,l.table.core)})},Et.prototype.count=function(i){var l=this;return this._read(function(u){var f,h=l._ctx,_=h.table.core;return nr(h,!0)?_.count({trans:u,query:{index:Mr(h,_.schema),range:h.range}}).then(function(w){return Math.min(w,h.limit)}):(f=0,Nr(h,function(){return++f,!1},u,_).then(function(){return f}))}).then(i)},Et.prototype.sortBy=function(i,l){var u=i.split(".").reverse(),f=u[0],h=u.length-1;function _(N,G){return G?_(N[u[G]],G-1):N[f]}var w=this._ctx.dir==="next"?1:-1;function E(N,G){return mt(_(N,h),_(G,h))*w}return this.toArray(function(N){return N.sort(E)}).then(l)},Et.prototype.toArray=function(i){var l=this;return this._read(function(u){var f,h,_,w=l._ctx;return w.dir==="next"&&nr(w,!0)&&0<w.limit?(f=w.valueMapper,h=Mr(w,w.table.core.schema),w.table.core.query({trans:u,limit:w.limit,values:!0,query:{index:h,range:w.range}}).then(function(E){return E=E.result,f?E.map(f):E})):(_=[],Nr(w,function(E){return _.push(E)},u,w.table.core).then(function(){return _}))},i)},Et.prototype.offset=function(i){var l=this._ctx;return i<=0||(l.offset+=i,nr(l)?dr(l,function(){var u=i;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):dr(l,function(){var u=i;return function(){return--u<0}})),this},Et.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),dr(this._ctx,function(){var l=i;return function(u,f,h){return--l<=0&&f(h),0<=l}},!0),this},Et.prototype.until=function(i,l){return _r(this._ctx,function(u,f,h){return!i(u.value)||(f(h),l)}),this},Et.prototype.first=function(i){return this.limit(1).toArray(function(l){return l[0]}).then(i)},Et.prototype.last=function(i){return this.reverse().first(i)},Et.prototype.filter=function(i){var l;return _r(this._ctx,function(u){return i(u.value)}),(l=this._ctx).isMatch=$t(l.isMatch,i),this},Et.prototype.and=function(i){return this.filter(i)},Et.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Et.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Et.prototype.desc=function(){return this.reverse()},Et.prototype.eachKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,f){i(f.key,f)})},Et.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Et.prototype.eachPrimaryKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,f){i(f.primaryKey,f)})},Et.prototype.keys=function(i){var l=this._ctx,u=(l.keysOnly=!l.isMatch,[]);return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(i)},Et.prototype.primaryKeys=function(i){var l=this._ctx;if(l.dir==="next"&&nr(l,!0)&&0<l.limit)return this._read(function(f){var h=Mr(l,l.table.core.schema);return l.table.core.query({trans:f,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(f){return f.result}).then(i);l.keysOnly=!l.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(i)},Et.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Et.prototype.firstKey=function(i){return this.limit(1).keys(function(l){return l[0]}).then(i)},Et.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Et.prototype.distinct=function(){var i,l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];return l&&l.multi&&(i={},_r(this._ctx,function(f){var f=f.primaryKey.toString(),h=b(i,f);return i[f]=!0,!h})),this},Et.prototype.modify=function(i){var l=this,u=this._ctx;return this._write(function(f){function h(M,Q){var $=Q.failures;z+=M-Q.numFailures;for(var U=0,ge=o($);U<ge.length;U++){var we=ge[U];L.push($[we])}}var _=typeof i=="function"?i:function(M){return Wr(M,i)},w=u.table.core,B=w.schema.primaryKey,E=B.outbound,N=B.extractKey,G=200,B=l.db._options.modifyChunkSize,L=(B&&(G=typeof B=="object"?B[w.name]||B["*"]||200:B),[]),z=0,K=[],F=i===mi;return l.clone().primaryKeys().then(function(M){function Q(U){var ge=Math.min(G,M.length-U),we=M.slice(U,U+ge);return(F?Promise.resolve([]):w.getMany({trans:f,keys:we,cache:"immutable"})).then(function(Te){var Ae=[],Se=[],je=E?[]:null,Re=F?we:[];if(!F)for(var De=0;De<ge;++De){var qe=Te[De],St={value:me(qe),primKey:M[U+De]};_.call(St,St.value,St)!==!1&&(St.value==null?Re.push(M[U+De]):E||mt(N(qe),N(St.value))===0?(Se.push(St.value),E&&je.push(M[U+De])):(Re.push(M[U+De]),Ae.push(St.value)))}return Promise.resolve(0<Ae.length&&w.mutate({trans:f,type:"add",values:Ae}).then(function(Ot){for(var Qe in Ot.failures)Re.splice(parseInt(Qe),1);h(Ae.length,Ot)})).then(function(){return(0<Se.length||$&&typeof i=="object")&&w.mutate({trans:f,type:"put",keys:je,values:Se,criteria:$,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<U}).then(function(Ot){return h(Se.length,Ot)})}).then(function(){return(0<Re.length||$&&F)&&w.mutate({trans:f,type:"delete",keys:Re,criteria:$,isAdditionalChunk:0<U}).then(function(Ot){return Rr(u.table,Re,Ot)}).then(function(Ot){return h(Re.length,Ot)})}).then(function(){return M.length>U+ge&&Q(U+G)})})}var $=nr(u)&&u.limit===1/0&&(typeof i!="function"||F)&&{index:u.index,range:u.range};return Q(0).then(function(){if(0<L.length)throw new W("Error modifying one or more objects",L,z,K);return M.length})})})},Et.prototype.delete=function(){var i=this._ctx,l=i.range;return!nr(i)||i.table.schema.yProps||!i.isPrimKey&&l.type!==3?this.modify(mi):this._write(function(u){var f=i.table.core.schema.primaryKey,h=l;return i.table.core.count({trans:u,query:{index:f,range:h}}).then(function(_){return i.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(N){var E=N.failures,N=N.numFailures;if(N)throw new W("Could not delete some values",Object.keys(E).map(function(G){return E[G]}),_-N);return _-N})})})};var Vi=Et;function Et(){}var mi=function(i,l){return l.value=null};function Ui(i,l){return i<l?-1:i===l?0:1}function Gi(i,l){return l<i?-1:i===l?0:1}function wn(i,l,u){return i=i instanceof Qn?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(l),i}function pr(i){return new i.Collection(i,function(){return vr("")}).limit(0)}function Br(K,l,u,f){var h,_,w,E,N,G,B,L=u.length;if(!u.every(function(M){return typeof M=="string"}))return wn(K,ur);function z(M){h=M==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},_=M==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},w=M==="next"?Ui:Gi;var Q=u.map(function($){return{lower:_($),upper:h($)}}).sort(function($,U){return w($.lower,U.lower)});E=Q.map(function($){return $.upper}),N=Q.map(function($){return $.lower}),B=(G=M)==="next"?"":f}z("next");var K=new K.Collection(K,function(){return In(E[0],N[L-1]+f)}),F=(K._ondirectionchange=function(M){z(M)},0);return K._addAlgorithm(function(M,Q,$){var U=M.key;if(typeof U=="string"){var ge=_(U);if(l(ge,N,F))return!0;for(var we=null,Te=F;Te<L;++Te){var Ae=((Se,je,Re,De,qe,St)=>{for(var Ot=Math.min(Se.length,De.length),Qe=-1,ft=0;ft<Ot;++ft){var xt=je[ft];if(xt!==De[ft])return qe(Se[ft],Re[ft])<0?Se.substr(0,ft)+Re[ft]+Re.substr(ft+1):qe(Se[ft],De[ft])<0?Se.substr(0,ft)+De[ft]+Re.substr(ft+1):0<=Qe?Se.substr(0,Qe)+je[Qe]+Re.substr(Qe+1):null;qe(Se[ft],xt)<0&&(Qe=ft)}return Ot<De.length&&St==="next"?Se+Re.substr(Se.length):Ot<Se.length&&St==="prev"?Se.substr(0,Re.length):Qe<0?null:Se.substr(0,Qe)+De[Qe]+Re.substr(Qe+1)})(U,ge,E[Te],N[Te],w,G);Ae===null&&we===null?F=Te+1:(we===null||0<w(we,Ae))&&(we=Ae)}Q(we!==null?function(){M.continue(we+B)}:$)}return!1}),K}function In(i,l,u,f){return{type:2,lower:i,upper:l,lowerOpen:u,upperOpen:f}}function vr(i){return{type:1,lower:i,upper:i}}Object.defineProperty(nn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),nn.prototype.between=function(i,l,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(i,l)||this._cmp(i,l)===0&&(u||f)&&(!u||!f)?pr(this):new this.Collection(this,function(){return In(i,l,!u,!f)})}catch{return wn(this,Kn)}},nn.prototype.equals=function(i){return i==null?wn(this,Kn):new this.Collection(this,function(){return vr(i)})},nn.prototype.above=function(i){return i==null?wn(this,Kn):new this.Collection(this,function(){return In(i,void 0,!0)})},nn.prototype.aboveOrEqual=function(i){return i==null?wn(this,Kn):new this.Collection(this,function(){return In(i,void 0,!1)})},nn.prototype.below=function(i){return i==null?wn(this,Kn):new this.Collection(this,function(){return In(void 0,i,!1,!0)})},nn.prototype.belowOrEqual=function(i){return i==null?wn(this,Kn):new this.Collection(this,function(){return In(void 0,i)})},nn.prototype.startsWith=function(i){return typeof i!="string"?wn(this,ur):this.between(i,i+zn,!0,!0)},nn.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Br(this,function(l,u){return l.indexOf(u[0])===0},[i],zn)},nn.prototype.equalsIgnoreCase=function(i){return Br(this,function(l,u){return l===u[0]},[i],"")},nn.prototype.anyOfIgnoreCase=function(){var i=P.apply(S,arguments);return i.length===0?pr(this):Br(this,function(l,u){return u.indexOf(l)!==-1},i,"")},nn.prototype.startsWithAnyOfIgnoreCase=function(){var i=P.apply(S,arguments);return i.length===0?pr(this):Br(this,function(l,u){return u.some(function(f){return l.indexOf(f)===0})},i,zn)},nn.prototype.anyOf=function(){var i,l,u=this,f=P.apply(S,arguments),h=this._cmp;try{f.sort(h)}catch{return wn(this,Kn)}return f.length===0?pr(this):((i=new this.Collection(this,function(){return In(f[0],f[f.length-1])}))._ondirectionchange=function(_){h=_==="next"?u._ascending:u._descending,f.sort(h)},l=0,i._addAlgorithm(function(_,w,E){for(var N=_.key;0<h(N,f[l]);)if(++l===f.length)return w(E),!1;return h(N,f[l])===0||(w(function(){_.continue(f[l])}),!1)}),i)},nn.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},nn.prototype.noneOf=function(){var i=P.apply(S,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return wn(this,Kn)}var l=i.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return l.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},nn.prototype.inAnyRange=function(i,$){var u=this,f=this._cmp,h=this._ascending,_=this._descending,w=this._min,E=this._max;if(i.length===0)return pr(this);if(!i.every(function(U){return U[0]!==void 0&&U[1]!==void 0&&h(U[0],U[1])<=0}))return wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",he.InvalidArgument);var N=!$||$.includeLowers!==!1,G=$&&$.includeUppers===!0,B,L=h;function z(U,ge){return L(U[0],ge[0])}try{(B=i.reduce(function(U,ge){for(var we=0,Te=U.length;we<Te;++we){var Ae=U[we];if(f(ge[0],Ae[1])<0&&0<f(ge[1],Ae[0])){Ae[0]=w(Ae[0],ge[0]),Ae[1]=E(Ae[1],ge[1]);break}}return we===Te&&U.push(ge),U},[])).sort(z)}catch{return wn(this,Kn)}var K=0,F=G?function(U){return 0<h(U,B[K][1])}:function(U){return 0<=h(U,B[K][1])},M=N?function(U){return 0<_(U,B[K][0])}:function(U){return 0<=_(U,B[K][0])},Q=F,$=new this.Collection(this,function(){return In(B[0][0],B[B.length-1][1],!N,!G)});return $._ondirectionchange=function(U){L=U==="next"?(Q=F,h):(Q=M,_),B.sort(z)},$._addAlgorithm(function(U,ge,we){for(var Te,Ae=U.key;Q(Ae);)if(++K===B.length)return ge(we),!1;return!F(Te=Ae)&&!M(Te)||(u._cmp(Ae,B[K][1])===0||u._cmp(Ae,B[K][0])===0||ge(function(){L===h?U.continue(B[K][0]):U.continue(B[K][1])}),!1)}),$},nn.prototype.startsWithAnyOf=function(){var i=P.apply(S,arguments);return i.every(function(l){return typeof l=="string"})?i.length===0?pr(this):this.inAnyRange(i.map(function(l){return[l,l+zn]})):wn(this,"startsWithAnyOf() only works with strings")};var Qn=nn;function nn(){}function Hn(i){return Ye(function(l){return rr(l),i(l.target.error),!1})}function rr(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var br="storagemutated",yr="x-storagemutated-1",Jn=gr(null,br),Yn=(qn.prototype._lock=function(){return q(!Me.global),++this._reculock,this._reculock!==1||Me.global||(Me.lockOwnerFor=this),this},qn.prototype._unlock=function(){if(q(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{pn(i[1],i[0])}catch{}}return this},qn.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},qn.prototype.create=function(i){var l=this;if(this.mode){var u=this.db.idbdb,f=this.db._state.dbOpenError;if(q(!this.idbtrans),!i&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new he.DatabaseClosed(f);case"MissingAPIError":throw new he.MissingAPI(f.message,f);default:throw new he.OpenFailed(f)}if(!this.active)throw new he.TransactionInactive;q(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ye(function(h){rr(h),l._reject(i.error)}),i.onabort=Ye(function(h){rr(h),l.active&&l._reject(new he.Abort(i.error)),l.active=!1,l.on("abort").fire(h)}),i.oncomplete=Ye(function(){l.active=!1,l._resolve(),"mutatedParts"in i&&Jn.storagemutated.fire(i.mutatedParts)})}return this},qn.prototype._promise=function(i,l,u){var f,h=this;return i==="readwrite"&&this.mode!=="readwrite"?Rt(new he.ReadOnly("Transaction is readonly")):this.active?this._locked()?new ke(function(_,w){h._blockedFuncs.push([function(){h._promise(i,l,u).then(_,w)},Me])}):u?bn(function(){var _=new ke(function(w,E){h._lock();var N=l(w,E,h);N&&N.then&&N.then(w,E)});return _.finally(function(){return h._unlock()}),_._lib=!0,_}):((f=new ke(function(_,w){var E=l(_,w,h);E&&E.then&&E.then(_,w)}))._lib=!0,f):Rt(new he.TransactionInactive)},qn.prototype._root=function(){return this.parent?this.parent._root():this},qn.prototype.waitFor=function(i){var l,u=this._root(),f=ke.resolve(i),h=(u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],l=u.idbtrans.objectStore(u.storeNames[0]),function _(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(l.get(-1/0).onsuccess=_)}()),u._waitingFor);return new ke(function(_,w){f.then(function(E){return u._waitingQueue.push(Ye(_.bind(null,E)))},function(E){return u._waitingQueue.push(Ye(w.bind(null,E)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},qn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new he.Abort))},qn.prototype.table=function(i){var l=this._memoizedTables||(this._memoizedTables={});if(b(l,i))return l[i];var u=this.schema[i];if(u)return(u=new this.db.Table(i,u,this)).core=this.db.core.table(i),l[i]=u;throw new he.NotFound("Table "+i+" not part of transaction")},qn);function qn(){}function Fr(i,l,u,f,h,_,w,E){return{name:i,keyPath:l,unique:u,multi:f,auto:h,compound:_,src:(u&&!w?"&":"")+(f?"*":"")+(h?"++":"")+gi(l),type:E}}function gi(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Yr(i,l,u){return{name:i,primKey:l,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,_,w){return _=f(_,w),_&&(h[_[0]]=_[1]),h},{}))};var f}var wr=function(i){try{return i.only([[]]),wr=function(){return[[]]},[[]]}catch{return wr=function(){return zn},zn}};function Zr(i){return i==null?function(){}:typeof i=="string"?(l=i).split(".").length===1?function(u){return u[l]}:function(u){return ne(u,l)}:function(u){return ne(u,i)};var l}function _i(i){return[].slice.call(i)}var xi=0;function kr(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Wi(i,l,N){function f(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var L=F.lower,z=F.upper,K=F.lowerOpen,F=F.upperOpen;return L===void 0?z===void 0?null:l.upperBound(z,!!F):z===void 0?l.lowerBound(L,!!K):l.bound(L,z,!!K,!!F)}function h(B){var L,z=B.name;return{name:z,schema:B,mutate:function(K){var F=K.trans,M=K.type,Q=K.keys,$=K.values,U=K.range;return new Promise(function(ge,we){ge=Ye(ge);var Te=F.objectStore(z),Ae=Te.keyPath==null,Se=M==="put"||M==="add";if(!Se&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var je,Re=(Q||$||{length:1}).length;if(Q&&$&&Q.length!==$.length)throw new Error("Given keys array must have same length as given values array.");if(Re===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function De(Jt){++Ot,rr(Jt)}var qe=[],St=[],Ot=0;if(M==="deleteRange"){if(U.type===4)return ge({numFailures:Ot,failures:St,results:[],lastResult:void 0});U.type===3?qe.push(je=Te.clear()):qe.push(je=Te.delete(f(U)))}else{var Ae=Se?Ae?[$,Q]:[$,null]:[Q,null],Qe=Ae[0],ft=Ae[1];if(Se)for(var xt=0;xt<Re;++xt)qe.push(je=ft&&ft[xt]!==void 0?Te[M](Qe[xt],ft[xt]):Te[M](Qe[xt])),je.onerror=De;else for(xt=0;xt<Re;++xt)qe.push(je=Te[M](Qe[xt])),je.onerror=De}function Vn(Jt){Jt=Jt.target.result,qe.forEach(function(Cr,ua){return Cr.error!=null&&(St[ua]=Cr.error)}),ge({numFailures:Ot,failures:St,results:M==="delete"?Q:qe.map(function(Cr){return Cr.result}),lastResult:Jt})}je.onerror=function(Jt){De(Jt),Vn(Jt)},je.onsuccess=Vn})},getMany:function(K){var F=K.trans,M=K.keys;return new Promise(function(Q,$){Q=Ye(Q);for(var U,ge=F.objectStore(z),we=M.length,Te=new Array(we),Ae=0,Se=0,je=function(qe){qe=qe.target,Te[qe._pos]=qe.result,++Se===Ae&&Q(Te)},Re=Hn($),De=0;De<we;++De)M[De]!=null&&((U=ge.get(M[De]))._pos=De,U.onsuccess=je,U.onerror=Re,++Ae);Ae===0&&Q(Te)})},get:function(K){var F=K.trans,M=K.key;return new Promise(function(Q,$){Q=Ye(Q);var U=F.objectStore(z).get(M);U.onsuccess=function(ge){return Q(ge.target.result)},U.onerror=Hn($)})},query:(L=E,function(K){return new Promise(function(F,M){F=Ye(F);var Q,$,U,Se=K.trans,ge=K.values,we=K.limit,Ae=K.query,Te=we===1/0?void 0:we,je=Ae.index,Ae=Ae.range,Se=Se.objectStore(z),Se=je.isPrimaryKey?Se:Se.index(je.name),je=f(Ae);if(we===0)return F({result:[]});L?((Ae=ge?Se.getAll(je,Te):Se.getAllKeys(je,Te)).onsuccess=function(Re){return F({result:Re.target.result})},Ae.onerror=Hn(M)):(Q=0,$=!ge&&"openKeyCursor"in Se?Se.openKeyCursor(je):Se.openCursor(je),U=[],$.onsuccess=function(Re){var De=$.result;return!De||(U.push(ge?De.value:De.primaryKey),++Q===we)?F({result:U}):void De.continue()},$.onerror=Hn(M))})}),openCursor:function(K){var F=K.trans,M=K.values,Q=K.query,$=K.reverse,U=K.unique;return new Promise(function(ge,we){ge=Ye(ge);var Se=Q.index,Te=Q.range,Ae=F.objectStore(z),Ae=Se.isPrimaryKey?Ae:Ae.index(Se.name),Se=$?U?"prevunique":"prev":U?"nextunique":"next",je=!M&&"openKeyCursor"in Ae?Ae.openKeyCursor(f(Te),Se):Ae.openCursor(f(Te),Se);je.onerror=Hn(we),je.onsuccess=Ye(function(Re){var De,qe,St,Ot,Qe=je.result;Qe?(Qe.___id=++xi,Qe.done=!1,De=Qe.continue.bind(Qe),qe=(qe=Qe.continuePrimaryKey)&&qe.bind(Qe),St=Qe.advance.bind(Qe),Ot=function(){throw new Error("Cursor not stopped")},Qe.trans=F,Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=function(){throw new Error("Cursor not started")},Qe.fail=Ye(we),Qe.next=function(){var ft=this,xt=1;return this.start(function(){return xt--?ft.continue():ft.stop()}).then(function(){return ft})},Qe.start=function(ft){function xt(){if(je.result)try{ft()}catch(Jt){Qe.fail(Jt)}else Qe.done=!0,Qe.start=function(){throw new Error("Cursor behind last entry")},Qe.stop()}var Vn=new Promise(function(Jt,Cr){Jt=Ye(Jt),je.onerror=Hn(Cr),Qe.fail=Cr,Qe.stop=function(ua){Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=Ot,Jt(ua)}});return je.onsuccess=Ye(function(Jt){je.onsuccess=xt,xt()}),Qe.continue=De,Qe.continuePrimaryKey=qe,Qe.advance=St,xt(),Vn},ge(Qe)):ge(null)},we)})},count:function(K){var F=K.query,M=K.trans,Q=F.index,$=F.range;return new Promise(function(U,ge){var we=M.objectStore(z),we=Q.isPrimaryKey?we:we.index(Q.name),Te=f($),Te=Te?we.count(Te):we.count();Te.onsuccess=Ye(function(Ae){return U(Ae.target.result)}),Te.onerror=Hn(ge)})}}}_=N,w=_i((N=i).objectStoreNames);var _,N={schema:{name:N.name,tables:w.map(function(B){return _.objectStore(B)}).map(function(B){var L=B.keyPath,z=B.autoIncrement,F=c(L),K={},F={name:B.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:L==null,compound:F,keyPath:L,autoIncrement:z,unique:!0,extractKey:Zr(L)},indexes:_i(B.indexNames).map(function(M){return B.index(M)}).map(function(U){var ge=U.name,Q=U.unique,$=U.multiEntry,U=U.keyPath,ge={name:ge,compound:c(U),keyPath:U,unique:Q,multiEntry:$,extractKey:Zr(U)};return K[kr(U)]=ge}),getIndexByKeyPath:function(M){return K[kr(M)]}};return K[":id"]=F.primaryKey,L!=null&&(K[kr(L)]=F.primaryKey),F})},hasGetAll:0<w.length&&"getAll"in _.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=N.schema,E=N.hasGetAll,N=w.tables.map(h),G={};return N.forEach(function(B){return G[B.name]=B}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(B){if(G[B])return G[B];throw new Error("Table '".concat(B,"' not found"))},MIN_KEY:-1/0,MAX_KEY:wr(l),schema:w}}function Yi(i,l,u,f){return u=u.IDBKeyRange,l=Wi(l,u,f),{dbcore:i.dbcore.reduce(function(h,_){return _=_.create,r(r({},h),_(h))},l)}}function k(i,l){var u=l.db,u=Yi(i._middlewares,u,i._deps,l);i.core=u.dbcore,i.tables.forEach(function(f){var h=f.name;i.core.schema.tables.some(function(_){return _.name===h})&&(f.core=i.core.table(h),i[h]instanceof i.Table)&&(i[h].core=f.core)})}function ye(i,l,u,f){u.forEach(function(h){var _=f[h];l.forEach(function(w){var E=function N(G,B){return R(G,B)||(G=m(G))&&N(G,B)}(w,h);(!E||"value"in E&&E.value===void 0)&&(w===i.Transaction.prototype||w instanceof i.Transaction?C(w,h,{get:function(){return this.table(h)},set:function(N){O(this,h,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):w[h]=new i.Table(h,_))})})}function tt(i,l){l.forEach(function(u){for(var f in u)u[f]instanceof i.Table&&delete u[f]})}function Xe(i,l){return i._cfg.version-l._cfg.version}function Gt(i,l,u,f){var h=i._dbSchema,_=(u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Yr("$meta",Pa("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,h)),w=(_.create(u),_._completion.catch(f),_._reject.bind(_)),E=Me.transless||Me;bn(function(){if(Me.trans=_,Me.transless=E,l!==0)return k(i,u),G=l,((N=_).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(B){return B??G}):ke.resolve(G)).then(function(Q){var L=i,z=Q,K=_,F=u,M=[],Q=L._versions,$=L._dbSchema=vi(0,L.idbdb,F);return(Q=Q.filter(function(U){return U._cfg.version>=z})).length===0?ke.resolve():(Q.forEach(function(U){M.push(function(){var ge,we,Te,Ae=$,Se=U._cfg.dbschema,je=(bi(L,Ae,F),bi(L,Se,F),$=L._dbSchema=Se,mn(Ae,Se)),Re=(je.add.forEach(function(De){kn(F,De[0],De[1].primKey,De[1].indexes)}),je.change.forEach(function(De){if(De.recreate)throw new he.Upgrade("Not yet support for changing primary key");var qe=F.objectStore(De.name);De.add.forEach(function(St){return Xn(qe,St)}),De.change.forEach(function(St){qe.deleteIndex(St.name),Xn(qe,St)}),De.del.forEach(function(St){return qe.deleteIndex(St)})}),U._cfg.contentUpgrade);if(Re&&U._cfg.version>z)return k(L,F),K._memoizedTables={},ge=be(Se),je.del.forEach(function(De){ge[De]=Ae[De]}),tt(L,[L.Transaction.prototype]),ye(L,[L.Transaction.prototype],o(ge),ge),K.schema=ge,(we=j(Re))&&ln(),Se=ke.follow(function(){var De;(Te=Re(K))&&we&&(De=yn.bind(null,null),Te.then(De,De))}),Te&&typeof Te.then=="function"?ke.resolve(Te):Se.then(function(){return Te})}),M.push(function(ge){var we,Te,Ae=U._cfg.dbschema;we=Ae,Te=ge,[].slice.call(Te.db.objectStoreNames).forEach(function(Se){return we[Se]==null&&Te.db.deleteObjectStore(Se)}),tt(L,[L.Transaction.prototype]),ye(L,[L.Transaction.prototype],L._storeNames,L._dbSchema),K.schema=L._dbSchema}),M.push(function(ge){L.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(L.idbdb.version/10)===U._cfg.version?(L.idbdb.deleteObjectStore("$meta"),delete L._dbSchema.$meta,L._storeNames=L._storeNames.filter(function(we){return we!=="$meta"})):ge.objectStore("$meta").put(U._cfg.version,"version"))})}),function U(){return M.length?ke.resolve(M.shift()(K.idbtrans)).then(U):ke.resolve()}().then(function(){Zn($,F)}))}).catch(w);var N,G;o(h).forEach(function(B){kn(u,B,h[B].primKey,h[B].indexes)}),k(i,u),ke.follow(function(){return i.on.populate.fire(_)}).catch(w)})}function Tn(i,l){Zn(i._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var u=vi(0,i.idbdb,l);bi(i,i._dbSchema,l);for(var f=0,h=mn(u,i._dbSchema).change;f<h.length;f++){var _=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var E=l.objectStore(w.name);w.add.forEach(function(N){Pt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(N.src)),Xn(E,N)})})(h[f]);if(typeof _=="object")return _.value}}function mn(i,l){var u,f={del:[],add:[],change:[]};for(u in i)l[u]||f.del.push(u);for(u in l){var h=i[u],_=l[u];if(h){var w={name:u,def:_,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(_.primKey.keyPath||"")||h.primKey.auto!==_.primKey.auto)w.recreate=!0,f.change.push(w);else{var E=h.idxByName,N=_.idxByName,G=void 0;for(G in E)N[G]||w.del.push(G);for(G in N){var B=E[G],L=N[G];B?B.src!==L.src&&w.change.push(L):w.add.push(L)}(0<w.del.length||0<w.add.length||0<w.change.length)&&f.change.push(w)}}else f.add.push([u,_])}return f}function kn(i,l,u,f){var h=i.db.createObjectStore(l,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});f.forEach(function(_){return Xn(h,_)})}function Zn(i,l){o(i).forEach(function(u){l.db.objectStoreNames.contains(u)||(Pt&&console.debug("Dexie: Creating missing table",u),kn(l,u,i[u].primKey,i[u].indexes))})}function Xn(i,l){i.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function vi(i,l,u){var f={};return X(l.objectStoreNames,0).forEach(function(h){for(var _=u.objectStore(h),w=Fr(gi(G=_.keyPath),G||"",!0,!1,!!_.autoIncrement,G&&typeof G!="string",!0),E=[],N=0;N<_.indexNames.length;++N){var B=_.index(_.indexNames[N]),G=B.keyPath,B=Fr(B.name,G,!!B.unique,!!B.multiEntry,!1,G&&typeof G!="string",!1);E.push(B)}f[h]=Yr(h,w,E)}),f}function bi(i,l,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var _=f[h],w=u.objectStore(_);i._hasGetAll="getAll"in w;for(var E=0;E<w.indexNames.length;++E){var N,G=w.indexNames[E],B=w.index(G).keyPath,B=typeof B=="string"?B:"["+X(B).join("+")+"]";l[_]&&(N=l[_].idxByName[B])&&(N.name=G,delete l[_].idxByName[B],l[_].idxByName[G]=N)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Pa(i){return i.split(",").map(function(l,u){var h=l.split(":"),f=(f=h[1])==null?void 0:f.trim(),h=(l=h[0].trim()).replace(/([&*]|\+\+)/g,""),_=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Fr(h,_||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),c(_),u===0,f)})}zr.prototype._createTableSchema=Yr,zr.prototype._parseIndexSyntax=Pa,zr.prototype._parseStoresSpec=function(i,l){var u=this;o(i).forEach(function(f){if(i[f]!==null){var h=u._parseIndexSyntax(i[f]),_=h.shift();if(!_)throw new he.Schema("Invalid schema for table "+f+": "+i[f]);if(_.unique=!0,_.multi)throw new he.Schema("Primary key cannot be multiEntry*");h.forEach(function(w){if(w.auto)throw new he.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new he.Schema("Index must have a name and cannot be an empty string")}),_=u._createTableSchema(f,_,h),l[f]=_}})},zr.prototype.stores=function(u){var l=this.db,u=(this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,u):u,l._versions),f={},h={};return u.forEach(function(_){d(f,_._cfg.storesSource),h=_._cfg.dbschema={},_._parseStoresSpec(f,h)}),l._dbSchema=h,tt(l,[l._allTables,l,l.Transaction.prototype]),ye(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],o(h),h),l._storeNames=o(h),this},zr.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Dt(this._cfg.contentUpgrade||Fe,i),this};var jo=zr;function zr(){}function Zi(i,l){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new ir(Dn,{addons:[],indexedDB:i,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Qi(i){return i&&typeof i.databases=="function"}function Ji(i){return bn(function(){return Me.letThrough=!0,i()})}function Xi(i){return!("from"in i)}var gn=function(i,l){var u;if(!this)return u=new gn,i&&"d"in i&&d(u,i),u;d(this,arguments.length?{d:1,from:i,to:1<arguments.length?l:i}:{d:0})};function Qr(i,l,u){var f=mt(l,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Xi(i))return d(i,{from:l,to:u,d:1});var f=i.l,h=i.r;if(mt(u,i.from)<0)return f?Qr(f,l,u):i.l={from:l,to:u,d:1,l:null,r:null},Ra(i);if(0<mt(l,i.to))return h?Qr(h,l,u):i.r={from:l,to:u,d:1,l:null,r:null},Ra(i);mt(l,i.from)<0&&(i.from=l,i.l=null,i.d=h?h.d+1:1),0<mt(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),l=!i.r,f&&!i.l&&Jr(i,f),h&&l&&Jr(i,h)}}function Jr(i,l){Xi(l)||function u(f,h){var _=h.from,w=h.l,E=h.r;Qr(f,_,h.to),w&&u(f,w),E&&u(f,E)}(i,l)}function La(i,l){var u=yi(l),f=u.next();if(!f.done)for(var h=f.value,_=yi(i),w=_.next(h.from),E=w.value;!f.done&&!w.done;){if(mt(E.from,h.to)<=0&&0<=mt(E.to,h.from))return!0;mt(h.from,E.from)<0?h=(f=u.next(E.from)).value:E=(w=_.next(h.from)).value}return!1}function yi(i){var l=Xi(i)?null:{s:0,n:i};return{next:function(u){for(var f=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,f)for(;l.n.l&&mt(u,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!f||mt(u,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Ra(i){var l,u,f,h=(((h=i.r)==null?void 0:h.d)||0)-(((h=i.l)==null?void 0:h.d)||0),h=1<h?"r":h<-1?"l":"";h&&(l=h=="r"?"l":"r",u=r({},i),f=i[h],i.from=f.from,i.to=f.to,i[h]=f[h],u[h]=f[l],(i[l]=u).d=Ma(u)),i.d=Ma(i)}function Ma(u){var l=u.r,u=u.l;return(l?u?Math.max(l.d,u.d):l.d:u?u.d:0)+1}function wi(i,l){return o(l).forEach(function(u){i[u]?Jr(i[u],l[u]):i[u]=function f(h){var _,w,E={};for(_ in h)b(h,_)&&(w=h[_],E[_]=!w||typeof w!="object"||Ce.has(w.constructor)?w:f(w));return E}(l[u])}),i}function $i(i,l){return i.all||l.all||Object.keys(i).some(function(u){return l[u]&&La(l[u],i[u])})}I(gn.prototype,((Le={add:function(i){return Jr(this,i),this},addKey:function(i){return Qr(this,i,i),this},addKeys:function(i){var l=this;return i.forEach(function(u){return Qr(l,u,u)}),this},hasKey:function(i){var l=yi(this).next(i).value;return l&&mt(l.from,i)<=0&&0<=mt(l.to,i)}})[_e]=function(){return yi(this)},Le));var Er={},ea={},ta=!1;function ki(i){wi(ea,i),ta||(ta=!0,setTimeout(function(){ta=!1,na(ea,!(ea={}))},0))}function na(i,l){l===void 0&&(l=!1);var u=new Set;if(i.all)for(var f=0,h=Object.values(Er);f<h.length;f++)Na(E=h[f],i,u,l);else for(var _ in i){var w,E,_=/^idb\:\/\/(.*)\/(.*)\//.exec(_);_&&(w=_[1],_=_[2],E=Er["idb://".concat(w,"/").concat(_)])&&Na(E,i,u,l)}u.forEach(function(N){return N()})}function Na(i,l,u,f){for(var h=[],_=0,w=Object.entries(i.queries.query);_<w.length;_++){for(var E=w[_],N=E[0],G=[],B=0,L=E[1];B<L.length;B++){var z=L[B];$i(l,z.obsSet)?z.subscribers.forEach(function(Q){return u.add(Q)}):f&&G.push(z)}f&&h.push([N,G])}if(f)for(var K=0,F=h;K<F.length;K++){var M=F[K],N=M[0],G=M[1];i.queries.query[N]=G}}function Ho(i){var l=i._state,u=i._deps.indexedDB;if(l.isBeingOpened||i.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Rt(l.dbOpenError):i});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var f=l.openCanceller,h=Math.round(10*i.verno),_=!1;function w(){if(l.openCanceller!==f)throw new he.DatabaseClosed("db.open() was cancelled")}function E(){return new ke(function(z,K){if(w(),!u)throw new he.MissingAPI;var F=i.name,M=l.autoSchema||!h?u.open(F):u.open(F,h);if(!M)throw new he.MissingAPI;M.onerror=Hn(K),M.onblocked=Ye(i._fireOnBlocked),M.onupgradeneeded=Ye(function(Q){var $;B=M.transaction,l.autoSchema&&!i._options.allowEmptyDB?(M.onerror=rr,B.abort(),M.result.close(),($=u.deleteDatabase(F)).onsuccess=$.onerror=Ye(function(){K(new he.NoSuchDatabase("Database ".concat(F," doesnt exist")))})):(B.onerror=Hn(K),$=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,L=$<1,i.idbdb=M.result,_&&Tn(i,B),Gt(i,$/10,B,K))},K),M.onsuccess=Ye(function(){B=null;var Q,$,U,ge,we,Te,Ae=i.idbdb=M.result,Se=X(Ae.objectStoreNames);if(0<Se.length)try{var je=Ae.transaction((we=Se).length===1?we[0]:we,"readonly");if(l.autoSchema)Te=Ae,ge=je,(U=i).verno=Te.version/10,ge=U._dbSchema=vi(0,Te,ge),U._storeNames=X(Te.objectStoreNames,0),ye(U,[U._allTables],o(ge),ge);else if(bi(i,i._dbSchema,je),$=je,(($=mn(vi(0,(Q=i).idbdb,$),Q._dbSchema)).add.length||$.change.some(function(Re){return Re.add.length||Re.change.length}))&&!_)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ae.close(),h=Ae.version+1,_=!0,z(E());k(i,je)}catch{}tr.push(i),Ae.onversionchange=Ye(function(Re){l.vcFired=!0,i.on("versionchange").fire(Re)}),Ae.onclose=Ye(function(){i.close({disableAutoOpen:!1})}),L&&(Se=i._deps,we=F,Qi(Te=Se.indexedDB)||we===Dn||Zi(Te,Se.IDBKeyRange).put({name:we}).catch(Fe)),z()},K)}).catch(function(z){switch(z==null?void 0:z.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),E();break;case"VersionError":if(0<h)return h=0,E()}return ke.reject(z)})}var N,G=l.dbReadyResolve,B=null,L=!1;return ke.race([f,(typeof navigator>"u"?ke.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function K(){return indexedDB.databases().finally(z)}N=setInterval(K,100),K()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(E)]).then(function(){return w(),l.onReadyBeingFired=[],ke.resolve(Ji(function(){return i.on.ready.fire(i.vip)})).then(function z(){var K;if(0<l.onReadyBeingFired.length)return K=l.onReadyBeingFired.reduce(Dt,Fe),l.onReadyBeingFired=[],ke.resolve(Ji(function(){return K(i.vip)})).then(z)})}).finally(function(){l.openCanceller===f&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(z){l.dbOpenError=z;try{B&&B.abort()}catch{}return f===l.openCanceller&&i._close(),Rt(z)}).finally(function(){l.openComplete=!0,G()}).then(function(){var z;return L&&(z={},i.tables.forEach(function(K){K.schema.indexes.forEach(function(F){F.name&&(z["idb://".concat(i.name,"/").concat(K.name,"/").concat(F.name)]=new gn(-1/0,[[[]]]))}),z["idb://".concat(i.name,"/").concat(K.name,"/")]=z["idb://".concat(i.name,"/").concat(K.name,"/:dels")]=new gn(-1/0,[[[]]])}),Jn(br).fire(z),na(z,!0)),i})}function ra(i){function l(_){return i.next(_)}var u=h(l),f=h(function(_){return i.throw(_)});function h(_){return function(E){var E=_(E),N=E.value;return E.done?N:N&&typeof N.then=="function"?N.then(u,f):c(N)?Promise.all(N).then(u,f):u(N)}}return h(l)()}function Ei(i,l,u){for(var f=c(i)?i.slice():[i],h=0;h<u;++h)f.push(l);return f}var qo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(f){var u=i.table(f),f=u.schema,h={},_=[];function w(z,K,F){var U=kr(z),M=h[U]=h[U]||[],Q=z==null?0:typeof z=="string"?1:z.length,$=0<K,U=r(r({},F),{name:$?"".concat(U,"(virtual-from:").concat(F.name,")"):F.name,lowLevelIndex:F,isVirtual:$,keyTail:K,keyLength:Q,extractKey:Zr(z),unique:!$&&F.unique});return M.push(U),U.isPrimaryKey||_.push(U),1<Q&&w(Q===2?z[0]:z.slice(0,Q-1),K+1,F),M.sort(function(ge,we){return ge.keyTail-we.keyTail}),U}var E=w(f.primaryKey.keyPath,0,f.primaryKey);h[":id"]=[E];for(var N=0,G=f.indexes;N<G.length;N++){var B=G[N];w(B.keyPath,0,B)}function L(z){var K,F=z.query.index;return F.isVirtual?r(r({},z),{query:{index:F.lowLevelIndex,range:(K=z.query.range,F=F.keyTail,{type:K.type===1?2:K.type,lower:Ei(K.lower,K.lowerOpen?i.MAX_KEY:i.MIN_KEY,F),lowerOpen:!0,upper:Ei(K.upper,K.upperOpen?i.MIN_KEY:i.MAX_KEY,F),upperOpen:!0})}}):z}return r(r({},u),{schema:r(r({},f),{primaryKey:E,indexes:_,getIndexByKeyPath:function(z){return(z=h[kr(z)])&&z[0]}}),count:function(z){return u.count(L(z))},query:function(z){return u.query(L(z))},openCursor:function(z){var K=z.query.index,F=K.keyTail,M=K.keyLength;return K.isVirtual?u.openCursor(L(z)).then(function($){return $&&Q($)}):u.openCursor(z);function Q($){return Object.create($,{continue:{value:function(U){U!=null?$.continue(Ei(U,z.reverse?i.MAX_KEY:i.MIN_KEY,F)):z.unique?$.continue($.key.slice(0,M).concat(z.reverse?i.MIN_KEY:i.MAX_KEY,F)):$.continue()}},continuePrimaryKey:{value:function(U,ge){$.continuePrimaryKey(Ei(U,i.MAX_KEY,F),ge)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var U=$.key;return M===1?U[0]:U.slice(0,M)}},value:{get:function(){return $.value}}})}}})}})}};function ia(i,l,u,f){return u=u||{},f=f||"",o(i).forEach(function(h){var _,w,E;b(l,h)?(_=i[h],w=l[h],typeof _=="object"&&typeof w=="object"&&_&&w?(E=fe(_))!==fe(w)?u[f+h]=l[h]:E==="Object"?ia(_,w,u,f+h+"."):_!==w&&(u[f+h]=l[h]):_!==w&&(u[f+h]=l[h])):u[f+h]=void 0}),o(l).forEach(function(h){b(i,h)||(u[f+h]=l[h])}),u}function aa(i,l){return l.type==="delete"?l.keys:l.keys||l.values.map(i.extractKey)}var Vo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(l){var u=i.table(l),f=u.schema.primaryKey;return r(r({},u),{mutate:function(h){var _=Me.trans,w=_.table(l).hook,E=w.deleting,N=w.creating,G=w.updating;switch(h.type){case"add":if(N.fire===Fe)break;return _._promise("readwrite",function(){return B(h)},!0);case"put":if(N.fire===Fe&&G.fire===Fe)break;return _._promise("readwrite",function(){return B(h)},!0);case"delete":if(E.fire===Fe)break;return _._promise("readwrite",function(){return B(h)},!0);case"deleteRange":if(E.fire===Fe)break;return _._promise("readwrite",function(){return function L(z,K,F){return u.query({trans:z,values:!1,query:{index:f,range:K},limit:F}).then(function(M){var Q=M.result;return B({type:"delete",keys:Q,trans:z}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):Q.length<F?{failures:[],numFailures:0,lastResult:void 0}:L(z,r(r({},K),{lower:Q[Q.length-1],lowerOpen:!0}),F)})})}(h.trans,h.range,1e4)},!0)}return u.mutate(h);function B(L){var z,K,F,M=Me.trans,Q=L.keys||aa(f,L);if(Q)return(L=L.type==="add"||L.type==="put"?r(r({},L),{keys:Q}):r({},L)).type!=="delete"&&(L.values=a([],L.values)),L.keys&&(L.keys=a([],L.keys)),z=u,F=Q,((K=L).type==="add"?Promise.resolve([]):z.getMany({trans:K.trans,keys:F,cache:"immutable"})).then(function($){var U=Q.map(function(ge,we){var Te,Ae,Se,je=$[we],Re={onerror:null,onsuccess:null};return L.type==="delete"?E.fire.call(Re,ge,je,M):L.type==="add"||je===void 0?(Te=N.fire.call(Re,ge,L.values[we],M),ge==null&&Te!=null&&(L.keys[we]=ge=Te,f.outbound||V(L.values[we],f.keyPath,ge))):(Te=ia(je,L.values[we]),(Ae=G.fire.call(Re,Te,ge,je,M))&&(Se=L.values[we],Object.keys(Ae).forEach(function(De){b(Se,De)?Se[De]=Ae[De]:V(Se,De,Ae[De])}))),Re});return u.mutate(L).then(function(ge){for(var we=ge.failures,Te=ge.results,Ae=ge.numFailures,ge=ge.lastResult,Se=0;Se<Q.length;++Se){var je=(Te||Q)[Se],Re=U[Se];je==null?Re.onerror&&Re.onerror(we[Se]):Re.onsuccess&&Re.onsuccess(L.type==="put"&&$[Se]?L.values[Se]:je)}return{failures:we,results:Te,numFailures:Ae,lastResult:ge}}).catch(function(ge){return U.forEach(function(we){return we.onerror&&we.onerror(ge)}),Promise.reject(ge)})});throw new Error("Keys missing")}}})}})}};function Ba(i,l,u){try{if(!l||l.keys.length<i.length)return null;for(var f=[],h=0,_=0;h<l.keys.length&&_<i.length;++h)mt(l.keys[h],i[_])===0&&(f.push(u?me(l.values[h]):l.values[h]),++_);return f.length===i.length?f:null}catch{return null}}var Uo={stack:"dbcore",level:-1,create:function(i){return{table:function(l){var u=i.table(l);return r(r({},u),{getMany:function(f){var h;return f.cache?(h=Ba(f.keys,f.trans._cache,f.cache==="clone"))?ke.resolve(h):u.getMany(f).then(function(_){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?me(_):_},_}):u.getMany(f)},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Fa(i,l){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function za(i,l){switch(i){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Go={stack:"dbcore",level:0,name:"Observability",create:function(i){var l=i.schema.name,u=new gn(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(f,h,_){if(Me.subscr&&h!=="readonly")throw new he.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Me.querier));return i.transaction(f,h,_)},table:function(f){function h(Q){var M,Q=Q.query;return[M=Q.index,new gn((M=(Q=Q.range).lower)!=null?M:i.MIN_KEY,(M=Q.upper)!=null?M:i.MAX_KEY)]}var _=i.table(f),w=_.schema,E=w.primaryKey,N=w.indexes,G=E.extractKey,B=E.outbound,L=E.autoIncrement&&N.filter(function(F){return F.compound&&F.keyPath.includes(E.keyPath)}),z=r(r({},_),{mutate:function(F){function M(qe){return qe="idb://".concat(l,"/").concat(f,"/").concat(qe),we[qe]||(we[qe]=new gn)}var Q,$,U,ge=F.trans,we=F.mutatedParts||(F.mutatedParts={}),Te=M(""),Ae=M(":dels"),Se=F.type,Re=F.type==="deleteRange"?[F.range]:F.type==="delete"?[F.keys]:F.values.length<50?[aa(E,F).filter(function(qe){return qe}),F.values]:[],je=Re[0],Re=Re[1],De=F.trans._cache;return c(je)?(Te.addKeys(je),(Se=Se==="delete"||je.length===Re.length?Ba(je,De):null)||Ae.addKeys(je),(Se||Re)&&(Q=M,$=Se,U=Re,w.indexes.forEach(function(qe){var St=Q(qe.name||"");function Ot(ft){return ft!=null?qe.extractKey(ft):null}function Qe(ft){qe.multiEntry&&c(ft)?ft.forEach(function(xt){return St.addKey(xt)}):St.addKey(ft)}($||U).forEach(function(ft,Jt){var Vn=$&&Ot($[Jt]),Jt=U&&Ot(U[Jt]);mt(Vn,Jt)!==0&&(Vn!=null&&Qe(Vn),Jt!=null)&&Qe(Jt)})}))):je?(Re={from:(De=je.lower)!=null?De:i.MIN_KEY,to:(Se=je.upper)!=null?Se:i.MAX_KEY},Ae.add(Re),Te.add(Re)):(Te.add(u),Ae.add(u),w.indexes.forEach(function(qe){return M(qe.name).add(u)})),_.mutate(F).then(function(qe){return!je||F.type!=="add"&&F.type!=="put"||(Te.addKeys(qe.results),L&&L.forEach(function(St){for(var Ot=F.values.map(function(Vn){return St.extractKey(Vn)}),Qe=St.keyPath.findIndex(function(Vn){return Vn===E.keyPath}),ft=0,xt=qe.results.length;ft<xt;++ft)Ot[ft][Qe]=qe.results[ft];M(St.name).addKeys(Ot)})),ge.mutatedParts=wi(ge.mutatedParts||{},we),qe})}}),K={get:function(F){return[E,new gn(F.key)]},getMany:function(F){return[E,new gn().addKeys(F.keys)]},count:h,query:h,openCursor:h};return o(K).forEach(function(F){z[F]=function(M){var Q=Me.subscr,$=!!Q,U=Fa(Me,_)&&za(F,M)?M.obsSet={}:Q;if($){var ge,Q=function(Re){return Re="idb://".concat(l,"/").concat(f,"/").concat(Re),U[Re]||(U[Re]=new gn)},we=Q(""),Te=Q(":dels"),$=K[F](M),Ae=$[0],$=$[1];if((F==="query"&&Ae.isPrimaryKey&&!M.values?Te:Q(Ae.name||"")).add($),!Ae.isPrimaryKey){if(F!=="count")return ge=F==="query"&&B&&M.values&&_.query(r(r({},M),{values:!1})),_[F].apply(this,arguments).then(function(Re){if(F==="query"){if(B&&M.values)return ge.then(function(Ot){return Ot=Ot.result,we.addKeys(Ot),Re});var De=M.values?Re.result.map(G):Re.result;(M.values?we:Te).addKeys(De)}else{var qe,St;if(F==="openCursor")return St=M.values,(qe=Re)&&Object.create(qe,{key:{get:function(){return Te.addKey(qe.primaryKey),qe.key}},primaryKey:{get:function(){var Ot=qe.primaryKey;return Te.addKey(Ot),Ot}},value:{get:function(){return St&&we.addKey(qe.primaryKey),qe.value}}})}return Re});Te.add(u)}}return _[F].apply(this,arguments)}}),z}})}};function Ka(i,l,u){var f;return u.numFailures===0?l:l.type==="deleteRange"||(f=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1,u.numFailures===f)?null:(f=r({},l),c(f.keys)&&(f.keys=f.keys.filter(function(h,_){return!(_ in u.failures)})),"values"in f&&c(f.values)&&(f.values=f.values.filter(function(h,_){return!(_ in u.failures)})),f)}function la(i,l){return u=i,((f=l).lower===void 0||(f.lowerOpen?0<mt(u,f.lower):0<=mt(u,f.lower)))&&(u=i,(f=l).upper===void 0||(f.upperOpen?mt(u,f.upper)<0:mt(u,f.upper)<=0));var u,f}function ja(i,l,u,f,h,_){var w,E,N,G,B,L;return!u||u.length===0||(w=l.query.index,E=w.multiEntry,N=l.query.range,G=f.schema.primaryKey.extractKey,B=w.extractKey,L=(w.lowLevelIndex||w).extractKey,(f=u.reduce(function(z,K){var F=z,M=[];if(K.type==="add"||K.type==="put")for(var Q=new gn,$=K.values.length-1;0<=$;--$){var U,ge=K.values[$],we=G(ge);!Q.hasKey(we)&&(U=B(ge),E&&c(U)?U.some(function(Re){return la(Re,N)}):la(U,N))&&(Q.addKey(we),M.push(ge))}switch(K.type){case"add":var Te=new gn().addKeys(l.values?z.map(function(De){return G(De)}):z),F=z.concat(l.values?M.filter(function(De){return De=G(De),!Te.hasKey(De)&&(Te.addKey(De),!0)}):M.map(function(De){return G(De)}).filter(function(De){return!Te.hasKey(De)&&(Te.addKey(De),!0)}));break;case"put":var Ae=new gn().addKeys(K.values.map(function(De){return G(De)}));F=z.filter(function(De){return!Ae.hasKey(l.values?G(De):De)}).concat(l.values?M:M.map(function(De){return G(De)}));break;case"delete":var Se=new gn().addKeys(K.keys);F=z.filter(function(De){return!Se.hasKey(l.values?G(De):De)});break;case"deleteRange":var je=K.range;F=z.filter(function(De){return!la(G(De),je)})}return F},i))===i)?i:(f.sort(function(z,K){return mt(L(z),L(K))||mt(G(z),G(K))}),l.limit&&l.limit<1/0&&(f.length>l.limit?f.length=l.limit:i.length===l.limit&&f.length<l.limit&&(h.dirty=!0)),_?Object.freeze(f):f)}function Ha(i,l){return mt(i.lower,l.lower)===0&&mt(i.upper,l.upper)===0&&!!i.lowerOpen==!!l.lowerOpen&&!!i.upperOpen==!!l.upperOpen}function xo(i,l){return((u,f,h,_)=>{if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((u=mt(u,f))===0){if(h&&_)return 0;if(h)return 1;if(_)return-1}return u})(i.lower,l.lower,i.lowerOpen,l.lowerOpen)<=0&&0<=((u,f,h,_)=>{if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((u=mt(u,f))===0){if(h&&_)return 0;if(h)return-1;if(_)return 1}return u})(i.upper,l.upper,i.upperOpen,l.upperOpen)}function Wo(i,l,u,f){i.subscribers.add(u),f.addEventListener("abort",function(){var h,_;i.subscribers.delete(u),i.subscribers.size===0&&(h=i,_=l,setTimeout(function(){h.subscribers.size===0&&ie(_,h)},3e3))})}var Yo={stack:"dbcore",level:0,name:"Cache",create:function(i){var l=i.schema.name;return r(r({},i),{transaction:function(u,f,h){var _,w,E=i.transaction(u,f,h);return f==="readwrite"&&(h=(_=new AbortController).signal,E.addEventListener("abort",(w=function(N){return function(){if(_.abort(),f==="readwrite"){for(var G=new Set,B=0,L=u;B<L.length;B++){var z=L[B],K=Er["idb://".concat(l,"/").concat(z)];if(K){var F=i.table(z),M=K.optimisticOps.filter(function(qe){return qe.trans===E});if(E._explicit&&N&&E.mutatedParts)for(var Q=0,$=Object.values(K.queries.query);Q<$.length;Q++)for(var U=0,ge=(Ae=$[Q]).slice();U<ge.length;U++)$i((Se=ge[U]).obsSet,E.mutatedParts)&&(ie(Ae,Se),Se.subscribers.forEach(function(qe){return G.add(qe)}));else if(0<M.length){K.optimisticOps=K.optimisticOps.filter(function(qe){return qe.trans!==E});for(var we=0,Te=Object.values(K.queries.query);we<Te.length;we++)for(var Ae,Se,je,Re=0,De=(Ae=Te[we]).slice();Re<De.length;Re++)(Se=De[Re]).res!=null&&E.mutatedParts&&(N&&!Se.dirty?(je=Object.isFrozen(Se.res),je=ja(Se.res,Se.req,M,F,Se,je),Se.dirty?(ie(Ae,Se),Se.subscribers.forEach(function(qe){return G.add(qe)})):je!==Se.res&&(Se.res=je,Se.promise=ke.resolve({result:je}))):(Se.dirty&&ie(Ae,Se),Se.subscribers.forEach(function(qe){return G.add(qe)})))}}}G.forEach(function(qe){return qe()})}}})(!1),{signal:h}),E.addEventListener("error",w(!1),{signal:h}),E.addEventListener("complete",w(!0),{signal:h})),E},table:function(u){var f=i.table(u),h=f.schema.primaryKey;return r(r({},f),{mutate:function(_){var w,E=Me.trans;return!h.outbound&&E.db._options.cache!=="disabled"&&!E.explicit&&E.idbtrans.mode==="readwrite"&&(w=Er["idb://".concat(l,"/").concat(u)])?(E=f.mutate(_),_.type!=="add"&&_.type!=="put"||!(50<=_.values.length||aa(h,_).some(function(N){return N==null}))?(w.optimisticOps.push(_),_.mutatedParts&&ki(_.mutatedParts),E.then(function(N){0<N.numFailures&&(ie(w.optimisticOps,_),(N=Ka(0,_,N))&&w.optimisticOps.push(N),_.mutatedParts)&&ki(_.mutatedParts)}),E.catch(function(){ie(w.optimisticOps,_),_.mutatedParts&&ki(_.mutatedParts)})):E.then(function(N){var G=Ka(0,r(r({},_),{values:_.values.map(function(B,L){var z;return N.failures[L]?B:(V(z=(z=h.keyPath)!=null&&z.includes(".")?me(B):r({},B),h.keyPath,N.results[L]),z)})}),N);w.optimisticOps.push(G),queueMicrotask(function(){return _.mutatedParts&&ki(_.mutatedParts)})}),E):f.mutate(_)},query:function(_){var w,E,N,G,B,L,z;return Fa(Me,f)&&za("query",_)?(w=((N=Me.trans)==null?void 0:N.db._options.cache)==="immutable",E=(N=Me).requery,N=N.signal,L=((K,F,M,Q)=>{var $=Er["idb://".concat(K,"/").concat(F)];if(!$)return[];if(!(K=$.queries[M]))return[null,!1,$,null];var U=K[(Q.query?Q.query.index.name:null)||""];if(!U)return[null,!1,$,null];switch(M){case"query":var ge=U.find(function(we){return we.req.limit===Q.limit&&we.req.values===Q.values&&Ha(we.req.query.range,Q.query.range)});return ge?[ge,!0,$,U]:[U.find(function(we){return("limit"in we.req?we.req.limit:1/0)>=Q.limit&&(!Q.values||we.req.values)&&xo(we.req.query.range,Q.query.range)}),!1,$,U];case"count":return ge=U.find(function(we){return Ha(we.req.query.range,Q.query.range)}),[ge,!!ge,$,U]}})(l,u,"query",_),z=L[0],G=L[2],B=L[3],z&&L[1]?z.obsSet=_.obsSet:(L=f.query(_).then(function(K){var F=K.result;if(z&&(z.res=F),w){for(var M=0,Q=F.length;M<Q;++M)Object.freeze(F[M]);Object.freeze(F)}else K.result=me(F);return K}).catch(function(K){return B&&z&&ie(B,z),Promise.reject(K)}),z={obsSet:_.obsSet,promise:L,subscribers:new Set,type:"query",req:_,dirty:!1},B?B.push(z):(B=[z],(G=G||(Er["idb://".concat(l,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_.query.index.name||""]=B)),Wo(z,B,E,N),z.promise.then(function(K){return{result:ja(K.result,_,G==null?void 0:G.optimisticOps,f,z,w)}})):f.query(_)}})}})}};function Si(i,l){return new Proxy(i,{get:function(u,f,h){return f==="db"?l:Reflect.get(u,f,h)}})}en.prototype.version=function(i){if(isNaN(i)||i<.1)throw new he.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new he.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var l=this._versions,u=l.filter(function(f){return f._cfg.version===i})[0];return u||(u=new this.Version(i),l.push(u),l.sort(Xe),u.stores({}),this._state.autoSchema=!1),u},en.prototype._whenReady=function(i){var l=this;return this.idbdb&&(this._state.openComplete||Me.letThrough||this._vip)?i():new ke(function(u,f){if(l._state.openComplete)return f(new he.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void f(new he.DatabaseClosed);l.open().catch(Fe)}l._state.dbReadyPromise.then(u,f)}).then(i)},en.prototype.use=function(h){var l=h.stack,u=h.create,f=h.level,h=h.name,_=(h&&this.unuse({stack:l,name:h}),this._middlewares[l]||(this._middlewares[l]=[]));return _.push({stack:l,create:u,level:f??10,name:h}),_.sort(function(w,E){return w.level-E.level}),this},en.prototype.unuse=function(i){var l=i.stack,u=i.name,f=i.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},en.prototype.open=function(){var i=this;return pn(Mt,function(){return Ho(i)})},en.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,l=tr.indexOf(this);if(0<=l&&tr.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new ke(function(u){i.dbReadyResolve=u}),i.openCanceller=new ke(function(u,f){i.cancelOpen=f}))},en.prototype.close=function(l){var l=(l===void 0?{disableAutoOpen:!0}:l).disableAutoOpen,u=this._state;l?(u.isBeingOpened&&u.cancelOpen(new he.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new he.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},en.prototype.delete=function(i){var l=this,u=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),f=this._state;return new ke(function(h,_){function w(){l.close(i);var E=l._deps.indexedDB.deleteDatabase(l.name);E.onsuccess=Ye(function(){var N,G,B;N=l._deps,G=l.name,Qi(B=N.indexedDB)||G===Dn||Zi(B,N.IDBKeyRange).delete(G).catch(Fe),h()}),E.onerror=Hn(_),E.onblocked=l._fireOnBlocked}if(u)throw new he.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(w):w()})},en.prototype.backendDB=function(){return this.idbdb},en.prototype.isOpen=function(){return this.idbdb!==null},en.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},en.prototype.hasFailed=function(){return this._state.dbOpenError!==null},en.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(en.prototype,"tables",{get:function(){var i=this;return o(this._allTables).map(function(l){return i._allTables[l]})},enumerable:!1,configurable:!0}),en.prototype.transaction=function(){var i=(function(l,u,f){var h=arguments.length;if(h<2)throw new he.InvalidArgument("Too few arguments");for(var _=new Array(h-1);--h;)_[h-1]=arguments[h];return f=_.pop(),[l,se(_),f]}).apply(this,arguments);return this._transaction.apply(this,i)},en.prototype._transaction=function(i,l,u){var f,h,_=this,w=Me.trans,E=(w&&w.db===this&&i.indexOf("!")===-1||(w=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(h=l.map(function(G){if(G=G instanceof _.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),i=="r"||i===Ft)f=Ft;else{if(i!="rw"&&i!=jn)throw new he.InvalidArgument("Invalid transaction mode: "+i);f=jn}if(w){if(w.mode===Ft&&f===jn){if(!E)throw new he.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&h.forEach(function(G){if(w&&w.storeNames.indexOf(G)===-1){if(!E)throw new he.SubTransaction("Table "+G+" not included in parent transaction.");w=null}}),E&&w&&!w.active&&(w=null)}}catch(G){return w?w._promise(null,function(B,L){L(G)}):Rt(G)}var N=(function G(B,L,z,K,F){return ke.resolve().then(function(){var U=Me.transless||Me,M=B._createTransaction(L,z,B._dbSchema,K),U=(M.explicit=!0,{trans:M,transless:U});if(K)M.idbtrans=K.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(ge){return ge.name===Oe.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return G(B,L,z,null,F)})):Rt(ge)}var Q,$=j(F),U=($&&ln(),ke.follow(function(){var ge;(Q=F.call(M,M))&&($?(ge=yn.bind(null,null),Q.then(ge,ge)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=ra(Q)))},U));return(Q&&typeof Q.then=="function"?ke.resolve(Q).then(function(ge){return M.active?ge:Rt(new he.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):U.then(function(){return Q})).then(function(ge){return K&&M._resolve(),M._completion.then(function(){return ge})}).catch(function(ge){return M._reject(ge),Rt(ge)})})}).bind(null,this,f,h,w,u);return w?w._promise(f,N,"lock"):Me.trans?pn(Me.transless,function(){return _._whenReady(N)}):this._whenReady(N)},en.prototype.table=function(i){if(b(this._allTables,i))return this._allTables[i];throw new he.InvalidTable("Table ".concat(i," does not exist"))};var ir=en;function en(i,l){var u,f,h,_,w,E=this,N=(this._middlewares={},this.verno=0,en.dependencies),N=(this._options=l=r({addons:en.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},l.addons),G=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fe,dbReadyPromise:null,cancelOpen:Fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen}),B=(G.dbReadyPromise=new ke(function(L){G.dbReadyResolve=L}),G.openCanceller=new ke(function(L,z){G.cancelOpen=z}),this._state=G,this.name=i,this.on=gr(this,"populate","blocked","versionchange","close",{ready:[Dt,Fe]}),this.once=function(L,z){var K=function(){for(var F=[],M=0;M<arguments.length;M++)F[M]=arguments[M];E.on(L).unsubscribe(K),z.apply(E,F)};return E.on(L,K)},this.on.ready.subscribe=oe(this.on.ready.subscribe,function(L){return function(z,K){en.vip(function(){var F,M=E._state;M.openComplete?(M.dbOpenError||ke.resolve().then(z),K&&L(z)):M.onReadyBeingFired?(M.onReadyBeingFired.push(z),K&&L(z)):(L(z),F=E,K||L(function Q(){F.on.ready.unsubscribe(z),F.on.ready.unsubscribe(Q)}))})}}),this.Collection=(u=this,Wn(Vi.prototype,function(Q,M){this.db=u;var K=cr,F=null;if(M)try{K=M()}catch(U){F=U}var M=Q._ctx,Q=M.table,$=Q.hook.reading.fire;this._ctx={table:Q,index:M.index,isPrimKey:!M.index||Q.schema.primKey.keyPath&&M.index===Q.schema.primKey.name,range:K,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:F,or:M.or,valueMapper:$!==Je?$:null}})),this.Table=(f=this,Wn(hi.prototype,function(L,z,K){this.db=f,this._tx=K,this.name=L,this.schema=z,this.hook=f._allTables[L]?f._allTables[L].hook:gr(null,{creating:[bt,Fe],reading:[ct,Je],updating:[gt,Fe],deleting:[jt,Fe]})})),this.Transaction=(h=this,Wn(Yn.prototype,function(L,z,K,F,M){var Q=this;L!=="readonly"&&z.forEach(function($){$=($=K[$])==null?void 0:$.yProps,$&&(z=z.concat($.map(function(U){return U.updatesTable})))}),this.db=h,this.mode=L,this.storeNames=z,this.schema=K,this.chromeTransactionDurability=F,this.idbtrans=null,this.on=gr(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ke(function($,U){Q._resolve=$,Q._reject=U}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function($){var U=Q.active;return Q.active=!1,Q.on.error.fire($),Q.parent?Q.parent._reject($):U&&Q.idbtrans&&Q.idbtrans.abort(),Rt($)})})),this.Version=(_=this,Wn(jo.prototype,function(L){this.db=_,this._cfg={version:L,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,Wn(Qn.prototype,function(L,z,K){if(this.db=w,this._ctx={table:L,index:z===":id"?null:z,or:K},this._cmp=this._ascending=mt,this._descending=function(F,M){return mt(M,F)},this._max=function(F,M){return 0<mt(F,M)?F:M},this._min=function(F,M){return mt(F,M)<0?F:M},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new he.MissingAPI})),this.on("versionchange",function(L){0<L.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(L){!L.newVersion||L.newVersion<L.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(L.oldVersion/10))}),this._maxKey=wr(l.IDBKeyRange),this._createTransaction=function(L,z,K,F){return new E.Transaction(L,z,K,E._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(L){E.on("blocked").fire(L),tr.filter(function(z){return z.name===E.name&&z!==E&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(L)})},this.use(Uo),this.use(Yo),this.use(Go),this.use(qo),this.use(Vo),new Proxy(this,{get:function(L,z,K){var F;return z==="_vip"||(z==="table"?function(M){return Si(E.table(M),B)}:(F=Reflect.get(L,z,K))instanceof hi?Si(F,B):z==="tables"?F.map(function(M){return Si(M,B)}):z==="_createTransaction"?function(){return Si(F.apply(this,arguments),B)}:F)}}));this.vip=B,N.forEach(function(L){return L(E)})}var Ci,Kr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Zo=(oa.prototype.subscribe=function(i,l,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:l,complete:u})},oa.prototype[Kr]=function(){return this},oa);function oa(i){this._subscribe=i}try{Ci={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Ci={indexedDB:null,IDBKeyRange:null}}function qa(i){var l,u=!1,f=new Zo(function(h){var _=j(i),w,E=!1,N={},G={},B={get closed(){return E},unsubscribe:function(){E||(E=!0,w&&w.abort(),L&&Jn.storagemutated.unsubscribe(K))}},L=(h.start&&h.start(B),!1),z=function(){return sr(F)},K=function(M){wi(N,M),$i(G,N)&&z()},F=function(){var M,Q,$;!E&&Ci.indexedDB&&(N={},M={},w&&w.abort(),w=new AbortController,$=(U=>{var ge=vt();try{_&&ln();var we=bn(i,U);return we=_?we.finally(yn):we}finally{ge&&Lt()}})(Q={subscr:M,signal:w.signal,requery:z,querier:i,trans:null}),Promise.resolve($).then(function(U){u=!0,l=U,E||Q.signal.aborted||(N={},(ge=>{for(var we in ge)if(b(ge,we))return;return 1})(G=M)||L||(Jn(br,K),L=!0),sr(function(){return!E&&h.next&&h.next(U)}))},function(U){u=!1,["DatabaseClosedError","AbortError"].includes(U==null?void 0:U.name)||E||sr(function(){E||h.error&&h.error(U)})}))};return setTimeout(z,0),B});return f.hasValue=function(){return u},f.getValue=function(){return l},f}var Sr=ir;function sa(i){var l=mr;try{mr=!0,Jn.storagemutated.fire(i),na(i,!0)}finally{mr=l}}I(Sr,r(r({},pe),{delete:function(i){return new Sr(i,{addons:[]}).delete()},exists:function(i){return new Sr(i,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return l=Sr.dependencies,u=l.indexedDB,l=l.IDBKeyRange,(Qi(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Dn})}):Zi(u,l).toCollection().primaryKeys()).then(i)}catch{return Rt(new he.MissingAPI)}var l,u},defineClass:function(){return function(i){d(this,i)}},ignoreTransaction:function(i){return Me.trans?pn(Me.transless,i):i()},vip:Ji,async:function(i){return function(){try{var l=ra(i.apply(this,arguments));return l&&typeof l.then=="function"?l:ke.resolve(l)}catch(u){return Rt(u)}}},spawn:function(i,l,u){try{var f=ra(i.apply(u,l||[]));return f&&typeof f.then=="function"?f:ke.resolve(f)}catch(h){return Rt(h)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(i,l){return i=ke.resolve(typeof i=="function"?Sr.ignoreTransaction(i):i).timeout(l||6e4),Me.trans?Me.trans.waitFor(i):i},Promise:ke,debug:{get:function(){return Pt},set:function(i){yt(i)}},derive:D,extend:d,props:I,override:oe,Events:gr,on:Jn,liveQuery:qa,extendObservabilitySet:wi,getByKeyPath:ne,setByKeyPath:V,delByKeyPath:function(i,l){typeof l=="string"?V(i,l,void 0):"length"in l&&[].map.call(l,function(u){V(i,u,void 0)})},shallowClone:be,deepClone:me,getObjectDiff:ia,cmp:mt,asap:ce,minKey:-1/0,addons:[],connections:tr,errnames:Oe,dependencies:Ci,cache:Er,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,l,u){return i+l/Math.pow(10,2*u)})})),Sr.maxKey=wr(Sr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Jn(br,function(i){mr||(i=new CustomEvent(yr,{detail:i}),mr=!0,dispatchEvent(i),mr=!1)}),addEventListener(yr,function(i){i=i.detail,mr||sa(i)}));var jr,mr=!1,Va=function(){};return typeof BroadcastChannel<"u"&&((Va=function(){(jr=new BroadcastChannel(yr)).onmessage=function(i){return i.data&&sa(i.data)}})(),typeof jr.unref=="function"&&jr.unref(),Jn(br,function(i){mr||jr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!ir.disableBfCache&&i.persisted){Pt&&console.debug("Dexie: handling persisted pagehide"),jr!=null&&jr.close();for(var l=0,u=tr;l<u.length;l++)u[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!ir.disableBfCache&&i.persisted&&(Pt&&console.debug("Dexie: handling persisted pageshow"),Va(),sa({all:new gn(-1/0,[[]])}))})),ke.rejectionMapper=function(i,l){return!i||i instanceof Y||i instanceof TypeError||i instanceof SyntaxError||!i.name||!et[i.name]?i:(l=new et[i.name](l||i.message,i),"stack"in i&&C(l,"stack",{get:function(){return this.inner.stack}}),l)},yt(Pt),r(ir,Object.freeze({__proto__:null,Dexie:ir,Entity:ci,PropModification:fr,RangeSet:gn,add:function(i){return new fr({add:i})},cmp:mt,default:ir,liveQuery:qa,mergeRanges:Jr,rangesOverlap:La,remove:function(i){return new fr({remove:i})},replacePrefix:function(i,l){return new fr({replacePrefix:[i,l]})}}),{default:ir}),ir})})(To);var bs=To.exports;const va=Io(bs),Ya=Symbol.for("Dexie"),zi=globalThis[Ya]||(globalThis[Ya]=va);if(va.semVer!==zi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${va.semVer} and ${zi.semVer}`);const{liveQuery:oi,mergeRanges:Wf,rangesOverlap:Yf,RangeSet:Zf,cmp:Qf,Entity:Jf,PropModification:Xf,replacePrefix:$f,add:ed,remove:td,DexieYProvider:nd}=zi;var ba=(n=>(n.Accomodation="Accomodation",n.Food="Food & Drink",n.Transport="Transport",n.Other="Other",n))(ba||{});const Za={Accomodation:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/></svg>',"Food & Drink":'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/><path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/></svg>',Transport:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16"> <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>',Other:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16"><path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/><path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/></svg>'},Vt=new zi("ExpensesDatabase");Vt.version(2).stores({trips:"++id, name, defaultCurrency, startDate, endDate",receipts:"++id, description, total, receiptDate, receiptType, currency, tripId, imageData"});Vt.version(3).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("trips").toCollection().modify(e=>{e.startDateString=e.startDate.toDateString(),e.endDateString=e.endDate.toDateString()}).then(function(){n.table("receipts").toCollection().modify(e=>{e.receiptDateString=e.receiptDate.toDateString()})}));Vt.version(4).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("receipts").where("receiptType").equals("Food").modify(e=>{e.receiptType="Food & Drink"}));Vt.version(6).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"}).upgrade(n=>n.table("receipts").toCollection().modify(e=>{e.imageData=URL.createObjectURL(e.imageData)}));Vt.version(7).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString, notes",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"});function Da(n,e){const t=ii(e);return localStorage&&localStorage.getItem(n)&&t.set(JSON.parse(localStorage.getItem(n)!=null?localStorage.getItem(n):e)),t.subscribe(r=>{if(localStorage)try{r!==void 0?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)}catch(a){console.warn(a)}}),t}const an={AED:{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"Ø¯.Ø¥.â",decimal_digits:2,rounding:0,code:"AED",name_plural:"UAE dirhams"},AFN:{symbol:"Af",name:"Afghan Afghani",symbol_native:"Ø",decimal_digits:0,rounding:0,code:"AFN",name_plural:"Afghan Afghanis"},ALL:{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL",name_plural:"Albanian lekÃ«"},AMD:{symbol:"AMD",name:"Armenian Dram",symbol_native:"Õ¤Ö.",decimal_digits:0,rounding:0,code:"AMD",name_plural:"Armenian drams"},ARS:{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS",name_plural:"Argentine pesos"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"},AZN:{symbol:"man.",name:"Azerbaijani Manat",symbol_native:"Ð¼Ð°Ð½.",decimal_digits:2,rounding:0,code:"AZN",name_plural:"Azerbaijani manats"},BAM:{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM",name_plural:"Bosnia-Herzegovina convertible marks"},BDT:{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"à§³",decimal_digits:2,rounding:0,code:"BDT",use_indian_numbering_system:!0,name_plural:"Bangladeshi takas"},BGN:{symbol:"BGN",name:"Bulgarian Lev",symbol_native:"Ð»Ð².",decimal_digits:2,rounding:0,code:"BGN",name_plural:"Bulgarian leva"},BHD:{symbol:"BD",name:"Bahraini Dinar",symbol_native:"Ø¯.Ø¨.â",decimal_digits:3,rounding:0,code:"BHD",name_plural:"Bahraini dinars"},BIF:{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF",name_plural:"Burundian francs"},BND:{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND",name_plural:"Brunei dollars"},BOB:{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB",name_plural:"Bolivian bolivianos"},BRL:{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL",name_plural:"Brazilian reals"},BWP:{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP",name_plural:"Botswanan pulas"},BYN:{symbol:"Br",name:"Belarusian Ruble",symbol_native:"ÑÑÐ±.",decimal_digits:2,rounding:0,code:"BYN",name_plural:"Belarusian rubles"},BZD:{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD",name_plural:"Belize dollars"},CAD:{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD",name_plural:"Canadian dollars"},CDF:{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF",name_plural:"Congolese francs"},CHF:{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF",name_plural:"Swiss francs"},CLP:{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP",name_plural:"Chilean pesos"},CNY:{symbol:"CNÂ¥",name:"Chinese Yuan",symbol_native:"CNÂ¥",decimal_digits:2,rounding:0,code:"CNY",name_plural:"Chinese yuan"},COP:{symbol:"CO$",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP",name_plural:"Colombian pesos"},CRC:{symbol:"â¡",name:"Costa Rican ColÃ³n",symbol_native:"â¡",decimal_digits:0,rounding:0,code:"CRC",name_plural:"Costa Rican colÃ³ns"},CVE:{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE",name_plural:"Cape Verdean escudos"},CZK:{symbol:"KÄ",name:"Czech Republic Koruna",symbol_native:"KÄ",decimal_digits:2,rounding:0,code:"CZK",name_plural:"Czech Republic korunas"},DJF:{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF",name_plural:"Djiboutian francs"},DKK:{symbol:"Dkr",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK",name_plural:"Danish kroner"},DOP:{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP",name_plural:"Dominican pesos"},DZD:{symbol:"DA",name:"Algerian Dinar",symbol_native:"Ø¯.Ø¬.â",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",symbol_native:"Ø¬.Ù.â",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},EUR:{symbol:"â¬",name:"Euro",symbol_native:"â¬",decimal_digits:2,rounding:0,code:"EUR",name_plural:"euros"},GBP:{symbol:"Â£",name:"British Pound Sterling",symbol_native:"Â£",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},GEL:{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GHâµ",name:"Ghanaian Cedi",symbol_native:"GHâµ",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"âª",name:"Israeli New Sheqel",symbol_native:"âª",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",name:"Indian Rupee",symbol_native:"à¦à¦à¦¾",decimal_digits:2,rounding:0,code:"INR",use_indian_numbering_system:!0,name_plural:"Indian rupees"},IQD:{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"Ø¯.Ø¹.â",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",name:"Iranian Rial",symbol_native:"ï·¼",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",name:"Icelandic KrÃ³na",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krÃ³nur"},JMD:{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",name:"Jordanian Dinar",symbol_native:"Ø¯.Ø£.â",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"Â¥",name:"Japanese Yen",symbol_native:"ï¿¥",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",name:"Cambodian Riel",symbol_native:"á",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"â©",name:"South Korean Won",symbol_native:"â©",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:"ÑÒ£Ð³.",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"L.L.",name:"Lebanese Pound",symbol_native:"Ù.Ù.â",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",name:"Libyan Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"Ø¯.Ù.â",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"â¦",name:"Nigerian Naira",symbol_native:"â¦",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",name:"Nicaraguan CÃ³rdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan cÃ³rdobas"},NOK:{symbol:"Nkr",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"à¤¨à¥à¤°à¥",decimal_digits:2,rounding:0,code:"NPR",use_indian_numbering_system:!0,name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",name:"Omani Rial",symbol_native:"Ø±.Ø¹.â",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"â±",name:"Philippine Peso",symbol_native:"â±",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"â¨",decimal_digits:0,rounding:0,code:"PKR",use_indian_numbering_system:!0,name_plural:"Pakistani rupees"},PLN:{symbol:"zÅ",name:"Polish Zloty",symbol_native:"zÅ",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"â²",name:"Paraguayan Guarani",symbol_native:"â²",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",name:"Qatari Rial",symbol_native:"Ø±.Ù.â",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",name:"Serbian Dinar",symbol_native:"Ð´Ð¸Ð½.",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",name:"Russian Ruble",symbol_native:"â½.",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",name:"Saudi Riyal",symbol_native:"Ø±.Ø³.â",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SYÂ£",name:"Syrian Pound",symbol_native:"Ù.Ø³.â",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"à¸¿",name:"Thai Baht",symbol_native:"à¸¿",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",name:"Tunisian Dinar",symbol_native:"Ø¯.Øª.â",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",name:"Tongan PaÊ»anga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paÊ»anga"},TRY:{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"â´",name:"Ukrainian Hryvnia",symbol_native:"â´",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},UYU:{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",name:"Venezuelan BolÃ­var",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolÃ­vars"},VND:{symbol:"â«",name:"Vietnamese Dong",symbol_native:"â«",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",name:"Yemeni Rial",symbol_native:"Ø±.Ù.â",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"},ZWL:{symbol:"ZWL$",name:"Zimbabwean Dollar",symbol_native:"ZWL$",decimal_digits:0,rounding:0,code:"ZWL",name_plural:"Zimbabwean Dollar"}},Ri=Da("defaultCurrency","GBP"),si=Da("favCurrencies",["GBP","USD","EUR"]),ei=Da("theme","auto");function Ia(n){let e=[],t=[];for(let r of Object.keys(an))e.push({value:r,text:`${r} (${an[r].symbol})`});for(let r of n)t.push({value:r,text:`${r} (${an[r].symbol})`});return[{groupHeader:"Favourite Currencies",items:t},{groupHeader:"All Currencies",items:e}]}function ys(n){n==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",n)}var Pr=function(n,e){this.items=n,this.settings=e||{diacritics:!0}};Pr.prototype.tokenize=function(n,e,t){if(n=ks(String(n||"").toLowerCase()),!n||!n.length)return[];var r,a,s,o,c=[],d=n.split(/ +/);for(r=0,a=d.length;r<a;r++){if(s=Es(d[r]),this.settings.diacritics)for(o in Ir)Ir.hasOwnProperty(o)&&(s=s.replace(new RegExp(o,"g"),Ir[o]));e?s="\\b"+s:t&&(s="\\b^"+s),c.push({string:d[r],regex:new RegExp(s,"i")})}return c};Pr.prototype.iterator=function(n,e){var t;Array.isArray(n)?t=Array.prototype.forEach||function(r){for(var a=0,s=this.length;a<s;a++)r(this[a],a,this)}:t=function(r){for(var a in this)this.hasOwnProperty(a)&&r(this[a],a,this)},t.apply(n,[e])};Pr.prototype.getScoreFunction=function(n,e){var t,r,a,s,o;t=this,n=t.prepareSearch(n,e),a=n.tokens,r=n.options.fields,s=a.length,o=n.options.nesting;var c=function(m,g){var b,I;return!m||(m=String(m||""),I=m.search(g.regex),I===-1)?0:(b=g.string.length/m.length,I===0&&(b+=.5),b)},d=function(){var m=r.length;return m?m===1?function(g,b){return c(ya(b,r[0],o),g)}:function(g,b){for(var I=0,O=0;I<m;I++)O+=c(ya(b,r[I],o),g);return O/m}:function(){return 0}}();return s?s===1?function(m){return d(a[0],m)}:n.options.conjunction==="and"?function(m){for(var g,b=0,I=0;b<s;b++){if(g=d(a[b],m),g<=0)return 0;I+=g}return I/s}:function(m){for(var g=0,b=0;g<s;g++)b+=d(a[g],m);return b/s}:function(){return 0}};Pr.prototype.getSortFunction=function(n,e){var t,r,a,s,o,c,d,m,g,b,I;if(a=this,n=a.prepareSearch(n,e),I=!n.query&&e.sort_empty||e.sort,g=function(O,C){return O==="$score"?C.score:ya(a.items[C.id],O,e.nesting)},o=[],I)for(t=0,r=I.length;t<r;t++)(n.query||I[t].field!=="$score")&&o.push(I[t]);if(n.query){for(b=!0,t=0,r=o.length;t<r;t++)if(o[t].field==="$score"){b=!1;break}b&&o.unshift({field:"$score",direction:"desc"})}else for(t=0,r=o.length;t<r;t++)if(o[t].field==="$score"){o.splice(t,1);break}for(m=[],t=0,r=o.length;t<r;t++)m.push(o[t].direction==="desc"?-1:1);return c=o.length,c?c===1?(s=o[0].field,d=m[0],function(O,C){return d*Qa(g(s,O),g(s,C))}):function(O,C){var D,R,x;for(D=0;D<c;D++)if(x=o[D].field,R=m[D]*Qa(g(x,O),g(x,C)),R)return R;return 0}:null};Pr.prototype.prepareSearch=function(n,e){if(typeof n=="object")return n;e=ws({},e);var t=e.fields,r=e.sort,a=e.sort_empty;return t&&!Array.isArray(t)&&(e.fields=[t]),r&&!Array.isArray(r)&&(e.sort=[r]),a&&!Array.isArray(a)&&(e.sort_empty=[a]),{options:e,query:String(n||"").toLowerCase(),tokens:this.tokenize(n,e.wordsOnly,e.startOnly),total:0,items:[]}};Pr.prototype.search=function(n,e){var t=this,r,a,s,o;return a=this.prepareSearch(n,e),e=a.options,n=a.query,o=e.score||t.getScoreFunction(a),n.length?t.iterator(t.items,function(c,d){r=o(c),(e.filter===!1||r>0)&&a.items.push({score:r,id:d})}):t.iterator(t.items,function(c,d){a.items.push({score:1,id:d})}),s=t.getSortFunction(a,e),s&&a.items.sort(s),a.total=a.items.length,typeof e.limit=="number"&&(a.items=a.items.slice(0,e.limit)),a};var Qa=function(n,e){return typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=Ki(String(n||"")),e=Ki(String(e||"")),n>e?1:e>n?-1:0)},ws=function(n,e){var t,r,a,s;for(t=1,r=arguments.length;t<r;t++)if(s=arguments[t],!!s)for(a in s)s.hasOwnProperty(a)&&(n[a]=s[a]);return n},ya=function(n,e,t){if(!(!n||!e)){if(!t)return n[e];for(var r=e.split(".");r.length&&(n=n[r.shift()]););return n}},ks=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},Es=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Ir={a:"[aá¸á¸ÄÄÃÃ¢ÇÇÈºâ±¥È¦È§áº áº¡ÃÃ¤ÃÃ ÃÃ¡ÄÄÃÃ£ÃÃ¥ÄÄÃÄÄ]",b:"[bâ¢Î²ÎBà¸¿ðá]",c:"[cÄÄÄÄÄÄÄÄCÌcÌÃÃ§á¸á¸È»È¼ÆÆÉá´ï¼£ï½]",d:"[dÄÄá¸á¸á¸á¸á¸á¸á¸á¸á¸á¸ÄÄDÌ¦dÌ¦ÆÉÆÉÆÆáµ­á¶á¶È¡á´ï¼¤ï½Ã°]",e:"[eÃÃ©ÃÃ¨ÃÃªá¸á¸ÄÄÄÄáº¼áº½á¸á¸áººáº»ÄÄÃÃ«ÄÄÈ¨È©ÄÄá¶ÉÉÈÈáº¾áº¿á»á»á»á»á»á»á¸á¸á¸á¸á¸á¸ÈÈáº¸áº¹á»á»â±¸á´ï¼¥ï½ÉÇÆÆÎµ]",f:"[fÆÆá¸á¸]",g:"[gÉ¢â²Ç¤Ç¥ÄÄÄÄÄ¢Ä£ÆÉ Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áºáºá¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ]",i:"[iÃÃ­ÃÃ¬Ä¬Ä­ÃÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»á»ÈÈÈÈá»á»á¸¬á¸­ÆÉ¨É¨Ìáµ»á¶Ä°iIÄ±Éªï¼©ï½]",j:"[jÈ·Ä´ÄµÉÉÊÉÊ²]",k:"[kÆÆêêá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â­]",l:"[lÅÅÄ½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿ÅÈ½Æâ± â±¡â±¢É«É¬á¶É­È´Êï¼¬ï½]",n:"[nÅÅÇ¸Ç¹ÅÅÃÃ±á¹á¹ÅÅá¹á¹á¹á¹á¹á¹NÌnÌÆÉ²È Æáµ°á¶É³ÈµÉ´ï¼®ï½ÅÅ]",o:"[oÃÃ¸ÃÃ¶ÃÃ³ÃÃ²ÃÃ´ÇÇÅÅÅÅÈ®È¯á»á»ÆÉµÆ Æ¡á»á»ÅÅÃÃµÇªÇ«ÈÈÕÖ]",p:"[pá¹á¹á¹á¹â±£áµ½Æ¤Æ¥áµ±]",q:"[qêêÊ ÉÉêêqÌ]",r:"[rÅÅÉÉÅÅÅÅá¹á¹ÈÈÈÈá¹á¹â±¤É½]",s:"[sÅÅá¹ á¹¡á¹¢á¹£ê¨ê©ÅÅÅ Å¡ÅÅÈÈSÌsÌ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊÈÈá¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­ÉÊá»¤á»¥ÃÃ¼ÃÃºÃÃ¹ÃÃ»ÇÇÅ°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³ÈÈâª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Êêêâ±±Ê]",w:"[wáºáºáºáºÅ´Åµáºáºáºáºáºáº]",x:"[xáºáºáºáºÏ]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºáºá»´á»µÉÉÆ³Æ´]",z:"[zÅ¹ÅºáºáºÅ½Å¾Å»Å¼áºáºáºáºÆµÆ¶]"};const Ki=function(){var n,e,t,r,a="",s={};for(t in Ir)if(Ir.hasOwnProperty(t))for(r=Ir[t].substring(2,Ir[t].length-1),a+=r,n=0,e=r.length;n<e;n++)s[r.charAt(n)]=t;var o=new RegExp("["+a+"]","g");return function(c){return c.replace(o,function(d){return s[d]}).toLowerCase()}}();let Xr;function ji(n,e,t,r,a){const s=r(n,e,t);if(t==""||n.isSelected||a)return s;Xr||(Xr=document.createElement("div")),Xr.innerHTML=s;const o=Ki(t);return(o.includes("|")?o.split("|").map(c=>c.trim()):o.split(" ")).filter(c=>c).forEach(c=>{Ao(Xr,c)}),Xr.innerHTML}function Ao(n,e){let t=0;if(n.nodeType===3){const a=Ki(n.data);let s=a.indexOf(e);if(s-=a.substr(0,s).toUpperCase().length-a.substr(0,s).length,s>=0){const o=document.createElement("span");o.className="highlight";const c=n.splitText(s);c.splitText(e.length);const d=c.cloneNode(!0);o.appendChild(d),c.parentNode.replaceChild(o,c),t=1}}else if(n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN"))for(var r=0;r<n.childNodes.length;++r)r+=Ao(n.childNodes[r],e);return t}function Ss(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ja(){return navigator.userAgent.toLowerCase().includes("android")}function ca(n){return(n||"").replace(/\t/g," ").trim().split(" ").filter(e=>e).join(" ")}function Cs(n){return`${n}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ds(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(this,r)},e)}}function Is(n,{url:e,parentValue:t,initial:r},a){t&&(e=e.replace("[parent]",encodeURIComponent(t))),n&&(e=e.replace("[query]",encodeURIComponent(n))),Array.isArray(r)&&r.length===0&&(r=null),r&&(e=e.replace("[query]","init"));const s=e[0]==="/"?new URL(e,window.location.origin):new URL(e);if(r){const d=Array.isArray(r)?r:[r];s.searchParams.append("init",d.join(","))}const o=new AbortController,c=Object.assign({},a,{signal:o.signal});return{request:new Request(s,c),controller:o}}const Ct={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{aria_label:"",aria_describedby:"",aria_selected:n=>n.length?`Option${n.length>1?"s":""} ${n.join(", ")} selected.`:"",aria_listActive:(n,e,t)=>`You are currently focused on option ${n[e]}. ${t} result${t>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",empty:"No options",nomatch:"No matching options",max:n=>`Maximum items ${n} selected`,fetchBefore:"Type to start searching",fetchQuery:(n,e)=>`Type at least ${n} character${n>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:n=>`${n} selected`,createRowLabel:n=>`Add '${n}'`,emptyCreatable:"Add new by typing"},requestFactory:null};function Ts(n){const e=n-1;return e*e*e+1}function As(n,{from:e,to:t},r={}){const a=getComputedStyle(n),s=a.transform==="none"?"":a.transform,[o,c]=a.transformOrigin.split(" ").map(parseFloat),d=e.left+e.width*o/t.width-(t.left+o),m=e.top+e.height*c/t.height-(t.top+c),{delay:g=0,duration:b=O=>Math.sqrt(O)*120,easing:I=Ts}=r;return{delay:g,duration:Or(b)?b(Math.sqrt(d*d+m*m)):b,easing:I,css:(O,C)=>{const D=C*d,R=C*m,x=O+C*e.width/t.width,X=O+C*e.height/t.height;return`transform: ${s} translate(${D}px, ${R}px) scale(${x}, ${X});`}}}const Di={START:"start",CENTER:"center",END:"end"},lr={HORIZONTAL:"horizontal",VERTICAL:"vertical"},$r={OBSERVED:0,REQUESTED:1},Os={[lr.VERTICAL]:"top",[lr.HORIZONTAL]:"left"},Xa={[lr.VERTICAL]:"scrollTop",[lr.HORIZONTAL]:"scrollLeft"};class Ps{constructor({itemSize:e,itemCount:t,estimatedItemSize:r}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:r}){t!=null&&(this.itemCount=t),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const r=this.getSize(t),a=e;e+=r,this.itemSizeAndPositionData[t]={offset:a,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let r=t.offset+t.size;for(let a=this.lastMeasuredIndex+1;a<=e;a++){const s=this.getSize(a);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${a} of value ${s}`);this.itemSizeAndPositionData[a]={offset:r,size:s},r+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Di.START,containerSize:t,currentOffset:r,targetIndex:a}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(a),o=s.offset,c=o-t+s.size;let d;switch(e){case Di.END:d=c;break;case Di.CENTER:d=o-(t-s.size)/2;break;case Di.START:d=o;break;default:d=Math.max(c,Math.min(o,r))}const m=this.getTotalSize();return Math.max(0,Math.min(m-t,d))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:r}){if(this.getTotalSize()===0)return{};const s=t+e;let o=this.findNearestItem(t);if(o===void 0)throw Error(`Invalid offset ${t} specified`);const c=this.getSizeAndPositionForIndex(o);t=c.offset+c.size;let d=o;for(;t<s&&d<this.itemCount-1;)d++,t+=this.getSizeAndPositionForIndex(d).size;return r&&(o=Math.max(0,o-r),d=Math.min(d+r,this.itemCount-1)),{start:o,stop:d}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:t,offset:r}){let a=0,s=0;for(;e<=t;){if(a=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(a).offset,s===r)return a;s<r?e=a+1:s>r&&(t=a-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const Ls=n=>({}),$a=n=>({});function el(n,e,t){const r=n.slice();return r[37]=e[t],r}const Rs=n=>({style:n[0]&4,index:n[0]&4}),tl=n=>({style:n[37].style,index:n[37].index}),Ms=n=>({}),nl=n=>({});function rl(n,e){let t,r;const a=e[21].item,s=Pn(a,e,e[20],tl);return{key:n,first:null,c(){t=Bt(),s&&s.c(),this.h()},l(o){t=Bt(),s&&s.l(o),this.h()},h(){this.first=t},m(o,c){le(o,t,c),s&&s.m(o,c),r=!0},p(o,c){e=o,s&&s.p&&(!r||c[0]&1048580)&&Ln(s,a,e,e[20],r?Mn(a,e[20],c,Rs):Rn(e[20]),tl)},i(o){r||(Be(s,o),r=!0)},o(o){Ue(s,o),r=!1},d(o){o&&y(t),s&&s.d(o)}}}function Ns(n){let e,t,r,a=[],s=new Map,o,c;const d=n[21].header,m=Pn(d,n,n[20],nl);let g=Nt(n[2]);const b=C=>C[0]?C[0](C[37].index):C[37].index;for(let C=0;C<g.length;C+=1){let D=el(n,g,C),R=b(D);s.set(R,a[C]=rl(R,D))}const I=n[21].footer,O=Pn(I,n,n[20],$a);return{c(){e=A("div"),m&&m.c(),t=te(),r=A("div");for(let C=0;C<a.length;C+=1)a[C].c();o=te(),O&&O.c(),this.h()},l(C){e=T(C,"DIV",{class:!0,style:!0});var D=H(e);m&&m.l(D),t=ee(D),r=T(D,"DIV",{class:!0,style:!0});var R=H(r);for(let x=0;x<a.length;x+=1)a[x].l(R);R.forEach(y),o=ee(D),O&&O.l(D),D.forEach(y),this.h()},h(){p(r,"class","virtual-list-inner svelte-dwpad5"),p(r,"style",n[4]),p(e,"class","virtual-list-wrapper svelte-dwpad5"),p(e,"style",n[3])},m(C,D){le(C,e,D),m&&m.m(e,null),v(e,t),v(e,r);for(let R=0;R<a.length;R+=1)a[R]&&a[R].m(r,null);v(e,o),O&&O.m(e,null),n[22](e),c=!0},p(C,D){m&&m.p&&(!c||D[0]&1048576)&&Ln(m,d,C,C[20],c?Mn(d,C[20],D,Ms):Rn(C[20]),nl),D[0]&1048581&&(g=Nt(C[2]),_n(),a=Ar(a,D,b,1,C,g,s,r,_s,rl,null,el),vn()),(!c||D[0]&16)&&p(r,"style",C[4]),O&&O.p&&(!c||D[0]&1048576)&&Ln(O,I,C,C[20],c?Mn(I,C[20],D,Ls):Rn(C[20]),$a),(!c||D[0]&8)&&p(e,"style",C[3])},i(C){if(!c){Be(m,C);for(let D=0;D<g.length;D+=1)Be(a[D]);Be(O,C),c=!0}},o(C){Ue(m,C);for(let D=0;D<a.length;D+=1)Ue(a[D]);Ue(O,C),c=!1},d(C){C&&y(e),m&&m.d(C);for(let D=0;D<a.length;D+=1)a[D].d();O&&O.d(C),n[22](null)}}}const Bs=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();function Fs(n,e,t){let{$$slots:r={},$$scope:a}=e,{height:s}=e,{width:o="100%"}=e,{itemCount:c}=e,{itemSize:d}=e,{estimatedItemSize:m=null}=e,{stickyIndices:g=null}=e,{getKey:b=null}=e,{scrollDirection:I=lr.VERTICAL}=e,{scrollOffset:O=null}=e,{scrollToIndex:C=null}=e,{scrollToAlignment:D=null}=e,{scrollToBehaviour:R="instant"}=e,{overscanCount:x=3}=e;const X=Eo(),oe=new Ps({itemCount:c,itemSize:d,estimatedItemSize:j()});let q=!1,ce,ne=[],V={offset:O||C!=null&&ne.length&&ie(C)||0,scrollChangeReason:$r.REQUESTED},be=V,re={scrollToIndex:C,scrollToAlignment:D,scrollOffset:O,itemCount:c,itemSize:d,estimatedItemSize:m},se={},Ce="",ve="";fe(),Ea(()=>{t(18,q=!0),ce.addEventListener("scroll",S,Bs),O!=null?_e(O):C!=null&&_e(ie(C))}),$o(()=>{q&&ce.removeEventListener("scroll",S)});function me(){if(!q)return;const Y=re.scrollToIndex!==C||re.scrollToAlignment!==D,Z=re.itemCount!==c||re.itemSize!==d||re.estimatedItemSize!==m;Z&&(oe.updateConfig({itemSize:d,itemCount:c,estimatedItemSize:j()}),ae()),re.scrollOffset!==O?t(19,V={offset:O||0,scrollChangeReason:$r.REQUESTED}):typeof C=="number"&&(Y||Z)&&t(19,V={offset:ie(C,D,c),scrollChangeReason:$r.REQUESTED}),re={scrollToIndex:C,scrollToAlignment:D,scrollOffset:O,itemCount:c,itemSize:d,estimatedItemSize:m}}function J(){if(!q)return;const{offset:Y,scrollChangeReason:Z}=V;(be.offset!==Y||be.scrollChangeReason!==Z)&&fe(),be.offset!==Y&&Z===$r.REQUESTED&&_e(Y),be=V}function fe(){const{offset:Y}=V,{start:Z,stop:W}=oe.getVisibleRange({containerSize:I===lr.VERTICAL?s:o,offset:Y,overscanCount:x});let ue=[];const Oe=oe.getTotalSize();I===lr.VERTICAL?(t(3,Ce=`height:${s}${typeof s=="number"?"px":""};width:${o};`),t(4,ve=`flex-direction:column;height:${Oe}px;`)):(t(3,Ce=`height:${s};width:${o}${typeof o=="number"?"px":""}`),t(4,ve=`min-height:100%;width:${Oe}px;`));const Ee=g!=null&&g.length!==0;if(Ee)for(let he=0;he<g.length;he++){const et=g[he];ue.push({index:et,style:pe(et,!0)})}if(Z!==void 0&&W!==void 0){for(let he=Z;he<=W;he++)Ee&&g.includes(he)||ue.push({index:he,style:pe(he,!1)});X("itemsUpdated",{start:Z,end:W})}t(2,ne=ue)}function _e(Y){"scroll"in ce?ce.scroll({[Os[I]]:Y,behavior:R}):t(1,ce[Xa[I]]=Y,ce)}function ae(Y=0){se={},oe.resetItem(Y),fe()}function ie(Y,Z=D,W=c){return(Y<0||Y>=W)&&(Y=0),oe.getUpdatedOffsetForIndex({align:Z,containerSize:I===lr.VERTICAL?s:o,currentOffset:V.offset||0,targetIndex:Y})}function S(Y){const Z=P();Z<0||V.offset===Z||Y.target!==ce||(t(19,V={offset:Z,scrollChangeReason:$r.OBSERVED}),X("afterScroll",{offset:Z,event:Y}))}function P(){return ce[Xa[I]]}function j(){return m||typeof d=="number"&&d||50}function pe(Y,Z){if(se[Y])return se[Y];const{size:W,offset:ue}=oe.getSizeAndPositionForIndex(Y);let Oe;return I===lr.VERTICAL?(Oe=`left:0;width:100%;height:${W}px;`,Z?Oe+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ue}px;margin-bottom:${-(ue+W)}px;`:Oe+=`position:absolute;top:${ue}px;`):(Oe=`top:0;width:${W}px;`,Z?Oe+=`position:sticky;z-index:1;left:0;margin-left:${ue}px;margin-right:${-(ue+W)}px;`:Oe+=`position:absolute;height:100%;left:${ue}px;`),se[Y]=Oe}function de(Y){On[Y?"unshift":"push"](()=>{ce=Y,t(1,ce)})}return n.$$set=Y=>{"height"in Y&&t(5,s=Y.height),"width"in Y&&t(6,o=Y.width),"itemCount"in Y&&t(7,c=Y.itemCount),"itemSize"in Y&&t(8,d=Y.itemSize),"estimatedItemSize"in Y&&t(9,m=Y.estimatedItemSize),"stickyIndices"in Y&&t(10,g=Y.stickyIndices),"getKey"in Y&&t(0,b=Y.getKey),"scrollDirection"in Y&&t(11,I=Y.scrollDirection),"scrollOffset"in Y&&t(12,O=Y.scrollOffset),"scrollToIndex"in Y&&t(13,C=Y.scrollToIndex),"scrollToAlignment"in Y&&t(14,D=Y.scrollToAlignment),"scrollToBehaviour"in Y&&t(15,R=Y.scrollToBehaviour),"overscanCount"in Y&&t(16,x=Y.overscanCount),"$$scope"in Y&&t(20,a=Y.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&29568&&me(),n.$$.dirty[0]&524288&&J(),n.$$.dirty[0]&263264&&q&&ae(0)},[b,ce,ne,Ce,ve,s,o,c,d,m,g,I,O,C,D,R,x,ae,q,V,a,r,de]}class zs extends Nn{constructor(e){super(),Bn(this,e,Fs,Ns,En,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get height(){return this.$$.ctx[5]}set height(e){this.$$set({height:e}),An()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),An()}get itemCount(){return this.$$.ctx[7]}set itemCount(e){this.$$set({itemCount:e}),An()}get itemSize(){return this.$$.ctx[8]}set itemSize(e){this.$$set({itemSize:e}),An()}get estimatedItemSize(){return this.$$.ctx[9]}set estimatedItemSize(e){this.$$set({estimatedItemSize:e}),An()}get stickyIndices(){return this.$$.ctx[10]}set stickyIndices(e){this.$$set({stickyIndices:e}),An()}get getKey(){return this.$$.ctx[0]}set getKey(e){this.$$set({getKey:e}),An()}get scrollDirection(){return this.$$.ctx[11]}set scrollDirection(e){this.$$set({scrollDirection:e}),An()}get scrollOffset(){return this.$$.ctx[12]}set scrollOffset(e){this.$$set({scrollOffset:e}),An()}get scrollToIndex(){return this.$$.ctx[13]}set scrollToIndex(e){this.$$set({scrollToIndex:e}),An()}get scrollToAlignment(){return this.$$.ctx[14]}set scrollToAlignment(e){this.$$set({scrollToAlignment:e}),An()}get scrollToBehaviour(){return this.$$.ctx[15]}set scrollToBehaviour(e){this.$$set({scrollToBehaviour:e}),An()}get overscanCount(){return this.$$.ctx[16]}set overscanCount(e){this.$$set({overscanCount:e}),An()}get recomputeSizes(){return this.$$.ctx[17]}}function fa(n,e){const t=window.getComputedStyle(n);let{groups:{value:r,unit:a}}=t[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),s=parseFloat(r);if(a!=="px"){const o=a==="rem"?document.documentElement:n.parentElement.parentElement;s=parseFloat(window.getComputedStyle(o).fontSize.match(/\d+/).shift())*s}return s}function Ks(n){const e=n.parentElement.parentElement.getBoundingClientRect(),t=n.getBoundingClientRect(),r={};return r.top=e.top<0,r.left=e.left<0,r.bottom=e.bottom+t.height>(window.innerHeight||document.documentElement.clientHeight)&&e.top>t.height&&(window.innerHeight||document.documentElement.clientHeight)>t.height+50,r.right=e.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function da(n,e,t){if(!e||!t)return;const r=Ks(e);r.bottom&&!r.top?e.parentElement.style.bottom=e.parentElement.parentElement.clientHeight+1+"px":(!n||r.top||e.parentElement.style.bottom!=="")&&(e.parentElement.style.bottom="")}function js(n,e,t){let r;const a=fa(e,"maxHeight")-fa(e,"paddingTop")-fa(e,"paddingBottom");e.parentElement.style.cssText="opacity: 0; display: block";const s=n.$$.ctx[1].firstElementChild.firstElementChild;if(s){s.style="";const o=s.getBoundingClientRect().height,c=n.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let d;if(c&&(c.style="",d=c.getBoundingClientRect().height),d&&o!==d){const m=t[0].$isGroupHeader?o:d,g=t[0].$isGroupHeader?d:o;r=t.map(b=>b.$isGroupHeader?m:g)}else r=o}return e.parentElement.style.cssText="",{size:r,height:a}}function Ii({container:n,scrollContainer:e,virtualList:t,center:r},a){if(t||!n)return;const s=n.querySelector(`[data-pos="${a}"]`);if(!s)return;const o=s.getBoundingClientRect(),c=e.getBoundingClientRect(),d=s.offsetHeight/3,m=0;switch(!0){case s.offsetTop<e.scrollTop:e.scrollTop=s.offsetTop-d+m;break;case s.offsetTop+o.height>e.scrollTop+c.height:e.scrollTop=s.offsetTop+o.height-e.offsetHeight+d+m;break}}function Hs(n,e,t,r){return{optionProps:[],optionsWithGroups:!1,valueField:n,labelField:e,optLabel:t,optItems:r}}function qs(n,e,t,r,a){if(t)return Array.isArray(e)?e:[e];const s=Array.isArray(e)?e:[e];return n.reduce((c,d,m)=>{const g=d[r]&&Array.isArray(d)?d[r]:null;if(g){const b=g.reduce((I,O)=>(s.includes(O[a])&&I.push(O),I),[]);if(b.length)return c.push(...b),c}return c},[]).sort((c,d)=>s.indexOf(c[a])<s.indexOf(d[a])?-1:1)}function il(n,e,t,r){return r?n:typeof n[0]=="object"?n.map(a=>({...a})):n.map(a=>({[e||"value"]:a,[t||"text"]:a}))}function Vs(n,e){const t=n.reduce((r,a,s)=>a[e.optItems]?(a[e.optItems].length===0||(e.optionsWithGroups=!0,r.push({label:a[e.optLabel],$isGroupHeader:!0}),r.push(...a[e.optItems].map(o=>(o.$isGroupItem=!0,o)))),r):(r.push(a),r),[]);return Us(t,e),t}function Us(n,e){n.some(t=>t.$isGroupHeader?!1:(e.optionProps=Gs(t),!0))}function Gs(n){const e=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(n).filter(t=>!e.includes(t))}function xs(n,e,t,r,a){if(t&&(n=n.filter(m=>!t.has(m[r.valueField])).filter((m,g,b)=>!(m.$isGroupHeader&&(b[g+1]&&b[g+1].$isGroupHeader||b.length<=1||b.length-1===g)))),a.disabled||!e)return n;const s=new Pr(n);(r.optionsWithGroups||a.skipSort)&&(s.getSortFunction=()=>null);let o="and";e.includes("|")&&(o="or",e=e.split("|").map(m=>m.trim()).join(" "));const c=s.search(e,{fields:a.fields||r.optionProps,sort:a.sort||Ws(r.labelField),conjunction:a.conjunction||o,nesting:a.nesting||!1,wordsOnly:a.wordsOnly||!1,startOnly:a.startOnly||!1});return r.optionsWithGroups?c.items.reduce((m,g)=>{const b=n[g.id];if(t&&b.isSelected)return m;const I=m.push(b);if(b.$isGroupItem){const O=n.slice(0,g.id);let C=null;do C=O.pop(),C&&C.$isGroupHeader&&!m.includes(C)&&m.splice(I-1,0,C);while(C&&!C.$isGroupHeader)}return m},[]):c.items.map(m=>n[m.id])}function Ws(n){return[{field:n,direction:"asc"}]}function Ti(n,e,t){const r=n==="value";let a=r?"value":"text";if(e&&e.length){const s=e[0][t]?e[0][t][0]:e[0];if(!s||typeof s=="string")return a;const o=r?0:1,c=r?["id","value","ID"]:["name","title","label"];a=Object.keys(s).filter(d=>c.includes(d)).concat([Object.keys(s)[o]]).shift()}return a}function Oo(n,e){return n.bound_item=e,{destroy:()=>{}}}const Ys=n=>({isCreating:n[1]&16,inputValue:n[0]&8388608,i18n:n[0]&16777216}),al=n=>({isCreating:n[35],inputValue:n[23],i18n:n[24]});function ll(n,e,t){const r=n.slice();return r[164]=e[t],r[166]=t,r}const Zs=n=>({item:n[0]&33554432,inputValue:n[0]&8388608}),ol=n=>({item:n[164],inputValue:n[23]});function sl(n){const e=n[25][n[163]];n[164]=e}const Qs=n=>({item:n[0]&33554432|n[5]&256,inputValue:n[0]&8388608}),ul=n=>({item:n[164],inputValue:n[23]}),Js=n=>({}),cl=n=>({}),Xs=n=>({}),fl=n=>({}),$s=n=>({isOpen:n[0]&1048576}),dl=n=>({isOpen:n[20]}),eu=n=>({selectedOptions:n[0]&524288,inputValue:n[0]&8388608}),hl=n=>({selectedOptions:n[19],inputValue:n[23]});function pl(n,e,t){const r=n.slice();return r[164]=e[t],r}const tu=n=>({selectedOptions:n[0]&524288}),ml=n=>({selectedOptions:n[19],bindItem:Oo}),nu=n=>({selectedOptions:n[0]&524288,i18n:n[0]&16777216}),gl=n=>({selectedOptions:n[19],i18n:n[24]}),ru=n=>({}),_l=n=>({});function vl(n,e,t){const r=n.slice();return r[164]=e[t],r}function bl(n){let e,t,r,a,s;return{c(){e=A("span"),t=Ke(n[46]),r=te(),a=A("span"),s=Ke(n[45]),this.h()},l(o){e=T(o,"SPAN",{id:!0});var c=H(e);t=ze(c,n[46]),c.forEach(y),r=ee(o),a=T(o,"SPAN",{id:!0});var d=H(a);s=ze(d,n[45]),d.forEach(y),this.h()},h(){p(e,"id","aria-selection"),p(a,"id","aria-context")},m(o,c){le(o,e,c),v(e,t),le(o,r,c),le(o,a,c),v(a,s)},p(o,c){c[1]&32768&&nt(t,o[46]),c[1]&16384&&nt(s,o[45])},d(o){o&&(y(e),y(r),y(a))}}}function yl(n){let e,t=[],r=new Map,a,s,o,c=Nt(n[19]);const d=m=>m[164][m[27]];for(let m=0;m<c.length;m+=1){let g=vl(n,c,m),b=d(g);r.set(b,t[m]=wl(b,g))}return{c(){e=A("select");for(let m=0;m<t.length;m+=1)t[m].c();this.h()},l(m){e=T(m,"SELECT",{name:!0,size:!0,class:!0,id:!0,tabindex:!0,"aria-hidden":!0});var g=H(e);for(let b=0;b<t.length;b+=1)t[b].l(g);g.forEach(y),this.h()},h(){p(e,"name",n[4]),e.required=n[5],e.multiple=n[0],e.disabled=n[3],p(e,"size","1"),p(e,"class","sv-hidden-element"),p(e,"id",n[50]),p(e,"tabindex","-1"),p(e,"aria-hidden","true")},m(m,g){le(m,e,g);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);n[112](e),s||(o=ai(a=n[60].call(null,e,n[13])),s=!0)},p(m,g){g[0]&134742016&&(c=Nt(m[19]),t=Ar(t,g,d,1,m,c,r,e,Gr,wl,null,vl)),g[0]&16&&p(e,"name",m[4]),g[0]&32&&(e.required=m[5]),g[0]&1&&(e.multiple=m[0]),g[0]&8&&(e.disabled=m[3]),a&&Or(a.update)&&g[0]&8192&&a.update.call(null,m[13])},d(m){m&&y(e);for(let g=0;g<t.length;g+=1)t[g].d();n[112](null),s=!1,o()}}}function wl(n,e){let t,r;return{key:n,first:null,c(){t=A("option"),this.h()},l(a){t=T(a,"OPTION",{}),H(t).forEach(y),this.h()},h(){t.__value=r=e[164][e[27]],Wt(t,t.__value),t.selected=!0,this.first=t},m(a,s){le(a,t,s)},p(a,s){e=a,s[0]&134742016&&r!==(r=e[164][e[27]])&&(t.__value=r,Wt(t,t.__value))},d(a){a&&y(t)}}}function kl(n){let e,t,r,a;const s=[au,iu],o=[];function c(d,m){return d[0]&&d[33]?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Bt()},l(d){t.l(d),r=Bt()},m(d,m){o[e].m(d,m),le(d,r,m),a=!0},p(d,m){let g=e;e=c(d),e===g?o[e].p(d,m):(_n(),Ue(o[g],1,1,()=>{o[g]=null}),vn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Be(t,1),t.m(r.parentNode,r))},i(d){a||(Be(t),a=!0)},o(d){Ue(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function iu(n){let e;const t=n[109].selection,r=Pn(t,n,n[118],ml),a=r||lu(n);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,o){a&&a.m(s,o),e=!0},p(s,o){r?r.p&&(!e||o[0]&524288|o[3]&33554432)&&Ln(r,t,s,s[118],e?Mn(t,s[118],o,tu):Rn(s[118]),ml):a&&a.p&&(!e||o[0]&524289|o[1]&8192)&&a.p(s,e?o:[-1,-1,-1,-1,-1,-1])},i(s){e||(Be(a,s),e=!0)},o(s){Ue(a,s),e=!1},d(s){a&&a.d(s)}}}function au(n){let e;const t=n[109].collapsedSelection,r=Pn(t,n,n[118],gl),a=r||ou(n);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,o){a&&a.m(s,o),e=!0},p(s,o){r?r.p&&(!e||o[0]&17301504|o[3]&33554432)&&Ln(r,t,s,s[118],e?Mn(t,s[118],o,nu):Rn(s[118]),gl):a&&a.p&&(!e||o[0]&17301504)&&a.p(s,e?o:[-1,-1,-1,-1,-1,-1])},i(s){e||(Be(a,s),e=!0)},o(s){Ue(a,s),e=!1},d(s){a&&a.d(s)}}}function El(n){let e,t='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',r,a,s;return{c(){e=A("button"),e.innerHTML=t,this.h()},l(o){e=T(o,"BUTTON",{class:!0,tabindex:!0,type:!0,"data-action":!0,"data-svelte-h":!0}),Ve(e)!=="svelte-179wtvk"&&(e.innerHTML=t),this.h()},h(){p(e,"class","sv-item--btn"),p(e,"tabindex","-1"),p(e,"type","button"),p(e,"data-action","deselect")},m(o,c){le(o,e,c),a||(s=ai(r=Oo.call(null,e,n[164])),a=!0)},p(o,c){n=o,r&&Or(r.update)&&c[0]&524288&&r.update.call(null,n[164])},d(o){o&&y(e),a=!1,s()}}}function Sl(n,e){let t,r,a,s,o=e[44](e[164],!0)+"",c,d,m,g=Tt,b,I,O=e[0]&&El(e);return{key:n,first:null,c(){t=A("div"),r=A("div"),a=A("div"),s=new qi(!1),c=te(),O&&O.c(),d=te(),this.h()},l(C){t=T(C,"DIV",{class:!0});var D=H(t);r=T(D,"DIV",{class:!0});var R=H(r);a=T(R,"DIV",{class:!0});var x=H(a);s=Hi(x,!1),x.forEach(y),R.forEach(y),c=ee(D),O&&O.l(D),d=ee(D),D.forEach(y),this.h()},h(){s.a=null,p(a,"class","sv-item--content"),p(r,"class","sv-item--wrap"),Ne(r,"is-multi",e[0]),p(t,"class","sv-item--container svelte-11q5y3b"),this.first=t},m(C,D){le(C,t,D),v(t,r),v(r,a),s.m(o,a),v(t,c),O&&O.m(t,null),v(t,d),b||(I=rt(t,"mousedown",_a(e[111])),b=!0)},p(C,D){e=C,D[0]&524288|D[1]&8192&&o!==(o=e[44](e[164],!0)+"")&&s.p(o),D[0]&1&&Ne(r,"is-multi",e[0]),e[0]?O?O.p(e,D):(O=El(e),O.c(),O.m(t,d)):O&&(O.d(1),O=null)},r(){m=t.getBoundingClientRect()},f(){ms(t),g()},a(){g(),g=ps(t,m,As,{duration:e[36]})},d(C){C&&y(t),O&&O.d(),b=!1,I()}}}function lu(n){let e=[],t=new Map,r,a=Nt(n[19]);const s=o=>o[164][o[27]];for(let o=0;o<a.length;o+=1){let c=pl(n,a,o),d=s(c);t.set(d,e[o]=Sl(d,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Bt()},l(o){for(let c=0;c<e.length;c+=1)e[c].l(o);r=Bt()},m(o,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(o,c);le(o,r,c)},p(o,c){if(c[0]&134742017|c[1]&8192){a=Nt(o[19]);for(let d=0;d<e.length;d+=1)e[d].r();e=Ar(e,c,s,1,o,a,t,r.parentNode,vs,Sl,r,pl);for(let d=0;d<e.length;d+=1)e[d].a()}},d(o){o&&y(r);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function ou(n){let e=n[24].collapsedSelection(n[19].length)+"",t;return{c(){t=Ke(e)},l(r){t=ze(r,e)},m(r,a){le(r,t,a)},p(r,a){a[0]&17301504&&e!==(e=r[24].collapsedSelection(r[19].length)+"")&&nt(t,e)},d(r){r&&y(t)}}}function Cl(n){let e,t;const r=n[109]["clear-icon"],a=Pn(r,n,n[118],hl),s=a||su(n);return{c(){e=A("button"),s&&s.c(),this.h()},l(o){e=T(o,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var c=H(e);s&&s.l(c),c.forEach(y),this.h()},h(){p(e,"type","button"),p(e,"class","sv-btn-indicator svelte-11q5y3b"),p(e,"data-action","deselect"),p(e,"tabindex","-1"),Ne(e,"sv-has-selection",n[19].length)},m(o,c){le(o,e,c),s&&s.m(e,null),t=!0},p(o,c){a?a.p&&(!t||c[0]&8912896|c[3]&33554432)&&Ln(a,r,o,o[118],t?Mn(r,o[118],c,eu):Rn(o[118]),hl):s&&s.p&&(!t||c[0]&524288)&&s.p(o,t?c:[-1,-1,-1,-1,-1,-1]),(!t||c[0]&524288)&&Ne(e,"sv-has-selection",o[19].length)},i(o){t||(Be(s,o),t=!0)},o(o){Ue(s,o),t=!1},d(o){o&&y(e),s&&s.d(o)}}}function Dl(n){let e,t;return{c(){e=Kt("svg"),t=Kt("path"),this.h()},l(r){e=zt(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var a=H(e);t=zt(a,"path",{d:!0}),H(t).forEach(y),a.forEach(y),this.h()},h(){p(t,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),p(e,"class","indicator-icon svelte-11q5y3b"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,a){le(r,e,a),v(e,t)},d(r){r&&y(e)}}}function su(n){let e,t=n[19].length&&Dl();return{c(){t&&t.c(),e=Bt()},l(r){t&&t.l(r),e=Bt()},m(r,a){t&&t.m(r,a),le(r,e,a)},p(r,a){r[19].length?t||(t=Dl(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&y(e),t&&t.d(r)}}}function Il(n){let e;return{c(){e=A("span"),this.h()},l(t){e=T(t,"SPAN",{class:!0}),H(e).forEach(y),this.h()},h(){p(e,"class","sv-btn-separator svelte-11q5y3b")},m(t,r){le(t,e,r)},d(t){t&&y(e)}}}function uu(n){let e,t;return{c(){e=Kt("svg"),t=Kt("path"),this.h()},l(r){e=zt(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var a=H(e);t=zt(a,"path",{d:!0}),H(t).forEach(y),a.forEach(y),this.h()},h(){p(t,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),p(e,"class","indicator-icon svelte-11q5y3b"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,a){le(r,e,a),v(e,t)},p:Tt,d(r){r&&y(e)}}}function Tl(n){let e,t,r,a,s,o,c,d;const m=n[109]["list-header"],g=Pn(m,n,n[118],cl),b=[fu,cu],I=[];function O(D,R){return D[25].length?0:D[25].length===0&&(!D[14]||!D[23])||D[26]?1:-1}~(a=O(n))&&(s=I[a]=b[a](n));let C=n[14]&&n[23]&&!n[26]&&Ol(n);return{c(){g&&g.c(),e=te(),t=A("div"),r=A("div"),s&&s.c(),o=te(),C&&C.c(),c=Bt(),this.h()},l(D){g&&g.l(D),e=ee(D),t=T(D,"DIV",{class:!0,tabindex:!0});var R=H(t);r=T(R,"DIV",{class:!0});var x=H(r);s&&s.l(x),x.forEach(y),R.forEach(y),o=ee(D),C&&C.l(D),c=Bt(),this.h()},h(){p(r,"class","sv-dropdown-content"),Ne(r,"max-reached",n[26]),p(t,"class","sv-dropdown-scroll svelte-11q5y3b"),p(t,"tabindex","-1"),Ne(t,"has-items",n[25].length>0),Ne(t,"is-virtual",n[15])},m(D,R){g&&g.m(D,R),le(D,e,R),le(D,t,R),v(t,r),~a&&I[a].m(r,null),n[116](r),n[117](t),le(D,o,R),C&&C.m(D,R),le(D,c,R),d=!0},p(D,R){g&&g.p&&(!d||R[3]&33554432)&&Ln(g,m,D,D[118],d?Mn(m,D[118],R,Js):Rn(D[118]),cl);let x=a;a=O(D),a===x?~a&&I[a].p(D,R):(s&&(_n(),Ue(I[x],1,1,()=>{I[x]=null}),vn()),~a?(s=I[a],s?s.p(D,R):(s=I[a]=b[a](D),s.c()),Be(s,1),s.m(r,null)):s=null),(!d||R[0]&67108864)&&Ne(r,"max-reached",D[26]),(!d||R[0]&33554432)&&Ne(t,"has-items",D[25].length>0),(!d||R[0]&32768)&&Ne(t,"is-virtual",D[15]),D[14]&&D[23]&&!D[26]?C?(C.p(D,R),R[0]&75513856&&Be(C,1)):(C=Ol(D),C.c(),Be(C,1),C.m(c.parentNode,c)):C&&(_n(),Ue(C,1,1,()=>{C=null}),vn())},i(D){d||(Be(g,D),Be(s),Be(C),d=!0)},o(D){Ue(g,D),Ue(s),Ue(C),d=!1},d(D){D&&(y(e),y(t),y(o),y(c)),g&&g.d(D),~a&&I[a].d(),n[116](null),n[117](null),C&&C.d(D)}}}function cu(n){let e,t,r,a;return{c(){e=A("div"),t=A("div"),r=A("div"),a=Ke(n[42]),this.h()},l(s){e=T(s,"DIV",{class:!0});var o=H(e);t=T(o,"DIV",{class:!0});var c=H(t);r=T(c,"DIV",{class:!0});var d=H(r);a=ze(d,n[42]),d.forEach(y),c.forEach(y),o.forEach(y),this.h()},h(){p(r,"class","sv-item--content"),p(t,"class","sv-item--wrap"),p(e,"class","is-dropdown-row svelte-11q5y3b")},m(s,o){le(s,e,o),v(e,t),v(t,r),v(r,a)},p(s,o){o[1]&2048&&nt(a,s[42])},i:Tt,o:Tt,d(s){s&&y(e)}}}function fu(n){let e,t,r,a;const s=[hu,du],o=[];function c(d,m){return d[15]?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Bt()},l(d){t.l(d),r=Bt()},m(d,m){o[e].m(d,m),le(d,r,m),a=!0},p(d,m){let g=e;e=c(d),e===g?o[e].p(d,m):(_n(),Ue(o[g],1,1,()=>{o[g]=null}),vn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Be(t,1),t.m(r.parentNode,r))},i(d){a||(Be(t),a=!0)},o(d){Ue(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function du(n){let e,t,r=Nt(n[25]),a=[];for(let o=0;o<r.length;o+=1)a[o]=Al(ll(n,r,o));const s=o=>Ue(a[o],1,1,()=>{a[o]=null});return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=Bt()},l(o){for(let c=0;c<a.length;c+=1)a[c].l(o);e=Bt()},m(o,c){for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,c);le(o,e,c),t=!0},p(o,c){if(c[0]&44041344|c[1]&8192|c[3]&33554432){r=Nt(o[25]);let d;for(d=0;d<r.length;d+=1){const m=ll(o,r,d);a[d]?(a[d].p(m,c),Be(a[d],1)):(a[d]=Al(m),a[d].c(),Be(a[d],1),a[d].m(e.parentNode,e))}for(_n(),d=r.length;d<a.length;d+=1)s(d);vn()}},i(o){if(!t){for(let c=0;c<r.length;c+=1)Be(a[c]);t=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)Ue(a[c]);t=!1},d(o){o&&y(e),Tr(a,o)}}}function hu(n){let e,t,r={width:"100%",height:n[49],itemCount:n[25].length,itemSize:n[22],scrollToAlignment:"auto",scrollToIndex:n[21],$$slots:{item:[yu,({style:a,index:s})=>({162:a,163:s}),({style:a,index:s})=>[0,0,0,0,0,(a?128:0)|(s?256:0)]]},$$scope:{ctx:n}};return e=new zs({props:r}),n[115](e),{c(){hn(e.$$.fragment)},l(a){dn(e.$$.fragment,a)},m(a,s){fn(e,a,s),t=!0},p(a,s){const o={};s[1]&262144&&(o.height=a[49]),s[0]&33554432&&(o.itemCount=a[25].length),s[0]&4194304&&(o.itemSize=a[22]),s[0]&2097152&&(o.scrollToIndex=a[21]),s[0]&44041344|s[1]&8192|s[3]&33554432|s[5]&384&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(Be(e.$$.fragment,a),t=!0)},o(a){Ue(e.$$.fragment,a),t=!1},d(a){n[115](null),cn(e,a)}}}function pu(n){let e,t,r;const a=n[109].option,s=Pn(a,n,n[118],ol),o=s||gu(n);return{c(){e=A("div"),o&&o.c(),t=te(),this.h()},l(c){e=T(c,"DIV",{"data-pos":!0,class:!0});var d=H(e);o&&o.l(d),t=ee(d),d.forEach(y),this.h()},h(){p(e,"data-pos",n[166]),p(e,"class","sv-item--wrap in-dropdown svelte-11q5y3b"),Ne(e,"sv-dd-item-active",n[21]===n[166]),Ne(e,"is-selected",n[164].$selected),Ne(e,"is-disabled",n[164][n[7]])},m(c,d){le(c,e,d),o&&o.m(e,null),v(e,t),r=!0},p(c,d){s?s.p&&(!r||d[0]&41943040|d[3]&33554432)&&Ln(s,a,c,c[118],r?Mn(a,c[118],d,Zs):Rn(c[118]),ol):o&&o.p&&(!r||d[0]&41944064|d[1]&8192)&&o.p(c,r?d:[-1,-1,-1,-1,-1,-1]),(!r||d[0]&2097152)&&Ne(e,"sv-dd-item-active",c[21]===c[166]),(!r||d[0]&33554432)&&Ne(e,"is-selected",c[164].$selected),(!r||d[0]&33554560)&&Ne(e,"is-disabled",c[164][c[7]])},i(c){r||(Be(o,c),r=!0)},o(c){Ue(o,c),r=!1},d(c){c&&y(e),o&&o.d(c)}}}function mu(n){let e,t,r=n[164].label+"",a;return{c(){e=A("div"),t=A("b"),a=Ke(r),this.h()},l(s){e=T(s,"DIV",{class:!0});var o=H(e);t=T(o,"B",{});var c=H(t);a=ze(c,r),c.forEach(y),o.forEach(y),this.h()},h(){p(e,"class","sv-optgroup-header")},m(s,o){le(s,e,o),v(e,t),v(t,a)},p(s,o){o[0]&33554432&&r!==(r=s[164].label+"")&&nt(a,r)},i:Tt,o:Tt,d(s){s&&y(e)}}}function gu(n){let e,t,r=ji(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new qi(!1),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=H(e);t=Hi(s,!1),s.forEach(y),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(a,s){le(a,e,s),t.m(r,e)},p(a,s){s[0]&41944064|s[1]&8192&&r!==(r=ji(a[164],!1,a[23],a[44],a[10])+"")&&t.p(r)},d(a){a&&y(e)}}}function Al(n){let e,t,r,a;const s=[mu,pu],o=[];function c(d,m){return d[164].$isGroupHeader?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Bt()},l(d){t.l(d),r=Bt()},m(d,m){o[e].m(d,m),le(d,r,m),a=!0},p(d,m){let g=e;e=c(d),e===g?o[e].p(d,m):(_n(),Ue(o[g],1,1,()=>{o[g]=null}),vn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Be(t,1),t.m(r.parentNode,r))},i(d){a||(Be(t),a=!0)},o(d){Ue(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function _u(n){let e,t,r;const a=n[109].option,s=Pn(a,n,n[118],ul),o=s||bu(n);return{c(){e=A("div"),o&&o.c(),this.h()},l(c){e=T(c,"DIV",{"data-pos":!0,class:!0});var d=H(e);o&&o.l(d),d.forEach(y),this.h()},h(){p(e,"data-pos",t=n[163]),p(e,"class","sv-item--wrap in-dropdown svelte-11q5y3b"),Ne(e,"sv-dd-item-active",n[21]===n[163]),Ne(e,"is-selected",n[164].$selected),Ne(e,"is-disabled",n[164][n[7]])},m(c,d){le(c,e,d),o&&o.m(e,null),r=!0},p(c,d){s?s.p&&(!r||d[0]&41943040|d[3]&33554432|d[5]&256)&&Ln(s,a,c,c[118],r?Mn(a,c[118],d,Qs):Rn(c[118]),ul):o&&o.p&&(!r||d[0]&41944064|d[1]&8192|d[5]&256)&&o.p(c,r?d:[-1,-1,-1,-1,-1,-1]),(!r||d[5]&256&&t!==(t=c[163]))&&p(e,"data-pos",t),(!r||d[0]&2097152|d[5]&256)&&Ne(e,"sv-dd-item-active",c[21]===c[163]),(!r||d[0]&33554432|d[5]&256)&&Ne(e,"is-selected",c[164].$selected),(!r||d[0]&33554560|d[5]&256)&&Ne(e,"is-disabled",c[164][c[7]])},i(c){r||(Be(o,c),r=!0)},o(c){Ue(o,c),r=!1},d(c){c&&y(e),o&&o.d(c)}}}function vu(n){let e,t,r=n[164].label+"",a;return{c(){e=A("div"),t=A("b"),a=Ke(r),this.h()},l(s){e=T(s,"DIV",{class:!0});var o=H(e);t=T(o,"B",{});var c=H(t);a=ze(c,r),c.forEach(y),o.forEach(y),this.h()},h(){p(e,"class","sv-optgroup-header")},m(s,o){le(s,e,o),v(e,t),v(t,a)},p(s,o){o[0]&33554432|o[5]&256&&r!==(r=s[164].label+"")&&nt(a,r)},i:Tt,o:Tt,d(s){s&&y(e)}}}function bu(n){let e,t,r=ji(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new qi(!1),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=H(e);t=Hi(s,!1),s.forEach(y),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(a,s){le(a,e,s),t.m(r,e)},p(a,s){s[0]&41944064|s[1]&8192|s[5]&256&&r!==(r=ji(a[164],!1,a[23],a[44],a[10])+"")&&t.p(r)},d(a){a&&y(e)}}}function yu(n){sl(n);let e,t,r,a,s;const o=[vu,_u],c=[];function d(m,g){return m[164].$isGroupHeader?0:1}return t=d(n),r=c[t]=o[t](n),{c(){e=A("div"),r.c(),this.h()},l(m){e=T(m,"DIV",{slot:!0,style:!0});var g=H(e);r.l(g),g.forEach(y),this.h()},h(){p(e,"slot","item"),p(e,"style",a=n[162])},m(m,g){le(m,e,g),c[t].m(e,null),s=!0},p(m,g){sl(m);let b=t;t=d(m),t===b?c[t].p(m,g):(_n(),Ue(c[b],1,1,()=>{c[b]=null}),vn(),r=c[t],r?r.p(m,g):(r=c[t]=o[t](m),r.c()),Be(r,1),r.m(e,null)),(!s||g[5]&128&&a!==(a=m[162]))&&p(e,"style",a)},i(m){s||(Be(r),s=!0)},o(m){Ue(r),s=!1},d(m){m&&y(e),c[t].d()}}}function Ol(n){let e,t,r,a,s,o;const c=n[109]["create-row"],d=Pn(c,n,n[118],al),m=d||wu(n);return{c(){e=A("div"),t=A("button"),m&&m.c(),this.h()},l(g){e=T(g,"DIV",{class:!0});var b=H(e);t=T(b,"BUTTON",{type:!0,class:!0});var I=H(t);m&&m.l(I),I.forEach(y),b.forEach(y),this.h()},h(){p(t,"type","button"),p(t,"class","creatable-row svelte-11q5y3b"),t.disabled=r=n[1](n[23]),Ne(t,"active",(n[25].length?n[25].length:0)===n[21]),Ne(t,"is-disabled",n[1](n[23])),p(e,"class","is-dropdown-row svelte-11q5y3b")},m(g,b){le(g,e,b),v(e,t),m&&m.m(t,null),a=!0,s||(o=[rt(t,"click",_a(n[51])),rt(t,"mousedown",_a(n[110]))],s=!0)},p(g,b){d?d.p&&(!a||b[0]&25165824|b[1]&16|b[3]&33554432)&&Ln(d,c,g,g[118],a?Mn(c,g[118],b,Ys):Rn(g[118]),al):m&&m.p&&(!a||b[0]&25165824|b[1]&18)&&m.p(g,a?b:[-1,-1,-1,-1,-1,-1]),(!a||b[0]&8388610&&r!==(r=g[1](g[23])))&&(t.disabled=r),(!a||b[0]&35651584)&&Ne(t,"active",(g[25].length?g[25].length:0)===g[21]),(!a||b[0]&8388610)&&Ne(t,"is-disabled",g[1](g[23]))},i(g){a||(Be(m,g),a=!0)},o(g){Ue(m,g),a=!1},d(g){g&&y(e),m&&m.d(g),s=!1,or(o)}}}function wu(n){let e,t=n[24].createRowLabel(n[23])+"",r,a,s,o,c,d,m,g="Enter";return{c(){e=A("span"),r=Ke(t),a=te(),s=A("span"),o=A("kbd"),c=Ke(n[32]),d=Ke("+"),m=A("kbd"),m.textContent=g,this.h()},l(b){e=T(b,"SPAN",{class:!0});var I=H(e);r=ze(I,t),I.forEach(y),a=ee(b),s=T(b,"SPAN",{class:!0});var O=H(s);o=T(O,"KBD",{class:!0});var C=H(o);c=ze(C,n[32]),C.forEach(y),d=ze(O,"+"),m=T(O,"KBD",{class:!0,"data-svelte-h":!0}),Ve(m)!=="svelte-eby1n8"&&(m.textContent=g),O.forEach(y),this.h()},h(){p(e,"class","svelte-11q5y3b"),Ne(e,"is-loading",n[35]),p(o,"class","svelte-11q5y3b"),p(m,"class","svelte-11q5y3b"),p(s,"class","shortcut svelte-11q5y3b")},m(b,I){le(b,e,I),v(e,r),le(b,a,I),le(b,s,I),v(s,o),v(o,c),v(s,d),v(s,m)},p(b,I){I[0]&25165824&&t!==(t=b[24].createRowLabel(b[23])+"")&&nt(r,t),I[1]&16&&Ne(e,"is-loading",b[35]),I[1]&2&&nt(c,b[32])},d(b){b&&(y(e),y(a),y(s))}}}function ku(n){let e,t,r,a,s,o,c,d,m,g,b,I,O,C,D,R,x,X,oe,q,ce,ne,V,be,re,se,Ce,ve,me=n[28]&&bl(n),J=n[4]&&!n[6]&&yl(n);const fe=n[109].icon,_e=Pn(fe,n,n[118],_l);let ae=n[19].length&&kl(n),ie=n[9]&&!n[3]&&Cl(n),S=n[9]&&Il();const P=n[109]["dropdown-toggle"],j=Pn(P,n,n[118],dl),pe=j||uu(),de=n[109]["control-end"],Y=Pn(de,n,n[118],fl);let Z=n[18]&&n[31]&&Tl(n);return{c(){e=A("div"),t=A("span"),me&&me.c(),r=te(),J&&J.c(),a=te(),s=A("div"),_e&&_e.c(),o=te(),c=A("div"),ae&&ae.c(),d=te(),m=A("span"),g=A("input"),x=te(),X=A("div"),ie&&ie.c(),oe=te(),S&&S.c(),q=te(),ce=A("button"),pe&&pe.c(),ne=te(),Y&&Y.c(),V=te(),be=A("div"),Z&&Z.c(),this.h()},l(W){e=T(W,"DIV",{class:!0,role:!0});var ue=H(e);t=T(ue,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Oe=H(t);me&&me.l(Oe),Oe.forEach(y),r=ee(ue),J&&J.l(ue),a=ee(ue),s=T(ue,"DIV",{class:!0});var Ee=H(s);_e&&_e.l(Ee),o=ee(Ee),c=T(Ee,"DIV",{class:!0});var he=H(c);ae&&ae.l(he),d=ee(he),m=T(he,"SPAN",{class:!0,"data-value":!0});var et=H(m);g=T(et,"INPUT",{type:!0,class:!0,size:!0,id:!0,placeholder:!0,inputmode:!0,enterkeyhint:!0,"aria-label":!0,"aria-describedby":!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,"aria-autocomplete":!0,tabindex:!0}),et.forEach(y),he.forEach(y),x=ee(Ee),X=T(Ee,"DIV",{class:!0});var Fe=H(X);ie&&ie.l(Fe),oe=ee(Fe),S&&S.l(Fe),q=ee(Fe),ce=T(Fe,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var Je=H(ce);pe&&pe.l(Je),Je.forEach(y),Fe.forEach(y),ne=ee(Ee),Y&&Y.l(Ee),Ee.forEach(y),V=ee(ue),be=T(ue,"DIV",{class:!0});var ct=H(be);Z&&Z.l(ct),ct.forEach(y),ue.forEach(y),this.h()},h(){p(t,"aria-live","polite"),p(t,"aria-atomic","false"),p(t,"aria-relevant","additions text"),p(t,"class","a11y-text svelte-11q5y3b"),p(g,"type","text"),p(g,"class","sv-input--text svelte-11q5y3b"),p(g,"size","1"),p(g,"id",n[2]),p(g,"placeholder",b=n[23]?"":n[47]),p(g,"inputmode",n[48]),g.readOnly=I=!n[8],p(g,"enterkeyhint",n[43]),g.disabled=n[3],p(g,"aria-label",O=n[24].aria_label),p(g,"aria-describedby",C=n[24].aria_describedby),p(g,"autocapitalize","none"),p(g,"autocomplete","off"),p(g,"autocorrect","off"),p(g,"spellcheck","false"),p(g,"aria-autocomplete","list"),p(g,"tabindex","0"),Ne(g,"keep-value",!n[11]),p(m,"class","sv-input--sizer svelte-11q5y3b"),p(m,"data-value",D=n[23]||n[47]),p(c,"class","sv-control--selection svelte-11q5y3b"),Ne(c,"is-single",n[0]===!1),Ne(c,"has-items",n[19].length>0),Ne(c,"has-input",n[23].length),p(ce,"type","button"),p(ce,"class","sv-btn-indicator svelte-11q5y3b"),p(ce,"data-action","toggle"),p(ce,"tabindex","-1"),Ne(ce,"sv-dropdown-opened",n[20]),p(X,"class","sv-buttons svelte-11q5y3b"),Ne(X,"is-loading",n[34]),p(s,"class","sv-control svelte-11q5y3b"),p(be,"class","sv_dropdown svelte-11q5y3b"),Ne(be,"is-open",n[30]),p(e,"class",re=Ua(`svelecte ${n[16]}`)+" svelte-11q5y3b"),p(e,"role","none"),Ne(e,"is-required",n[5]),Ne(e,"is-empty",n[19].length===0),Ne(e,"is-invalid",n[5]&&n[19].length===0),Ne(e,"is-tainted",n[29]),Ne(e,"is-valid",n[5]?n[19].length>0:!0),Ne(e,"is-focused",n[28]),Ne(e,"is-open",n[20]),Ne(e,"is-disabled",n[3])},m(W,ue){le(W,e,ue),v(e,t),me&&me.m(t,null),v(e,r),J&&J.m(e,null),v(e,a),v(e,s),_e&&_e.m(s,null),v(s,o),v(s,c),ae&&ae.m(c,null),v(c,d),v(c,m),v(m,g),n[113](g),Wt(g,n[23]),v(s,x),v(s,X),ie&&ie.m(X,null),v(X,oe),S&&S.m(X,null),v(X,q),v(X,ce),pe&&pe.m(ce,null),v(s,ne),Y&&Y.m(s,null),v(e,V),v(e,be),Z&&Z.m(be,null),se=!0,Ce||(ve=[rt(g,"input",n[114]),rt(g,"focus",n[56]),rt(g,"keydown",n[53]),rt(g,"keyup",n[54]),rt(g,"input",n[55]),rt(g,"blur",n[57]),rt(g,"paste",n[58]),ai(R=n[12].call(null,c,{items:n[19],flipDurationMs:n[36],type:n[2],dragDisabled:n[33]})),rt(c,"consider",n[59]),rt(c,"finalize",n[59]),rt(s,"mousedown",Pl),rt(s,"click",n[52]),rt(be,"mousedown",Pl),rt(be,"click",n[52]),ai(n[17].call(null,be))],Ce=!0)},p(W,ue){W[28]?me?me.p(W,ue):(me=bl(W),me.c(),me.m(t,null)):me&&(me.d(1),me=null),W[4]&&!W[6]?J?J.p(W,ue):(J=yl(W),J.c(),J.m(e,a)):J&&(J.d(1),J=null),_e&&_e.p&&(!se||ue[3]&33554432)&&Ln(_e,fe,W,W[118],se?Mn(fe,W[118],ue,ru):Rn(W[118]),_l),W[19].length?ae?(ae.p(W,ue),ue[0]&524288&&Be(ae,1)):(ae=kl(W),ae.c(),Be(ae,1),ae.m(c,d)):ae&&(_n(),Ue(ae,1,1,()=>{ae=null}),vn()),(!se||ue[0]&4)&&p(g,"id",W[2]),(!se||ue[0]&8388608|ue[1]&65536&&b!==(b=W[23]?"":W[47]))&&p(g,"placeholder",b),(!se||ue[1]&131072)&&p(g,"inputmode",W[48]),(!se||ue[0]&256&&I!==(I=!W[8]))&&(g.readOnly=I),(!se||ue[1]&4096)&&p(g,"enterkeyhint",W[43]),(!se||ue[0]&8)&&(g.disabled=W[3]),(!se||ue[0]&16777216&&O!==(O=W[24].aria_label))&&p(g,"aria-label",O),(!se||ue[0]&16777216&&C!==(C=W[24].aria_describedby))&&p(g,"aria-describedby",C),ue[0]&8388608&&g.value!==W[23]&&Wt(g,W[23]),(!se||ue[0]&2048)&&Ne(g,"keep-value",!W[11]),(!se||ue[0]&8388608|ue[1]&65536&&D!==(D=W[23]||W[47]))&&p(m,"data-value",D),R&&Or(R.update)&&ue[0]&524292|ue[1]&36&&R.update.call(null,{items:W[19],flipDurationMs:W[36],type:W[2],dragDisabled:W[33]}),(!se||ue[0]&1)&&Ne(c,"is-single",W[0]===!1),(!se||ue[0]&524288)&&Ne(c,"has-items",W[19].length>0),(!se||ue[0]&8388608)&&Ne(c,"has-input",W[23].length),W[9]&&!W[3]?ie?(ie.p(W,ue),ue[0]&520&&Be(ie,1)):(ie=Cl(W),ie.c(),Be(ie,1),ie.m(X,oe)):ie&&(_n(),Ue(ie,1,1,()=>{ie=null}),vn()),W[9]?S||(S=Il(),S.c(),S.m(X,q)):S&&(S.d(1),S=null),j&&j.p&&(!se||ue[0]&1048576|ue[3]&33554432)&&Ln(j,P,W,W[118],se?Mn(P,W[118],ue,$s):Rn(W[118]),dl),(!se||ue[0]&1048576)&&Ne(ce,"sv-dropdown-opened",W[20]),(!se||ue[1]&8)&&Ne(X,"is-loading",W[34]),Y&&Y.p&&(!se||ue[3]&33554432)&&Ln(Y,de,W,W[118],se?Mn(de,W[118],ue,Xs):Rn(W[118]),fl),W[18]&&W[31]?Z?(Z.p(W,ue),ue[0]&262144|ue[1]&1&&Be(Z,1)):(Z=Tl(W),Z.c(),Be(Z,1),Z.m(be,null)):Z&&(_n(),Ue(Z,1,1,()=>{Z=null}),vn()),(!se||ue[0]&1073741824)&&Ne(be,"is-open",W[30]),(!se||ue[0]&65536&&re!==(re=Ua(`svelecte ${W[16]}`)+" svelte-11q5y3b"))&&p(e,"class",re),(!se||ue[0]&65568)&&Ne(e,"is-required",W[5]),(!se||ue[0]&589824)&&Ne(e,"is-empty",W[19].length===0),(!se||ue[0]&589856)&&Ne(e,"is-invalid",W[5]&&W[19].length===0),(!se||ue[0]&536936448)&&Ne(e,"is-tainted",W[29]),(!se||ue[0]&589856)&&Ne(e,"is-valid",W[5]?W[19].length>0:!0),(!se||ue[0]&268500992)&&Ne(e,"is-focused",W[28]),(!se||ue[0]&1114112)&&Ne(e,"is-open",W[20]),(!se||ue[0]&65544)&&Ne(e,"is-disabled",W[3])},i(W){se||(Be(_e,W),Be(ae),Be(ie),Be(pe,W),Be(Y,W),Be(Z),se=!0)},o(W){Ue(_e,W),Ue(ae),Ue(ie),Ue(pe,W),Ue(Y,W),Ue(Z),se=!1},d(W){W&&y(e),me&&me.d(),J&&J.d(),_e&&_e.d(W),ae&&ae.d(),n[113](null),ie&&ie.d(),S&&S.d(),pe&&pe.d(W),Y&&Y.d(W),Z&&Z.d(),Ce=!1,or(ve)}}}Ct.requestFactory=Is;const Ai={default(n){return Cs(n[this.label])}},Oi=n=>({destroy:()=>{}}),Eu=Ct;function Pl(n){n.preventDefault()}function Su(n,e,t){let r,a,s,o,c,d,m,g,b,I,{$$slots:O={},$$scope:C}=e,{name:D="svelecte"}=e,{inputId:R=""}=e,{required:x=!1}=e,{disabled:X=!1}=e,{anchor_element:oe=null}=e,{options:q=[]}=e,{optionResolver:ce=null}=e,{valueField:ne=Ct.valueField}=e,{labelField:V=Ct.labelField}=e,{groupLabelField:be=Ct.groupLabelField}=e,{groupItemsField:re=Ct.groupItemsField}=e,{disabledField:se=Ct.disabledField}=e,{placeholder:Ce=Ct.placeholder}=e,{searchable:ve=Ct.searchable}=e,{clearable:me=Ct.clearable}=e,{renderer:J=null}=e,{disableHighlight:fe=!1}=e,{highlightFirstItem:_e=Ct.highlightFirstItem}=e,{selectOnTab:ae=Ct.selectOnTab}=e,{resetOnBlur:ie=Ct.resetOnBlur}=e,{resetOnSelect:S=Ct.resetOnSelect}=e,{closeAfterSelect:P=Ct.closeAfterSelect}=e,{deselectMode:j="native"}=e,{dndzone:pe=()=>({noop:!0,destroy:()=>{}})}=e,{validatorAction:de=[]}=e,{strictMode:Y=!0}=e,{multiple:Z=Ct.multiple}=e,{max:W=Ct.max}=e,{collapseSelection:ue=Ct.collapseSelection}=e,{keepSelectionInList:Oe=Ct.keepSelectionInList}=e,{creatable:Ee=Ct.creatable}=e,{creatablePrefix:he=Ct.creatablePrefix}=e,{allowEditing:et=Ct.allowEditing}=e,{keepCreated:Fe=Ct.keepCreated}=e,{delimiter:Je=Ct.delimiter}=e,{createFilter:ct=null}=e,{createHandler:He=null}=e,{fetch:bt=null}=e,{fetchProps:jt=Ct.fetchProps}=e,{fetchMode:gt="auto"}=e,{fetchCallback:tn=Ct.fetchCallback}=e,{fetchResetOnBlur:Dt=!0}=e,{fetchDebounceTime:Pt=Ct.fetchDebounceTime}=e,{minQuery:yt=Ct.minQuery}=e,{lazyDropdown:wt=Ct.lazyDropdown}=e,{virtualList:We=Ct.virtualList}=e,{vlHeight:Pe=Ct.vlHeight}=e,{vlItemSize:Le=Ct.vlItemSize}=e,{searchProps:_t=null}=e,{class:Yt="svelecte-control"}=e,{i18n:Ht=null}=e,{readSelection:Zt=null}=e,{value:dt=null}=e,{valueAsObject:ht=Ct.valueAsObject}=e,{parentValue:Qt=void 0}=e,{positionResolver:Xt=Oi}=e;function Mt(){Dn.focus()}function Me(k,ye){Lr(k),ye&&At()}function rn(k){return k?dt:Zt}function Ut(k){bt&&(yr({init:!0,initValue:k,storedValue:Dt}),t(64,Dt=!1))}const qt=Eo(),ke=`sv-${D}-select`;bt&&dt&&ht&&(!q||q&&q.length===0)&&(q=Array.isArray(dt)?dt:[dt]),R||(R=`${ke}-input`),Z=D&&!Z?D.endsWith("[]"):Z;let lt=!1,xe,st=ce?ce(q,new Set):il(q,ne,V,We&&!!bt),kt,it=ne||Ti("value",st,re),It=V||Ti("label",st,re),ut=dt!==null?qs(st,dt,ht,re,it):[];const vt=ut.reduce((k,ye)=>(k.add(ye[it]),k),new Set);let Lt=ut.filter(k=>k.$created),Ie=!1,$e=!1,Ye=!1,Ze=!1,Ge=!1,at=_e?0:null,Sn=!wt,Cn=null,xn=We&&Pe===null&&Le===null,bn=Pe,ln=Le,yn,ot="",Fn=!1,pt,sn=gt==="init"||bt&&bt.includes("[query]")===!1,pn=sn||bt&&q.length===0?dt:null,on=null,sr=ue!==null,Rt=!1,zn=!1,Kn=100,ur=!1,tr=!1,Dn,Ft,jn,$t,cr;const un=Hs(it,It,be,re);Wr(Ht,!0);function ci(k,ye){lt&&(k&&it!==k&&(t(107,un.valueField=t(27,it=k),un),vt.size>0&&hr()),ye&&(t(107,un.labelField=t(104,It=ye),un),(J===null||J==="default")&&t(44,o=Ai.default.bind({label:It}))))}function mt(k){if(lt){if(st!==k){if(k=il(k,it,It,We&&!!bt),!ne){const ye=Ti("value",k||null,re);!ne&&it!==ye&&(t(107,un.valueField=t(27,it=ye),un),vt.size>0&&hr())}if(!V){const ye=Ti("label",k||null,re);!V&&It!==ye&&(t(107,un.labelField=ye,un),t(104,It=ye),(J===null||J==="default")&&t(44,o=Ai.default.bind({label:It})))}}t(61,q=k),t(103,st=ce?ce(k,vt):k)}}function Lr(k,ye){if(!(xe===k&&!(ye!=null&&ye.skipEqualityCheck))){if(hr(),k!==null){if((Z&&!Array.isArray(k)||!Z&&Array.isArray(k))&&console.warn(`Passed 'value' property should ${Z?"be":"NOT be"} an array`),pn)return;const tt=Array.isArray(k)?k:[k],Xe=tt.reduce((Tn,mn)=>{if(ht&&(!Y||Ee&&mn.$created))return Tn.push(mn),Tn;const kn=a.find(Zn=>ht?Zn[it]==mn[it]:Zn[it]==mn);return kn?Tn.push(kn):!Y&&Tn.push(He?He({inputValue:mn,valueField:it,labelField:It,prefix:he}):{[it]:mn,[It]:mn}),Tn},[]);if(!(Xe.every(_r)&&(Z?tt.length===Xe.length:Xe.length>0))){console.warn('[Svelecte]: provided "value" property is invalid',k),t(63,dt=Z?[]:null),t(65,Zt=dt),qt("invalidValue",k);return}t(65,Zt=Array.isArray(k)?Xe:Xe.shift())}xe=k}}function fi(k){if(ur)return;const ye=k.map(Xe=>{const{$disabled:Gt,$isGroupItem:Tn,...mn}=Xe;return mn}),tt=Z?ye:ye.length?ye[0]:null;ht?xe=tt:xe=Z?tt.map(Xe=>Xe[it]):ut.length?tt[it]:null,t(63,dt=xe),t(65,Zt=tt),W&&k.length===W&&t(42,Qn=pt.max(W))}function Rr(k){if(k!==void 0&&kt!==k||k===void 0&&kt!==k){const ye=k===void 0?!1:!k;hr(),xe=Z?[]:null,t(3,X=ye)}kt=k,tr=k!==void 0}function fr(k){!lt||!Sn||ar().then(()=>{if(!cr)return;const ye=js(cr,$t,s);t(22,ln=ye.size),t(106,bn=ye.height)}).then(()=>Xt===Oi&&da(Ze,$t,Sn))}function di(k){lt&&(k&&!$e&&($e=!0),!Sn&&k&&t(31,Sn=!0),ar().then(()=>{xn&&fr()}).then(()=>{Xt===Oi&&da(k,$t,!0),k&&(_e&&(ut.length===0||Z)&&Yn(0,{asc:!0}),!Z&&ut.length&&t(21,at=a.findIndex(ye=>ye===ut[0])),Ii({container:jn,scrollContainer:$t,virtualList:We,center:!1},at)),ar().then(()=>t(30,Ge=k))}),Cn||(Cn=()=>Xt===Oi&&da(k,$t,!0)),document[k?"addEventListener":"removeEventListener"]("scroll",Cn,{passive:!0}))}function Wr(k,ye=null){(lt||ye)&&t(24,pt=Object.assign({},Eu.i18n,k||{}))}function hi(k,ye){if(!(bt&&!sn)){if(k){t(42,Qn=pt.max(W));return}t(42,Qn=ye.length!==a.length&&ut.length!==a.length?Ee?pt.emptyCreatable:pt.nomatch:Ee?pt.emptyCreatable:pt.empty)}}function At(){ar().then(()=>{qt("change",Zt),Ft&&(Ft.dispatchEvent(new Event("input")),Ft.dispatchEvent(new Event("change")))})}function gr(k){qt("createoption",k)}function Wn(k,ye){if(ye=ye||k.detail,!(X||ye[se]||ye.$isGroupHeader)){if(!ye||Z&&r)return!1;if(vt.has(ye[it]))return!Z&&j!=="toggle"?void 0:dr(null,ye);if(typeof ye=="string"){if(!Ee||(ye=ca(ye),Lt.includes(ye)||vt.has(ye)))return;t(35,zn=!0),Promise.resolve().then(()=>He({inputValue:ye,valueField:it,labelField:It,prefix:he})).then(tt=>{t(35,zn=!1),!bt&&Lt.push(ye),tt.$created=!0,Fe&&t(103,st=[...st,tt]),gr(tt),_r(tt),nr(),At()}).catch(tt=>{t(35,zn=!1),qt("createFail",{input:ye,error:tt})});return}_r(ye),nr(),At()}}function nr(){(Z&&S||!Z)&&t(23,ot=""),(P===!0||P==="auto"&&!Z)&&t(20,Ze=!1),W&&ut.length==W&&t(21,at=0)}function _r(k){if(k.$selected=!0,Z)ut.push(k),t(19,ut),vt.add(k[it]);else{const ye=ut.shift();ye&&(ye.$selected=!1),t(19,ut=[k]),vt.clear(),vt.add(k[it]),ar().then(()=>{t(21,at=a.indexOf(k))})}return ce?(t(103,st=ce(q,vt)),!0):(t(108,a),t(103,st),t(107,un),!0)}function dr(k={},ye=null,tt){X||(ye=ye||k.detail,ye?(Mr(ye,tt),Oe!==!0&&ar().then(()=>Ii({scrollContainer:$t,container:jn,virtualList:We,center:!1},at))):hr(),At())}function Mr(k,ye){if(k.$created){if(Lt.splice(Lt.findIndex(Xe=>Xe===k[it]),1),t(105,Lt),!Fe){const Xe=st.findIndex(Gt=>Gt[it]===k[it]);Xe!==-1&&st.splice(Xe,1),t(103,st)}ye&&et&&t(23,ot=k[It].replace(he,""))}k.$selected=!1;const tt=k[it];if(vt.delete(tt),ut.splice(ut.findIndex(Xe=>Xe[it]==tt),1),t(19,ut),ce){t(103,st=ce(q,vt));return}t(108,a=bt&&!sn&&Dt?[]:a)}function hr(){if(!(vt.size===0||!Z&&j==="none")){if(vt.clear(),t(19,ut=ut.reduce((k,ye)=>(ye.$selected=!1,[]),[])),Fe||t(105,Lt=[]),t(26,r=!1),ot&&t(23,ot=""),ce){t(103,st=ce(q,vt));return}t(108,a=bt&&!sn&&Dt?[]:a)}}function Nr(k){Lt.includes(ot)||Wn(null,ot)}function pi(k){if(Ee&&Je.indexOf(k.key)>-1){ot.length>0&&Wn(null,ot),k.preventDefault();return}const ye=ae&&Ze&&!k.shiftKey?"Tab":"No-tab";let tt=on?k.metaKey:k.ctrlKey,Xe=["PageUp","PageDown"].includes(k.key),Gt=!1,Tn=!1;switch(k.key){case"End":if(ot.length!==0)return;Yn(s.length,{desc:!0});case"PageDown":if(Xe){const[Zn,Xn]=Fr();t(21,at=Math.min(Math.ceil((Xn*at+Zn)/Xn),s.length))}case"ArrowUp":if(k.preventDefault(),!Ze){t(20,Ze=!0);return}Yn(at-1,{desc:!0}),ar().then(()=>Ii({scrollContainer:$t,container:jn,virtualList:We,center:!1},at));break;case"Home":if(Tn=!0,ot.length!==0||ot.length===0&&s.length===0)return;Yn(0,{asc:!0});case"PageUp":if(Xe){const[Zn,Xn]=Fr();t(21,at=Math.floor((Xn*at-Zn)/Xn))}case"ArrowDown":if(k.preventDefault(),!Ze){t(20,Ze=!0);return}!Tn&&Yn((at===null?-1:at)+1,{asc:!0}),ar().then(()=>Ii({scrollContainer:$t,container:jn,virtualList:We,center:!1},at));break;case"Escape":Ze&&(k.preventDefault(),k.stopPropagation()),ot||t(20,Ze=!1),t(23,ot="");break;case ye:case"Enter":if(!Ze){k.key!==ye&&qt("enterKey",k);return}let kn=tt?null:s[at];if(Ee&&ot){const Zn=ct(ca(ot));kn=!kn||tt?ca(ot):kn,tt=Zn}if(!tt&&kn&&Wn(null,kn),s.length<=at&&Yn(s.length-1),!kn&&ut.length){t(20,Ze=!1),k.key!==ye&&qt("enterKey",k);return}(k.key!==ye||k.key===ye&&ae!=="select-navigate")&&k.preventDefault();break;case" ":!bt&&!Ze&&(t(20,Ze=!0),k.preventDefault());break;case"Backspace":if(ue==="always")return;Gt=!0;case"Delete":if(ot===""&&ut.length){if(!Z&&j==="none")return;tt?dr({}):dr(null,ut[ut.length-1],Gt),k.preventDefault()}default:!tt&&!["Tab","Shift"].includes(k.key)&&!Ze&&!Rt&&t(20,Ze=!0)}}function Vi(k){if(X)return;const ye=k.target.closest("[data-action]");if($e||($e=!0),(ye==null?void 0:ye.dataset.action)==="default")return;k.preventDefault();const tt=k.target.closest("[data-pos]");if(!ye&&!tt)return qn(k.target);switch((ye==null?void 0:ye.dataset.action)||"select"){case"deselect":let Gt=ye.bound_item;if(!Gt){const mn=ye.dataset.id;Gt=ut.filter(kn=>kn[it]==mn).shift()}dr({},Gt),Gt&&!Ie&&Dn.focus();break;case"select":const Tn=parseInt(tt.dataset.pos);Wn(null,s[Tn]);break;case"toggle":t(20,Ze=!Ze);break}}function Et(k){if(Ja()&&!g&&k.key==="Enter")return!0;Fn=["Enter","Escape"].includes(k.key)&&Ze,pi(k)}function mi(k){Fn&&(k.stopImmediatePropagation(),k.preventDefault()),Fn=!1}function Ui(){ut.length}function Gi(){t(28,Ie=!0),t(20,Ze=$e),Ye||t(29,Ye=!0),ue==="blur"&&!ur&&setTimeout(()=>{t(33,sr=!1)},100),qt("focus",Dn)}function wn(){t(28,Ie=!1),t(20,Ze=!1),$e=!1,ie?t(23,ot=""):In&&!sn&&In.abort("blur"),ue==="blur"&&!ur&&setTimeout(()=>{t(33,sr=!0)},100),qt("blur",Dn)}function pr(k){if(Ee){k.preventDefault();const ye=new RegExp("([^"+Je+"\\n]+)","g"),tt=k.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),Xe=tt.match(ye);Xe.length===1&&tt.indexOf(",")===-1&&t(23,ot=Xe.pop().trim()),Xe.forEach(Gt=>Wn(null,Gt.trim()))}}function Br(k){ur=k.type==="consider",t(19,ut=k.detail.items),ur||(At(),ue==="blur"&&setTimeout(()=>{t(33,sr=!0)},200))}let In,vr,Qn=bt?sn?pt.fetchInit:yt>1?pt.fetchQuery(yt,0):pt.fetchBefore:Ee?pt.emptyCreatable:pt.empty;function nn(k,ye){if(!k){vr=null;return}(sn||pn)&&(t(34,Rt=!0),yr({init:!0})),vr=Ds(yr,Pt)}let Hn=ii({control:null});const rr=(k=null)=>Hn.update(ye=>{var tt;return(tt=ye.control)==null||tt.abort(),{control:k}});function br(k){sn||r||vr&&(rr(),t(34,Rt=!0),ot.length<yt&&t(34,Rt=!1),Dt&&t(25,s=[]),t(30,Ge=!(k.length>=yt)),t(42,Qn=yt<=1?pt.fetchBefore:pt.fetchQuery(yt,k.length)),vr())}function yr(k={}){if(rr(),k.init!==!0&&!ot.length||tr&&!Qt){t(34,Rt=!1),Dt&&t(103,st=ce?ce(q,vt):[]);return}if(ot&&ot.length<yt){t(34,Rt=!1);return}sn&&xe&&(!Z||(xe==null?void 0:xe.length)>0)&&(pn=xe);const ye=pn||k.initValue;sn&&t(42,Qn=pt.fetchInit);const tt=Ct.requestFactory(ot,{parentValue:Qt,url:bt,initial:ye},jt);In=tt.controller,rr(tt.controller),window.fetch(tt.request).then(Xe=>Xe.json()).then(Xe=>(!Array.isArray(Xe)&&(Xe!=null&&Xe.error)&&qt("fetchError",Xe.error),Promise.resolve(tn?tn(Xe):Xe.data||Xe.items||Xe.options||Xe).then(Gt=>{Array.isArray(Gt)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",Gt),Gt=[]),t(103,st=Gt),qt("fetch",Gt),ar().then(()=>{ye&&(pn=null,Lr(ye,{skipEqualityCheck:!0}),"storedValue"in k&&t(64,Dt=k.storedValue))})}))).catch(Xe=>{if(Xe instanceof DOMException&&Xe.name==="AbortError")return!0;t(103,st=[]),qt("fetchError",Xe),console.warn("[Svelecte] Fetch Error:",Xe)}).then(Xe=>{Xe!==!0&&(t(42,Qn=sn?pt.empty:ye?yt>1?pt.fetchQuery(yt,0):pt.fetchBefore:pt.fetchEmpty),In=null,t(34,Rt=!1),Ie&&t(20,Ze=!0),Ze&&!Ge&&t(30,Ge=!0))})}function Jn(k){return Oe?Oe===!0?k?vt:null:k||Z?vt:null:vt}function Yn(k,ye={},tt=0){var Gt;const Xe=Ee?s.length+1:s.length;if(!(tt>=2)){if(k<0&&(k=ye.desc?Xe-1:0),(at===null&&_e||k>=Xe)&&(k=0),(Gt=s[k])!=null&&Gt.$isGroupHeader){Yn(ye.asc?k+1:k-1,ye,++tt);return}t(21,at=k)}}function qn(k){if(!X){if(!Ie){Dn.focus();return}k.tagName==="INPUT"&&ot||t(20,Ze=!Ze)}}function Fr(){return We?[$t.offsetHeight,ln]:[$t.offsetHeight,jn.firstElementChild.offsetHeight]}const gi=de.length?de.shift():()=>{};Ea(()=>{t(18,lt=!0),Ja(),on=Ss(),t(32,yn=on?"â":"Ctrl"),oe?(t(38,Ft=document.getElementById(oe)),t(38,Ft.className="sv-hidden-element",Ft),t(38,Ft.innerHTML="",Ft),t(38,Ft.tabIndex=-1,Ft),t(38,Ft.disabled=X,Ft),t(38,Ft.required=x,Ft),t(38,Ft.multiple=Z,Ft),!Z&&Ft.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),vt.forEach(k=>{Ft.insertAdjacentHTML("beforeend",`<option value=${k} selected>${k}</option>`)})):ut.length&&setTimeout(()=>{Ft&&Array.from(Ft.children).forEach(k=>{k.selected=!0})},200),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t(36,Kn=0)});function Yr(k){Ga.call(this,n,k)}function wr(k){Ga.call(this,n,k)}function Zr(k){On[k?"unshift":"push"](()=>{Ft=k,t(38,Ft),t(19,ut),t(27,it)})}function _i(k){On[k?"unshift":"push"](()=>{Dn=k,t(37,Dn)})}function xi(){ot=this.value,t(23,ot)}function kr(k){On[k?"unshift":"push"](()=>{cr=k,t(41,cr)})}function Wi(k){On[k?"unshift":"push"](()=>{jn=k,t(39,jn)})}function Yi(k){On[k?"unshift":"push"](()=>{$t=k,t(40,$t)})}return n.$$set=k=>{"name"in k&&t(4,D=k.name),"inputId"in k&&t(2,R=k.inputId),"required"in k&&t(5,x=k.required),"disabled"in k&&t(3,X=k.disabled),"anchor_element"in k&&t(6,oe=k.anchor_element),"options"in k&&t(61,q=k.options),"optionResolver"in k&&t(66,ce=k.optionResolver),"valueField"in k&&t(67,ne=k.valueField),"labelField"in k&&t(68,V=k.labelField),"groupLabelField"in k&&t(69,be=k.groupLabelField),"groupItemsField"in k&&t(70,re=k.groupItemsField),"disabledField"in k&&t(7,se=k.disabledField),"placeholder"in k&&t(71,Ce=k.placeholder),"searchable"in k&&t(8,ve=k.searchable),"clearable"in k&&t(9,me=k.clearable),"renderer"in k&&t(72,J=k.renderer),"disableHighlight"in k&&t(10,fe=k.disableHighlight),"highlightFirstItem"in k&&t(73,_e=k.highlightFirstItem),"selectOnTab"in k&&t(74,ae=k.selectOnTab),"resetOnBlur"in k&&t(11,ie=k.resetOnBlur),"resetOnSelect"in k&&t(75,S=k.resetOnSelect),"closeAfterSelect"in k&&t(76,P=k.closeAfterSelect),"deselectMode"in k&&t(77,j=k.deselectMode),"dndzone"in k&&t(12,pe=k.dndzone),"validatorAction"in k&&t(13,de=k.validatorAction),"strictMode"in k&&t(78,Y=k.strictMode),"multiple"in k&&t(0,Z=k.multiple),"max"in k&&t(79,W=k.max),"collapseSelection"in k&&t(80,ue=k.collapseSelection),"keepSelectionInList"in k&&t(81,Oe=k.keepSelectionInList),"creatable"in k&&t(14,Ee=k.creatable),"creatablePrefix"in k&&t(82,he=k.creatablePrefix),"allowEditing"in k&&t(83,et=k.allowEditing),"keepCreated"in k&&t(84,Fe=k.keepCreated),"delimiter"in k&&t(85,Je=k.delimiter),"createFilter"in k&&t(1,ct=k.createFilter),"createHandler"in k&&t(62,He=k.createHandler),"fetch"in k&&t(86,bt=k.fetch),"fetchProps"in k&&t(87,jt=k.fetchProps),"fetchMode"in k&&t(88,gt=k.fetchMode),"fetchCallback"in k&&t(89,tn=k.fetchCallback),"fetchResetOnBlur"in k&&t(64,Dt=k.fetchResetOnBlur),"fetchDebounceTime"in k&&t(90,Pt=k.fetchDebounceTime),"minQuery"in k&&t(91,yt=k.minQuery),"lazyDropdown"in k&&t(92,wt=k.lazyDropdown),"virtualList"in k&&t(15,We=k.virtualList),"vlHeight"in k&&t(93,Pe=k.vlHeight),"vlItemSize"in k&&t(94,Le=k.vlItemSize),"searchProps"in k&&t(95,_t=k.searchProps),"class"in k&&t(16,Yt=k.class),"i18n"in k&&t(96,Ht=k.i18n),"readSelection"in k&&t(65,Zt=k.readSelection),"value"in k&&t(63,dt=k.value),"valueAsObject"in k&&t(97,ht=k.valueAsObject),"parentValue"in k&&t(98,Qt=k.parentValue),"positionResolver"in k&&t(17,Xt=k.positionResolver),"$$scope"in k&&t(118,C=k.$$scope)},n.$$.update=()=>{n.$$.dirty[2]&96&&ci(ne,V),n.$$.dirty[0]&524288|n.$$.dirty[2]&131072&&t(26,r=W!==0&&ut.length==W),n.$$.dirty[1]&1073741824&&mt(q),n.$$.dirty[3]&17408&&t(108,a=Vs(st,un)),n.$$.dirty[2]&2&&Lr(dt),n.$$.dirty[0]&75497472|n.$$.dirty[3]&49156&&t(25,s=r?[]:xs(a,ot,Jn(ot),un,_t||{})),n.$$.dirty[2]&2048&&_e&&Yn(0,{asc:!0}),n.$$.dirty[0]&35667968&&s.length<=at&&Yn(0,{asc:!Ee,desc:Ee}),n.$$.dirty[0]&2|n.$$.dirty[3]&4096&&(ct||t(1,ct=k=>Lt.includes(k))),n.$$.dirty[2]&1&&(He||t(62,He=({inputValue:k,labelField:ye,valueField:tt,prefix:Xe})=>({[tt]:k,[ye]:`${Xe}${k}`}))),n.$$.dirty[3]&8&&Wr(Ht),n.$$.dirty[3]&32&&Rr(Qt),n.$$.dirty[0]&524288&&fi(ut),n.$$.dirty[2]&1024|n.$$.dirty[3]&2048&&t(44,o=typeof J=="function"?J:Ai[J]||Ai.default.bind({label:It})),n.$$.dirty[0]&37748736|n.$$.dirty[3]&8192&&t(49,c=Math.min(bn,Array.isArray(ln)?ln.reduce((k,ye)=>(k+=ye,k),0):s.length*ln)),n.$$.dirty[0]&33554432&&xn&&fr(),n.$$.dirty[0]&1048576&&di(Ze),n.$$.dirty[0]&256&&t(48,d=ve?"text":"none"),n.$$.dirty[0]&524288|n.$$.dirty[2]&512&&t(47,m=ut.length?"":Ce),n.$$.dirty[0]&524289&&t(43,g=ut.length>0&&Z===!1?null:"enter"),n.$$.dirty[0]&17301504|n.$$.dirty[3]&2048&&t(46,b=pt.aria_selected(ut.map(k=>k[It]))),n.$$.dirty[0]&61865984|n.$$.dirty[3]&2048&&t(45,I=s.length&&at>0?Ze?pt.aria_listActive(s[at],It,s.length):pt.aria_inputFocused():ot.length?pt.nomatch:pt.empty),n.$$.dirty[0]&8388608&&br(ot),n.$$.dirty[0]&262144|n.$$.dirty[2]&16777216|n.$$.dirty[3]&32&&lt&&nn(bt),n.$$.dirty[0]&100663296&&hi(r,s)},[Z,ct,R,X,D,x,oe,se,ve,me,fe,ie,pe,de,Ee,We,Yt,Xt,lt,ut,Ze,at,ln,ot,pt,s,r,it,Ie,Ye,Ge,Sn,yn,sr,Rt,zn,Kn,Dn,Ft,jn,$t,cr,Qn,g,o,I,b,m,d,c,ke,Nr,Vi,Et,mi,Ui,Gi,wn,pr,Br,gi,q,He,dt,Dt,Zt,ce,ne,V,be,re,Ce,J,_e,ae,S,P,j,Y,W,ue,Oe,he,et,Fe,Je,bt,jt,gt,tn,Pt,yt,wt,Pe,Le,_t,Ht,ht,Qt,Mt,Me,rn,Ut,st,It,Lt,bn,un,a,O,Yr,wr,Zr,_i,xi,kr,Wi,Yi,C]}class ui extends Nn{constructor(e){super(),Bn(this,e,Su,ku,En,{name:4,inputId:2,required:5,disabled:3,anchor_element:6,options:61,optionResolver:66,valueField:67,labelField:68,groupLabelField:69,groupItemsField:70,disabledField:7,placeholder:71,searchable:8,clearable:9,renderer:72,disableHighlight:10,highlightFirstItem:73,selectOnTab:74,resetOnBlur:11,resetOnSelect:75,closeAfterSelect:76,deselectMode:77,dndzone:12,validatorAction:13,strictMode:78,multiple:0,max:79,collapseSelection:80,keepSelectionInList:81,creatable:14,creatablePrefix:82,allowEditing:83,keepCreated:84,delimiter:85,createFilter:1,createHandler:62,fetch:86,fetchProps:87,fetchMode:88,fetchCallback:89,fetchResetOnBlur:64,fetchDebounceTime:90,minQuery:91,lazyDropdown:92,virtualList:15,vlHeight:93,vlItemSize:94,searchProps:95,class:16,i18n:96,readSelection:65,value:63,valueAsObject:97,parentValue:98,positionResolver:17,focus:99,setSelection:100,getSelection:101,refetchWith:102},null,[-1,-1,-1,-1,-1,-1])}get focus(){return this.$$.ctx[99]}get setSelection(){return this.$$.ctx[100]}get getSelection(){return this.$$.ctx[101]}get refetchWith(){return this.$$.ctx[102]}}function Cu(n){let e,t,r,a="Add New Trip",s,o,c,d="Trip Name",m,g,b,I,O,C="Trip Currency",D,R,x,X,oe,q,ce="Trip Start",ne,V,be,re,se,Ce,ve="Trip End",me,J,fe,_e,ae,ie,S='<button class="btn btn-primary col-md-2" type="submit">Add Trip</button> <a href="#/" class="btn btn-outline-primary col-md-2">Cancel</a>',P,j,pe;function de(Z){n[8](Z)}let Y={options:n[4],name:void 0,inputId:"tripCurrency",required:!0,groupLabelField:"groupHeader",groupItemsField:"items"};return n[1]!==void 0&&(Y.value=n[1]),R=new ui({props:Y}),On.push(()=>Ur(R,"value",de)),{c(){e=A("div"),t=A("form"),r=A("h1"),r.textContent=a,s=te(),o=A("div"),c=A("label"),c.textContent=d,m=te(),g=A("input"),b=te(),I=A("div"),O=A("label"),O.textContent=C,D=te(),hn(R.$$.fragment),X=te(),oe=A("div"),q=A("label"),q.textContent=ce,ne=te(),V=A("input"),re=te(),se=A("div"),Ce=A("label"),Ce.textContent=ve,me=te(),J=A("input"),ae=te(),ie=A("div"),ie.innerHTML=S,this.h()},l(Z){e=T(Z,"DIV",{class:!0});var W=H(e);t=T(W,"FORM",{});var ue=H(t);r=T(ue,"H1",{"data-svelte-h":!0}),Ve(r)!=="svelte-1x3twms"&&(r.textContent=a),s=ee(ue),o=T(ue,"DIV",{class:!0});var Oe=H(o);c=T(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(c)!=="svelte-1y8z10u"&&(c.textContent=d),m=ee(Oe),g=T(Oe,"INPUT",{id:!0,class:!0,type:!0,minlength:!0}),Oe.forEach(y),b=ee(ue),I=T(ue,"DIV",{class:!0});var Ee=H(I);O=T(Ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(O)!=="svelte-1fzihue"&&(O.textContent=C),D=ee(Ee),dn(R.$$.fragment,Ee),Ee.forEach(y),X=ee(ue),oe=T(ue,"DIV",{class:!0});var he=H(oe);q=T(he,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(q)!=="svelte-4n7gli"&&(q.textContent=ce),ne=ee(he),V=T(he,"INPUT",{class:!0,type:!0,id:!0,onfocus:!0}),he.forEach(y),re=ee(ue),se=T(ue,"DIV",{class:!0});var et=H(se);Ce=T(et,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(Ce)!=="svelte-1dn7717"&&(Ce.textContent=ve),me=ee(et),J=T(et,"INPUT",{class:!0,type:!0,id:!0,min:!0,onfocus:!0}),et.forEach(y),ae=ee(ue),ie=T(ue,"DIV",{class:!0,"data-svelte-h":!0}),Ve(ie)!=="svelte-kl2484"&&(ie.innerHTML=S),ue.forEach(y),W.forEach(y),this.h()},h(){p(c,"for","tripName"),p(c,"class","form-label"),p(g,"id","tripName"),p(g,"class","form-control"),p(g,"type","text"),g.required=!0,p(g,"minlength","2"),p(o,"class","mb-3"),p(O,"for","tripCurrency"),p(O,"class","form-label"),p(I,"class","mb-3"),p(q,"for","tripStart"),p(q,"class","form-label"),p(V,"class","form-control"),p(V,"type","date"),p(V,"id","tripStart"),V.value=be=n[2].toISOString().slice(0,10),p(V,"onfocus","this.showPicker()"),V.required=!0,p(oe,"class","mb-3"),p(Ce,"for","tripStart"),p(Ce,"class","form-label"),p(J,"class","form-control"),p(J,"type","date"),p(J,"id","tripEnd"),p(J,"min",fe=n[2].toISOString().slice(0,10)||""),J.value=_e=n[3].toISOString().slice(0,10),p(J,"onfocus","this.showPicker()"),J.required=!0,p(se,"class","mb-3"),p(ie,"class","mt-4 gap-3 d-grid d-md-flex justify-content-md-center"),p(e,"class","w-100")},m(Z,W){le(Z,e,W),v(e,t),v(t,r),v(t,s),v(t,o),v(o,c),v(o,m),v(o,g),Wt(g,n[0]),v(t,b),v(t,I),v(I,O),v(I,D),fn(R,I,null),v(t,X),v(t,oe),v(oe,q),v(oe,ne),v(oe,V),v(t,re),v(t,se),v(se,Ce),v(se,me),v(se,J),v(t,ae),v(t,ie),P=!0,j||(pe=[rt(g,"input",n[7]),rt(V,"change",n[9]),rt(J,"change",n[10]),rt(t,"submit",n[5])],j=!0)},p(Z,[W]){W&1&&g.value!==Z[0]&&Wt(g,Z[0]);const ue={};W&16&&(ue.options=Z[4]),!x&&W&2&&(x=!0,ue.value=Z[1],Vr(()=>x=!1)),R.$set(ue),(!P||W&4&&be!==(be=Z[2].toISOString().slice(0,10)))&&(V.value=be),(!P||W&4&&fe!==(fe=Z[2].toISOString().slice(0,10)||""))&&p(J,"min",fe),(!P||W&8&&_e!==(_e=Z[3].toISOString().slice(0,10)))&&(J.value=_e)},i(Z){P||(Be(R.$$.fragment,Z),P=!0)},o(Z){Ue(R.$$.fragment,Z),P=!1},d(Z){Z&&y(e),cn(R),j=!1,or(pe)}}}function Du(n,e,t){let r,a,s;Gn(n,si,D=>t(6,a=D)),Gn(n,Ri,D=>t(11,s=D));let o="My Trip",c=s,d=new Date,m=new Date;async function g(D){D.preventDefault();try{const R=await Vt.trips.add({name:o,defaultCurrency:c,startDate:d,startDateString:d.toDateString(),endDate:m,endDateString:m.toDateString(),notes:""});window.location.href="#/trip/"+R}catch{window.location.href="#/"}}function b(){o=this.value,t(0,o)}function I(D){c=D,t(1,c)}const O=D=>t(2,d=D.target.valueAsDate),C=D=>t(3,m=D.target.valueAsDate);return n.$$.update=()=>{n.$$.dirty&64&&t(4,r=Ia(a))},[o,c,d,m,r,g,a,b,I,O,C]}class Iu extends Nn{constructor(e){super(),Bn(this,e,Du,Cu,En,{})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function ti(n,e,t){const r=document.createElement(e);return n&&(r.className=n),t&&t.appendChild(r),r}function Tu(n,e,t){let r=`translate3d(${n}px,0px,0)`;return t!==void 0&&(r+=` scale3d(${t},${t},1)`),r}function wa(n,e,t){n.style.width=typeof e=="number"?`${e}px`:e,n.style.height=typeof t=="number"?`${t}px`:t}const Un={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function Au(n){return"button"in n&&n.button===1||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey}function ni(n,e,t=document){let r=[];if(n instanceof Element)r=[n];else if(n instanceof NodeList||Array.isArray(n))r=Array.from(n);else{const a=typeof n=="string"?n:e;a&&(r=Array.from(t.querySelectorAll(a)))}return r}function Ou(n){return typeof n=="function"&&n.prototype&&n.prototype.goTo}function Ll(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class Pu{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class Lu{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,r=100){var a,s,o;this._filters[e]||(this._filters[e]=[]),(a=this._filters[e])===null||a===void 0||a.push({fn:t,priority:r}),(s=this._filters[e])===null||s===void 0||s.sort((c,d)=>c.priority-d.priority),(o=this.pswp)===null||o===void 0||o.addFilter(e,t,r)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(a=>{t[0]=a.fn.apply(this,t)}),t[0]}on(e,t){var r,a;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(t),(a=this.pswp)===null||a===void 0||a.on(e,t)}off(e,t){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(a=>t!==a)),(r=this.pswp)===null||r===void 0||r.off(e,t)}dispatch(e,t){var r;if(this.pswp)return this.pswp.dispatch(e,t);const a=new Pu(e,t);return(r=this._listeners[e])===null||r===void 0||r.forEach(s=>{s.call(this,a)}),a}}class Ru{constructor(e,t){if(this.element=ti("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(wa(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=Tu(0,0,e/250)):wa(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class Mu{constructor(e,t,r){this.instance=t,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Un.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{const r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Ru(r,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=ti("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=ti("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const a=this.element;this.updateSrcsetSizes(),this.data.srcset&&(a.srcset=this.data.srcset),a.src=(t=this.data.src)!==null&&t!==void 0?t:"",a.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=Un.LOADING,a.complete?this.onLoaded():(a.onload=()=>{this.onLoaded()},a.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Un.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Un.LOADED||this.state===Un.ERROR)&&this.removePlaceholder())}onError(){this.state=Un.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Un.LOADING,this)}isError(){return this.state===Un.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(wa(this.element,e,t),this.isImageContent()&&!this.isError()))){const r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Un.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let r=ti("pswp__error-msg","div");r.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=ti("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Un.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||Ll())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!Ll()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Un.LOADED||this.state===Un.ERROR)&&this.removePlaceholder()))}}function Nu(n,e){if(n.getViewportSizeFn){const t=n.getViewportSizeFn(n,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Pi(n,e,t,r,a){let s=0;if(e.paddingFn)s=e.paddingFn(t,r,a)[n];else if(e.padding)s=e.padding[n];else{const o="padding"+n[0].toUpperCase()+n.slice(1);e[o]&&(s=e[o])}return Number(s)||0}function Bu(n,e,t,r){return{x:e.x-Pi("left",n,e,t,r)-Pi("right",n,e,t,r),y:e.y-Pi("top",n,e,t,r)-Pi("bottom",n,e,t,r)}}const Rl=4e3;class Fu{constructor(e,t,r,a){this.pswp=a,this.options=e,this.itemData=t,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,r){const a={x:e,y:t};this.elementSize=a,this.panAreaSize=r;const s=r.x/a.x,o=r.y/a.y;this.fit=Math.min(1,s<o?s:o),this.fill=Math.min(1,s>o?s:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",r=this.options[t];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>Rl&&(e=Rl/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function Po(n,e,t){const r=e.createContentFromData(n,t);let a;const{options:s}=e;if(s){a=new Fu(s,n,-1);let o;e.pswp?o=e.pswp.viewportSize:o=Nu(s,e);const c=Bu(s,o,n,t);a.update(r.width,r.height,c)}return r.lazyLoad(),a&&r.setDisplayedSize(Math.ceil(r.width*a.initial),Math.ceil(r.height*a.initial)),r}function zu(n,e){const t=e.getItemData(n);if(!e.dispatch("lazyLoadSlide",{index:n,itemData:t}).defaultPrevented)return Po(t,e,n)}class Ku extends Lu{getNumItems(){var e;let t=0;const r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?t=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(t=r.items.length));const a=this.dispatch("numItems",{dataSource:r,numItems:t});return this.applyFilters("numItems",a.numItems,r)}createContentFromData(e,t){return new Mu(e,this,t)}getItemData(e){var t;const r=(t=this.options)===null||t===void 0?void 0:t.dataSource;let a={};Array.isArray(r)?a=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),a=r.items[e]);let s=a;s instanceof Element&&(s=this._domElementToItemData(s));const o=this.dispatch("itemData",{itemData:s||{},index:e});return this.applyFilters("itemData",o.itemData,e)}_getGalleryDOMElements(e){var t,r;return(t=this.options)!==null&&t!==void 0&&t.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?ni(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){t.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(t.srcset=r.dataset.pswpSrcset),t.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,t.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,r.dataset.pswpType&&(t.type=r.dataset.pswpType);const s=e.querySelector("img");if(s){var a;t.msrc=s.currentSrc||s.src,t.alt=(a=s.getAttribute("alt"))!==null&&a!==void 0?a:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,r)}lazyLoadData(e,t){return Po(e,this,t)}}class ju extends Ku{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){ni(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(Au(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);const a={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,a,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,a=ni(this.options.children,this.options.childSelector,e.currentTarget).findIndex(s=>s===t||s.contains(t));return a!==-1?a:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,r){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const a=ni(this.options.gallery);a[0]&&(t={gallery:a[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:r}=this;t&&(r.dataSource=t);const a=[],s=typeof r.pswpModule;if(Ou(r.pswpModule))a.push(Promise.resolve(r.pswpModule));else{if(s==="string")throw new Error("pswpModule as string is no longer supported");if(s==="function")a.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&a.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=zu(e,this));const o=++this._uid;Promise.all(a).then(c=>{if(this.shouldOpen){const d=c[0];this._openPhotoswipe(d,o)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(a=>{var s;(s=this._listeners[a])===null||s===void 0||s.forEach(o=>{r.on(a,o)})}),Object.keys(this._filters).forEach(a=>{var s;(s=this._filters[a])===null||s===void 0||s.forEach(o=>{r.addFilter(a,o.fn,o.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},ni(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}function Hu(n){let e,t,r,a,s,o,c,d,m,g,b,I,O="Cancel",C,D;return{c(){e=A("dialog"),t=A("h4"),r=Ke(n[1]),a=te(),s=A("p"),o=Ke(n[2]),c=te(),d=A("div"),m=A("button"),g=Ke(n[3]),b=te(),I=A("button"),I.textContent=O,this.h()},l(R){e=T(R,"DIALOG",{class:!0});var x=H(e);t=T(x,"H4",{});var X=H(t);r=ze(X,n[1]),X.forEach(y),a=ee(x),s=T(x,"P",{class:!0});var oe=H(s);o=ze(oe,n[2]),oe.forEach(y),c=ee(x),d=T(x,"DIV",{class:!0});var q=H(d);m=T(q,"BUTTON",{class:!0});var ce=H(m);g=ze(ce,n[3]),ce.forEach(y),b=ee(q),I=T(q,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(I)!=="svelte-h8rc8b"&&(I.textContent=O),q.forEach(y),x.forEach(y),this.h()},h(){p(s,"class","mt-3 mb-4"),p(m,"class","btn btn-primary"),p(I,"class","btn btn-outline-primary"),p(d,"class","buttons d-flex justify-content-center gap-2"),p(e,"class","svelte-z50xoi")},m(R,x){le(R,e,x),v(e,t),v(t,r),v(e,a),v(e,s),v(s,o),v(e,c),v(e,d),v(d,m),v(m,g),v(d,b),v(d,I),n[7](e),C||(D=[rt(m,"click",n[4]),rt(I,"click",n[5])],C=!0)},p(R,[x]){x&2&&nt(r,R[1]),x&4&&nt(o,R[2]),x&8&&nt(g,R[3])},i:Tt,o:Tt,d(R){R&&y(e),n[7](null),C=!1,or(D)}}}function qu(n,e,t){let{dialogRef:r}=e,{title:a="Diaglog title"}=e,{body:s="Diaglog body"}=e,{confirmText:o="Confirm"}=e,{confirmCallback:c}=e;function d(){r==null||r.close("confirmed"),c()}function m(){r==null||r.close()}function g(b){On[b?"unshift":"push"](()=>{r=b,t(0,r)})}return n.$$set=b=>{"dialogRef"in b&&t(0,r=b.dialogRef),"title"in b&&t(1,a=b.title),"body"in b&&t(2,s=b.body),"confirmText"in b&&t(3,o=b.confirmText),"confirmCallback"in b&&t(6,c=b.confirmCallback)},[r,a,s,o,d,m,c,g]}class Vu extends Nn{constructor(e){super(),Bn(this,e,qu,Hu,En,{dialogRef:0,title:1,body:2,confirmText:3,confirmCallback:6})}}function Ml(n,e,t){const r=n.slice();return r[21]=e[t],r}function Nl(n,e,t){const r=n.slice();return r[24]=e[t],r}function ha(n){const e=n.slice(),t=Array.from(new Set(e[8].map(r=>r.currency)));return e[20]=t,e}function Bl(n){let e,t,r=n[3].name+"",a,s,o,c,d,m,g,b,I,O,C='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',D,R,x=n[3].startDate.toDateString()+"",X,oe,q=n[3].endDate.toDateString()+"",ce,ne,V,be,re=n[3].defaultCurrency+"",se,Ce,ve=an[n[3].defaultCurrency].symbol+"",me,J,fe,_e,ae,ie,S,P,j,pe,de,Y,Z,W,ue,Oe,Ee,he,et="Notes:",Fe,Je,ct,He,bt="Receipts:",jt,gt,tn,Dt;function Pt(Pe,Le){return Pe[6]?Uu:Gu}let yt=Pt(n),wt=yt(n),We=n[8]&&Fl(ha(n));return{c(){e=A("h1"),t=A("span"),a=Ke(r),s=te(),o=A("span"),c=A("a"),d=Kt("svg"),m=Kt("path"),g=Kt("path"),I=te(),O=A("button"),O.innerHTML=C,D=te(),R=A("h4"),X=Ke(x),oe=Ke(" - "),ce=Ke(q),ne=te(),V=A("p"),be=Ke("Default currency: "),se=Ke(re),Ce=Ke(" ("),me=Ke(ve),J=Ke(")"),fe=te(),_e=A("a"),ae=Ke("+ Add Receipt"),S=te(),P=A("button"),wt.c(),j=te(),pe=A("a"),de=Kt("svg"),Y=Kt("path"),Z=Kt("path"),W=Ke(`
        Export/Print`),Oe=te(),Ee=A("div"),he=A("h5"),he.textContent=et,Fe=te(),Je=A("textarea"),ct=te(),He=A("h5"),He.textContent=bt,jt=te(),We&&We.c(),gt=Bt(),this.h()},l(Pe){e=T(Pe,"H1",{class:!0});var Le=H(e);t=T(Le,"SPAN",{});var _t=H(t);a=ze(_t,r),_t.forEach(y),s=ee(Le),o=T(Le,"SPAN",{});var Yt=H(o);c=T(Yt,"A",{href:!0,class:!0,title:!0});var Ht=H(c);d=zt(Ht,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Zt=H(d);m=zt(Zt,"path",{d:!0}),H(m).forEach(y),g=zt(Zt,"path",{"fill-rule":!0,d:!0}),H(g).forEach(y),Zt.forEach(y),Ht.forEach(y),I=ee(Yt),O=T(Yt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Ve(O)!=="svelte-7al2bn"&&(O.innerHTML=C),Yt.forEach(y),Le.forEach(y),D=ee(Pe),R=T(Pe,"H4",{});var dt=H(R);X=ze(dt,x),oe=ze(dt," - "),ce=ze(dt,q),dt.forEach(y),ne=ee(Pe),V=T(Pe,"P",{});var ht=H(V);be=ze(ht,"Default currency: "),se=ze(ht,re),Ce=ze(ht," ("),me=ze(ht,ve),J=ze(ht,")"),ht.forEach(y),fe=ee(Pe),_e=T(Pe,"A",{class:!0,href:!0});var Qt=H(_e);ae=ze(Qt,"+ Add Receipt"),Qt.forEach(y),S=ee(Pe),P=T(Pe,"BUTTON",{class:!0});var Xt=H(P);wt.l(Xt),Xt.forEach(y),j=ee(Pe),pe=T(Pe,"A",{href:!0,target:!0,class:!0});var Mt=H(pe);de=zt(Mt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Me=H(de);Y=zt(Me,"path",{d:!0}),H(Y).forEach(y),Z=zt(Me,"path",{d:!0}),H(Z).forEach(y),Me.forEach(y),W=ze(Mt,`
        Export/Print`),Mt.forEach(y),Oe=ee(Pe),Ee=T(Pe,"DIV",{class:!0});var rn=H(Ee);he=T(rn,"H5",{"data-svelte-h":!0}),Ve(he)!=="svelte-srqctx"&&(he.textContent=et),Fe=ee(rn),Je=T(rn,"TEXTAREA",{style:!0,class:!0,placeholder:!0,id:!0}),H(Je).forEach(y),rn.forEach(y),ct=ee(Pe),He=T(Pe,"H5",{class:!0,"data-svelte-h":!0}),Ve(He)!=="svelte-7onek5"&&(He.textContent=bt),jt=ee(Pe),We&&We.l(Pe),gt=Bt(),this.h()},h(){p(m,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(g,"fill-rule","evenodd"),p(g,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(d,"xmlns","http://www.w3.org/2000/svg"),p(d,"width","16"),p(d,"height","16"),p(d,"fill","currentColor"),p(d,"class","bi bi-pencil-square"),p(d,"viewBox","0 0 16 16"),p(c,"href",b="#/update/"+n[3].id),p(c,"class","btn btn-outline-secondary no-outline"),p(c,"title","Update Trip"),p(O,"class","btn btn-outline-secondary no-outline hover-red"),p(O,"title","Delete Trip"),p(e,"class","d-flex justify-content-between"),p(_e,"class","btn btn-primary"),p(_e,"href",ie="#/addreceipt/"+n[3].id),p(P,"class","btn"),Ne(P,"btn-outline-primary",!n[6]),Ne(P,"btn-secondary",n[6]),p(Y,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(Z,"d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"),p(de,"xmlns","http://www.w3.org/2000/svg"),p(de,"width","16"),p(de,"height","16"),p(de,"fill","currentColor"),p(de,"class","bi bi-download"),p(de,"viewBox","0 0 16 16"),p(pe,"href",ue="#/print/"+n[3].id),p(pe,"target","_blank"),p(pe,"class","btn btn-outline-primary"),li(Je,"height","50vh"),p(Je,"class","form-control d-block"),p(Je,"placeholder","A space for notes about your trip"),p(Je,"id","tripNotes"),p(Ee,"class","hide mt-3 flex-column"),Ne(Ee,"show",n[6]),p(He,"class","mt-3")},m(Pe,Le){le(Pe,e,Le),v(e,t),v(t,a),v(e,s),v(e,o),v(o,c),v(c,d),v(d,m),v(d,g),v(o,I),v(o,O),le(Pe,D,Le),le(Pe,R,Le),v(R,X),v(R,oe),v(R,ce),le(Pe,ne,Le),le(Pe,V,Le),v(V,be),v(V,se),v(V,Ce),v(V,me),v(V,J),le(Pe,fe,Le),le(Pe,_e,Le),v(_e,ae),le(Pe,S,Le),le(Pe,P,Le),wt.m(P,null),le(Pe,j,Le),le(Pe,pe,Le),v(pe,de),v(de,Y),v(de,Z),v(pe,W),le(Pe,Oe,Le),le(Pe,Ee,Le),v(Ee,he),v(Ee,Fe),v(Ee,Je),Wt(Je,n[7]),le(Pe,ct,Le),le(Pe,He,Le),le(Pe,jt,Le),We&&We.m(Pe,Le),le(Pe,gt,Le),tn||(Dt=[rt(O,"click",function(){Or(n[9](n[3]))&&n[9](n[3]).apply(this,arguments)}),rt(P,"click",n[12]),rt(Je,"input",n[16]),rt(Je,"input",n[11])],tn=!0)},p(Pe,Le){n=Pe,Le&8&&r!==(r=n[3].name+"")&&nt(a,r),Le&8&&b!==(b="#/update/"+n[3].id)&&p(c,"href",b),Le&8&&x!==(x=n[3].startDate.toDateString()+"")&&nt(X,x),Le&8&&q!==(q=n[3].endDate.toDateString()+"")&&nt(ce,q),Le&8&&re!==(re=n[3].defaultCurrency+"")&&nt(se,re),Le&8&&ve!==(ve=an[n[3].defaultCurrency].symbol+"")&&nt(me,ve),Le&8&&ie!==(ie="#/addreceipt/"+n[3].id)&&p(_e,"href",ie),yt!==(yt=Pt(n))&&(wt.d(1),wt=yt(n),wt&&(wt.c(),wt.m(P,null))),Le&64&&Ne(P,"btn-outline-primary",!n[6]),Le&64&&Ne(P,"btn-secondary",n[6]),Le&8&&ue!==(ue="#/print/"+n[3].id)&&p(pe,"href",ue),Le&128&&Wt(Je,n[7]),Le&64&&Ne(Ee,"show",n[6]),n[8]?We?We.p(ha(n),Le):(We=Fl(ha(n)),We.c(),We.m(gt.parentNode,gt)):We&&(We.d(1),We=null)},d(Pe){Pe&&(y(e),y(D),y(R),y(ne),y(V),y(fe),y(_e),y(S),y(P),y(j),y(pe),y(Oe),y(Ee),y(ct),y(He),y(jt),y(gt)),wt.d(),We&&We.d(Pe),tn=!1,or(Dt)}}}function Uu(n){let e,t,r,a,s;return{c(){e=Kt("svg"),t=Kt("path"),r=Kt("path"),a=Kt("path"),s=Ke(`
          Hide`),this.h()},l(o){e=zt(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var c=H(e);t=zt(c,"path",{d:!0}),H(t).forEach(y),r=zt(c,"path",{d:!0}),H(r).forEach(y),a=zt(c,"path",{d:!0}),H(a).forEach(y),c.forEach(y),s=ze(o,`
          Hide`),this.h()},h(){p(t,"d","M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"),p(r,"d","M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"),p(a,"d","M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-eye-slash"),p(e,"viewBox","0 0 16 16")},m(o,c){le(o,e,c),v(e,t),v(e,r),v(e,a),le(o,s,c)},d(o){o&&(y(e),y(s))}}}function Gu(n){let e,t,r,a,s;return{c(){e=Kt("svg"),t=Kt("path"),r=Kt("path"),a=Kt("path"),s=Ke(`
          Notes`),this.h()},l(o){e=zt(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var c=H(e);t=zt(c,"path",{d:!0}),H(t).forEach(y),r=zt(c,"path",{d:!0}),H(r).forEach(y),a=zt(c,"path",{d:!0}),H(a).forEach(y),c.forEach(y),s=ze(o,`
          Notes`),this.h()},h(){p(t,"d","M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"),p(r,"d","M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"),p(a,"d","M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-journal-text"),p(e,"viewBox","0 0 16 16")},m(o,c){le(o,e,c),v(e,t),v(e,r),v(e,a),le(o,s,c)},d(o){o&&(y(e),y(s))}}}function Fl(n){let e,t,r,a="<tr><th>Description</th> <th>Date</th> <th>Type</th> <th>Total</th> <th></th></tr>",s,o,c=[],d=new Map,m,g,b,I,O,C,D,R,x="<strong>Total</strong>",X,oe,q,ce,ne,V,be=Nt(n[8]);const re=ve=>ve[24].id;for(let ve=0;ve<be.length;ve+=1){let me=Nl(n,be,ve),J=re(me);d.set(J,c[ve]=zl(J,me))}let se=Nt(n[20]),Ce=[];for(let ve=0;ve<se.length;ve+=1)Ce[ve]=Kl(Ml(n,se,ve));return{c(){e=A("div"),t=A("table"),r=A("thead"),r.innerHTML=a,s=te(),o=A("tbody");for(let ve=0;ve<c.length;ve+=1)c[ve].c();m=te(),g=A("tfoot"),b=A("tr"),I=A("td"),O=te(),C=A("td"),D=te(),R=A("td"),R.innerHTML=x,X=te(),oe=A("td");for(let ve=0;ve<Ce.length;ve+=1)Ce[ve].c();q=te(),ce=A("td"),this.h()},l(ve){e=T(ve,"DIV",{class:!0});var me=H(e);t=T(me,"TABLE",{class:!0});var J=H(t);r=T(J,"THEAD",{"data-svelte-h":!0}),Ve(r)!=="svelte-1vpbmbw"&&(r.innerHTML=a),s=ee(J),o=T(J,"TBODY",{});var fe=H(o);for(let S=0;S<c.length;S+=1)c[S].l(fe);fe.forEach(y),m=ee(J),g=T(J,"TFOOT",{class:!0});var _e=H(g);b=T(_e,"TR",{});var ae=H(b);I=T(ae,"TD",{}),H(I).forEach(y),O=ee(ae),C=T(ae,"TD",{}),H(C).forEach(y),D=ee(ae),R=T(ae,"TD",{class:!0,"data-svelte-h":!0}),Ve(R)!=="svelte-14afisz"&&(R.innerHTML=x),X=ee(ae),oe=T(ae,"TD",{});var ie=H(oe);for(let S=0;S<Ce.length;S+=1)Ce[S].l(ie);ie.forEach(y),q=ee(ae),ce=T(ae,"TD",{}),H(ce).forEach(y),ae.forEach(y),_e.forEach(y),J.forEach(y),me.forEach(y),this.h()},h(){p(R,"class","text-end"),p(g,"class","table-group-divider"),p(t,"class","table table-striped table-hover"),p(e,"class","table-responsive")},m(ve,me){le(ve,e,me),v(e,t),v(t,r),v(t,s),v(t,o);for(let J=0;J<c.length;J+=1)c[J]&&c[J].m(o,null);v(t,m),v(t,g),v(g,b),v(b,I),v(b,O),v(b,C),v(b,D),v(b,R),v(b,X),v(b,oe);for(let J=0;J<Ce.length;J+=1)Ce[J]&&Ce[J].m(oe,null);v(b,q),v(b,ce),ne||(V=ai(n[13].call(null,o)),ne=!0)},p(ve,me){if(me&1280&&(be=Nt(ve[8]),c=Ar(c,me,re,1,ve,be,d,o,Gr,zl,null,Nl)),me&256){se=Nt(ve[20]);let J;for(J=0;J<se.length;J+=1){const fe=Ml(ve,se,J);Ce[J]?Ce[J].p(fe,me):(Ce[J]=Kl(fe),Ce[J].c(),Ce[J].m(oe,null))}for(;J<Ce.length;J+=1)Ce[J].d(1);Ce.length=se.length}},d(ve){ve&&y(e);for(let me=0;me<c.length;me+=1)c[me].d();Tr(Ce,ve),ne=!1,V()}}}function zl(n,e){let t,r,a,s,o,c,d,m,g,b,I,O,C,D=e[24].description+"",R,x,X,oe=e[24].receiptDateString+"",q,ce,ne,V,be,re=Za[e[24].receiptType]+"",se,Ce,ve=e[24].receiptType+"",me,J,fe,_e=an[e[24].currency].symbol+"",ae,ie,S=e[24].total.toFixed(2)+"",P,j,pe,de,Y,Z,W,ue,Oe,Ee,he='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',et,Fe,Je;return{key:n,first:null,c(){t=A("tr"),r=A("td"),a=A("div"),s=A("span"),o=A("a"),c=Kt("svg"),d=Kt("path"),m=Kt("path"),O=te(),C=A("span"),R=Ke(D),x=te(),X=A("td"),q=Ke(oe),ce=te(),ne=A("td"),V=A("abbr"),be=new qi(!1),Ce=A("span"),me=Ke(ve),J=te(),fe=A("td"),ae=Ke(_e),ie=te(),P=Ke(S),j=te(),pe=A("td"),de=A("a"),Y=Kt("svg"),Z=Kt("path"),W=Kt("path"),Oe=te(),Ee=A("button"),Ee.innerHTML=he,et=te(),this.h()},l(ct){t=T(ct,"TR",{});var He=H(t);r=T(He,"TD",{});var bt=H(r);a=T(bt,"DIV",{class:!0});var jt=H(a);s=T(jt,"SPAN",{});var gt=H(s);o=T(gt,"A",{class:!0,href:!0,"data-pswp-width":!0,"data-pswp-height":!0,target:!0,rel:!0,title:!0,style:!0});var tn=H(o);c=zt(tn,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Dt=H(c);d=zt(Dt,"path",{d:!0}),H(d).forEach(y),m=zt(Dt,"path",{d:!0}),H(m).forEach(y),Dt.forEach(y),tn.forEach(y),gt.forEach(y),O=ee(jt),C=T(jt,"SPAN",{});var Pt=H(C);R=ze(Pt,D),Pt.forEach(y),jt.forEach(y),bt.forEach(y),x=ee(He),X=T(He,"TD",{});var yt=H(X);q=ze(yt,oe),yt.forEach(y),ce=ee(He),ne=T(He,"TD",{});var wt=H(ne);V=T(wt,"ABBR",{class:!0,title:!0});var We=H(V);be=Hi(We,!1),We.forEach(y),Ce=T(wt,"SPAN",{class:!0});var Pe=H(Ce);me=ze(Pe,ve),Pe.forEach(y),wt.forEach(y),J=ee(He),fe=T(He,"TD",{class:!0});var Le=H(fe);ae=ze(Le,_e),ie=ee(Le),P=ze(Le,S),Le.forEach(y),j=ee(He),pe=T(He,"TD",{});var _t=H(pe);de=T(_t,"A",{class:!0,href:!0,title:!0});var Yt=H(de);Y=zt(Yt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ht=H(Y);Z=zt(Ht,"path",{d:!0}),H(Z).forEach(y),W=zt(Ht,"path",{"fill-rule":!0,d:!0}),H(W).forEach(y),Ht.forEach(y),Yt.forEach(y),Oe=ee(_t),Ee=T(_t,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Ve(Ee)!=="svelte-j31sw3"&&(Ee.innerHTML=he),_t.forEach(y),et=ee(He),He.forEach(y),this.h()},h(){p(d,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"),p(m,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"),p(c,"xmlns","http://www.w3.org/2000/svg"),p(c,"width","16"),p(c,"height","16"),p(c,"fill","currentColor"),p(c,"class","bi bi-image"),p(c,"viewBox","0 0 16 16"),p(o,"class","btn btn-outline-primary btn-sm rImages"),p(o,"href",g=e[24].imageData),p(o,"data-pswp-width",b=e[24].imageWidth),p(o,"data-pswp-height",I=e[24].imageHeight),p(o,"target","_blank"),p(o,"rel","noreferrer"),p(o,"title","View Image"),li(o,"border","none"),p(a,"class","receiptDesc"),be.a=null,p(V,"class","me-2 typeIcon"),p(V,"title",se=e[24].receiptType),p(Ce,"class","typeText"),p(fe,"class","text-nowrap"),p(Z,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(W,"fill-rule","evenodd"),p(W,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(Y,"xmlns","http://www.w3.org/2000/svg"),p(Y,"width","16"),p(Y,"height","16"),p(Y,"fill","currentColor"),p(Y,"class","bi bi-pencil-square"),p(Y,"viewBox","0 0 16 16"),p(de,"class","btn btn-outline-secondary no-outline btn-sm"),p(de,"href",ue="#/editreceipt/"+e[24].id),p(de,"title","Edit Receipt"),p(Ee,"class","btn btn-outline-secondary no-outline btn-sm hover-red"),p(Ee,"title","Delete Receipt"),this.first=t},m(ct,He){le(ct,t,He),v(t,r),v(r,a),v(a,s),v(s,o),v(o,c),v(c,d),v(c,m),v(a,O),v(a,C),v(C,R),v(t,x),v(t,X),v(X,q),v(t,ce),v(t,ne),v(ne,V),be.m(re,V),v(ne,Ce),v(Ce,me),v(t,J),v(t,fe),v(fe,ae),v(fe,ie),v(fe,P),v(t,j),v(t,pe),v(pe,de),v(de,Y),v(Y,Z),v(Y,W),v(pe,Oe),v(pe,Ee),v(t,et),Fe||(Je=rt(Ee,"click",function(){Or(e[10](e[24]))&&e[10](e[24]).apply(this,arguments)}),Fe=!0)},p(ct,He){e=ct,He&256&&g!==(g=e[24].imageData)&&p(o,"href",g),He&256&&b!==(b=e[24].imageWidth)&&p(o,"data-pswp-width",b),He&256&&I!==(I=e[24].imageHeight)&&p(o,"data-pswp-height",I),He&256&&D!==(D=e[24].description+"")&&nt(R,D),He&256&&oe!==(oe=e[24].receiptDateString+"")&&nt(q,oe),He&256&&re!==(re=Za[e[24].receiptType]+"")&&be.p(re),He&256&&se!==(se=e[24].receiptType)&&p(V,"title",se),He&256&&ve!==(ve=e[24].receiptType+"")&&nt(me,ve),He&256&&_e!==(_e=an[e[24].currency].symbol+"")&&nt(ae,_e),He&256&&S!==(S=e[24].total.toFixed(2)+"")&&nt(P,S),He&256&&ue!==(ue="#/editreceipt/"+e[24].id)&&p(de,"href",ue)},d(ct){ct&&y(t),Fe=!1,Je()}}}function Kl(n){let e=an[n[21]].symbol+"",t,r,a=n[8].filter(d).reduce(jl,0).toFixed(2)+"",s,o,c;function d(...m){return n[17](n[21],...m)}return{c(){t=Ke(e),r=te(),s=Ke(a),o=te(),c=A("br")},l(m){t=ze(m,e),r=ee(m),s=ze(m,a),o=ee(m),c=T(m,"BR",{})},m(m,g){le(m,t,g),le(m,r,g),le(m,s,g),le(m,o,g),le(m,c,g)},p(m,g){n=m,g&256&&e!==(e=an[n[21]].symbol+"")&&nt(t,e),g&256&&a!==(a=n[8].filter(d).reduce(jl,0).toFixed(2)+"")&&nt(s,a)},d(m){m&&(y(t),y(r),y(s),y(o),y(c))}}}function xu(n){let e,t,r,a,s;function o(m){n[15](m)}let c={title:n[0],body:n[1],confirmText:"Delete",confirmCallback:n[2]};n[4]!==void 0&&(c.dialogRef=n[4]),t=new Vu({props:c}),On.push(()=>Ur(t,"dialogRef",o));let d=n[3]&&Bl(n);return{c(){e=A("div"),hn(t.$$.fragment),a=te(),d&&d.c(),this.h()},l(m){e=T(m,"DIV",{class:!0});var g=H(e);dn(t.$$.fragment,g),a=ee(g),d&&d.l(g),g.forEach(y),this.h()},h(){p(e,"class","w-100")},m(m,g){le(m,e,g),fn(t,e,null),v(e,a),d&&d.m(e,null),s=!0},p(m,[g]){const b={};g&1&&(b.title=m[0]),g&2&&(b.body=m[1]),g&4&&(b.confirmCallback=m[2]),!r&&g&16&&(r=!0,b.dialogRef=m[4],Vr(()=>r=!1)),t.$set(b),m[3]?d?d.p(m,g):(d=Bl(m),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(m){s||(Be(t.$$.fragment,m),s=!0)},o(m){Ue(t.$$.fragment,m),s=!1},d(m){m&&y(e),cn(t),d&&d.d()}}}const Wu=2e3,jl=(n,e)=>n+e.total;function Yu(n,e,t){let r,a=Tt,s=()=>(a(),a=ri(I,re=>t(8,r=re)),I);n.$$.on_destroy.push(()=>a());let o="",c="",d=()=>{},{tripId:m}=e,g,b,I,O=!1,C="",D;m>-1&&Vt.trips.get(m).then(re=>{t(3,g=re),t(7,C=g==null?void 0:g.notes),s(t(5,I=oi(async()=>await Vt.receipts.where({tripId:m}).reverse().sortBy("receiptDate"))))});async function R(re){t(0,o="Delete Trip"),t(1,c=`Are you sure you want to delete trip "${re.name}"? It will also delete all receipts for this trip`),t(2,d=async()=>{let se=await Vt.trips.where("id").equals(re.id).delete();console.log(`Deleted ${se} trip(s)`),se=await Vt.receipts.where("tripId").equals(re.id).delete(),console.log(`Deleted ${se} receipts(s)`),window.location.href="#/"}),b==null||b.showModal()}async function x(re){t(0,o="Delete Receipt"),t(1,c=`Are you sure you want to delete receipt for "${re.description}"?`),t(2,d=async()=>{await Vt.receipts.where("id").equals(re.id).delete()}),b==null||b.showModal()}async function X(){D&&clearTimeout(D),D=setTimeout(oe,Wu)}async function oe(){if(g)try{const re=await Vt.trips.update(g.id,{notes:C})}catch(re){console.error(re)}}function q(){t(6,O=!O)}function ce(re){new ju({gallery:".rImages",pswpModule:()=>Sa(()=>import("./D2Nf-uDI.js"),[],import.meta.url)}).init()}function ne(re){b=re,t(4,b)}function V(){C=this.value,t(7,C)}const be=(re,se)=>se.currency==re;return n.$$set=re=>{"tripId"in re&&t(14,m=re.tripId)},[o,c,d,g,b,I,O,C,r,R,x,X,q,ce,m,ne,V,be]}class Zu extends Nn{constructor(e){super(),Bn(this,e,Yu,xu,En,{tripId:14})}}function Lo(){let n=document.getElementById("tripToggle");n==null||n.classList.toggle("show")}function Hl(n,e,t){const r=n.slice();return r[8]=e[t],r}function ql(n,e,t){const r=n.slice();return r[12]=e[t],r}function pa(n){const e=n.slice(),t=Array.from(new Set(e[2].filter(function(...a){return n[5](e[8],...a)}).map(r=>r.currency)));return e[11]=t,e}function Qu(n){let e,t="You have no trips";return{c(){e=A("i"),e.textContent=t,this.h()},l(r){e=T(r,"I",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1hu6yjc"&&(e.textContent=t),this.h()},h(){p(e,"class","text-center d-block")},m(r,a){le(r,e,a)},p:Tt,d(r){r&&y(e)}}}function Ju(n){let e=[],t=new Map,r,a=Nt(n[1]);const s=o=>o[8].id;for(let o=0;o<a.length;o+=1){let c=Hl(n,a,o),d=s(c);t.set(d,e[o]=Gl(d,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Bt()},l(o){for(let c=0;c<e.length;c+=1)e[c].l(o);r=Bt()},m(o,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(o,c);le(o,r,c)},p(o,c){c&7&&(a=Nt(o[1]),e=Ar(e,c,s,1,o,a,t,r.parentNode,Gr,Gl,r,Hl))},d(o){o&&y(r);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function Vl(n){let e,t=Nt(n[11]),r=[];for(let a=0;a<t.length;a+=1)r[a]=Ul(ql(n,t,a));return{c(){e=A("small");for(let a=0;a<r.length;a+=1)r[a].c()},l(a){e=T(a,"SMALL",{});var s=H(e);for(let o=0;o<r.length;o+=1)r[o].l(s);s.forEach(y)},m(a,s){le(a,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(a,s){if(s&6){t=Nt(a[11]);let o;for(o=0;o<t.length;o+=1){const c=ql(a,t,o);r[o]?r[o].p(c,s):(r[o]=Ul(c),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(a){a&&y(e),Tr(r,a)}}}function Ul(n){let e=an[n[12]].symbol+"",t,r,a=n[2].filter(d).filter(m).reduce(xl,0).toFixed(2)+"",s,o,c;function d(...g){return n[6](n[8],...g)}function m(...g){return n[7](n[12],...g)}return{c(){t=Ke(e),r=te(),s=Ke(a),o=te(),c=A("br")},l(g){t=ze(g,e),r=ee(g),s=ze(g,a),o=ee(g),c=T(g,"BR",{})},m(g,b){le(g,t,b),le(g,r,b),le(g,s,b),le(g,o,b),le(g,c,b)},p(g,b){n=g,b&6&&e!==(e=an[n[12]].symbol+"")&&nt(t,e),b&6&&a!==(a=n[2].filter(d).filter(m).reduce(xl,0).toFixed(2)+"")&&nt(s,a)},d(g){g&&(y(t),y(r),y(s),y(o),y(c))}}}function Gl(n,e){let t,r,a,s=e[8].name+"",o,c,d,m,g=e[8].startDateString+"",b,I,O=e[8].endDateString+"",C,D,R,x,X,oe,q=e[2]&&Vl(pa(e));return{key:n,first:null,c(){t=A("a"),r=A("div"),a=A("strong"),o=Ke(s),c=te(),q&&q.c(),d=te(),m=A("div"),b=Ke(g),I=Ke(" - "),C=Ke(O),D=te(),this.h()},l(ce){t=T(ce,"A",{href:!0,class:!0,"aria-current":!0,"data-trip-id":!0});var ne=H(t);r=T(ne,"DIV",{class:!0});var V=H(r);a=T(V,"STRONG",{class:!0});var be=H(a);o=ze(be,s),be.forEach(y),c=ee(V),q&&q.l(V),V.forEach(y),d=ee(ne),m=T(ne,"DIV",{class:!0});var re=H(m);b=ze(re,g),I=ze(re," - "),C=ze(re,O),re.forEach(y),D=ee(ne),ne.forEach(y),this.h()},h(){p(a,"class","mb-1"),p(r,"class","d-flex w-100 align-items-center justify-content-between"),p(m,"class","col-10 mb-1 small"),p(t,"href",R="#/trip/"+e[8].id),p(t,"class","list-group-item list-group-item-action py-3 lh-sm m-2"),p(t,"aria-current","false"),p(t,"data-trip-id",x=e[8].id),Ne(t,"active",e[0]==e[8].id),this.first=t},m(ce,ne){le(ce,t,ne),v(t,r),v(r,a),v(a,o),v(r,c),q&&q.m(r,null),v(t,d),v(t,m),v(m,b),v(m,I),v(m,C),v(t,D),X||(oe=rt(t,"click",Lo),X=!0)},p(ce,ne){e=ce,ne&2&&s!==(s=e[8].name+"")&&nt(o,s),e[2]?q?q.p(pa(e),ne):(q=Vl(pa(e)),q.c(),q.m(r,null)):q&&(q.d(1),q=null),ne&2&&g!==(g=e[8].startDateString+"")&&nt(b,g),ne&2&&O!==(O=e[8].endDateString+"")&&nt(C,O),ne&2&&R!==(R="#/trip/"+e[8].id)&&p(t,"href",R),ne&2&&x!==(x=e[8].id)&&p(t,"data-trip-id",x),ne&3&&Ne(t,"active",e[0]==e[8].id)},d(ce){ce&&y(t),q&&q.d(),X=!1,oe()}}}function Xu(n){let e;function t(s,o){return s[1]&&s[1].length>0?Ju:Qu}let r=t(n),a=r(n);return{c(){a.c(),e=Bt()},l(s){a.l(s),e=Bt()},m(s,o){a.m(s,o),le(s,e,o)},p(s,[o]){r===(r=t(s))&&a?a.p(s,o):(a.d(1),a=r(s),a&&(a.c(),a.m(e.parentNode,e)))},i:Tt,o:Tt,d(s){s&&y(e),a.d(s)}}}const xl=(n,e)=>n+e.total;function $u(n,e,t){let r,a,{tripId:s}=e,o=oi(()=>Vt.trips.toCollection().reverse().sortBy("endDate"));Gn(n,o,b=>t(1,r=b));let c=oi(()=>Vt.receipts.toArray());Gn(n,c,b=>t(2,a=b));const d=(b,I)=>I.tripId==b.id,m=(b,I)=>I.tripId==b.id,g=(b,I)=>I.currency==b;return n.$$set=b=>{"tripId"in b&&t(0,s=b.tripId)},[s,r,a,o,c,d,m,g]}class ec extends Nn{constructor(e){super(),Bn(this,e,$u,Xu,En,{tripId:0})}}function Wl(n){let e,t,r="Update Trip",a,s,o,c="Trip Name",d,m,g,b,I,O="Trip Currency",C,D,R,x,X,oe,q="Trip Start",ce,ne,V,be,re,se,Ce="Trip End",ve,me,J,fe,_e,ae,ie,S="Update Trip",P,j,pe,de,Y,Z,W;function ue(Ee){n[8](Ee)}let Oe={options:n[3],name:"tripCurrency",inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items",required:!0};return n[0].defaultCurrency!==void 0&&(Oe.value=n[0].defaultCurrency),D=new ui({props:Oe}),On.push(()=>Ur(D,"value",ue)),{c(){e=A("form"),t=A("h1"),t.textContent=r,a=te(),s=A("div"),o=A("label"),o.textContent=c,d=te(),m=A("input"),g=te(),b=A("div"),I=A("label"),I.textContent=O,C=te(),hn(D.$$.fragment),x=te(),X=A("div"),oe=A("label"),oe.textContent=q,ce=te(),ne=A("input"),be=te(),re=A("div"),se=A("label"),se.textContent=Ce,ve=te(),me=A("input"),_e=te(),ae=A("div"),ie=A("button"),ie.textContent=S,P=te(),j=A("a"),pe=Ke("Cancel"),this.h()},l(Ee){e=T(Ee,"FORM",{});var he=H(e);t=T(he,"H1",{"data-svelte-h":!0}),Ve(t)!=="svelte-9352dq"&&(t.textContent=r),a=ee(he),s=T(he,"DIV",{class:!0});var et=H(s);o=T(et,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(o)!=="svelte-1y8z10u"&&(o.textContent=c),d=ee(et),m=T(et,"INPUT",{id:!0,class:!0,type:!0,minlength:!0}),et.forEach(y),g=ee(he),b=T(he,"DIV",{class:!0});var Fe=H(b);I=T(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(I)!=="svelte-1fzihue"&&(I.textContent=O),C=ee(Fe),dn(D.$$.fragment,Fe),Fe.forEach(y),x=ee(he),X=T(he,"DIV",{class:!0});var Je=H(X);oe=T(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(oe)!=="svelte-4n7gli"&&(oe.textContent=q),ce=ee(Je),ne=T(Je,"INPUT",{class:!0,type:!0,id:!0,onfocus:!0}),Je.forEach(y),be=ee(he),re=T(he,"DIV",{class:!0});var ct=H(re);se=T(ct,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(se)!=="svelte-1dn7717"&&(se.textContent=Ce),ve=ee(ct),me=T(ct,"INPUT",{class:!0,type:!0,id:!0,min:!0,onfocus:!0}),ct.forEach(y),_e=ee(he),ae=T(he,"DIV",{class:!0});var He=H(ae);ie=T(He,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(ie)!=="svelte-1kd8st2"&&(ie.textContent=S),P=ee(He),j=T(He,"A",{href:!0,class:!0});var bt=H(j);pe=ze(bt,"Cancel"),bt.forEach(y),He.forEach(y),he.forEach(y),this.h()},h(){p(o,"for","tripName"),p(o,"class","form-label"),p(m,"id","tripName"),p(m,"class","form-control"),p(m,"type","text"),m.required=!0,p(m,"minlength","2"),p(s,"class","mb-3"),p(I,"for","tripCurrency"),p(I,"class","form-label"),p(b,"class","mb-3"),p(oe,"for","tripStart"),p(oe,"class","form-label"),p(ne,"class","form-control"),p(ne,"type","date"),p(ne,"id","tripStart"),ne.value=V=n[1].toISOString().slice(0,10),p(ne,"onfocus","this.showPicker()"),ne.required=!0,p(X,"class","mb-3"),p(se,"for","tripStart"),p(se,"class","form-label"),p(me,"class","form-control"),p(me,"type","date"),p(me,"id","tripEnd"),p(me,"min",J=n[1].toISOString().slice(0,10)||""),me.value=fe=n[2].toISOString().slice(0,10),p(me,"onfocus","this.showPicker()"),me.required=!0,p(re,"class","mb-3"),p(ie,"class","btn btn-primary col-md-2"),p(ie,"type","submit"),p(j,"href",de="#/trip/"+n[0].id),p(j,"class","btn btn-outline-primary col-md-2"),p(ae,"class","mt-4 gap-3 d-grid d-md-flex justify-content-md-center")},m(Ee,he){le(Ee,e,he),v(e,t),v(e,a),v(e,s),v(s,o),v(s,d),v(s,m),Wt(m,n[0].name),v(e,g),v(e,b),v(b,I),v(b,C),fn(D,b,null),v(e,x),v(e,X),v(X,oe),v(X,ce),v(X,ne),v(e,be),v(e,re),v(re,se),v(re,ve),v(re,me),v(e,_e),v(e,ae),v(ae,ie),v(ae,P),v(ae,j),v(j,pe),Y=!0,Z||(W=[rt(m,"input",n[7]),rt(ne,"change",n[9]),rt(me,"change",n[10]),rt(e,"submit",n[4])],Z=!0)},p(Ee,he){he&1&&m.value!==Ee[0].name&&Wt(m,Ee[0].name);const et={};he&8&&(et.options=Ee[3]),!R&&he&1&&(R=!0,et.value=Ee[0].defaultCurrency,Vr(()=>R=!1)),D.$set(et),(!Y||he&2&&V!==(V=Ee[1].toISOString().slice(0,10)))&&(ne.value=V),(!Y||he&2&&J!==(J=Ee[1].toISOString().slice(0,10)||""))&&p(me,"min",J),(!Y||he&4&&fe!==(fe=Ee[2].toISOString().slice(0,10)))&&(me.value=fe),(!Y||he&1&&de!==(de="#/trip/"+Ee[0].id))&&p(j,"href",de)},i(Ee){Y||(Be(D.$$.fragment,Ee),Y=!0)},o(Ee){Ue(D.$$.fragment,Ee),Y=!1},d(Ee){Ee&&y(e),cn(D),Z=!1,or(W)}}}function tc(n){let e,t,r=n[0]&&Wl(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=H(e);r&&r.l(s),s.forEach(y),this.h()},h(){p(e,"class","w-100")},m(a,s){le(a,e,s),r&&r.m(e,null),t=!0},p(a,[s]){a[0]?r?(r.p(a,s),s&1&&Be(r,1)):(r=Wl(a),r.c(),Be(r,1),r.m(e,null)):r&&(_n(),Ue(r,1,1,()=>{r=null}),vn())},i(a){t||(Be(r),t=!0)},o(a){Ue(r),t=!1},d(a){a&&y(e),r&&r.d()}}}function nc(n,e,t){let r,a;Gn(n,si,C=>t(6,a=C));let{tripId:s}=e,o,c,d;s>-1&&Vt.trips.get(s).then(C=>{t(0,o=C),t(1,c=new Date(o.startDateString)),t(2,d=new Date(o.endDateString))});async function m(C){C.preventDefault();try{const D=await Vt.trips.update(o.id,{name:o.name,defaultCurrency:o.defaultCurrency,startDate:c,endDate:d,startDateString:c.toDateString(),endDateString:d.toDateString()});window.location.href="#/trip/"+o.id}catch{window.location.href="#/"}}function g(){o.name=this.value,t(0,o)}function b(C){n.$$.not_equal(o.defaultCurrency,C)&&(o.defaultCurrency=C,t(0,o))}const I=C=>t(1,c=C.target.valueAsDate),O=C=>t(2,d=C.target.valueAsDate);return n.$$set=C=>{"tripId"in C&&t(5,s=C.tripId)},n.$$.update=()=>{n.$$.dirty&64&&t(3,r=Ia(a))},[o,c,d,r,m,s,a,g,b,I,O]}class rc extends Nn{constructor(e){super(),Bn(this,e,nc,tc,En,{tripId:5})}}function ic(n){let e,t,r="Settings",a,s,o,c="Default Currency",d,m,g,b,I,O="The currency that each trip will default to",C,D,R,x="Favourite Currencies",X,oe,q,ce,ne,V="These currencies will always appear at the top of the currency list",be,re,se="Colour Theme",Ce,ve,me,J,fe,_e=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"></path></svg>
                    Auto`,ae,ie,S,P,j=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun" viewBox="0 0 16 16"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"></path></svg>
                    Light`,pe,de,Y,Z,W=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"></path></svg>
                   Dark`,ue,Oe,Ee,he="Export to backup file",et,Fe,Je=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"></path><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"></path></svg>
                    Export Data`,ct,He,bt="Import from backup file",jt,gt,tn="<p><strong>Warning!</strong> Importing will overwrite your current data</p>",Dt,Pt,yt,wt,We,Pe,Le,_t,Yt,Ht,Zt,dt,ht='<a class="mt-4 btn btn-primary" href="#/">Done</a>',Qt,Xt,Mt,Me;function rn(lt){n[9](lt)}let Ut={options:n[4],inputId:"defCurrency"};n[1]!==void 0&&(Ut.value=n[1]),m=new ui({props:Ut}),On.push(()=>Ur(m,"value",rn)),m.$on("change",n[8]);function qt(lt){n[10](lt)}let ke={options:n[4],name:void 0,inputId:"favCurrency",multiple:!0,placeholder:"Choose currencies"};return n[2]!==void 0&&(ke.value=n[2]),oe=new ui({props:ke}),On.push(()=>Ur(oe,"value",qt)),Xt=es(n[12][0]),{c(){e=A("div"),t=A("h1"),t.textContent=r,a=te(),s=A("div"),o=A("label"),o.textContent=c,d=te(),hn(m.$$.fragment),b=te(),I=A("div"),I.textContent=O,C=te(),D=A("div"),R=A("label"),R.textContent=x,X=te(),hn(oe.$$.fragment),ce=te(),ne=A("div"),ne.textContent=V,be=te(),re=A("span"),re.textContent=se,Ce=te(),ve=A("div"),me=A("input"),J=te(),fe=A("label"),fe.innerHTML=_e,ae=te(),ie=A("input"),S=te(),P=A("label"),P.innerHTML=j,pe=te(),de=A("input"),Y=te(),Z=A("label"),Z.innerHTML=W,ue=te(),Oe=A("div"),Ee=A("h6"),Ee.textContent=he,et=te(),Fe=A("button"),Fe.innerHTML=Je,ct=te(),He=A("h6"),He.textContent=bt,jt=te(),gt=A("div"),gt.innerHTML=tn,Dt=te(),Pt=A("div"),yt=A("input"),wt=te(),We=A("button"),Pe=Kt("svg"),Le=Kt("path"),_t=Kt("path"),Yt=Ke(`
                    Import Data`),Zt=te(),dt=A("div"),dt.innerHTML=ht,this.h()},l(lt){e=T(lt,"DIV",{class:!0});var xe=H(e);t=T(xe,"H1",{"data-svelte-h":!0}),Ve(t)!=="svelte-171lafx"&&(t.textContent=r),a=ee(xe),s=T(xe,"DIV",{class:!0});var st=H(s);o=T(st,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(o)!=="svelte-it9jnu"&&(o.textContent=c),d=ee(st),dn(m.$$.fragment,st),b=ee(st),I=T(st,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Ve(I)!=="svelte-2gnq35"&&(I.textContent=O),st.forEach(y),C=ee(xe),D=T(xe,"DIV",{class:!0});var kt=H(D);R=T(kt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(R)!=="svelte-18qx5ce"&&(R.textContent=x),X=ee(kt),dn(oe.$$.fragment,kt),ce=ee(kt),ne=T(kt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Ve(ne)!=="svelte-13r3flk"&&(ne.textContent=V),kt.forEach(y),be=ee(xe),re=T(xe,"SPAN",{class:!0,"data-svelte-h":!0}),Ve(re)!=="svelte-u79m7h"&&(re.textContent=se),Ce=ee(xe),ve=T(xe,"DIV",{class:!0,role:!0,"aria-label":!0});var it=H(ve);me=T(it,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),J=ee(it),fe=T(it,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ve(fe)!=="svelte-annllc"&&(fe.innerHTML=_e),ae=ee(it),ie=T(it,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),S=ee(it),P=T(it,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ve(P)!=="svelte-llbehq"&&(P.innerHTML=j),pe=ee(it),de=T(it,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),Y=ee(it),Z=T(it,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ve(Z)!=="svelte-u2uuxq"&&(Z.innerHTML=W),it.forEach(y),ue=ee(xe),Oe=T(xe,"DIV",{class:!0});var It=H(Oe);Ee=T(It,"H6",{class:!0,"data-svelte-h":!0}),Ve(Ee)!=="svelte-jc92z5"&&(Ee.textContent=he),et=ee(It),Fe=T(It,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(Fe)!=="svelte-14j3op3"&&(Fe.innerHTML=Je),ct=ee(It),He=T(It,"H6",{class:!0,"data-svelte-h":!0}),Ve(He)!=="svelte-13fi89q"&&(He.textContent=bt),jt=ee(It),gt=T(It,"DIV",{class:!0,"data-svelte-h":!0}),Ve(gt)!=="svelte-wmieih"&&(gt.innerHTML=tn),Dt=ee(It),Pt=T(It,"DIV",{class:!0});var ut=H(Pt);yt=T(ut,"INPUT",{id:!0,type:!0,accept:!0}),ut.forEach(y),wt=ee(It),We=T(It,"BUTTON",{class:!0,type:!0});var vt=H(We);Pe=zt(vt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Lt=H(Pe);Le=zt(Lt,"path",{d:!0}),H(Le).forEach(y),_t=zt(Lt,"path",{d:!0}),H(_t).forEach(y),Lt.forEach(y),Yt=ze(vt,`
                    Import Data`),vt.forEach(y),It.forEach(y),Zt=ee(xe),dt=T(xe,"DIV",{class:!0,"data-svelte-h":!0}),Ve(dt)!=="svelte-1igjl61"&&(dt.innerHTML=ht),xe.forEach(y),this.h()},h(){p(o,"for","defCurrency"),p(o,"class","form-label"),p(I,"id","defCurrencyHelp"),p(I,"class","form-text"),p(s,"class","mb-3"),p(R,"for","favCurrency"),p(R,"class","form-label"),p(ne,"id","favCurrencyHelp"),p(ne,"class","form-text"),p(D,"class","mb-3"),p(re,"class","form-label mt-2"),p(me,"type","radio"),p(me,"class","btn-check btn-outline-secondary"),p(me,"name","options-color"),p(me,"id","optionAuto"),me.__value="auto",Wt(me,me.__value),p(me,"autocomplete","off"),p(fe,"class","btn btn-outline-secondary"),p(fe,"for","optionAuto"),p(ie,"type","radio"),p(ie,"class","btn-check btn-outline-secondary"),p(ie,"name","options-color"),p(ie,"id","optionLight"),ie.__value="light",Wt(ie,ie.__value),p(ie,"autocomplete","off"),p(P,"class","btn btn-outline-secondary"),p(P,"for","optionLight"),p(de,"type","radio"),p(de,"class","btn-check btn-outline-secondary"),p(de,"name","options-color"),p(de,"id","optionDark"),de.__value="dark",Wt(de,de.__value),p(de,"autocomplete","off"),p(Z,"class","btn btn-outline-secondary"),p(Z,"for","optionDark"),p(ve,"class","btn-group mb-3"),p(ve,"role","group"),p(ve,"aria-label","Colour Theme Picker"),p(Ee,"class","mt-3"),p(Fe,"class","btn btn-outline-primary col-md-2"),p(Fe,"type","button"),p(He,"class","mt-4"),p(gt,"class","bd-callout bd-callout-warning"),p(yt,"id","importInput"),p(yt,"type","file"),p(yt,"accept","application/json"),p(Pt,"class","mb-3"),p(Le,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(_t,"d","M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"),p(Pe,"xmlns","http://www.w3.org/2000/svg"),p(Pe,"width","16"),p(Pe,"height","16"),p(Pe,"fill","currentColor"),p(Pe,"class","bi bi-upload"),p(Pe,"viewBox","0 0 16 16"),p(We,"class","btn btn-outline-primary col-md-2"),p(We,"type","button"),We.disabled=Ht=!n[0],p(Oe,"class","d-block"),p(dt,"class","d-grid mt-4 col-md-4 mx-auto"),p(e,"class","row"),Xt.p(me,ie,de)},m(lt,xe){le(lt,e,xe),v(e,t),v(e,a),v(e,s),v(s,o),v(s,d),fn(m,s,null),v(s,b),v(s,I),v(e,C),v(e,D),v(D,R),v(D,X),fn(oe,D,null),v(D,ce),v(D,ne),v(e,be),v(e,re),v(e,Ce),v(e,ve),v(ve,me),me.checked=me.__value===n[3],v(ve,J),v(ve,fe),v(ve,ae),v(ve,ie),ie.checked=ie.__value===n[3],v(ve,S),v(ve,P),v(ve,pe),v(ve,de),de.checked=de.__value===n[3],v(ve,Y),v(ve,Z),v(e,ue),v(e,Oe),v(Oe,Ee),v(Oe,et),v(Oe,Fe),v(Oe,ct),v(Oe,He),v(Oe,jt),v(Oe,gt),v(Oe,Dt),v(Oe,Pt),v(Pt,yt),v(Oe,wt),v(Oe,We),v(We,Pe),v(Pe,Le),v(Pe,_t),v(We,Yt),v(e,Zt),v(e,dt),Qt=!0,Mt||(Me=[rt(me,"change",n[11]),rt(ie,"change",n[13]),rt(de,"change",n[14]),rt(Fe,"click",n[5]),rt(yt,"change",n[7]),rt(We,"click",n[6])],Mt=!0)},p(lt,xe){const st={};!g&&xe&2&&(g=!0,st.value=lt[1],Vr(()=>g=!1)),m.$set(st);const kt={};!q&&xe&4&&(q=!0,kt.value=lt[2],Vr(()=>q=!1)),oe.$set(kt),xe&8&&(me.checked=me.__value===lt[3]),xe&8&&(ie.checked=ie.__value===lt[3]),xe&8&&(de.checked=de.__value===lt[3]),(!Qt||xe&1&&Ht!==(Ht=!lt[0]))&&(We.disabled=Ht)},i(lt){Qt||(Be(m.$$.fragment,lt),Be(oe.$$.fragment,lt),Qt=!0)},o(lt){Ue(m.$$.fragment,lt),Ue(oe.$$.fragment,lt),Qt=!1},d(lt){lt&&y(e),cn(m),cn(oe),Xt.r(),Mt=!1,or(Me)}}}function ac(n){let e,t,r,a='<div id="importSuccess" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">Import success!</div> <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button></div></div> <div id="importFailed" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">Import failed!</div> <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button></div></div>',s,o=ic(n);return{c(){e=A("div"),o&&o.c(),t=te(),r=A("div"),r.innerHTML=a,this.h()},l(c){e=T(c,"DIV",{class:!0});var d=H(e);o&&o.l(d),t=ee(d),r=T(d,"DIV",{class:!0,"data-svelte-h":!0}),Ve(r)!=="svelte-1dgnvby"&&(r.innerHTML=a),d.forEach(y),this.h()},h(){p(r,"class","toast-container position-fixed top-0 end-0 p-3"),p(e,"class","col-12")},m(c,d){le(c,e,d),o&&o.m(e,null),v(e,t),v(e,r),s=!0},p(c,[d]){o.p(c,d)},i(c){s||(Be(o),s=!0)},o(c){Ue(o),s=!1},d(c){c&&y(e),o&&o.d()}}}function lc(n,e){const t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=e,r.click(),URL.revokeObjectURL(t)}function oc(n){return n.done?(bootstrap.Toast.getOrCreateInstance(document.getElementById("importSuccess")).show(),!0):!1}function sc(n,e,t){let r,a,s;Gn(n,Ri,q=>t(1,r=q)),Gn(n,si,q=>t(2,a=q)),Gn(n,ei,q=>t(3,s=q));let o=[],c=!1,d=null;for(let q of Object.keys(an))o.push({value:q,text:`${q} (${an[q].symbol})`});Ea(async()=>{await Sa(()=>import("./hEbFUwWs.js"),[],import.meta.url)});async function m(){try{const q=await Vt.export({prettyJson:!0});lc(q,"trippin-data-export.json")}catch(q){console.error(+q)}}function g(){if(d)try{Vt.import(d,{overwriteValues:!0,progressCallback:oc})}catch(q){console.error(q),bootstrap.Toast.getOrCreateInstance(document.getElementById("importFailed")).show()}}function b(q){var ce=q.target.files[0];ce&&(t(0,c=!0),d=ce)}let I=r;function O(q){q.detail?I=r:Hr(Ri,r=I,r)}const C=[[]];function D(q){r=q,Ri.set(r)}function R(q){a=q,si.set(a)}function x(){s=this.__value,ei.set(s)}function X(){s=this.__value,ei.set(s)}function oe(){s=this.__value,ei.set(s)}return[c,r,a,s,o,m,g,b,O,D,R,x,C,X,oe]}class uc extends Nn{constructor(e){super(),Bn(this,e,sc,ac,En,{})}}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var cc={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:pc,fromCents:!1},Ro=function(e){return Math.round(e)},Ta=function(e){return Math.pow(10,e)},fc=function(e,t){return Ro(e/t)*t},dc=/(\d)(?=(\d{3})+\b)/g,hc=/(\d)(?=(\d\d)+\d\b)/g;function er(n,e){var t=this;if(!(t instanceof er))return new er(n,e);var r=Object.assign({},cc,e),a=Ta(r.precision),s=Mi(n,r);t.intValue=s,t.value=s/a,r.increment=r.increment||1/a,r.useVedic?r.groups=hc:r.groups=dc,this.s=r,this.p=a}function Mi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,a=e.decimal,s=e.errorOnInvalid,o=e.precision,c=e.fromCents,d=Ta(o),m=typeof n=="number",g=n instanceof er;if(g&&c)return n.intValue;if(m||g)r=g?n.value:n;else if(typeof n=="string"){var b=new RegExp("[^-\\d"+a+"]","g"),I=new RegExp("\\"+a,"g");r=n.replace(/\((.*)\)/,"-$1").replace(b,"").replace(I,"."),r=r||0}else{if(s)throw Error("Invalid Input");r=0}return c||(r*=d,r=r.toFixed(4)),t?Ro(r):r}function pc(n,e){var t=e.pattern,r=e.negativePattern,a=e.symbol,s=e.separator,o=e.decimal,c=e.groups,d=(""+n).replace(/^-/,"").split("."),m=d[0],g=d[1];return(n.value>=0?t:r).replace("!",a).replace("#",m.replace(c,"$1"+s)+(g?o+g:""))}er.prototype={add:function(e){var t=this.intValue,r=this.s,a=this.p;return er((t+=Mi(e,r))/(r.fromCents?1:a),r)},subtract:function(e){var t=this.intValue,r=this.s,a=this.p;return er((t-=Mi(e,r))/(r.fromCents?1:a),r)},multiply:function(e){var t=this.intValue,r=this.s;return er((t*=e)/(r.fromCents?1:Ta(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return er(t/=Mi(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,a=this.s,s=[],o=Math[t>=0?"floor":"ceil"](t/e),c=Math.abs(t-o*e),d=a.fromCents?1:r;e!==0;e--){var m=er(o/d,a);c-- >0&&(m=m[t>=0?"add":"subtract"](1/d)),s.push(m)}return s},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return fc(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var mc={exports:{}};(function(n){var e=function(t){var r=Object.prototype,a=r.hasOwnProperty,s=Object.defineProperty||function(S,P,j){S[P]=j.value},o,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",m=c.asyncIterator||"@@asyncIterator",g=c.toStringTag||"@@toStringTag";function b(S,P,j){return Object.defineProperty(S,P,{value:j,enumerable:!0,configurable:!0,writable:!0}),S[P]}try{b({},"")}catch{b=function(P,j,pe){return P[j]=pe}}function I(S,P,j,pe){var de=P&&P.prototype instanceof oe?P:oe,Y=Object.create(de.prototype),Z=new _e(pe||[]);return s(Y,"_invoke",{value:ve(S,j,Z)}),Y}t.wrap=I;function O(S,P,j){try{return{type:"normal",arg:S.call(P,j)}}catch(pe){return{type:"throw",arg:pe}}}var C="suspendedStart",D="suspendedYield",R="executing",x="completed",X={};function oe(){}function q(){}function ce(){}var ne={};b(ne,d,function(){return this});var V=Object.getPrototypeOf,be=V&&V(V(ae([])));be&&be!==r&&a.call(be,d)&&(ne=be);var re=ce.prototype=oe.prototype=Object.create(ne);q.prototype=ce,s(re,"constructor",{value:ce,configurable:!0}),s(ce,"constructor",{value:q,configurable:!0}),q.displayName=b(ce,g,"GeneratorFunction");function se(S){["next","throw","return"].forEach(function(P){b(S,P,function(j){return this._invoke(P,j)})})}t.isGeneratorFunction=function(S){var P=typeof S=="function"&&S.constructor;return P?P===q||(P.displayName||P.name)==="GeneratorFunction":!1},t.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,ce):(S.__proto__=ce,b(S,g,"GeneratorFunction")),S.prototype=Object.create(re),S},t.awrap=function(S){return{__await:S}};function Ce(S,P){function j(Y,Z,W,ue){var Oe=O(S[Y],S,Z);if(Oe.type==="throw")ue(Oe.arg);else{var Ee=Oe.arg,he=Ee.value;return he&&typeof he=="object"&&a.call(he,"__await")?P.resolve(he.__await).then(function(et){j("next",et,W,ue)},function(et){j("throw",et,W,ue)}):P.resolve(he).then(function(et){Ee.value=et,W(Ee)},function(et){return j("throw",et,W,ue)})}}var pe;function de(Y,Z){function W(){return new P(function(ue,Oe){j(Y,Z,ue,Oe)})}return pe=pe?pe.then(W,W):W()}s(this,"_invoke",{value:de})}se(Ce.prototype),b(Ce.prototype,m,function(){return this}),t.AsyncIterator=Ce,t.async=function(S,P,j,pe,de){de===void 0&&(de=Promise);var Y=new Ce(I(S,P,j,pe),de);return t.isGeneratorFunction(P)?Y:Y.next().then(function(Z){return Z.done?Z.value:Y.next()})};function ve(S,P,j){var pe=C;return function(Y,Z){if(pe===R)throw new Error("Generator is already running");if(pe===x){if(Y==="throw")throw Z;return ie()}for(j.method=Y,j.arg=Z;;){var W=j.delegate;if(W){var ue=me(W,j);if(ue){if(ue===X)continue;return ue}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(pe===C)throw pe=x,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);pe=R;var Oe=O(S,P,j);if(Oe.type==="normal"){if(pe=j.done?x:D,Oe.arg===X)continue;return{value:Oe.arg,done:j.done}}else Oe.type==="throw"&&(pe=x,j.method="throw",j.arg=Oe.arg)}}}function me(S,P){var j=P.method,pe=S.iterator[j];if(pe===o)return P.delegate=null,j==="throw"&&S.iterator.return&&(P.method="return",P.arg=o,me(S,P),P.method==="throw")||j!=="return"&&(P.method="throw",P.arg=new TypeError("The iterator does not provide a '"+j+"' method")),X;var de=O(pe,S.iterator,P.arg);if(de.type==="throw")return P.method="throw",P.arg=de.arg,P.delegate=null,X;var Y=de.arg;if(!Y)return P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,X;if(Y.done)P[S.resultName]=Y.value,P.next=S.nextLoc,P.method!=="return"&&(P.method="next",P.arg=o);else return Y;return P.delegate=null,X}se(re),b(re,g,"Generator"),b(re,d,function(){return this}),b(re,"toString",function(){return"[object Generator]"});function J(S){var P={tryLoc:S[0]};1 in S&&(P.catchLoc=S[1]),2 in S&&(P.finallyLoc=S[2],P.afterLoc=S[3]),this.tryEntries.push(P)}function fe(S){var P=S.completion||{};P.type="normal",delete P.arg,S.completion=P}function _e(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(J,this),this.reset(!0)}t.keys=function(S){var P=Object(S),j=[];for(var pe in P)j.push(pe);return j.reverse(),function de(){for(;j.length;){var Y=j.pop();if(Y in P)return de.value=Y,de.done=!1,de}return de.done=!0,de}};function ae(S){if(S){var P=S[d];if(P)return P.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var j=-1,pe=function de(){for(;++j<S.length;)if(a.call(S,j))return de.value=S[j],de.done=!1,de;return de.value=o,de.done=!0,de};return pe.next=pe}}return{next:ie}}t.values=ae;function ie(){return{value:o,done:!0}}return _e.prototype={constructor:_e,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(fe),!S)for(var P in this)P.charAt(0)==="t"&&a.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=o)},stop:function(){this.done=!0;var S=this.tryEntries[0],P=S.completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var P=this;function j(ue,Oe){return Y.type="throw",Y.arg=S,P.next=ue,Oe&&(P.method="next",P.arg=o),!!Oe}for(var pe=this.tryEntries.length-1;pe>=0;--pe){var de=this.tryEntries[pe],Y=de.completion;if(de.tryLoc==="root")return j("end");if(de.tryLoc<=this.prev){var Z=a.call(de,"catchLoc"),W=a.call(de,"finallyLoc");if(Z&&W){if(this.prev<de.catchLoc)return j(de.catchLoc,!0);if(this.prev<de.finallyLoc)return j(de.finallyLoc)}else if(Z){if(this.prev<de.catchLoc)return j(de.catchLoc,!0)}else if(W){if(this.prev<de.finallyLoc)return j(de.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(S,P){for(var j=this.tryEntries.length-1;j>=0;--j){var pe=this.tryEntries[j];if(pe.tryLoc<=this.prev&&a.call(pe,"finallyLoc")&&this.prev<pe.finallyLoc){var de=pe;break}}de&&(S==="break"||S==="continue")&&de.tryLoc<=P&&P<=de.finallyLoc&&(de=null);var Y=de?de.completion:{};return Y.type=S,Y.arg=P,de?(this.method="next",this.next=de.finallyLoc,X):this.complete(Y)},complete:function(S,P){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&P&&(this.next=P),X},finish:function(S){for(var P=this.tryEntries.length-1;P>=0;--P){var j=this.tryEntries[P];if(j.finallyLoc===S)return this.complete(j.completion,j.afterLoc),fe(j),X}},catch:function(S){for(var P=this.tryEntries.length-1;P>=0;--P){var j=this.tryEntries[P];if(j.tryLoc===S){var pe=j.completion;if(pe.type==="throw"){var de=pe.arg;fe(j)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(S,P,j){return this.delegate={iterator:ae(S),resultName:P,nextLoc:j},this.method==="next"&&(this.arg=o),X}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(mc);var Aa=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`;const gc=Aa;let Yl=0;var Mo=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=gc("Job",Yl),Yl+=1),{id:r,action:e,payload:t}},xr={};let Oa=!1;xr.logging=Oa;xr.setLogging=n=>{Oa=n};xr.log=(...n)=>Oa?console.log.apply(void 0,n):null;const _c=Mo,{log:Li}=xr,vc=Aa;let Zl=0;var bc=()=>{const n=vc("Scheduler",Zl),e={},t={};let r=[];Zl+=1;const a=()=>r.length,s=()=>Object.keys(e).length,o=()=>{if(r.length!==0){const b=Object.keys(e);for(let I=0;I<b.length;I+=1)if(typeof t[b[I]]>"u"){r[0](e[b[I]]);break}}},c=(b,I)=>new Promise((O,C)=>{const D=_c({action:b,payload:I});r.push(async R=>{r.shift(),t[R.id]=D;try{O(await R[b].apply(void 0,[...I,D.id]))}catch(x){C(x)}finally{delete t[R.id],o()}}),Li(`[${n}]: Add ${D.id} to JobQueue`),Li(`[${n}]: JobQueue length=${r.length}`),o()});return{addWorker:b=>(e[b.id]=b,Li(`[${n}]: Add ${b.id}`),Li(`[${n}]: Number of workers=${s()}`),o(),b.id),addJob:async(b,...I)=>{if(s()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return c(b,I)},terminate:async()=>{Object.keys(e).forEach(async b=>{await e[b].terminate()}),r=[]},getQueueLen:a,getNumWorkers:s}};function yc(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wc=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof yc=="function"&&(e.type="node"),typeof n>"u"?e:e[n]};const kc=wc("type")==="browser",Ec=kc?n=>new URL(n,window.location.href).href:n=>n;var Sc=n=>{const e={...n};return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=Ec(e[t]))}),e},No={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Cc="7.0.0",Dc={version:Cc};var Ic={workerBlobURL:!0,logger:()=>{}};const Tc=Dc.version,Ac=Ic;var Oc={...Ac,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Tc}/dist/worker.min.js`},Pc=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t},Lc=n=>{n.terminate()},Rc=(n,e)=>{n.onmessage=({data:t})=>{e(t)}},Mc=async(n,e)=>{n.postMessage(e)};const ma=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:a}}})=>{t(Error(`File could not be read! Code=${a}`))},r.readAsArrayBuffer(n)}),ka=async n=>{let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=await ka(n.src)),n.tagName==="VIDEO"&&(e=await ka(n.poster)),n.tagName==="CANVAS"&&await new Promise(t=>{n.toBlob(async r=>{e=await ma(r),t()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const t=await n.convertToBlob();e=await ma(t)}else(n instanceof File||n instanceof Blob)&&(e=await ma(n));return new Uint8Array(e)};var Nc=ka;const Bc=Oc,Fc=Pc,zc=Lc,Kc=Rc,jc=Mc,Hc=Nc;var qc={defaultOptions:Bc,spawnWorker:Fc,terminateWorker:zc,onMessage:Kc,send:jc,loadImage:Hc};const Vc=Sc,$n=Mo,{log:Ql}=xr,Uc=Aa,Dr=No,{defaultOptions:Gc,spawnWorker:xc,terminateWorker:Wc,onMessage:Yc,loadImage:Jl,send:Zc}=qc;let Xl=0;var Bo=async(n="eng",e=Dr.LSTM_ONLY,t={},r={})=>{const a=Uc("Worker",Xl),{logger:s,errorHandler:o,...c}=Vc({...Gc,...t}),d={},m=typeof n=="string"?n.split("+"):n;let g=e,b=r;const I=[Dr.DEFAULT,Dr.LSTM_ONLY].includes(e)&&!c.legacyCore;let O,C;const D=new Promise((ae,ie)=>{C=ae,O=ie}),R=ae=>{O(ae.message)};let x=xc(c);x.onerror=R,Xl+=1;const X=({id:ae,action:ie,payload:S})=>new Promise((P,j)=>{Ql(`[${a}]: Start ${ae}, action=${ie}`);const pe=`${ie}-${ae}`;d[pe]={resolve:P,reject:j},Zc(x,{workerId:a,jobId:ae,action:ie,payload:S})}),oe=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),q=ae=>X($n({id:ae,action:"load",payload:{options:{lstmOnly:I,corePath:c.corePath,logging:c.logging}}})),ce=(ae,ie,S)=>X($n({id:S,action:"FS",payload:{method:"writeFile",args:[ae,ie]}})),ne=(ae,ie)=>X($n({id:ie,action:"FS",payload:{method:"readFile",args:[ae,{encoding:"utf8"}]}})),V=(ae,ie)=>X($n({id:ie,action:"FS",payload:{method:"unlink",args:[ae]}})),be=(ae,ie,S)=>X($n({id:S,action:"FS",payload:{method:ae,args:ie}})),re=(ae,ie)=>X($n({id:ie,action:"loadLanguage",payload:{langs:ae,options:{langPath:c.langPath,dataPath:c.dataPath,cachePath:c.cachePath,cacheMethod:c.cacheMethod,gzip:c.gzip,lstmOnly:[Dr.DEFAULT,Dr.LSTM_ONLY].includes(g)&&!c.legacyLang}}})),se=(ae,ie,S,P)=>X($n({id:P,action:"initialize",payload:{langs:ae,oem:ie,config:S}})),Ce=(ae="eng",ie,S,P)=>{if(I&&[Dr.TESSERACT_ONLY,Dr.TESSERACT_LSTM_COMBINED].includes(ie))throw Error("Legacy model requested but code missing.");const j=ie||g;g=j;const pe=S||b;b=pe;const Y=(typeof ae=="string"?ae.split("+"):ae).filter(Z=>!m.includes(Z));return m.push(...Y),Y.length>0?re(Y,P).then(()=>se(ae,j,pe,P)):se(ae,j,pe,P)},ve=(ae={},ie)=>X($n({id:ie,action:"setParameters",payload:{params:ae}})),me=async(ae,ie={},S={text:!0},P)=>X($n({id:P,action:"recognize",payload:{image:await Jl(ae),options:ie,output:S}})),J=async(ae,ie)=>{if(I)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return X($n({id:ie,action:"detect",payload:{image:await Jl(ae)}}))},fe=async()=>(x!==null&&(Wc(x),x=null),Promise.resolve());Yc(x,({workerId:ae,jobId:ie,status:S,action:P,data:j})=>{const pe=`${P}-${ie}`;if(S==="resolve")Ql(`[${ae}]: Complete ${ie}`),d[pe].resolve({jobId:ie,data:j}),delete d[pe];else if(S==="reject")if(d[pe].reject(j),delete d[pe],P==="load"&&O(j),o)o(j);else throw Error(j);else S==="progress"&&s({...j,userJobId:ie})});const _e={id:a,worker:x,load:oe,writeText:ce,readText:ne,removeFile:V,FS:be,reinitialize:Ce,setParameters:ve,recognize:me,detect:J,terminate:fe};return q().then(()=>re(n)).then(()=>se(n,e,r)).then(()=>C(_e)).catch(()=>{}),D};const Fo=Bo,Qc=async(n,e,t)=>{const r=await Fo(e,1,t);return r.recognize(n).finally(async()=>{await r.terminate()})},Jc=async(n,e)=>{const t=await Fo("osd",0,e);return t.detect(n).finally(async()=>{await t.terminate()})};var Xc={recognize:Qc,detect:Jc},$c={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},ef={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const tf=bc,nf=Bo,rf=Xc,af=$c,lf=No,of=ef,{setLogging:sf}=xr;var uf={languages:af,OEM:lf,PSM:of,createScheduler:tf,createWorker:nf,setLogging:sf,...rf};const $l=Io(uf);var wo,ko;(ko=(wo=globalThis.process)==null?void 0:wo.versions)!=null&&ko.webcontainer;Sa(()=>import("./BIHI7g3E.js"),[],import.meta.url).then(n=>new n.AsyncLocalStorage).catch(()=>{});const cf={"&":"&amp;",'"':"&quot;"},ff={"&":"&amp;","<":"&lt;"},zo="[\\ud800-\\udbff](?![\\udc00-\\udfff])|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\udc00-\\udfff]";new RegExp(`[${Object.keys(cf).join("")}]|`+zo,"g");new RegExp(`[${Object.keys(ff).join("")}]|`+zo,"g");function eo(n,e,t){const r=n.slice();return r[32]=e[t],r}function to(n,e,t){const r=n.slice();return r[35]=e[t],r}function no(n,e,t){const r=n.slice();return r[38]=e[t],r}function ro(n){let e,t,r,a,s,o,c,d,m,g,b,I="Receipt description",O,C,D,R,x,X,oe,q="Receipt Date",ce,ne,V,be,re,se,Ce="Receipt value:",ve,me,J,fe,_e,ae,ie,S="Receipt Type",P,j,pe,de="--Please choose type--",Y,Z,W,ue="Receipt Currency",Oe,Ee,he,et,Fe,Je,ct,He="Scanning image...",bt,jt,gt,tn,Dt,Pt="Stop scan and enter manually",yt,wt,We,Pe,Le,_t,Yt,Ht;function Zt(Ie,$e){return Ie[1]?hf:df}let dt=Zt(n),ht=dt(n);function Qt(Ie,$e){return Ie[9]?mf:pf}let Xt=Qt(n),Mt=Xt(n);function Me(Ie,$e){return Ie[1]?_f:gf}let rn=Me(n),Ut=rn(n),qt=Nt(n[2]),ke=[];for(let Ie=0;Ie<qt.length;Ie+=1)ke[Ie]=io(no(n,qt,Ie));let lt=Nt(n[3]),xe=[];for(let Ie=0;Ie<lt.length;Ie+=1)xe[Ie]=ao(to(n,lt,Ie));let st=Nt(Object.values(ba)),kt=[];for(let Ie=0;Ie<st.length;Ie+=1)kt[Ie]=lo(eo(n,st,Ie));function it(Ie){n[24](Ie)}let It={options:n[12],name:void 0,inputId:"rCurrency",groupLabelField:"groupHeader",groupItemsField:"items",required:!0};n[5]!==void 0&&(It.value=n[5]),Ee=new ui({props:It}),On.push(()=>Ur(Ee,"value",it));function ut(Ie,$e){return Ie[1]?bf:vf}let vt=ut(n),Lt=vt(n);return{c(){ht.c(),e=te(),Mt.c(),t=te(),r=A("div"),a=A("input"),s=te(),o=A("div"),c=A("div"),Ut.c(),d=te(),m=A("form"),g=A("div"),b=A("label"),b.textContent=I,O=te(),C=A("input"),D=te(),R=A("datalist");for(let Ie=0;Ie<ke.length;Ie+=1)ke[Ie].c();x=te(),X=A("div"),oe=A("label"),oe.textContent=q,ce=te(),ne=A("input"),be=te(),re=A("div"),se=A("label"),se.textContent=Ce,ve=te(),me=A("input"),J=te(),fe=A("datalist");for(let Ie=0;Ie<xe.length;Ie+=1)xe[Ie].c();_e=te(),ae=A("div"),ie=A("label"),ie.textContent=S,P=te(),j=A("select"),pe=A("option"),pe.textContent=de;for(let Ie=0;Ie<kt.length;Ie+=1)kt[Ie].c();Y=te(),Z=A("div"),W=A("label"),W.textContent=ue,Oe=te(),hn(Ee.$$.fragment),et=te(),Lt.c(),Fe=te(),Je=A("div"),ct=A("h4"),ct.textContent=He,bt=te(),jt=A("div"),gt=A("div"),tn=te(),Dt=A("button"),Dt.textContent=Pt,yt=te(),wt=A("div"),We=A("a"),Pe=Ke("Cancel"),this.h()},l(Ie){ht.l(Ie),e=ee(Ie),Mt.l(Ie),t=ee(Ie),r=T(Ie,"DIV",{class:!0});var $e=H(r);a=T($e,"INPUT",{id:!0,type:!0,accept:!0}),$e.forEach(y),s=ee(Ie),o=T(Ie,"DIV",{id:!0});var Ye=H(o);c=T(Ye,"DIV",{class:!0});var Ze=H(c);Ut.l(Ze),Ze.forEach(y),d=ee(Ye),m=T(Ye,"FORM",{class:!0});var Ge=H(m);g=T(Ge,"DIV",{class:!0});var at=H(g);b=T(at,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(b)!=="svelte-1glg0dd"&&(b.textContent=I),O=ee(at),C=T(at,"INPUT",{class:!0,list:!0,id:!0,name:!0,placeholder:!0,minlength:!0}),D=ee(at),R=T(at,"DATALIST",{id:!0});var Sn=H(R);for(let on=0;on<ke.length;on+=1)ke[on].l(Sn);Sn.forEach(y),at.forEach(y),x=ee(Ge),X=T(Ge,"DIV",{class:!0});var Cn=H(X);oe=T(Cn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(oe)!=="svelte-cn0bms"&&(oe.textContent=q),ce=ee(Cn),ne=T(Cn,"INPUT",{class:!0,type:!0,id:!0,onfocus:!0}),Cn.forEach(y),be=ee(Ge),re=T(Ge,"DIV",{class:!0});var xn=H(re);se=T(xn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(se)!=="svelte-1y6fy9c"&&(se.textContent=Ce),ve=ee(xn),me=T(xn,"INPUT",{class:!0,list:!0,id:!0,name:!0,type:!0,step:!0,placeholder:!0,minlength:!0}),J=ee(xn),fe=T(xn,"DATALIST",{id:!0});var bn=H(fe);for(let on=0;on<xe.length;on+=1)xe[on].l(bn);bn.forEach(y),xn.forEach(y),_e=ee(Ge),ae=T(Ge,"DIV",{class:!0});var ln=H(ae);ie=T(ln,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(ie)!=="svelte-1vxf1l8"&&(ie.textContent=S),P=ee(ln),j=T(ln,"SELECT",{id:!0,class:!0});var yn=H(j);pe=T(yn,"OPTION",{"data-svelte-h":!0}),Ve(pe)!=="svelte-ua8958"&&(pe.textContent=de);for(let on=0;on<kt.length;on+=1)kt[on].l(yn);yn.forEach(y),ln.forEach(y),Y=ee(Ge),Z=T(Ge,"DIV",{class:!0});var ot=H(Z);W=T(ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(W)!=="svelte-15s44q2"&&(W.textContent=ue),Oe=ee(ot),dn(Ee.$$.fragment,ot),ot.forEach(y),et=ee(Ge),Lt.l(Ge),Ge.forEach(y),Ye.forEach(y),Fe=ee(Ie),Je=T(Ie,"DIV",{class:!0});var Fn=H(Je);ct=T(Fn,"H4",{"data-svelte-h":!0}),Ve(ct)!=="svelte-7jxjwi"&&(ct.textContent=He),bt=ee(Fn),jt=T(Fn,"DIV",{class:!0});var pt=H(jt);gt=T(pt,"DIV",{class:!0,style:!0,role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),H(gt).forEach(y),pt.forEach(y),tn=ee(Fn),Dt=T(Fn,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(Dt)!=="svelte-1741erf"&&(Dt.textContent=Pt),Fn.forEach(y),yt=ee(Ie),wt=T(Ie,"DIV",{class:!0});var sn=H(wt);We=T(sn,"A",{href:!0,class:!0});var pn=H(We);Pe=ze(pn,"Cancel"),pn.forEach(y),sn.forEach(y),this.h()},h(){var Ie;p(a,"id","imageInput"),p(a,"type","file"),p(a,"accept","image/*;capture=camera"),p(r,"class","mb-3"),p(c,"class","img-scan d-flex col-md-6 col-12"),p(b,"for","rDesc"),p(b,"class","form-label"),p(C,"class","form-control"),p(C,"list","descOptions"),p(C,"id","rDesc"),p(C,"name","rDesc"),p(C,"placeholder","Double-click for suggestions"),C.required=!0,p(C,"minlength","2"),p(R,"id","descOptions"),p(g,"class","mb-3"),p(oe,"for","rDate"),p(oe,"class","form-label"),p(ne,"class","form-control"),p(ne,"type","date"),p(ne,"id","tripStart"),ne.value=V=(Ie=n[4])==null?void 0:Ie.toISOString().slice(0,10),p(ne,"onfocus","this.showPicker()"),ne.required=!0,p(X,"class","mb-3"),p(se,"for","rVal"),p(se,"class","form-label"),p(me,"class","form-control"),p(me,"list","valOptions"),p(me,"id","rVal"),p(me,"name","rVal"),p(me,"type","number"),p(me,"step","0.01"),p(me,"placeholder","Double-click for suggestions"),me.required=!0,p(me,"minlength","1"),p(fe,"id","valOptions"),p(re,"class","mb-3"),p(ie,"for","rType"),p(ie,"class","form-label"),pe.selected=!0,pe.__value="--Please choose type--",Wt(pe,pe.__value),p(j,"id","rType"),p(j,"class","form-control"),j.required=!0,n[8]===void 0&&ts(()=>n[23].call(j)),p(ae,"class","mb-3"),p(W,"for","rCurrency"),p(W,"class","form-label"),p(Z,"class","mb-3"),p(m,"class","d-flex flex-column col-md-6 col-12"),p(o,"id","receiptEntry"),Ne(o,"show",n[10]),p(gt,"class","progress-bar"),li(gt,"width",n[11]+"%"),p(gt,"role","progressbar"),p(gt,"aria-valuenow",n[11]),p(gt,"aria-valuemin","0"),p(gt,"aria-valuemax","100"),p(jt,"class","progress"),p(Dt,"class","d-block mt-3 btn btn-outline-primary"),p(Je,"class","flex-column hide"),Ne(Je,"show",!n[10]&&n[9]),p(We,"href",Le="#/trip/"+n[0].id),p(We,"class","mt-4 btn btn-outline-primary col-md-2"),p(wt,"class","mt-3 d-grid d-md-flex justify-content-md-center")},m(Ie,$e){ht.m(Ie,$e),le(Ie,e,$e),Mt.m(Ie,$e),le(Ie,t,$e),le(Ie,r,$e),v(r,a),le(Ie,s,$e),le(Ie,o,$e),v(o,c),Ut.m(c,null),v(o,d),v(o,m),v(m,g),v(g,b),v(g,O),v(g,C),Wt(C,n[6]),v(g,D),v(g,R);for(let Ye=0;Ye<ke.length;Ye+=1)ke[Ye]&&ke[Ye].m(R,null);v(m,x),v(m,X),v(X,oe),v(X,ce),v(X,ne),v(m,be),v(m,re),v(re,se),v(re,ve),v(re,me),Wt(me,n[7]),v(re,J),v(re,fe);for(let Ye=0;Ye<xe.length;Ye+=1)xe[Ye]&&xe[Ye].m(fe,null);v(m,_e),v(m,ae),v(ae,ie),v(ae,P),v(ae,j),v(j,pe);for(let Ye=0;Ye<kt.length;Ye+=1)kt[Ye]&&kt[Ye].m(j,null);xa(j,n[8],!0),v(m,Y),v(m,Z),v(Z,W),v(Z,Oe),fn(Ee,Z,null),v(m,et),Lt.m(m,null),le(Ie,Fe,$e),le(Ie,Je,$e),v(Je,ct),v(Je,bt),v(Je,jt),v(jt,gt),v(Je,tn),v(Je,Dt),le(Ie,yt,$e),le(Ie,wt,$e),v(wt,We),v(We,Pe),_t=!0,Yt||(Ht=[rt(a,"change",n[16]),rt(C,"input",n[20]),rt(ne,"change",n[21]),rt(me,"input",n[22]),rt(j,"change",n[23]),rt(m,"submit",function(){Or(n[1]?n[14]:n[13])&&(n[1]?n[14]:n[13]).apply(this,arguments)}),rt(Dt,"click",n[25])],Yt=!0)},p(Ie,$e){var Ze;if(n=Ie,dt===(dt=Zt(n))&&ht?ht.p(n,$e):(ht.d(1),ht=dt(n),ht&&(ht.c(),ht.m(e.parentNode,e))),Xt!==(Xt=Qt(n))&&(Mt.d(1),Mt=Xt(n),Mt&&(Mt.c(),Mt.m(t.parentNode,t))),rn===(rn=Me(n))&&Ut?Ut.p(n,$e):(Ut.d(1),Ut=rn(n),Ut&&(Ut.c(),Ut.m(c,null))),$e[0]&64&&C.value!==n[6]&&Wt(C,n[6]),$e[0]&4){qt=Nt(n[2]);let Ge;for(Ge=0;Ge<qt.length;Ge+=1){const at=no(n,qt,Ge);ke[Ge]?ke[Ge].p(at,$e):(ke[Ge]=io(at),ke[Ge].c(),ke[Ge].m(R,null))}for(;Ge<ke.length;Ge+=1)ke[Ge].d(1);ke.length=qt.length}if((!_t||$e[0]&16&&V!==(V=(Ze=n[4])==null?void 0:Ze.toISOString().slice(0,10)))&&(ne.value=V),$e[0]&128&&So(me.value)!==n[7]&&Wt(me,n[7]),$e[0]&8){lt=Nt(n[3]);let Ge;for(Ge=0;Ge<lt.length;Ge+=1){const at=to(n,lt,Ge);xe[Ge]?xe[Ge].p(at,$e):(xe[Ge]=ao(at),xe[Ge].c(),xe[Ge].m(fe,null))}for(;Ge<xe.length;Ge+=1)xe[Ge].d(1);xe.length=lt.length}if($e&0){st=Nt(Object.values(ba));let Ge;for(Ge=0;Ge<st.length;Ge+=1){const at=eo(n,st,Ge);kt[Ge]?kt[Ge].p(at,$e):(kt[Ge]=lo(at),kt[Ge].c(),kt[Ge].m(j,null))}for(;Ge<kt.length;Ge+=1)kt[Ge].d(1);kt.length=st.length}$e[0]&256&&xa(j,n[8]);const Ye={};$e[0]&4096&&(Ye.options=n[12]),!he&&$e[0]&32&&(he=!0,Ye.value=n[5],Vr(()=>he=!1)),Ee.$set(Ye),vt!==(vt=ut(n))&&(Lt.d(1),Lt=vt(n),Lt&&(Lt.c(),Lt.m(m,null))),(!_t||$e[0]&1024)&&Ne(o,"show",n[10]),(!_t||$e[0]&2048)&&li(gt,"width",n[11]+"%"),(!_t||$e[0]&2048)&&p(gt,"aria-valuenow",n[11]),(!_t||$e[0]&1536)&&Ne(Je,"show",!n[10]&&n[9]),(!_t||$e[0]&1&&Le!==(Le="#/trip/"+n[0].id))&&p(We,"href",Le)},i(Ie){_t||(Be(Ee.$$.fragment,Ie),_t=!0)},o(Ie){Ue(Ee.$$.fragment,Ie),_t=!1},d(Ie){Ie&&(y(e),y(t),y(r),y(s),y(o),y(Fe),y(Je),y(yt),y(wt)),ht.d(Ie),Mt.d(Ie),Ut.d(),Tr(ke,Ie),Tr(xe,Ie),Tr(kt,Ie),cn(Ee),Lt.d(),Yt=!1,or(Ht)}}}function df(n){let e,t,r=n[0].name+"",a,s;return{c(){e=A("h1"),t=Ke('Add Receipt to "'),a=Ke(r),s=Ke('"')},l(o){e=T(o,"H1",{});var c=H(e);t=ze(c,'Add Receipt to "'),a=ze(c,r),s=ze(c,'"'),c.forEach(y)},m(o,c){le(o,e,c),v(e,t),v(e,a),v(e,s)},p(o,c){c[0]&1&&r!==(r=o[0].name+"")&&nt(a,r)},d(o){o&&y(e)}}}function hf(n){let e,t,r=n[1].description+"",a,s;return{c(){e=A("h1"),t=Ke('Update Receipt for "'),a=Ke(r),s=Ke('"')},l(o){e=T(o,"H1",{});var c=H(e);t=ze(c,'Update Receipt for "'),a=ze(c,r),s=ze(c,'"'),c.forEach(y)},m(o,c){le(o,e,c),v(e,t),v(e,a),v(e,s)},p(o,c){c[0]&2&&r!==(r=o[1].description+"")&&nt(a,r)},d(o){o&&y(e)}}}function pf(n){let e,t="Choose image to begin";return{c(){e=A("p"),e.textContent=t},l(r){e=T(r,"P",{"data-svelte-h":!0}),Ve(e)!=="svelte-1rdbglw"&&(e.textContent=t)},m(r,a){le(r,e,a)},d(r){r&&y(e)}}}function mf(n){let e,t="Click 'Browse' to start again";return{c(){e=A("p"),e.textContent=t},l(r){e=T(r,"P",{"data-svelte-h":!0}),Ve(e)!=="svelte-1raiglx"&&(e.textContent=t)},m(r,a){le(r,e,a)},d(r){r&&y(e)}}}function gf(n){let e;return{c(){e=A("img"),this.h()},l(t){e=T(t,"IMG",{id:!0,class:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),p(e,"alt","Your chosen receipt")},m(t,r){le(t,e,r)},p:Tt,d(t){t&&y(e)}}}function _f(n){let e,t;return{c(){e=A("img"),this.h()},l(r){e=T(r,"IMG",{id:!0,class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),Ni(e.src,t=n[9])||p(e,"src",t),p(e,"alt","Your chosen receipt")},m(r,a){le(r,e,a)},p(r,a){a[0]&512&&!Ni(e.src,t=r[9])&&p(e,"src",t)},d(r){r&&y(e)}}}function io(n){let e,t;return{c(){e=A("option"),this.h()},l(r){e=T(r,"OPTION",{}),H(e).forEach(y),this.h()},h(){e.__value=t=n[38],Wt(e,e.__value)},m(r,a){le(r,e,a)},p(r,a){a[0]&4&&t!==(t=r[38])&&(e.__value=t,Wt(e,e.__value))},d(r){r&&y(e)}}}function ao(n){let e,t=n[35]+"",r,a;return{c(){e=A("option"),r=Ke(t),this.h()},l(s){e=T(s,"OPTION",{});var o=H(e);r=ze(o,t),o.forEach(y),this.h()},h(){e.__value=a=n[35],Wt(e,e.__value)},m(s,o){le(s,e,o),v(e,r)},p(s,o){o[0]&8&&t!==(t=s[35]+"")&&nt(r,t),o[0]&8&&a!==(a=s[35])&&(e.__value=a,Wt(e,e.__value))},d(s){s&&y(e)}}}function lo(n){let e,t=n[32]+"",r;return{c(){e=A("option"),r=Ke(t),this.h()},l(a){e=T(a,"OPTION",{});var s=H(e);r=ze(s,t),s.forEach(y),this.h()},h(){e.__value=n[32],Wt(e,e.__value)},m(a,s){le(a,e,s),v(e,r)},p:Tt,d(a){a&&y(e)}}}function vf(n){let e,t="Add Receipt";return{c(){e=A("button"),e.textContent=t,this.h()},l(r){e=T(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-5c9o6y"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-primary"),p(e,"type","submit")},m(r,a){le(r,e,a)},d(r){r&&y(e)}}}function bf(n){let e,t="Update Receipt";return{c(){e=A("button"),e.textContent=t,this.h()},l(r){e=T(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-yau6ga"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-primary"),p(e,"type","submit")},m(r,a){le(r,e,a)},d(r){r&&y(e)}}}function yf(n){let e,t,r=n[0]&&ro(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=H(e);r&&r.l(s),s.forEach(y),this.h()},h(){p(e,"class","w-100")},m(a,s){le(a,e,s),r&&r.m(e,null),t=!0},p(a,s){a[0]?r?(r.p(a,s),s[0]&1&&Be(r,1)):(r=ro(a),r.c(),Be(r,1),r.m(e,null)):r&&(_n(),Ue(r,1,1,()=>{r=null}),vn())},i(a){t||(Be(r),t=!0)},o(a){Ue(r),t=!1},d(a){a&&y(e),r&&r.d()}}}function wf(n){return/,\d{2}$/.test(n)}function oo(n,e){if(n.src.startsWith("data:image/jpeg;base64"))return n.src;const t=document.createElement("canvas"),r=t.getContext("2d");return t.width=n.naturalWidth,t.height=n.naturalHeight,r.drawImage(n,0,0,n.naturalWidth,n.naturalHeight),t.toDataURL("image/jpeg",e)}function kf(n,e,t){let r,a;Gn(n,si,S=>t(19,a=S));const{createWorker:s}=$l;let{tripId:o}=e,{receiptId:c}=e,d,m,g=[],b=[],I=new Date,O,C,D,R,x,X,oe,q=!1,ce=0,ne;o>-1&&Vt.trips.get(o).then(S=>{t(0,d=S),c<0&&t(5,O=d.defaultCurrency)}),c>-1&&Vt.receipts.get(c).then(S=>{t(1,m=S),t(4,I=new Date(m.receiptDateString)),t(5,O=m.currency),t(6,C=m.description),t(7,D=m.total),t(8,R=m.receiptType),t(9,x=m.imageData),t(10,q=!0)});async function V(S){S.preventDefault();const P=document.getElementById("imgChosen");oe=P.naturalWidth,X=P.naturalHeight,t(9,x=oo(P,.7)),await Vt.receipts.add({description:C,currency:O,receiptDate:I,receiptDateString:I.toDateString(),receiptType:R,total:D,tripId:o,imageData:x,imageHeight:X,imageWidth:oe}),window.location.href="#/trip/"+o}async function be(S){S.preventDefault();const P=document.getElementById("imgChosen");oe=P.naturalWidth,X=P.naturalHeight,t(9,x=oo(P,.7)),await Vt.receipts.update(m.id,{description:C,currency:O,receiptDate:I,receiptDateString:I.toDateString(),receiptType:R,total:D,tripId:m.tripId,imageData:x,imageHeight:X,imageWidth:oe}),window.location.href="#/trip/"+m.tripId}function re(S){S.status=="recognizing text"&&t(11,ce=Math.floor(S.progress*100))}async function se(S){ne=await s("eng",1,{logger:j=>re(j)}),await ne.setParameters({tessedit_pageseg_mode:$l.PSM.SPARSE_TEXT});var P=await ne.recognize(S,{},{blocks:!0});return P.data.blocks?P.data.blocks:[]}async function Ce(S){t(11,ce=0),!q&&ne&&await ne.terminate(),S&&t(10,q=!0)}async function ve(S){t(2,g=[]),t(3,b=[]),t(10,q=!1),await Ce(!1);var P=S.target.files[0],j=URL.createObjectURL(P);const pe=document.getElementById("imgChosen");pe.src=j,t(9,x=j);var de=await se(j);for(let Y of de){if(Y.confidence<40)continue;let Z=Y.text.trim();g.push(Z);let W=er(Z,{decimal:wf(Z)?",":"."});W.value>0&&b.push(W.format({symbol:"",separator:"",decimal:"."}))}t(2,g),t(3,b=b.reverse()),t(10,q=!0)}as(()=>{Ce(!1)});function me(){C=this.value,t(6,C)}const J=S=>t(4,I=S.target.valueAsDate);function fe(){D=So(this.value),t(7,D)}function _e(){R=ns(this),t(8,R)}function ae(S){O=S,t(5,O)}const ie=()=>Ce(!0);return n.$$set=S=>{"tripId"in S&&t(17,o=S.tripId),"receiptId"in S&&t(18,c=S.receiptId)},n.$$.update=()=>{n.$$.dirty[0]&524288&&t(12,r=Ia(a))},[d,m,g,b,I,O,C,D,R,x,q,ce,r,V,be,Ce,ve,o,c,a,me,J,fe,_e,ae,ie]}class Ko extends Nn{constructor(e){super(),Bn(this,e,kf,yf,En,{tripId:17,receiptId:18},null,[-1,-1])}}function so(n){let e,t,r="Your most recent trip:",a,s,o,c,d,m=n[0].name+"",g,b,I,O=n[0].startDateString+"",C,D,R=n[0].endDateString+"",x,X;return{c(){e=A("div"),t=A("h4"),t.textContent=r,a=te(),s=A("div"),o=A("a"),c=A("div"),d=A("strong"),g=Ke(m),b=te(),I=A("div"),C=Ke(O),D=Ke(" - "),x=Ke(R),this.h()},l(oe){e=T(oe,"DIV",{class:!0});var q=H(e);t=T(q,"H4",{"data-svelte-h":!0}),Ve(t)!=="svelte-1dpo13w"&&(t.textContent=r),a=ee(q),s=T(q,"DIV",{class:!0});var ce=H(s);o=T(ce,"A",{href:!0,class:!0});var ne=H(o);c=T(ne,"DIV",{class:!0});var V=H(c);d=T(V,"STRONG",{class:!0});var be=H(d);g=ze(be,m),be.forEach(y),b=ee(V),I=T(V,"DIV",{class:!0});var re=H(I);C=ze(re,O),D=ze(re," - "),x=ze(re,R),re.forEach(y),V.forEach(y),ne.forEach(y),ce.forEach(y),q.forEach(y),this.h()},h(){p(d,"class","mb-1"),p(I,"class","col-10 mb-1 text-center"),p(c,"class","d-flex w-100 align-items-center justify-content-between flex-column"),p(o,"href",X="#/trip/"+n[0].id),p(o,"class","py-3 lh-sm m-2 list-group-item list-group-item-action"),p(s,"class","col-lg-6 col-md-12 list-group"),p(e,"class","row mb-4")},m(oe,q){le(oe,e,q),v(e,t),v(e,a),v(e,s),v(s,o),v(o,c),v(c,d),v(d,g),v(c,b),v(c,I),v(I,C),v(I,D),v(I,x)},p(oe,q){q&1&&m!==(m=oe[0].name+"")&&nt(g,m),q&1&&O!==(O=oe[0].startDateString+"")&&nt(C,O),q&1&&R!==(R=oe[0].endDateString+"")&&nt(x,R),q&1&&X!==(X="#/trip/"+oe[0].id)&&p(o,"href",X)},d(oe){oe&&y(e)}}}function Ef(n){let e,t,r="Welcome!",a,s,o="Create a trip using the button at the top",c,d,m="Or add receipts by selecting a trip",g,b=n[0]&&so(n);return{c(){e=A("div"),t=A("h1"),t.textContent=r,a=te(),s=A("p"),s.textContent=o,c=te(),d=A("p"),d.textContent=m,g=te(),b&&b.c(),this.h()},l(I){e=T(I,"DIV",{class:!0});var O=H(e);t=T(O,"H1",{class:!0,"data-svelte-h":!0}),Ve(t)!=="svelte-1po0vxn"&&(t.textContent=r),a=ee(O),s=T(O,"P",{"data-svelte-h":!0}),Ve(s)!=="svelte-xbo4ew"&&(s.textContent=o),c=ee(O),d=T(O,"P",{"data-svelte-h":!0}),Ve(d)!=="svelte-1g1vmu2"&&(d.textContent=m),g=ee(O),b&&b.l(O),O.forEach(y),this.h()},h(){p(t,"class","d-flex justify-content-between"),p(e,"class","col-12")},m(I,O){le(I,e,O),v(e,t),v(e,a),v(e,s),v(e,c),v(e,d),v(e,g),b&&b.m(e,null)},p(I,[O]){I[0]?b?b.p(I,O):(b=so(I),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:Tt,o:Tt,d(I){I&&y(e),b&&b.d()}}}function Sf(n,e,t){let r,a=oi(()=>Vt.trips.orderBy("endDate").reverse().first());return Gn(n,a,s=>t(0,r=s)),[r,a]}class Cf extends Nn{constructor(e){super(),Bn(this,e,Sf,Ef,En,{})}}function uo(n,e,t){const r=n.slice();return r[8]=e[t],r}function co(n,e,t){const r=n.slice();return r[11]=e[t],r}function fo(n,e,t){const r=n.slice();return r[8]=e[t],r}function ga(n){const e=n.slice(),t=Array.from(new Set(e[3].map(r=>r.currency)));return e[7]=t,e}function ho(n){let e,t,r="After clicking 'Export/Print', you should be able to print/save to PDF",a,s,o,c,d,m,g,b="Export/Print",I,O,C=n[0].name+"",D,R,x,X=n[0].startDateString+"",oe,q,ce=n[0].endDateString+"",ne,V,be,re="Receipt Summary",se,Ce,ve,me,J=n[3]&&po(ga(n));return{c(){e=A("div"),t=A("p"),t.textContent=r,a=te(),s=A("p"),o=A("label"),c=A("input"),d=Ke(`
            Include notes`),m=te(),g=A("button"),g.textContent=b,I=te(),O=A("h1"),D=Ke(C),R=te(),x=A("h4"),oe=Ke(X),q=Ke(" - "),ne=Ke(ce),V=te(),be=A("h5"),be.textContent=re,se=te(),J&&J.c(),Ce=Bt(),this.h()},l(fe){e=T(fe,"DIV",{class:!0,id:!0});var _e=H(e);t=T(_e,"P",{"data-svelte-h":!0}),Ve(t)!=="svelte-drk65c"&&(t.textContent=r),a=ee(_e),s=T(_e,"P",{});var ae=H(s);o=T(ae,"LABEL",{});var ie=H(o);c=T(ie,"INPUT",{type:!0}),d=ze(ie,`
            Include notes`),ie.forEach(y),ae.forEach(y),m=ee(_e),g=T(_e,"BUTTON",{class:!0,onclick:!0,"data-svelte-h":!0}),Ve(g)!=="svelte-1fkvb7c"&&(g.textContent=b),_e.forEach(y),I=ee(fe),O=T(fe,"H1",{});var S=H(O);D=ze(S,C),S.forEach(y),R=ee(fe),x=T(fe,"H4",{});var P=H(x);oe=ze(P,X),q=ze(P," - "),ne=ze(P,ce),P.forEach(y),V=ee(fe),be=T(fe,"H5",{"data-svelte-h":!0}),Ve(be)!=="svelte-1hbjnf6"&&(be.textContent=re),se=ee(fe),J&&J.l(fe),Ce=Bt(),this.h()},h(){p(c,"type","checkbox"),p(g,"class","btn btn-primary"),p(g,"onclick","window.print()"),p(e,"class","no-print mt-3 hide"),p(e,"id","printMessage")},m(fe,_e){le(fe,e,_e),v(e,t),v(e,a),v(e,s),v(s,o),v(o,c),c.checked=n[2],v(o,d),v(e,m),v(e,g),le(fe,I,_e),le(fe,O,_e),v(O,D),le(fe,R,_e),le(fe,x,_e),v(x,oe),v(x,q),v(x,ne),le(fe,V,_e),le(fe,be,_e),le(fe,se,_e),J&&J.m(fe,_e),le(fe,Ce,_e),ve||(me=rt(c,"change",n[5]),ve=!0)},p(fe,_e){_e&4&&(c.checked=fe[2]),_e&1&&C!==(C=fe[0].name+"")&&nt(D,C),_e&1&&X!==(X=fe[0].startDateString+"")&&nt(oe,X),_e&1&&ce!==(ce=fe[0].endDateString+"")&&nt(ne,ce),fe[3]?J?J.p(ga(fe),_e):(J=po(ga(fe)),J.c(),J.m(Ce.parentNode,Ce)):J&&(J.d(1),J=null)},d(fe){fe&&(y(e),y(I),y(O),y(R),y(x),y(V),y(be),y(se),y(Ce)),J&&J.d(fe),ve=!1,me()}}}function po(n){let e,t,r="<tr><th>Receipt Description</th> <th>Receipt Date</th> <th>Receipt Type</th> <th>Receipt Total</th></tr>",a,s,o=[],c=new Map,d,m,g,b,I,O,C,D,R="<strong>Total</strong>",x,X,oe,q,ce,ne,V=[],be=new Map,re,se,Ce=`// Wait for images to render before printing
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
              incrementCounter();
            else
              img.addEventListener( 'load', incrementCounter, false );
        } );

        function printDiaglog() {
          window.print()
        }
        function incrementCounter() {
            counter++;
            if ( counter === len ) {
              document.getElementById("printMessage").classList.remove("hide");
            }
        }`,ve=Nt(n[3]);const me=S=>S[8].id;for(let S=0;S<ve.length;S+=1){let P=fo(n,ve,S),j=me(P);c.set(j,o[S]=mo(j,P))}let J=Nt(n[7]),fe=[];for(let S=0;S<J.length;S+=1)fe[S]=go(co(n,J,S));let _e=n[2]&&_o(n),ae=Nt(n[3]);const ie=S=>S[8].id;for(let S=0;S<ae.length;S+=1){let P=uo(n,ae,S),j=ie(P);be.set(j,V[S]=vo(j,P))}return{c(){e=A("table"),t=A("thead"),t.innerHTML=r,a=te(),s=A("tbody");for(let S=0;S<o.length;S+=1)o[S].c();d=te(),m=A("tfoot"),g=A("tr"),b=A("td"),I=te(),O=A("td"),C=te(),D=A("td"),D.innerHTML=R,x=te(),X=A("td");for(let S=0;S<fe.length;S+=1)fe[S].c();oe=te(),q=A("td"),ce=te(),_e&&_e.c(),ne=te();for(let S=0;S<V.length;S+=1)V[S].c();re=te(),se=A("script"),se.textContent=Ce,this.h()},l(S){e=T(S,"TABLE",{class:!0});var P=H(e);t=T(P,"THEAD",{"data-svelte-h":!0}),Ve(t)!=="svelte-1yqevk1"&&(t.innerHTML=r),a=ee(P),s=T(P,"TBODY",{});var j=H(s);for(let Z=0;Z<o.length;Z+=1)o[Z].l(j);j.forEach(y),d=ee(P),m=T(P,"TFOOT",{class:!0});var pe=H(m);g=T(pe,"TR",{});var de=H(g);b=T(de,"TD",{}),H(b).forEach(y),I=ee(de),O=T(de,"TD",{}),H(O).forEach(y),C=ee(de),D=T(de,"TD",{class:!0,"data-svelte-h":!0}),Ve(D)!=="svelte-14afisz"&&(D.innerHTML=R),x=ee(de),X=T(de,"TD",{});var Y=H(X);for(let Z=0;Z<fe.length;Z+=1)fe[Z].l(Y);Y.forEach(y),oe=ee(de),q=T(de,"TD",{}),H(q).forEach(y),de.forEach(y),pe.forEach(y),P.forEach(y),ce=ee(S),_e&&_e.l(S),ne=ee(S);for(let Z=0;Z<V.length;Z+=1)V[Z].l(S);re=ee(S),se=T(S,"SCRIPT",{"data-svelte-h":!0}),Ve(se)!=="svelte-wsa5ae"&&(se.textContent=Ce),this.h()},h(){p(D,"class","text-end"),p(m,"class","table-group-divider"),p(e,"class","table table-striped table-hover")},m(S,P){le(S,e,P),v(e,t),v(e,a),v(e,s);for(let j=0;j<o.length;j+=1)o[j]&&o[j].m(s,null);v(e,d),v(e,m),v(m,g),v(g,b),v(g,I),v(g,O),v(g,C),v(g,D),v(g,x),v(g,X);for(let j=0;j<fe.length;j+=1)fe[j]&&fe[j].m(X,null);v(g,oe),v(g,q),le(S,ce,P),_e&&_e.m(S,P),le(S,ne,P);for(let j=0;j<V.length;j+=1)V[j]&&V[j].m(S,P);le(S,re,P),le(S,se,P)},p(S,P){if(P&8&&(ve=Nt(S[3]),o=Ar(o,P,me,1,S,ve,c,s,Gr,mo,null,fo)),P&8){J=Nt(S[7]);let j;for(j=0;j<J.length;j+=1){const pe=co(S,J,j);fe[j]?fe[j].p(pe,P):(fe[j]=go(pe),fe[j].c(),fe[j].m(X,null))}for(;j<fe.length;j+=1)fe[j].d(1);fe.length=J.length}S[2]?_e?_e.p(S,P):(_e=_o(S),_e.c(),_e.m(ne.parentNode,ne)):_e&&(_e.d(1),_e=null),P&8&&(ae=Nt(S[3]),V=Ar(V,P,ie,1,S,ae,be,re.parentNode,Gr,vo,re,uo))},d(S){S&&(y(e),y(ce),y(ne),y(re),y(se));for(let P=0;P<o.length;P+=1)o[P].d();Tr(fe,S),_e&&_e.d(S);for(let P=0;P<V.length;P+=1)V[P].d(S)}}}function mo(n,e){let t,r,a=e[8].description+"",s,o,c,d=e[8].receiptDateString+"",m,g,b,I=e[8].receiptType+"",O,C,D,R=an[e[8].currency].symbol+"",x,X,oe=e[8].total.toFixed(2)+"",q,ce;return{key:n,first:null,c(){t=A("tr"),r=A("td"),s=Ke(a),o=te(),c=A("td"),m=Ke(d),g=te(),b=A("td"),O=Ke(I),C=te(),D=A("td"),x=Ke(R),X=te(),q=Ke(oe),ce=te(),this.h()},l(ne){t=T(ne,"TR",{});var V=H(t);r=T(V,"TD",{});var be=H(r);s=ze(be,a),be.forEach(y),o=ee(V),c=T(V,"TD",{});var re=H(c);m=ze(re,d),re.forEach(y),g=ee(V),b=T(V,"TD",{});var se=H(b);O=ze(se,I),se.forEach(y),C=ee(V),D=T(V,"TD",{});var Ce=H(D);x=ze(Ce,R),X=ee(Ce),q=ze(Ce,oe),Ce.forEach(y),ce=ee(V),V.forEach(y),this.h()},h(){this.first=t},m(ne,V){le(ne,t,V),v(t,r),v(r,s),v(t,o),v(t,c),v(c,m),v(t,g),v(t,b),v(b,O),v(t,C),v(t,D),v(D,x),v(D,X),v(D,q),v(t,ce)},p(ne,V){e=ne,V&8&&a!==(a=e[8].description+"")&&nt(s,a),V&8&&d!==(d=e[8].receiptDateString+"")&&nt(m,d),V&8&&I!==(I=e[8].receiptType+"")&&nt(O,I),V&8&&R!==(R=an[e[8].currency].symbol+"")&&nt(x,R),V&8&&oe!==(oe=e[8].total.toFixed(2)+"")&&nt(q,oe)},d(ne){ne&&y(t)}}}function go(n){let e=an[n[11]].symbol+"",t,r,a=n[3].filter(d).reduce(bo,0).toFixed(2)+"",s,o,c;function d(...m){return n[6](n[11],...m)}return{c(){t=Ke(e),r=te(),s=Ke(a),o=te(),c=A("br")},l(m){t=ze(m,e),r=ee(m),s=ze(m,a),o=ee(m),c=T(m,"BR",{})},m(m,g){le(m,t,g),le(m,r,g),le(m,s,g),le(m,o,g),le(m,c,g)},p(m,g){n=m,g&8&&e!==(e=an[n[11]].symbol+"")&&nt(t,e),g&8&&a!==(a=n[3].filter(d).reduce(bo,0).toFixed(2)+"")&&nt(s,a)},d(m){m&&(y(t),y(r),y(s),y(o),y(c))}}}function _o(n){let e,t="Notes:",r,a,s=n[0].notes+"",o;return{c(){e=A("h5"),e.textContent=t,r=te(),a=A("p"),o=Ke(s),this.h()},l(c){e=T(c,"H5",{"data-svelte-h":!0}),Ve(e)!=="svelte-srqctx"&&(e.textContent=t),r=ee(c),a=T(c,"P",{style:!0});var d=H(a);o=ze(d,s),d.forEach(y),this.h()},h(){li(a,"white-space","pre-wrap")},m(c,d){le(c,e,d),le(c,r,d),le(c,a,d),v(a,o)},p(c,d){d&1&&s!==(s=c[0].notes+"")&&nt(o,s)},d(c){c&&(y(e),y(r),y(a))}}}function vo(n,e){let t,r=e[8].description+"",a,s,o,c=an[e[8].currency].symbol+"",d,m,g=e[8].total.toFixed(2)+"",b,I,O,C,D;return{key:n,first:null,c(){t=A("div"),a=Ke(r),s=te(),o=A("strong"),d=Ke(c),m=te(),b=Ke(g),I=te(),O=A("img"),this.h()},l(R){t=T(R,"DIV",{class:!0});var x=H(t);a=ze(x,r),s=ee(x),o=T(x,"STRONG",{});var X=H(o);d=ze(X,c),m=ee(X),b=ze(X,g),X.forEach(y),x.forEach(y),I=ee(R),O=T(R,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){p(t,"class","page-print mb-2"),p(O,"class","img-print"),p(O,"alt",C="receipt with description '"+e[8].description+"'"),Ni(O.src,D=e[8].imageData)||p(O,"src",D),this.first=t},m(R,x){le(R,t,x),v(t,a),v(t,s),v(t,o),v(o,d),v(o,m),v(o,b),le(R,I,x),le(R,O,x)},p(R,x){e=R,x&8&&r!==(r=e[8].description+"")&&nt(a,r),x&8&&c!==(c=an[e[8].currency].symbol+"")&&nt(d,c),x&8&&g!==(g=e[8].total.toFixed(2)+"")&&nt(b,g),x&8&&C!==(C="receipt with description '"+e[8].description+"'")&&p(O,"alt",C),x&8&&!Ni(O.src,D=e[8].imageData)&&p(O,"src",D)},d(R){R&&(y(t),y(I),y(O))}}}function Df(n){let e,t=n[0]&&ho(n);return{c(){e=A("div"),t&&t.c()},l(r){e=T(r,"DIV",{});var a=H(e);t&&t.l(a),a.forEach(y)},m(r,a){le(r,e,a),t&&t.m(e,null)},p(r,[a]){r[0]?t?t.p(r,a):(t=ho(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:Tt,o:Tt,d(r){r&&y(e),t&&t.d()}}}const bo=(n,e)=>n+e.total;function If(n,e,t){let r,a=Tt,s=()=>(a(),a=ri(d,I=>t(3,r=I)),d);n.$$.on_destroy.push(()=>a());let{tripId:o=-1}=e,c,d,m=!1;o>-1&&Vt.trips.get(o).then(I=>{t(0,c=I),s(t(1,d=oi(()=>Vt.receipts.where({tripId:o}).reverse().sortBy("receiptDate")))),document.title=c==null?void 0:c.name});function g(){m=this.checked,t(2,m)}const b=(I,O)=>O.currency==I;return n.$$set=I=>{"tripId"in I&&t(4,o=I.tripId)},[c,d,m,r,o,g,b]}class Tf extends Nn{constructor(e){super(),Bn(this,e,If,Df,En,{tripId:4})}}function Af(n){let e,t,r,a=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="38" viewBox="0 0 375.91 152.28" style="enable-background:new 0 0 375.91 152.28;" xml:space="preserve"><style type="text/css">.st0{fill:currentColor;}
		   </style><g id="Layer_1"><g><path class="st0" d="M0,19.62h59.19V36.2H0V19.62z M20.94,27.62h17.24v88.06H20.94V27.62z" fill="currentColor"></path><path class="st0" d="M60.18,47.1h17.84v68.58H60.18V47.1z M93.28,63.69c-1.01-0.22-2.14-0.33-3.37-0.33
					   c-3.74,0-6.66,1.17-8.75,3.5c-2.09,2.33-3.14,5.57-3.14,9.71l-1.39-17.51c1.94-4.1,4.44-7.3,7.5-9.61
					   c3.06-2.31,6.42-3.47,10.08-3.47c1.41,0,2.7,0.23,3.87,0.69c1.17,0.46,2.17,1.13,3.01,2.01l-5.22,16.05
					   C95.15,64.26,94.29,63.91,93.28,63.69z"></path><path class="st0" d="M109,19.62h17.24v17.11H109V19.62z M109,47.1h17.24v68.58H109V47.1z"></path><path class="st0" d="M140.58,47.1h17.18v96.46h-17.18V47.1z M162.68,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C168.4,116.67,165.3,115.65,162.68,113.6z"></path><path class="st0" d="M204.6,47.1h17.18v96.46H204.6V47.1z M226.7,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C232.42,116.67,229.32,115.65,226.7,113.6z"></path><path class="st0" d="M267.43,19.62h17.24v17.11h-17.24V19.62z M267.43,47.1h17.24v68.58h-17.24V47.1z"></path><path class="st0" d="M299.01,47.1h17.24v68.58h-17.24V47.1z M332.31,70.62c0-2.73-0.72-4.83-2.15-6.31
					   c-1.43-1.48-3.45-2.21-6.04-2.21c-2.51,0-4.45,0.74-5.81,2.21c-1.37,1.48-2.05,3.6-2.05,6.38l-1.39-11.63
					   c1.72-4.27,3.96-7.52,6.74-9.74c2.77-2.22,6.05-3.34,9.84-3.34c5.72,0,10.16,1.98,13.31,5.95c3.15,3.96,4.72,9.54,4.72,16.71
					   v47.04h-17.18V70.62z"></path><path class="st0" d="M356.55,19.62h17.24v23.65l-17.24,16.91V19.62z"></path></g></g></svg>`,s,o,c,d='<li class="nav-item"><a class="btn btn-outline-light" href="#/add">+ Add Trip</a></li>',m,g,b=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg>
				Trips`,I,O,C='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"></path><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"></path></svg>',D,R,x,X,oe,q,ce,ne,V,be,re,se;oe=new ec({props:{tripId:n[3]}});const Ce=[Ff,Bf,Nf,Mf,Rf,Lf,Pf],ve=[];function me(J,fe){return J[4]==="add"?0:J[4]==="trip"&&J[3]>-1?1:J[4]==="settings"?2:J[4]==="update"&&J[3]>-1?3:J[4]==="addreceipt"&&J[3]>-1?4:J[4]==="editreceipt"&&J[3]>-1?5:6}return ne=me(n),V=ve[ne]=Ce[ne](n),{c(){e=A("nav"),t=A("div"),r=A("a"),r.innerHTML=a,s=te(),o=A("div"),c=A("ul"),c.innerHTML=d,m=te(),g=A("button"),g.innerHTML=b,I=te(),O=A("a"),O.innerHTML=C,D=te(),R=A("main"),x=A("div"),X=A("div"),hn(oe.$$.fragment),q=te(),ce=A("div"),V.c(),this.h()},l(J){e=T(J,"NAV",{class:!0,"aria-label":!0});var fe=H(e);t=T(fe,"DIV",{class:!0});var _e=H(t);r=T(_e,"A",{"aria-current":!0,class:!0,href:!0,"data-svelte-h":!0}),Ve(r)!=="svelte-184qgqe"&&(r.innerHTML=a),s=ee(_e),o=T(_e,"DIV",{class:!0});var ae=H(o);c=T(ae,"UL",{class:!0,"data-svelte-h":!0}),Ve(c)!=="svelte-d6xdjk"&&(c.innerHTML=d),m=ee(ae),g=T(ae,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(g)!=="svelte-d1pynv"&&(g.innerHTML=b),I=ee(ae),O=T(ae,"A",{href:!0,class:!0,title:!0,"data-svelte-h":!0}),Ve(O)!=="svelte-rpzdxa"&&(O.innerHTML=C),ae.forEach(y),_e.forEach(y),fe.forEach(y),D=ee(J),R=T(J,"MAIN",{class:!0});var ie=H(R);x=T(ie,"DIV",{class:!0});var S=H(x);X=T(S,"DIV",{class:!0,id:!0});var P=H(X);dn(oe.$$.fragment,P),P.forEach(y),S.forEach(y),q=ee(ie),ce=T(ie,"DIV",{class:!0,id:!0});var j=H(ce);V.l(j),j.forEach(y),ie.forEach(y),this.h()},h(){p(r,"aria-current","page"),p(r,"class","navbar-brand text-light"),p(r,"href","#"),p(c,"class","navbar-nav me-auto"),p(g,"class","listTitleSmall btn btn-outline-light me-2"),p(g,"type","button"),p(O,"href","#/settings"),p(O,"class","btn btn-outline-light no-outline"),p(O,"title","Settings"),p(o,"class","collapse navbar-collapse"),p(t,"class","container-fluid"),p(e,"class","navbar navbar-expand navbar-dark bg-dark"),p(e,"aria-label","Second navbar example"),p(X,"class","list-group scrollarea d-none pt-4"),p(X,"id","tripToggle"),p(x,"class","tripList d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary"),p(ce,"class","d-flex p-3 w-100"),p(ce,"id","mainPane"),p(R,"class","d-flex flex-nowrap")},m(J,fe){le(J,e,fe),v(e,t),v(t,r),v(t,s),v(t,o),v(o,c),v(o,m),v(o,g),v(o,I),v(o,O),le(J,D,fe),le(J,R,fe),v(R,x),v(x,X),fn(oe,X,null),v(R,q),v(R,ce),ve[ne].m(ce,null),be=!0,re||(se=rt(g,"click",Lo),re=!0)},p(J,fe){const _e={};fe&8&&(_e.tripId=J[3]),oe.$set(_e);let ae=ne;ne=me(J),ne===ae?ve[ne].p(J,fe):(_n(),Ue(ve[ae],1,1,()=>{ve[ae]=null}),vn(),V=ve[ne],V?V.p(J,fe):(V=ve[ne]=Ce[ne](J),V.c()),Be(V,1),V.m(ce,null))},i(J){be||(Be(oe.$$.fragment,J),Be(V),be=!0)},o(J){Ue(oe.$$.fragment,J),Ue(V),be=!1},d(J){J&&(y(e),y(D),y(R)),cn(oe),ve[ne].d(),re=!1,se()}}}function Of(n){let e,t;return e=new Tf({props:{tripId:n[3]}}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function Pf(n){let e,t;return e=new Cf({}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p:Tt,i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function Lf(n){let e,t;return e=new Ko({props:{tripId:n[3],receiptId:n[5]}}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),a&32&&(s.receiptId=r[5]),e.$set(s)},i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function Rf(n){let e,t;return e=new Ko({props:{tripId:n[3],receiptId:-1}}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function Mf(n){let e,t;return e=new rc({props:{tripId:n[3]}}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function Nf(n){let e,t;return e=new uc({}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p:Tt,i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function Bf(n){let e=n[3],t,r,a=yo(n);return{c(){a.c(),t=Bt()},l(s){a.l(s),t=Bt()},m(s,o){a.m(s,o),le(s,t,o),r=!0},p(s,o){o&8&&En(e,e=s[3])?(_n(),Ue(a,1,1,Tt),vn(),a=yo(s),a.c(),Be(a,1),a.m(t.parentNode,t)):a.p(s,o)},i(s){r||(Be(a),r=!0)},o(s){Ue(a),r=!1},d(s){s&&y(t),a.d(s)}}}function Ff(n){let e,t;return e=new Iu({}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p:Tt,i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function yo(n){let e,t;return e=new Zu({props:{tripId:n[3]}}),{c(){hn(e.$$.fragment)},l(r){dn(e.$$.fragment,r)},m(r,a){fn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Be(e.$$.fragment,r),t=!0)},o(r){Ue(e.$$.fragment,r),t=!1},d(r){cn(e,r)}}}function zf(n){let e,t,r,a;const s=[Of,Af],o=[];function c(d,m){return d[4]==="print"&&d[3]>-1?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Bt()},l(d){t.l(d),r=Bt()},m(d,m){o[e].m(d,m),le(d,r,m),a=!0},p(d,[m]){let g=e;e=c(d),e===g?o[e].p(d,m):(_n(),Ue(o[g],1,1,()=>{o[g]=null}),vn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Be(t,1),t.m(r.parentNode,r))},i(d){a||(Be(t),a=!0)},o(d){Ue(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function Kf(n,e,t){let r,a,s,o,c,d,m=Tt,g=()=>(m(),m=ri(r,q=>t(3,d=q)),r),b,I=Tt,O=()=>(I(),I=ri(s,q=>t(4,b=q)),s),C,D=Tt,R=()=>(D(),D=ri(a,q=>t(5,C=q)),a),x;Gn(n,ei,q=>t(8,c=q)),Gn(n,ls,q=>t(6,x=q)),n.$$.on_destroy.push(()=>m()),n.$$.on_destroy.push(()=>I()),n.$$.on_destroy.push(()=>D());const X=new RegExp("#/(?<route>[a-z]+)(?<tripId>/[0-9]+|$)");function oe(){var q;(q=document.getElementById("tripToggle"))==null||q.classList.remove("show"),o?(Hr(s,b=o.groups.route||"",b),b=="editreceipt"?Hr(a,C=parseInt(o.groups.tripId.replace("/","")||"-1"),C):Hr(r,d=parseInt(o.groups.tripId.replace("/","")||"-1"),d)):(Hr(s,b="",b),Hr(r,d=-1,d))}return rs(()=>{ys(c),oe()}),n.$$.update=()=>{n.$$.dirty&64&&(o=X.exec(x.url.hash))},g(t(2,r=ii(-1))),R(t(1,a=ii(-1))),O(t(0,s=ii(""))),[s,a,r,d,b,C,x]}class jf extends Nn{constructor(e){super(),Bn(this,e,Kf,zf,En,{})}}function Hf(n){let e,t,r;return t=new jf({}),{c(){e=te(),hn(t.$$.fragment),this.h()},l(a){is("svelte-1mxz4jk",document.head).forEach(y),e=ee(a),dn(t.$$.fragment,a),this.h()},h(){document.title="Trippin'"},m(a,s){le(a,e,s),fn(t,a,s),r=!0},p:Tt,i(a){r||(Be(t.$$.fragment,a),r=!0)},o(a){Ue(t.$$.fragment,a),r=!1},d(a){a&&y(e),cn(t,a)}}}class rd extends Nn{constructor(e){super(),Bn(this,e,null,Hf,En,{})}}export{zi as D,rd as P};
