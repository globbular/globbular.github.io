import{n as It,O as Qo,P as Jo,d as y,Q as Xo,A as or,B as Or,s as Mn,F as Tn,c as On,u as Pn,g as Ln,a as Rn,x as p,i as re,e as v,f as T,h as j,k as $,l as A,m as ee,R as Eo,r as Ea,S as $o,p as Rt,z as An,T as Zt,U as Me,V as Ua,W as nt,X as ai,b as it,j as Fe,t as ze,v as ar,Y as Ga,Z as _a,_ as Ft,$ as zt,a0 as Tr,a1 as Ve,a2 as qi,a3 as Hi,a4 as Vr,o as Vn,y as li,a5 as ri,a6 as So,a7 as xa,I as es,a8 as ts,a9 as Ni,aa as ns,ab as qr,ac as rs,ad as is}from"./DUeJwbXD.js";import{a as Ne,t as xe,S as Un,i as Gn,g as fn,c as dn,d as _n,m as vn,e as bn,b as yn,f as Ur}from"./j50qXF9K.js";import{w as ii,b as as}from"./BeQ9zBsh.js";import{_ as Sa}from"./C1FmrZbK.js";import{p as ls}from"./BZIBiX6R.js";const Co=typeof window<"u";let os=Co?()=>window.performance.now():()=>Date.now(),Ca=Co?n=>requestAnimationFrame(n):It;const Hr=new Set;function Do(n){Hr.forEach(e=>{e.c(n)||(Hr.delete(e),e.f())}),Hr.size!==0&&Ca(Do)}function ss(n){let e;return Hr.size===0&&Ca(Do),{promise:new Promise(t=>{Hr.add(e={c:n,f:t})}),abort(){Hr.delete(e)}}}const Bi=new Map;let Fi=0;function us(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function cs(n,e){const t={stylesheet:Jo(e),rules:{}};return Bi.set(n,t),t}function fs(n,e,t,r,a,s,o,c=0){const d=16.666/r;let m=`{
`;for(let L=0;L<=1;L+=d){const x=e+(t-e)*s(L);m+=L*100+`%{${o(x,1-x)}}
`}const g=m+`100% {${o(t,1-t)}}
}`,b=`__svelte_${us(g)}_${c}`,D=Qo(n),{stylesheet:P,rules:S}=Bi.get(D)||cs(D,n);S[b]||(S[b]=!0,P.insertRule(`@keyframes ${b} ${g}`,P.cssRules.length));const C=n.style.animation||"";return n.style.animation=`${C?`${C}, `:""}${b} ${r}ms linear ${a}ms 1 both`,Fi+=1,b}function ds(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),a=t.length-r.length;a&&(n.style.animation=r.join(", "),Fi-=a,Fi||hs())}function hs(){Ca(()=>{Fi||(Bi.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&y(e)}),Bi.clear())})}function ps(n,e,t,r){if(!e)return It;const a=n.getBoundingClientRect();if(e.left===a.left&&e.right===a.right&&e.top===a.top&&e.bottom===a.bottom)return It;const{delay:s=0,duration:o=300,easing:c=Xo,start:d=os()+s,end:m=d+o,tick:g=It,css:b}=t(n,{from:e,to:a},r);let D=!0,P=!1,S;function C(){b&&(S=fs(n,0,1,o,s,c,b)),s||(P=!0)}function L(){b&&ds(n,S),D=!1}return ss(x=>{if(!P&&x>=d&&(P=!0),P&&x>=m&&(g(1,0),L()),!D)return!1;if(P){const V=x-d,Y=0+1*c(V/o);g(Y,1-Y)}return!0}),C(),g(0,1),L}function ms(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,a=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,gs(n,a)}}function gs(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),a=r.transform==="none"?"":r.transform;n.style.transform=`${a} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Nt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Gr(n,e){n.d(1),e.delete(n.key)}function _s(n,e){xe(n,1,1,()=>{e.delete(n.key)})}function vs(n,e){n.f(),Gr(n,e)}function Ar(n,e,t,r,a,s,o,c,d,m,g,b){let D=n.length,P=s.length,S=D;const C={};for(;S--;)C[n[S].key]=S;const L=[],x=new Map,V=new Map,Y=[];for(S=P;S--;){const Z=b(a,s,S),pe=t(Z);let ne=o.get(pe);ne?Y.push(()=>ne.p(Z,e)):(ne=m(pe,Z),ne.c()),x.set(pe,L[S]=ne),pe in C&&V.set(pe,Math.abs(S-C[pe]))}const H=new Set,fe=new Set;function ie(Z){Ne(Z,1),Z.m(c,g),o.set(Z.key,Z),g=Z.first,P--}for(;D&&P;){const Z=L[P-1],pe=n[D-1],ne=Z.key,oe=pe.key;Z===pe?(g=Z.first,D--,P--):x.has(oe)?!o.has(ne)||H.has(ne)?ie(Z):fe.has(oe)?D--:V.get(ne)>V.get(oe)?(fe.add(ne),ie(Z)):(H.add(oe),D--):(d(pe,o),D--)}for(;D--;){const Z=n[D];x.has(Z.key)||d(Z,o)}for(;P;)ie(L[P-1]);return or(Y),L}var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Io(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var To={exports:{}};(function(n,e){((t,r)=>{n.exports=r()})(Wa,function(){var t=function(i,l){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(u,f){u.__proto__=f}:function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}))(i,l)},r=function(){return(r=Object.assign||function(i){for(var l,u=1,f=arguments.length;u<f;u++)for(var h in l=arguments[u])Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=l[h]);return i}).apply(this,arguments)};function a(i,l,u){for(var f,h=0,_=l.length;h<_;h++)!f&&h in l||((f=f||Array.prototype.slice.call(l,0,h))[h]=l[h]);return i.concat(f||Array.prototype.slice.call(l))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Wa,o=Object.keys,c=Array.isArray;function d(i,l){return typeof l=="object"&&o(l).forEach(function(u){i[u]=l[u]}),i}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var m=Object.getPrototypeOf,g={}.hasOwnProperty;function b(i,l){return g.call(i,l)}function D(i,l){typeof l=="function"&&(l=l(m(i))),(typeof Reflect>"u"?o:Reflect.ownKeys)(l).forEach(function(u){S(i,u,l[u])})}var P=Object.defineProperty;function S(i,l,u,f){P(i,l,d(u&&b(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},f))}function C(i){return{from:function(l){return i.prototype=Object.create(l.prototype),S(i.prototype,"constructor",i),{extend:D.bind(null,i.prototype)}}}}var L=Object.getOwnPropertyDescriptor,x=[].slice;function V(i,l,u){return x.call(i,l,u)}function Y(i,l){return l(i)}function H(i){if(!i)throw new Error("Assertion Failed")}function fe(i){s.setImmediate?setImmediate(i):setTimeout(i,0)}function ie(i,l){if(typeof l=="string"&&b(i,l))return i[l];if(!l)return i;if(typeof l!="string"){for(var u=[],f=0,h=l.length;f<h;++f){var _=ie(i,l[f]);u.push(_)}return u}var w,E=l.indexOf(".");return E===-1||(w=i[l.substr(0,E)])==null?void 0:ie(w,l.substr(E+1))}function Z(i,l,u){if(i&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof l!="string"&&"length"in l){H(typeof u!="string"&&"length"in u);for(var f=0,h=l.length;f<h;++f)Z(i,l[f],u[f])}else{var _,w,E=l.indexOf(".");E!==-1?(_=l.substr(0,E),(E=l.substr(E+1))===""?u===void 0?c(i)&&!isNaN(parseInt(_))?i.splice(_,1):delete i[_]:i[_]=u:Z(w=(w=i[_])&&b(i,_)?w:i[_]={},E,u)):u===void 0?c(i)&&!isNaN(parseInt(l))?i.splice(l,1):delete i[l]:i[l]=u}}function pe(i){var l,u={};for(l in i)b(i,l)&&(u[l]=i[l]);return u}var ne=[].concat;function oe(i){return ne.apply([],i)}var me="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oe([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(l){return l+i+"Array"})}))).filter(function(i){return s[i]}),ve=new Set(me.map(function(i){return s[i]})),be=null;function ue(i){return be=new WeakMap,i=function l(u){if(!u||typeof u!="object")return u;var f=be.get(u);if(f)return f;if(c(u)){f=[],be.set(u,f);for(var h=0,_=u.length;h<_;++h)f.push(l(u[h]))}else if(ve.has(u.constructor))f=u;else{var w,E=m(u);for(w in f=E===Object.prototype?{}:Object.create(E),be.set(u,f),u)b(u,w)&&(f[w]=l(u[w]))}return f}(i),be=null,i}var le={}.toString;function ge(i){return le.call(i).slice(8,-1)}var ye=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ce=typeof ye=="symbol"?function(i){var l;return i!=null&&(l=i[ye])&&l.apply(i)}:function(){return null};function ae(i,l){l=i.indexOf(l),0<=l&&i.splice(l,1)}var I={};function O(i){var l,u,f,h;if(arguments.length===1){if(c(i))return i.slice();if(this===I&&typeof i=="string")return[i];if(h=ce(i))for(u=[];!(f=h.next()).done;)u.push(f.value);else{if(i==null)return[i];if(typeof(l=i.length)!="number")return[i];for(u=new Array(l);l--;)u[l]=i[l]}}else for(l=arguments.length,u=new Array(l);l--;)u[l]=arguments[l];return u}var q=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},me=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Le=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(me),de={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Q(i,l){this.name=i,this.message=l}function J(i,l){return i+". Errors: "+Object.keys(l).map(function(u){return l[u].toString()}).filter(function(u,f,h){return h.indexOf(u)===f}).join(`
`)}function W(i,l,u,f){this.failures=l,this.failedKeys=f,this.successCount=u,this.message=J(i,l)}function se(i,l){this.name="BulkError",this.failures=Object.keys(l).map(function(u){return l[u]}),this.failuresByPos=l,this.message=J(i,this.failures)}C(Q).from(Error).extend({toString:function(){return this.name+": "+this.message}}),C(W).from(Q),C(se).from(Q);var Oe=Le.reduce(function(i,l){return i[l]=l+"Error",i},{}),Se=Q,he=Le.reduce(function(i,l){var u=l+"Error";function f(h,_){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(_?`
 `+_:""),this.inner=_||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=de[l]||u,this.inner=null)}return C(f).from(Se),i[l]=f,i},{}),tt=(he.Syntax=SyntaxError,he.Type=TypeError,he.Range=RangeError,me.reduce(function(i,l){return i[l+"Error"]=he[l],i},{}));me=Le.reduce(function(i,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(i[l+"Error"]=he[l]),i},{});function qe(){}function Je(i){return i}function ct(i,l){return i==null||i===Je?l:function(u){return l(i(u))}}function Ke(i,l){return function(){i.apply(this,arguments),l.apply(this,arguments)}}function vt(i,l){return i===qe?l:function(){var u=i.apply(this,arguments),f=(u!==void 0&&(arguments[0]=u),this.onsuccess),h=this.onerror,_=(this.onsuccess=null,this.onerror=null,l.apply(this,arguments));return f&&(this.onsuccess=this.onsuccess?Ke(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Ke(h,this.onerror):h),_!==void 0?_:u}}function Kt(i,l){return i===qe?l:function(){i.apply(this,arguments);var u=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Ke(u,this.onsuccess):u),f&&(this.onerror=this.onerror?Ke(f,this.onerror):f)}}function mt(i,l){return i===qe?l:function(h){var f=i.apply(this,arguments),h=(d(h,f),this.onsuccess),_=this.onerror,w=(this.onsuccess=null,this.onerror=null,l.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?Ke(h,this.onsuccess):h),_&&(this.onerror=this.onerror?Ke(_,this.onerror):_),f===void 0?w===void 0?void 0:w:d(f,w)}}function nn(i,l){return i===qe?l:function(){return l.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Et(i,l){return i===qe?l:function(){var u=i.apply(this,arguments);if(u&&typeof u.then=="function"){for(var f=this,h=arguments.length,_=new Array(h);h--;)_[h]=arguments[h];return u.then(function(){return l.apply(f,_)})}return l.apply(this,arguments)}}me.ModifyError=W,me.DexieError=Q,me.BulkError=se;var Tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ot(i){Tt=i}var bt={},$e=100,Ge=typeof Promise>"u"?[]:(Le=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Ge=crypto.subtle.digest("SHA-512",new Uint8Array([0])),m(Ge),Le]:[Le,m(Le),Le]),Le=Ge[0],Kr=Ge[1],Kr=Kr&&Kr.then,dt=Le&&Le.constructor,jt=!!Ge[2],Ut=function(i,l){Gt.push([i,l]),lt&&(queueMicrotask(ut),lt=!1)},Pt=!0,lt=!0,st=[],Qt=[],$t=Je,Mt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qe,pgp:!1,env:{},finalize:qe},Re=Mt,Gt=[],At=0,qt=[];function we(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=Re;if(typeof i!="function"){if(i!==bt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&St(this,this._value)}else this._state=null,this._value=null,++l.ref,function u(f,h){try{h(function(_){if(f._state===null){if(_===f)throw new TypeError("A promise cannot be resolved with itself.");var w=f._lib&&Ze();_&&typeof _.then=="function"?u(f,function(E,N){_ instanceof we?_._then(E,N):_.then(E,N)}):(f._state=!0,f._value=_,Ht(f)),w&&et()}},St.bind(null,f))}catch(_){St(f,_)}}(this,i)}var Wt={get:function(){var i=Re,l=hn;function u(f,h){var _=this,w=!i.global&&(i!==Re||l!==hn),E=w&&!kn(),N=new we(function(G,B){_t(_,new gt(on(f,i,w,E),on(h,i,w,E),G,B,i))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return u.prototype=bt,u},set:function(i){S(this,"then",i&&i.prototype===bt?Wt:{get:function(){return i},set:Wt.set})}};function gt(i,l,u,f,h){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof l=="function"?l:null,this.resolve=u,this.reject=f,this.psd=h}function St(i,l){var u,f;Qt.push(l),i._state===null&&(u=i._lib&&Ze(),l=$t(l),i._state=!1,i._value=l,f=i,st.some(function(h){return h._value===f._value})||st.push(f),Ht(i),u)&&et()}function Ht(i){var l=i._listeners;i._listeners=[];for(var u=0,f=l.length;u<f;++u)_t(i,l[u]);var h=i._PSD;--h.ref||h.finalize(),At===0&&(++At,Ut(function(){--At==0&&Ce()},[]))}function _t(i,l){if(i._state===null)i._listeners.push(l);else{var u=i._state?l.onFulfilled:l.onRejected;if(u===null)return(i._state?l.resolve:l.reject)(i._value);++l.psd.ref,++At,Ut(Jt,[u,i,l])}}function Jt(i,l,u){try{var f,h=l._value;!l._state&&Qt.length&&(Qt=[]),f=Tt&&l._consoleTask?l._consoleTask.run(function(){return i(h)}):i(h),l._state||Qt.indexOf(h)!==-1||(_=>{for(var w=st.length;w;)if(st[--w]._value===_._value)return st.splice(w,1)})(l),u.resolve(f)}catch(_){u.reject(_)}finally{--At==0&&Ce(),--u.psd.ref||u.psd.finalize()}}function ut(){pn(Mt,function(){Ze()&&et()})}function Ze(){var i=Pt;return lt=Pt=!1,i}function et(){var i,l,u;do for(;0<Gt.length;)for(i=Gt,Gt=[],u=i.length,l=0;l<u;++l){var f=i[l];f[0].apply(null,f[1])}while(0<Gt.length);lt=Pt=!0}function Ce(){for(var i=st,l=(st=[],i.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)}),qt.slice(0)),u=l.length;u;)l[--u]()}function Ye(i){return new we(bt,!1,i)}function Ue(i,l){var u=Re;return function(){var f=Ze(),h=Re;try{return ht(u,!0),i.apply(this,arguments)}catch(_){l&&l(_)}finally{ht(h,!1),f&&et()}}}D(we.prototype,{then:Wt,_then:function(i,l){_t(this,new gt(null,null,i,l,Re))},catch:function(i){var l,u;return arguments.length===1?this.then(null,i):(l=i,u=arguments[1],typeof l=="function"?this.then(null,function(f){return(f instanceof l?u:Ye)(f)}):this.then(null,function(f){return(f&&f.name===l?u:Ye)(f)}))},finally:function(i){return this.then(function(l){return we.resolve(i()).then(function(){return l})},function(l){return we.resolve(i()).then(function(){return Ye(l)})})},timeout:function(i,l){var u=this;return i<1/0?new we(function(f,h){var _=setTimeout(function(){return h(new he.Timeout(l))},i);u.then(f,h).finally(clearTimeout.bind(null,_))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(we.prototype,Symbol.toStringTag,"Dexie.Promise"),Mt.env=un(),D(we,{all:function(){var i=O.apply(null,arguments).map(ot);return new we(function(l,u){i.length===0&&l([]);var f=i.length;i.forEach(function(h,_){return we.resolve(h).then(function(w){i[_]=w,--f||l(i)},u)})})},resolve:function(i){return i instanceof we?i:i&&typeof i.then=="function"?new we(function(l,u){i.then(l,u)}):new we(bt,!0,i)},reject:Ye,race:function(){var i=O.apply(null,arguments).map(ot);return new we(function(l,u){i.map(function(f){return we.resolve(f).then(l,u)})})},PSD:{get:function(){return Re},set:function(i){return Re=i}},totalEchoes:{get:function(){return hn}},newPSD:wn,usePSD:pn,scheduler:{get:function(){return Ut},set:function(i){Ut=i}},rejectionMapper:{get:function(){return $t},set:function(i){$t=i}},follow:function(i,l){return new we(function(u,f){return wn(function(h,_){var w=Re;w.unhandleds=[],w.onunhandled=_,w.finalize=Ke(function(){var E,N=this;E=function(){N.unhandleds.length===0?h():_(N.unhandleds[0])},qt.push(function G(){E(),qt.splice(qt.indexOf(G),1)}),++At,Ut(function(){--At==0&&Ce()},[])},w.finalize),i()},l,u,f)})}}),dt&&(dt.allSettled&&S(we,"allSettled",function(){var i=O.apply(null,arguments).map(ot);return new we(function(l){i.length===0&&l([]);var u=i.length,f=new Array(u);i.forEach(function(h,_){return we.resolve(h).then(function(w){return f[_]={status:"fulfilled",value:w}},function(w){return f[_]={status:"rejected",reason:w}}).then(function(){return--u||l(f)})})})}),dt.any&&typeof AggregateError<"u"&&S(we,"any",function(){var i=O.apply(null,arguments).map(ot);return new we(function(l,u){i.length===0&&u(new AggregateError([]));var f=i.length,h=new Array(f);i.forEach(function(_,w){return we.resolve(_).then(function(E){return l(E)},function(E){h[w]=E,--f||u(new AggregateError(h))})})})}),dt.withResolvers)&&(we.withResolvers=dt.withResolvers);var Be={awaits:0,echoes:0,id:0},We=0,at=[],sn=0,hn=0,xn=0;function wn(i,w,u,f){var h=Re,_=Object.create(h),w=(_.parent=h,_.ref=0,_.global=!1,_.id=++xn,Mt.env,_.env=jt?{Promise:we,PromiseProp:{value:we,configurable:!0,writable:!0},all:we.all,race:we.race,allSettled:we.allSettled,any:we.any,resolve:we.resolve,reject:we.reject}:{},w&&d(_,w),++h.ref,_.finalize=function(){--this.parent.ref||this.parent.finalize()},pn(_,i,u,f));return _.ref===0&&_.finalize(),w}function ln(){return Be.id||(Be.id=++We),++Be.awaits,Be.echoes+=$e,Be.id}function kn(){return!!Be.awaits&&(--Be.awaits==0&&(Be.id=0),Be.echoes=Be.awaits*$e,!0)}function ot(i){return Be.echoes&&i&&i.constructor===dt?(ln(),i.then(function(l){return kn(),l},function(l){return kn(),Lt(l)})):i}function Nn(){var i=at[at.length-1];at.pop(),ht(i,!1)}function ht(i,l){var u,f,h=Re;(l?!Be.echoes||sn++&&i===Re:!sn||--sn&&i===Re)||queueMicrotask(l?(function(_){++hn,Be.echoes&&--Be.echoes!=0||(Be.echoes=Be.awaits=Be.id=0),at.push(Re),ht(_,!0)}).bind(null,i):Nn),i!==Re&&(Re=i,h===Mt&&(Mt.env=un()),jt)&&(u=Mt.env.Promise,f=i.env,h.global||i.global)&&(Object.defineProperty(s,"Promise",f.PromiseProp),u.all=f.all,u.race=f.race,u.resolve=f.resolve,u.reject=f.reject,f.allSettled&&(u.allSettled=f.allSettled),f.any)&&(u.any=f.any)}function un(){var i=s.Promise;return jt?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function pn(i,l,u,f,h){var _=Re;try{return ht(i,!0),l(u,f,h)}finally{ht(_,!1)}}function on(i,l,u,f){return typeof i!="function"?i:function(){var h=Re;u&&ln(),ht(l,!0);try{return i.apply(this,arguments)}finally{ht(h,!1),f&&queueMicrotask(kn)}}}function sr(i){Promise===dt&&Be.echoes===0?sn===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Kr).indexOf("[native code]")===-1&&(ln=kn=qe);var Lt=we.reject,Bn="ï¿¿",Fn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ur="String expected.",tr=[],Cn="__dbnames",Bt="readonly",zn="readwrite";function en(i,l){return i?l?function(){return i.apply(this,arguments)&&l.apply(this,arguments)}:i:l}var cr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function cn(i){return typeof i!="string"||/\./.test(i)?function(l){return l}:function(l){return l[i]===void 0&&i in l&&delete(l=ue(l))[i],l}}function ci(){throw he.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function pt(i,l){try{var u=Lr(i),f=Lr(l);if(u!==f)return u==="Array"?1:f==="Array"?-1:u==="binary"?1:f==="binary"?-1:u==="string"?1:f==="string"?-1:u==="Date"?1:f!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return l<i?1:i<l?-1:0;case"binary":for(var h=fi(i),_=fi(l),w=h.length,E=_.length,N=w<E?w:E,G=0;G<N;++G)if(h[G]!==_[G])return h[G]<_[G]?-1:1;return w===E?0:w<E?-1:1;case"Array":for(var B=i,R=l,z=B.length,K=R.length,F=z<K?z:K,M=0;M<F;++M){var X=pt(B[M],R[M]);if(X!==0)return X}return z===K?0:z<K?-1:1}}catch{}return NaN}function Lr(i){var l=typeof i;return l=="object"&&(ArrayBuffer.isView(i)||(l=ge(i))==="ArrayBuffer")?"binary":l}function fi(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function Rr(i,l,u){var f=i.schema.yProps;return f?(l&&0<u.numFailures&&(l=l.filter(function(h,_){return!u.failures[_]})),Promise.all(f.map(function(h){return h=h.updatesTable,l?i.db.table(h).where("k").anyOf(l).delete():i.db.table(h).clear()})).then(function(){return u})):u}di.prototype.execute=function(i){var l=this["@@propmod"];if(l.add!==void 0){var u=l.add;if(c(u))return a(a([],c(i)?i:[],!0),u).sort();if(typeof u=="number")return(Number(i)||0)+u;if(typeof u=="bigint")try{return BigInt(i)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(l.remove!==void 0){var f=l.remove;if(c(f))return c(i)?i.filter(function(h){return!f.includes(h)}).sort():[];if(typeof f=="number")return Number(i)-f;if(typeof f=="bigint")try{return BigInt(i)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return u=(u=l.replacePrefix)==null?void 0:u[0],u&&typeof i=="string"&&i.startsWith(u)?l.replacePrefix[1]+i.substring(u.length):i};var fr=di;function di(i){this["@@propmod"]=i}function Wr(i,l){for(var u=o(l),f=u.length,h=!1,_=0;_<f;++_){var w=u[_],E=l[w],N=ie(i,w);E instanceof fr?(Z(i,w,E.execute(N)),h=!0):N!==E&&(Z(i,w,E),h=!0)}return h}Ct.prototype._trans=function(i,l,u){var f=this._tx||Re.trans,h=this.name,_=Tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function w(G,B,R){if(R.schema[h])return l(R.idbtrans,R);throw new he.NotFound("Table "+h+" not part of transaction")}var E=Ze();try{var N=f&&f.db._novip===this.db._novip?f===Re.trans?f._promise(i,w,u):wn(function(){return f._promise(i,w,u)},{trans:f,transless:Re.transless||Re}):function G(B,R,z,K){if(B.idbdb&&(B._state.openComplete||Re.letThrough||B._vip)){var F=B._createTransaction(R,z,B._dbSchema);try{F.create(),B._state.PR1398_maxLoop=3}catch(M){return M.name===Oe.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return G(B,R,z,K)})):Lt(M)}return F._promise(R,function(M,X){return wn(function(){return Re.trans=F,K(M,X,F)})}).then(function(M){if(R==="readwrite")try{F.idbtrans.commit()}catch{}return R==="readonly"?M:F._completion.then(function(){return M})})}if(B._state.openComplete)return Lt(new he.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return Lt(new he.DatabaseClosed);B.open().catch(qe)}return B._state.dbReadyPromise.then(function(){return G(B,R,z,K)})}(this.db,i,[this.name],w);return _&&(N._consoleTask=_,N=N.catch(function(G){return console.trace(G),Lt(G)})),N}finally{E&&et()}},Ct.prototype.get=function(i,l){var u=this;return i&&i.constructor===Object?this.where(i).first(l):i==null?Lt(new he.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return u.core.get({trans:f,key:i}).then(function(h){return u.hook.reading.fire(h)})}).then(l)},Ct.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(c(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var l=o(i);if(l.length===1)return this.where(l[0]).equals(i[l[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(E){if(E.compound&&l.every(function(G){return 0<=E.keyPath.indexOf(G)})){for(var N=0;N<l.length;++N)if(l.indexOf(E.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(E,N){return E.keyPath.length-N.keyPath.length})[0];if(u&&this.db._maxKey!==Bn)return w=u.keyPath.slice(0,l.length),this.where(w).equals(w.map(function(E){return i[E]}));!u&&Tt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var f=this.schema.idxByName;function h(E,N){return pt(E,N)===0}var w=l.reduce(function(B,N){var G=B[0],B=B[1],R=f[N],z=i[N];return[G||R,G||!R?en(B,R&&R.multi?function(K){return K=ie(K,N),c(K)&&K.some(function(F){return h(z,F)})}:function(K){return h(z,ie(K,N))}):B]},[null,null]),_=w[0],w=w[1];return _?this.where(_.name).equals(i[_.keyPath]).filter(w):u?this.filter(w):this.where(l).equals("")},Ct.prototype.filter=function(i){return this.toCollection().and(i)},Ct.prototype.count=function(i){return this.toCollection().count(i)},Ct.prototype.offset=function(i){return this.toCollection().offset(i)},Ct.prototype.limit=function(i){return this.toCollection().limit(i)},Ct.prototype.each=function(i){return this.toCollection().each(i)},Ct.prototype.toArray=function(i){return this.toCollection().toArray(i)},Ct.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ct.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,c(i)?"[".concat(i.join("+"),"]"):i))},Ct.prototype.reverse=function(){return this.toCollection().reverse()},Ct.prototype.mapToClass=function(i){for(var l=this.db,u=this.name,f=((this.schema.mappedClass=i).prototype instanceof ci&&(i=(w=>{var E=B,N=w;if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function G(){this.constructor=E}function B(){return w!==null&&w.apply(this,arguments)||this}return t(E,N),E.prototype=N===null?Object.create(N):(G.prototype=N.prototype,new G),Object.defineProperty(B.prototype,"db",{get:function(){return l},enumerable:!1,configurable:!0}),B.prototype.table=function(){return u},B})(i)),new Set),h=i.prototype;h;h=m(h))Object.getOwnPropertyNames(h).forEach(function(w){return f.add(w)});function _(w){if(!w)return w;var E,N=Object.create(i.prototype);for(E in w)if(!f.has(E))try{N[E]=w[E]}catch{}return N}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),i},Ct.prototype.defineClass=function(){return this.mapToClass(function(i){d(this,i)})},Ct.prototype.add=function(i,l){var u=this,f=this.schema.primKey,h=f.auto,_=f.keyPath,w=i;return _&&h&&(w=cn(_)(i)),this._trans("readwrite",function(E){return u.core.mutate({trans:E,type:"add",keys:l!=null?[l]:null,values:[w]})}).then(function(E){return E.numFailures?we.reject(E.failures[0]):E.lastResult}).then(function(E){if(_)try{Z(i,_,E)}catch{}return E})},Ct.prototype.upsert=function(i,l){var u=this,f=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return u.core.get({trans:h,key:i}).then(function(_){var w=_??{};return Wr(w,l),f&&Z(w,f,i),u.core.mutate({trans:h,type:"put",values:[w],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[l]}}).then(function(E){return E.numFailures?we.reject(E.failures[0]):!!_})})})},Ct.prototype.update=function(i,l){return typeof i!="object"||c(i)?this.where(":id").equals(i).modify(l):(i=ie(i,this.schema.primKey.keyPath))===void 0?Lt(new he.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(l)},Ct.prototype.put=function(i,l){var u=this,f=this.schema.primKey,h=f.auto,_=f.keyPath,w=i;return _&&h&&(w=cn(_)(i)),this._trans("readwrite",function(E){return u.core.mutate({trans:E,type:"put",values:[w],keys:l!=null?[l]:null})}).then(function(E){return E.numFailures?we.reject(E.failures[0]):E.lastResult}).then(function(E){if(_)try{Z(i,_,E)}catch{}return E})},Ct.prototype.delete=function(i){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:[i]}).then(function(f){return Rr(l,[i],f)}).then(function(f){return f.numFailures?we.reject(f.failures[0]):void 0})})},Ct.prototype.clear=function(){var i=this;return this._trans("readwrite",function(l){return i.core.mutate({trans:l,type:"deleteRange",range:cr}).then(function(u){return Rr(i,null,u)})}).then(function(l){return l.numFailures?we.reject(l.failures[0]):void 0})},Ct.prototype.bulkGet=function(i){var l=this;return this._trans("readonly",function(u){return l.core.getMany({keys:i,trans:u}).then(function(f){return f.map(function(h){return l.hook.reading.fire(h)})})})},Ct.prototype.bulkAdd=function(i,l,u){var f=this,h=Array.isArray(l)?l:void 0,_=(u=u||(h?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(w){var E=f.schema.primKey,G=E.auto,E=E.keyPath;if(E&&h)throw new he.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==i.length)throw new he.InvalidArgument("Arguments objects and keys must have the same length");var N=i.length,G=E&&G?i.map(cn(E)):i;return f.core.mutate({trans:w,type:"add",keys:h,values:G,wantResults:_}).then(function(B){var R=B.numFailures,z=B.failures;if(R===0)return _?B.results:B.lastResult;throw new se("".concat(f.name,".bulkAdd(): ").concat(R," of ").concat(N," operations failed"),z)})})},Ct.prototype.bulkPut=function(i,l,u){var f=this,h=Array.isArray(l)?l:void 0,_=(u=u||(h?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(w){var E=f.schema.primKey,G=E.auto,E=E.keyPath;if(E&&h)throw new he.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==i.length)throw new he.InvalidArgument("Arguments objects and keys must have the same length");var N=i.length,G=E&&G?i.map(cn(E)):i;return f.core.mutate({trans:w,type:"put",keys:h,values:G,wantResults:_}).then(function(B){var R=B.numFailures,z=B.failures;if(R===0)return _?B.results:B.lastResult;throw new se("".concat(f.name,".bulkPut(): ").concat(R," of ").concat(N," operations failed"),z)})})},Ct.prototype.bulkUpdate=function(i){var l=this,u=this.core,f=i.map(function(w){return w.key}),h=i.map(function(w){return w.changes}),_=[];return this._trans("readwrite",function(w){return u.getMany({trans:w,keys:f,cache:"clone"}).then(function(E){var N=[],G=[],B=(i.forEach(function(R,z){var K=R.key,F=R.changes,M=E[z];if(M){for(var X=0,te=Object.keys(F);X<te.length;X++){var U=te[X],_e=F[U];if(U===l.schema.primKey.keyPath){if(pt(_e,K)!==0)throw new he.Constraint("Cannot update primary key in bulkUpdate()")}else Z(M,U,_e)}_.push(z),N.push(K),G.push(M)}}),N.length);return u.mutate({trans:w,type:"put",keys:N,values:G,updates:{keys:f,changeSpecs:h}}).then(function(R){var z=R.numFailures,K=R.failures;if(z===0)return B;for(var F=0,M=Object.keys(K);F<M.length;F++){var X,te=M[F],U=_[Number(te)];U!=null&&(X=K[te],delete K[te],K[U]=X)}throw new se("".concat(l.name,".bulkUpdate(): ").concat(z," of ").concat(B," operations failed"),K)})})})},Ct.prototype.bulkDelete=function(i){var l=this,u=i.length;return this._trans("readwrite",function(f){return l.core.mutate({trans:f,type:"delete",keys:i}).then(function(h){return Rr(l,i,h)})}).then(function(f){var h=f.numFailures,_=f.failures;if(h===0)return f.lastResult;throw new se("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),_)})};var hi=Ct;function Ct(){}function gr(i){function l(w,E){if(E){for(var N=arguments.length,G=new Array(N-1);--N;)G[N-1]=arguments[N];return u[w].subscribe.apply(null,G),i}if(typeof w=="string")return u[w]}var u={};l.addEventType=_;for(var f=1,h=arguments.length;f<h;++f)_(arguments[f]);return l;function _(w,E,N){var G,B;if(typeof w!="object")return E=E||nn,B={subscribers:[],fire:N=N||qe,subscribe:function(R){B.subscribers.indexOf(R)===-1&&(B.subscribers.push(R),B.fire=E(B.fire,R))},unsubscribe:function(R){B.subscribers=B.subscribers.filter(function(z){return z!==R}),B.fire=B.subscribers.reduce(E,N)}},u[w]=l[w]=B;o(G=w).forEach(function(R){var z=G[R];if(c(z))_(R,G[R][0],G[R][1]);else{if(z!=="asap")throw new he.InvalidArgument("Invalid event config");var K=_(R,Je,function(){for(var F=arguments.length,M=new Array(F);F--;)M[F]=arguments[F];K.subscribers.forEach(function(X){fe(function(){X.apply(null,M)})})})}})}}function Wn(i,l){return C(l).from({prototype:i}),l}function nr(i,l){return!(i.filter||i.algorithm||i.or)&&(l?i.justLimit:!i.replayFilter)}function _r(i,l){i.filter=en(i.filter,l)}function dr(i,l,u){var f=i.replayFilter;i.replayFilter=f?function(){return en(f(),l())}:l,i.justLimit=u&&!f}function Mr(i,l){if(i.isPrimKey)return l.primaryKey;var u=l.getIndexByKeyPath(i.index);if(u)return u;throw new he.Schema("KeyPath "+i.index+" on object store "+l.name+" is not indexed")}function hr(i,l,u){var f=Mr(i,l.schema);return l.openCursor({trans:u,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:f,range:i.range}})}function Nr(i,l,u,f){var h,_,w=i.replayFilter?en(i.filter,i.replayFilter()):i.filter;return i.or?(h={},_=function(E,N,G){var B,R;w&&!w(N,G,function(z){return N.stop(z)},function(z){return N.fail(z)})||((R=""+(B=N.primaryKey))=="[object ArrayBuffer]"&&(R=""+new Uint8Array(B)),b(h,R))||(h[R]=!0,l(E,N,G))},Promise.all([i.or._iterate(_,u),pi(hr(i,f,u),i.algorithm,_,!i.keysOnly&&i.valueMapper)])):pi(hr(i,f,u),en(i.algorithm,w),l,!i.keysOnly&&i.valueMapper)}function pi(i,l,u,f){var h=Ue(f?function(_,w,E){return u(f(_),w,E)}:u);return i.then(function(_){if(_)return _.start(function(){var w=function(){return _.continue()};l&&!l(_,function(E){return w=E},function(E){_.stop(E),w=qe},function(E){_.fail(E),w=qe})||h(_.value,_,function(E){return w=E}),w()})})}yt.prototype._read=function(i,l){var u=this._ctx;return u.error?u.table._trans(null,Lt.bind(null,u.error)):u.table._trans("readonly",i).then(l)},yt.prototype._write=function(i){var l=this._ctx;return l.error?l.table._trans(null,Lt.bind(null,l.error)):l.table._trans("readwrite",i,"locked")},yt.prototype._addAlgorithm=function(i){var l=this._ctx;l.algorithm=en(l.algorithm,i)},yt.prototype._iterate=function(i,l){return Nr(this._ctx,i,l,this._ctx.table.core)},yt.prototype.clone=function(i){var l=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return i&&d(u,i),l._ctx=u,l},yt.prototype.raw=function(){return this._ctx.valueMapper=null,this},yt.prototype.each=function(i){var l=this._ctx;return this._read(function(u){return Nr(l,i,u,l.table.core)})},yt.prototype.count=function(i){var l=this;return this._read(function(u){var f,h=l._ctx,_=h.table.core;return nr(h,!0)?_.count({trans:u,query:{index:Mr(h,_.schema),range:h.range}}).then(function(w){return Math.min(w,h.limit)}):(f=0,Nr(h,function(){return++f,!1},u,_).then(function(){return f}))}).then(i)},yt.prototype.sortBy=function(i,l){var u=i.split(".").reverse(),f=u[0],h=u.length-1;function _(N,G){return G?_(N[u[G]],G-1):N[f]}var w=this._ctx.dir==="next"?1:-1;function E(N,G){return pt(_(N,h),_(G,h))*w}return this.toArray(function(N){return N.sort(E)}).then(l)},yt.prototype.toArray=function(i){var l=this;return this._read(function(u){var f,h,_,w=l._ctx;return w.dir==="next"&&nr(w,!0)&&0<w.limit?(f=w.valueMapper,h=Mr(w,w.table.core.schema),w.table.core.query({trans:u,limit:w.limit,values:!0,query:{index:h,range:w.range}}).then(function(E){return E=E.result,f?E.map(f):E})):(_=[],Nr(w,function(E){return _.push(E)},u,w.table.core).then(function(){return _}))},i)},yt.prototype.offset=function(i){var l=this._ctx;return i<=0||(l.offset+=i,nr(l)?dr(l,function(){var u=i;return function(f,h){return u===0||(u===1?--u:h(function(){f.advance(u),u=0}),!1)}}):dr(l,function(){var u=i;return function(){return--u<0}})),this},yt.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),dr(this._ctx,function(){var l=i;return function(u,f,h){return--l<=0&&f(h),0<=l}},!0),this},yt.prototype.until=function(i,l){return _r(this._ctx,function(u,f,h){return!i(u.value)||(f(h),l)}),this},yt.prototype.first=function(i){return this.limit(1).toArray(function(l){return l[0]}).then(i)},yt.prototype.last=function(i){return this.reverse().first(i)},yt.prototype.filter=function(i){var l;return _r(this._ctx,function(u){return i(u.value)}),(l=this._ctx).isMatch=en(l.isMatch,i),this},yt.prototype.and=function(i){return this.filter(i)},yt.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},yt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},yt.prototype.desc=function(){return this.reverse()},yt.prototype.eachKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,f){i(f.key,f)})},yt.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},yt.prototype.eachPrimaryKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,f){i(f.primaryKey,f)})},yt.prototype.keys=function(i){var l=this._ctx,u=(l.keysOnly=!l.isMatch,[]);return this.each(function(f,h){u.push(h.key)}).then(function(){return u}).then(i)},yt.prototype.primaryKeys=function(i){var l=this._ctx;if(l.dir==="next"&&nr(l,!0)&&0<l.limit)return this._read(function(f){var h=Mr(l,l.table.core.schema);return l.table.core.query({trans:f,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(f){return f.result}).then(i);l.keysOnly=!l.isMatch;var u=[];return this.each(function(f,h){u.push(h.primaryKey)}).then(function(){return u}).then(i)},yt.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},yt.prototype.firstKey=function(i){return this.limit(1).keys(function(l){return l[0]}).then(i)},yt.prototype.lastKey=function(i){return this.reverse().firstKey(i)},yt.prototype.distinct=function(){var i,l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];return l&&l.multi&&(i={},_r(this._ctx,function(f){var f=f.primaryKey.toString(),h=b(i,f);return i[f]=!0,!h})),this},yt.prototype.modify=function(i){var l=this,u=this._ctx;return this._write(function(f){function h(M,X){var te=X.failures;z+=M-X.numFailures;for(var U=0,_e=o(te);U<_e.length;U++){var Ee=_e[U];R.push(te[Ee])}}var _=typeof i=="function"?i:function(M){return Wr(M,i)},w=u.table.core,B=w.schema.primaryKey,E=B.outbound,N=B.extractKey,G=200,B=l.db._options.modifyChunkSize,R=(B&&(G=typeof B=="object"?B[w.name]||B["*"]||200:B),[]),z=0,K=[],F=i===mi;return l.clone().primaryKeys().then(function(M){function X(U){var _e=Math.min(G,M.length-U),Ee=M.slice(U,U+_e);return(F?Promise.resolve([]):w.getMany({trans:f,keys:Ee,cache:"immutable"})).then(function(Te){var Ae=[],De=[],je=E?[]:null,Pe=F?Ee:[];if(!F)for(var Ie=0;Ie<_e;++Ie){var He=Te[Ie],wt={value:ue(He),primKey:M[U+Ie]};_.call(wt,wt.value,wt)!==!1&&(wt.value==null?Pe.push(M[U+Ie]):E||pt(N(He),N(wt.value))===0?(De.push(wt.value),E&&je.push(M[U+Ie])):(Pe.push(M[U+Ie]),Ae.push(wt.value)))}return Promise.resolve(0<Ae.length&&w.mutate({trans:f,type:"add",values:Ae}).then(function(Dt){for(var Qe in Dt.failures)Pe.splice(parseInt(Qe),1);h(Ae.length,Dt)})).then(function(){return(0<De.length||te&&typeof i=="object")&&w.mutate({trans:f,type:"put",keys:je,values:De,criteria:te,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<U}).then(function(Dt){return h(De.length,Dt)})}).then(function(){return(0<Pe.length||te&&F)&&w.mutate({trans:f,type:"delete",keys:Pe,criteria:te,isAdditionalChunk:0<U}).then(function(Dt){return Rr(u.table,Pe,Dt)}).then(function(Dt){return h(Pe.length,Dt)})}).then(function(){return M.length>U+_e&&X(U+G)})})}var te=nr(u)&&u.limit===1/0&&(typeof i!="function"||F)&&{index:u.index,range:u.range};return X(0).then(function(){if(0<R.length)throw new W("Error modifying one or more objects",R,z,K);return M.length})})})},yt.prototype.delete=function(){var i=this._ctx,l=i.range;return!nr(i)||i.table.schema.yProps||!i.isPrimKey&&l.type!==3?this.modify(mi):this._write(function(u){var f=i.table.core.schema.primaryKey,h=l;return i.table.core.count({trans:u,query:{index:f,range:h}}).then(function(_){return i.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(N){var E=N.failures,N=N.numFailures;if(N)throw new W("Could not delete some values",Object.keys(E).map(function(G){return E[G]}),_-N);return _-N})})})};var Vi=yt;function yt(){}var mi=function(i,l){return l.value=null};function Ui(i,l){return i<l?-1:i===l?0:1}function Gi(i,l){return l<i?-1:i===l?0:1}function En(i,l,u){return i=i instanceof Qn?new i.Collection(i):i,i._ctx.error=new(u||TypeError)(l),i}function pr(i){return new i.Collection(i,function(){return vr("")}).limit(0)}function Br(K,l,u,f){var h,_,w,E,N,G,B,R=u.length;if(!u.every(function(M){return typeof M=="string"}))return En(K,ur);function z(M){h=M==="next"?function(te){return te.toUpperCase()}:function(te){return te.toLowerCase()},_=M==="next"?function(te){return te.toLowerCase()}:function(te){return te.toUpperCase()},w=M==="next"?Ui:Gi;var X=u.map(function(te){return{lower:_(te),upper:h(te)}}).sort(function(te,U){return w(te.lower,U.lower)});E=X.map(function(te){return te.upper}),N=X.map(function(te){return te.lower}),B=(G=M)==="next"?"":f}z("next");var K=new K.Collection(K,function(){return Dn(E[0],N[R-1]+f)}),F=(K._ondirectionchange=function(M){z(M)},0);return K._addAlgorithm(function(M,X,te){var U=M.key;if(typeof U=="string"){var _e=_(U);if(l(_e,N,F))return!0;for(var Ee=null,Te=F;Te<R;++Te){var Ae=((De,je,Pe,Ie,He,wt)=>{for(var Dt=Math.min(De.length,Ie.length),Qe=-1,ft=0;ft<Dt;++ft){var Yt=je[ft];if(Yt!==Ie[ft])return He(De[ft],Pe[ft])<0?De.substr(0,ft)+Pe[ft]+Pe.substr(ft+1):He(De[ft],Ie[ft])<0?De.substr(0,ft)+Ie[ft]+Pe.substr(ft+1):0<=Qe?De.substr(0,Qe)+je[Qe]+Pe.substr(Qe+1):null;He(De[ft],Yt)<0&&(Qe=ft)}return Dt<Ie.length&&wt==="next"?De+Pe.substr(De.length):Dt<De.length&&wt==="prev"?De.substr(0,Pe.length):Qe<0?null:De.substr(0,Qe)+Ie[Qe]+Pe.substr(Qe+1)})(U,_e,E[Te],N[Te],w,G);Ae===null&&Ee===null?F=Te+1:(Ee===null||0<w(Ee,Ae))&&(Ee=Ae)}X(Ee!==null?function(){M.continue(Ee+B)}:te)}return!1}),K}function Dn(i,l,u,f){return{type:2,lower:i,upper:l,lowerOpen:u,upperOpen:f}}function vr(i){return{type:1,lower:i,upper:i}}Object.defineProperty(rn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),rn.prototype.between=function(i,l,u,f){u=u!==!1,f=f===!0;try{return 0<this._cmp(i,l)||this._cmp(i,l)===0&&(u||f)&&(!u||!f)?pr(this):new this.Collection(this,function(){return Dn(i,l,!u,!f)})}catch{return En(this,Fn)}},rn.prototype.equals=function(i){return i==null?En(this,Fn):new this.Collection(this,function(){return vr(i)})},rn.prototype.above=function(i){return i==null?En(this,Fn):new this.Collection(this,function(){return Dn(i,void 0,!0)})},rn.prototype.aboveOrEqual=function(i){return i==null?En(this,Fn):new this.Collection(this,function(){return Dn(i,void 0,!1)})},rn.prototype.below=function(i){return i==null?En(this,Fn):new this.Collection(this,function(){return Dn(void 0,i,!1,!0)})},rn.prototype.belowOrEqual=function(i){return i==null?En(this,Fn):new this.Collection(this,function(){return Dn(void 0,i)})},rn.prototype.startsWith=function(i){return typeof i!="string"?En(this,ur):this.between(i,i+Bn,!0,!0)},rn.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Br(this,function(l,u){return l.indexOf(u[0])===0},[i],Bn)},rn.prototype.equalsIgnoreCase=function(i){return Br(this,function(l,u){return l===u[0]},[i],"")},rn.prototype.anyOfIgnoreCase=function(){var i=O.apply(I,arguments);return i.length===0?pr(this):Br(this,function(l,u){return u.indexOf(l)!==-1},i,"")},rn.prototype.startsWithAnyOfIgnoreCase=function(){var i=O.apply(I,arguments);return i.length===0?pr(this):Br(this,function(l,u){return u.some(function(f){return l.indexOf(f)===0})},i,Bn)},rn.prototype.anyOf=function(){var i,l,u=this,f=O.apply(I,arguments),h=this._cmp;try{f.sort(h)}catch{return En(this,Fn)}return f.length===0?pr(this):((i=new this.Collection(this,function(){return Dn(f[0],f[f.length-1])}))._ondirectionchange=function(_){h=_==="next"?u._ascending:u._descending,f.sort(h)},l=0,i._addAlgorithm(function(_,w,E){for(var N=_.key;0<h(N,f[l]);)if(++l===f.length)return w(E),!1;return h(N,f[l])===0||(w(function(){_.continue(f[l])}),!1)}),i)},rn.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},rn.prototype.noneOf=function(){var i=O.apply(I,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return En(this,Fn)}var l=i.reduce(function(u,f){return u?u.concat([[u[u.length-1][1],f]]):[[-1/0,f]]},null);return l.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},rn.prototype.inAnyRange=function(i,te){var u=this,f=this._cmp,h=this._ascending,_=this._descending,w=this._min,E=this._max;if(i.length===0)return pr(this);if(!i.every(function(U){return U[0]!==void 0&&U[1]!==void 0&&h(U[0],U[1])<=0}))return En(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",he.InvalidArgument);var N=!te||te.includeLowers!==!1,G=te&&te.includeUppers===!0,B,R=h;function z(U,_e){return R(U[0],_e[0])}try{(B=i.reduce(function(U,_e){for(var Ee=0,Te=U.length;Ee<Te;++Ee){var Ae=U[Ee];if(f(_e[0],Ae[1])<0&&0<f(_e[1],Ae[0])){Ae[0]=w(Ae[0],_e[0]),Ae[1]=E(Ae[1],_e[1]);break}}return Ee===Te&&U.push(_e),U},[])).sort(z)}catch{return En(this,Fn)}var K=0,F=G?function(U){return 0<h(U,B[K][1])}:function(U){return 0<=h(U,B[K][1])},M=N?function(U){return 0<_(U,B[K][0])}:function(U){return 0<=_(U,B[K][0])},X=F,te=new this.Collection(this,function(){return Dn(B[0][0],B[B.length-1][1],!N,!G)});return te._ondirectionchange=function(U){R=U==="next"?(X=F,h):(X=M,_),B.sort(z)},te._addAlgorithm(function(U,_e,Ee){for(var Te,Ae=U.key;X(Ae);)if(++K===B.length)return _e(Ee),!1;return!F(Te=Ae)&&!M(Te)||(u._cmp(Ae,B[K][1])===0||u._cmp(Ae,B[K][0])===0||_e(function(){R===h?U.continue(B[K][0]):U.continue(B[K][1])}),!1)}),te},rn.prototype.startsWithAnyOf=function(){var i=O.apply(I,arguments);return i.every(function(l){return typeof l=="string"})?i.length===0?pr(this):this.inAnyRange(i.map(function(l){return[l,l+Bn]})):En(this,"startsWithAnyOf() only works with strings")};var Qn=rn;function rn(){}function Kn(i){return Ue(function(l){return rr(l),i(l.target.error),!1})}function rr(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var br="storagemutated",yr="x-storagemutated-1",Jn=gr(null,br),Yn=(jn.prototype._lock=function(){return H(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},jn.prototype._unlock=function(){if(H(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{pn(i[1],i[0])}catch{}}return this},jn.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},jn.prototype.create=function(i){var l=this;if(this.mode){var u=this.db.idbdb,f=this.db._state.dbOpenError;if(H(!this.idbtrans),!i&&!u)switch(f&&f.name){case"DatabaseClosedError":throw new he.DatabaseClosed(f);case"MissingAPIError":throw new he.MissingAPI(f.message,f);default:throw new he.OpenFailed(f)}if(!this.active)throw new he.TransactionInactive;H(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ue(function(h){rr(h),l._reject(i.error)}),i.onabort=Ue(function(h){rr(h),l.active&&l._reject(new he.Abort(i.error)),l.active=!1,l.on("abort").fire(h)}),i.oncomplete=Ue(function(){l.active=!1,l._resolve(),"mutatedParts"in i&&Jn.storagemutated.fire(i.mutatedParts)})}return this},jn.prototype._promise=function(i,l,u){var f,h=this;return i==="readwrite"&&this.mode!=="readwrite"?Lt(new he.ReadOnly("Transaction is readonly")):this.active?this._locked()?new we(function(_,w){h._blockedFuncs.push([function(){h._promise(i,l,u).then(_,w)},Re])}):u?wn(function(){var _=new we(function(w,E){h._lock();var N=l(w,E,h);N&&N.then&&N.then(w,E)});return _.finally(function(){return h._unlock()}),_._lib=!0,_}):((f=new we(function(_,w){var E=l(_,w,h);E&&E.then&&E.then(_,w)}))._lib=!0,f):Lt(new he.TransactionInactive)},jn.prototype._root=function(){return this.parent?this.parent._root():this},jn.prototype.waitFor=function(i){var l,u=this._root(),f=we.resolve(i),h=(u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return f}):(u._waitingFor=f,u._waitingQueue=[],l=u.idbtrans.objectStore(u.storeNames[0]),function _(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(l.get(-1/0).onsuccess=_)}()),u._waitingFor);return new we(function(_,w){f.then(function(E){return u._waitingQueue.push(Ue(_.bind(null,E)))},function(E){return u._waitingQueue.push(Ue(w.bind(null,E)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},jn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new he.Abort))},jn.prototype.table=function(i){var l=this._memoizedTables||(this._memoizedTables={});if(b(l,i))return l[i];var u=this.schema[i];if(u)return(u=new this.db.Table(i,u,this)).core=this.db.core.table(i),l[i]=u;throw new he.NotFound("Table "+i+" not part of transaction")},jn);function jn(){}function Fr(i,l,u,f,h,_,w,E){return{name:i,keyPath:l,unique:u,multi:f,auto:h,compound:_,src:(u&&!w?"&":"")+(f?"*":"")+(h?"++":"")+gi(l),type:E}}function gi(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Yr(i,l,u){return{name:i,primKey:l,indexes:u,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},u.reduce(function(h,_,w){return _=f(_,w),_&&(h[_[0]]=_[1]),h},{}))};var f}var wr=function(i){try{return i.only([[]]),wr=function(){return[[]]},[[]]}catch{return wr=function(){return Bn},Bn}};function Zr(i){return i==null?function(){}:typeof i=="string"?(l=i).split(".").length===1?function(u){return u[l]}:function(u){return ie(u,l)}:function(u){return ie(u,i)};var l}function _i(i){return[].slice.call(i)}var xi=0;function kr(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Wi(i,l,N){function f(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var R=F.lower,z=F.upper,K=F.lowerOpen,F=F.upperOpen;return R===void 0?z===void 0?null:l.upperBound(z,!!F):z===void 0?l.lowerBound(R,!!K):l.bound(R,z,!!K,!!F)}function h(B){var R,z=B.name;return{name:z,schema:B,mutate:function(K){var F=K.trans,M=K.type,X=K.keys,te=K.values,U=K.range;return new Promise(function(_e,Ee){_e=Ue(_e);var Te=F.objectStore(z),Ae=Te.keyPath==null,De=M==="put"||M==="add";if(!De&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var je,Pe=(X||te||{length:1}).length;if(X&&te&&X.length!==te.length)throw new Error("Given keys array must have same length as given values array.");if(Pe===0)return _e({numFailures:0,failures:{},results:[],lastResult:void 0});function Ie(Xt){++Dt,rr(Xt)}var He=[],wt=[],Dt=0;if(M==="deleteRange"){if(U.type===4)return _e({numFailures:Dt,failures:wt,results:[],lastResult:void 0});U.type===3?He.push(je=Te.clear()):He.push(je=Te.delete(f(U)))}else{var Ae=De?Ae?[te,X]:[te,null]:[X,null],Qe=Ae[0],ft=Ae[1];if(De)for(var Yt=0;Yt<Pe;++Yt)He.push(je=ft&&ft[Yt]!==void 0?Te[M](Qe[Yt],ft[Yt]):Te[M](Qe[Yt])),je.onerror=Ie;else for(Yt=0;Yt<Pe;++Yt)He.push(je=Te[M](Qe[Yt])),je.onerror=Ie}function qn(Xt){Xt=Xt.target.result,He.forEach(function(Cr,ua){return Cr.error!=null&&(wt[ua]=Cr.error)}),_e({numFailures:Dt,failures:wt,results:M==="delete"?X:He.map(function(Cr){return Cr.result}),lastResult:Xt})}je.onerror=function(Xt){Ie(Xt),qn(Xt)},je.onsuccess=qn})},getMany:function(K){var F=K.trans,M=K.keys;return new Promise(function(X,te){X=Ue(X);for(var U,_e=F.objectStore(z),Ee=M.length,Te=new Array(Ee),Ae=0,De=0,je=function(He){He=He.target,Te[He._pos]=He.result,++De===Ae&&X(Te)},Pe=Kn(te),Ie=0;Ie<Ee;++Ie)M[Ie]!=null&&((U=_e.get(M[Ie]))._pos=Ie,U.onsuccess=je,U.onerror=Pe,++Ae);Ae===0&&X(Te)})},get:function(K){var F=K.trans,M=K.key;return new Promise(function(X,te){X=Ue(X);var U=F.objectStore(z).get(M);U.onsuccess=function(_e){return X(_e.target.result)},U.onerror=Kn(te)})},query:(R=E,function(K){return new Promise(function(F,M){F=Ue(F);var X,te,U,De=K.trans,_e=K.values,Ee=K.limit,Ae=K.query,Te=Ee===1/0?void 0:Ee,je=Ae.index,Ae=Ae.range,De=De.objectStore(z),De=je.isPrimaryKey?De:De.index(je.name),je=f(Ae);if(Ee===0)return F({result:[]});R?((Ae=_e?De.getAll(je,Te):De.getAllKeys(je,Te)).onsuccess=function(Pe){return F({result:Pe.target.result})},Ae.onerror=Kn(M)):(X=0,te=!_e&&"openKeyCursor"in De?De.openKeyCursor(je):De.openCursor(je),U=[],te.onsuccess=function(Pe){var Ie=te.result;return!Ie||(U.push(_e?Ie.value:Ie.primaryKey),++X===Ee)?F({result:U}):void Ie.continue()},te.onerror=Kn(M))})}),openCursor:function(K){var F=K.trans,M=K.values,X=K.query,te=K.reverse,U=K.unique;return new Promise(function(_e,Ee){_e=Ue(_e);var De=X.index,Te=X.range,Ae=F.objectStore(z),Ae=De.isPrimaryKey?Ae:Ae.index(De.name),De=te?U?"prevunique":"prev":U?"nextunique":"next",je=!M&&"openKeyCursor"in Ae?Ae.openKeyCursor(f(Te),De):Ae.openCursor(f(Te),De);je.onerror=Kn(Ee),je.onsuccess=Ue(function(Pe){var Ie,He,wt,Dt,Qe=je.result;Qe?(Qe.___id=++xi,Qe.done=!1,Ie=Qe.continue.bind(Qe),He=(He=Qe.continuePrimaryKey)&&He.bind(Qe),wt=Qe.advance.bind(Qe),Dt=function(){throw new Error("Cursor not stopped")},Qe.trans=F,Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=function(){throw new Error("Cursor not started")},Qe.fail=Ue(Ee),Qe.next=function(){var ft=this,Yt=1;return this.start(function(){return Yt--?ft.continue():ft.stop()}).then(function(){return ft})},Qe.start=function(ft){function Yt(){if(je.result)try{ft()}catch(Xt){Qe.fail(Xt)}else Qe.done=!0,Qe.start=function(){throw new Error("Cursor behind last entry")},Qe.stop()}var qn=new Promise(function(Xt,Cr){Xt=Ue(Xt),je.onerror=Kn(Cr),Qe.fail=Cr,Qe.stop=function(ua){Qe.stop=Qe.continue=Qe.continuePrimaryKey=Qe.advance=Dt,Xt(ua)}});return je.onsuccess=Ue(function(Xt){je.onsuccess=Yt,Yt()}),Qe.continue=Ie,Qe.continuePrimaryKey=He,Qe.advance=wt,Yt(),qn},_e(Qe)):_e(null)},Ee)})},count:function(K){var F=K.query,M=K.trans,X=F.index,te=F.range;return new Promise(function(U,_e){var Ee=M.objectStore(z),Ee=X.isPrimaryKey?Ee:Ee.index(X.name),Te=f(te),Te=Te?Ee.count(Te):Ee.count();Te.onsuccess=Ue(function(Ae){return U(Ae.target.result)}),Te.onerror=Kn(_e)})}}}_=N,w=_i((N=i).objectStoreNames);var _,N={schema:{name:N.name,tables:w.map(function(B){return _.objectStore(B)}).map(function(B){var R=B.keyPath,z=B.autoIncrement,F=c(R),K={},F={name:B.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:R==null,compound:F,keyPath:R,autoIncrement:z,unique:!0,extractKey:Zr(R)},indexes:_i(B.indexNames).map(function(M){return B.index(M)}).map(function(U){var _e=U.name,X=U.unique,te=U.multiEntry,U=U.keyPath,_e={name:_e,compound:c(U),keyPath:U,unique:X,multiEntry:te,extractKey:Zr(U)};return K[kr(U)]=_e}),getIndexByKeyPath:function(M){return K[kr(M)]}};return K[":id"]=F.primaryKey,R!=null&&(K[kr(R)]=F.primaryKey),F})},hasGetAll:0<w.length&&"getAll"in _.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=N.schema,E=N.hasGetAll,N=w.tables.map(h),G={};return N.forEach(function(B){return G[B.name]=B}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(B){if(G[B])return G[B];throw new Error("Table '".concat(B,"' not found"))},MIN_KEY:-1/0,MAX_KEY:wr(l),schema:w}}function Yi(i,l,u,f){return u=u.IDBKeyRange,l=Wi(l,u,f),{dbcore:i.dbcore.reduce(function(h,_){return _=_.create,r(r({},h),_(h))},l)}}function k(i,l){var u=l.db,u=Yi(i._middlewares,u,i._deps,l);i.core=u.dbcore,i.tables.forEach(function(f){var h=f.name;i.core.schema.tables.some(function(_){return _.name===h})&&(f.core=i.core.table(h),i[h]instanceof i.Table)&&(i[h].core=f.core)})}function ke(i,l,u,f){u.forEach(function(h){var _=f[h];l.forEach(function(w){var E=function N(G,B){return L(G,B)||(G=m(G))&&N(G,B)}(w,h);(!E||"value"in E&&E.value===void 0)&&(w===i.Transaction.prototype||w instanceof i.Transaction?S(w,h,{get:function(){return this.table(h)},set:function(N){P(this,h,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):w[h]=new i.Table(h,_))})})}function rt(i,l){l.forEach(function(u){for(var f in u)u[f]instanceof i.Table&&delete u[f]})}function Xe(i,l){return i._cfg.version-l._cfg.version}function xt(i,l,u,f){var h=i._dbSchema,_=(u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Yr("$meta",Pa("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,h)),w=(_.create(u),_._completion.catch(f),_._reject.bind(_)),E=Re.transless||Re;wn(function(){if(Re.trans=_,Re.transless=E,l!==0)return k(i,u),G=l,((N=_).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(B){return B??G}):we.resolve(G)).then(function(X){var R=i,z=X,K=_,F=u,M=[],X=R._versions,te=R._dbSchema=vi(0,R.idbdb,F);return(X=X.filter(function(U){return U._cfg.version>=z})).length===0?we.resolve():(X.forEach(function(U){M.push(function(){var _e,Ee,Te,Ae=te,De=U._cfg.dbschema,je=(bi(R,Ae,F),bi(R,De,F),te=R._dbSchema=De,mn(Ae,De)),Pe=(je.add.forEach(function(Ie){Sn(F,Ie[0],Ie[1].primKey,Ie[1].indexes)}),je.change.forEach(function(Ie){if(Ie.recreate)throw new he.Upgrade("Not yet support for changing primary key");var He=F.objectStore(Ie.name);Ie.add.forEach(function(wt){return Xn(He,wt)}),Ie.change.forEach(function(wt){He.deleteIndex(wt.name),Xn(He,wt)}),Ie.del.forEach(function(wt){return He.deleteIndex(wt)})}),U._cfg.contentUpgrade);if(Pe&&U._cfg.version>z)return k(R,F),K._memoizedTables={},_e=pe(De),je.del.forEach(function(Ie){_e[Ie]=Ae[Ie]}),rt(R,[R.Transaction.prototype]),ke(R,[R.Transaction.prototype],o(_e),_e),K.schema=_e,(Ee=q(Pe))&&ln(),De=we.follow(function(){var Ie;(Te=Pe(K))&&Ee&&(Ie=kn.bind(null,null),Te.then(Ie,Ie))}),Te&&typeof Te.then=="function"?we.resolve(Te):De.then(function(){return Te})}),M.push(function(_e){var Ee,Te,Ae=U._cfg.dbschema;Ee=Ae,Te=_e,[].slice.call(Te.db.objectStoreNames).forEach(function(De){return Ee[De]==null&&Te.db.deleteObjectStore(De)}),rt(R,[R.Transaction.prototype]),ke(R,[R.Transaction.prototype],R._storeNames,R._dbSchema),K.schema=R._dbSchema}),M.push(function(_e){R.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(R.idbdb.version/10)===U._cfg.version?(R.idbdb.deleteObjectStore("$meta"),delete R._dbSchema.$meta,R._storeNames=R._storeNames.filter(function(Ee){return Ee!=="$meta"})):_e.objectStore("$meta").put(U._cfg.version,"version"))})}),function U(){return M.length?we.resolve(M.shift()(K.idbtrans)).then(U):we.resolve()}().then(function(){Zn(te,F)}))}).catch(w);var N,G;o(h).forEach(function(B){Sn(u,B,h[B].primKey,h[B].indexes)}),k(i,u),we.follow(function(){return i.on.populate.fire(_)}).catch(w)})}function In(i,l){Zn(i._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var u=vi(0,i.idbdb,l);bi(i,i._dbSchema,l);for(var f=0,h=mn(u,i._dbSchema).change;f<h.length;f++){var _=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var E=l.objectStore(w.name);w.add.forEach(function(N){Tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(N.src)),Xn(E,N)})})(h[f]);if(typeof _=="object")return _.value}}function mn(i,l){var u,f={del:[],add:[],change:[]};for(u in i)l[u]||f.del.push(u);for(u in l){var h=i[u],_=l[u];if(h){var w={name:u,def:_,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(_.primKey.keyPath||"")||h.primKey.auto!==_.primKey.auto)w.recreate=!0,f.change.push(w);else{var E=h.idxByName,N=_.idxByName,G=void 0;for(G in E)N[G]||w.del.push(G);for(G in N){var B=E[G],R=N[G];B?B.src!==R.src&&w.change.push(R):w.add.push(R)}(0<w.del.length||0<w.add.length||0<w.change.length)&&f.change.push(w)}}else f.add.push([u,_])}return f}function Sn(i,l,u,f){var h=i.db.createObjectStore(l,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});f.forEach(function(_){return Xn(h,_)})}function Zn(i,l){o(i).forEach(function(u){l.db.objectStoreNames.contains(u)||(Tt&&console.debug("Dexie: Creating missing table",u),Sn(l,u,i[u].primKey,i[u].indexes))})}function Xn(i,l){i.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function vi(i,l,u){var f={};return V(l.objectStoreNames,0).forEach(function(h){for(var _=u.objectStore(h),w=Fr(gi(G=_.keyPath),G||"",!0,!1,!!_.autoIncrement,G&&typeof G!="string",!0),E=[],N=0;N<_.indexNames.length;++N){var B=_.index(_.indexNames[N]),G=B.keyPath,B=Fr(B.name,G,!!B.unique,!!B.multiEntry,!1,G&&typeof G!="string",!1);E.push(B)}f[h]=Yr(h,w,E)}),f}function bi(i,l,u){for(var f=u.db.objectStoreNames,h=0;h<f.length;++h){var _=f[h],w=u.objectStore(_);i._hasGetAll="getAll"in w;for(var E=0;E<w.indexNames.length;++E){var N,G=w.indexNames[E],B=w.index(G).keyPath,B=typeof B=="string"?B:"["+V(B).join("+")+"]";l[_]&&(N=l[_].idxByName[B])&&(N.name=G,delete l[_].idxByName[B],l[_].idxByName[G]=N)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Pa(i){return i.split(",").map(function(l,u){var h=l.split(":"),f=(f=h[1])==null?void 0:f.trim(),h=(l=h[0].trim()).replace(/([&*]|\+\+)/g,""),_=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Fr(h,_||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),c(_),u===0,f)})}zr.prototype._createTableSchema=Yr,zr.prototype._parseIndexSyntax=Pa,zr.prototype._parseStoresSpec=function(i,l){var u=this;o(i).forEach(function(f){if(i[f]!==null){var h=u._parseIndexSyntax(i[f]),_=h.shift();if(!_)throw new he.Schema("Invalid schema for table "+f+": "+i[f]);if(_.unique=!0,_.multi)throw new he.Schema("Primary key cannot be multiEntry*");h.forEach(function(w){if(w.auto)throw new he.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new he.Schema("Index must have a name and cannot be an empty string")}),_=u._createTableSchema(f,_,h),l[f]=_}})},zr.prototype.stores=function(u){var l=this.db,u=(this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,u):u,l._versions),f={},h={};return u.forEach(function(_){d(f,_._cfg.storesSource),h=_._cfg.dbschema={},_._parseStoresSpec(f,h)}),l._dbSchema=h,rt(l,[l._allTables,l,l.Transaction.prototype]),ke(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],o(h),h),l._storeNames=o(h),this},zr.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Et(this._cfg.contentUpgrade||qe,i),this};var jo=zr;function zr(){}function Zi(i,l){var u=i._dbNamesDB;return u||(u=i._dbNamesDB=new ir(Cn,{addons:[],indexedDB:i,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Qi(i){return i&&typeof i.databases=="function"}function Ji(i){return wn(function(){return Re.letThrough=!0,i()})}function Xi(i){return!("from"in i)}var gn=function(i,l){var u;if(!this)return u=new gn,i&&"d"in i&&d(u,i),u;d(this,arguments.length?{d:1,from:i,to:1<arguments.length?l:i}:{d:0})};function Qr(i,l,u){var f=pt(l,u);if(!isNaN(f)){if(0<f)throw RangeError();if(Xi(i))return d(i,{from:l,to:u,d:1});var f=i.l,h=i.r;if(pt(u,i.from)<0)return f?Qr(f,l,u):i.l={from:l,to:u,d:1,l:null,r:null},Ra(i);if(0<pt(l,i.to))return h?Qr(h,l,u):i.r={from:l,to:u,d:1,l:null,r:null},Ra(i);pt(l,i.from)<0&&(i.from=l,i.l=null,i.d=h?h.d+1:1),0<pt(u,i.to)&&(i.to=u,i.r=null,i.d=i.l?i.l.d+1:1),l=!i.r,f&&!i.l&&Jr(i,f),h&&l&&Jr(i,h)}}function Jr(i,l){Xi(l)||function u(f,h){var _=h.from,w=h.l,E=h.r;Qr(f,_,h.to),w&&u(f,w),E&&u(f,E)}(i,l)}function La(i,l){var u=yi(l),f=u.next();if(!f.done)for(var h=f.value,_=yi(i),w=_.next(h.from),E=w.value;!f.done&&!w.done;){if(pt(E.from,h.to)<=0&&0<=pt(E.to,h.from))return!0;pt(h.from,E.from)<0?h=(f=u.next(E.from)).value:E=(w=_.next(h.from)).value}return!1}function yi(i){var l=Xi(i)?null:{s:0,n:i};return{next:function(u){for(var f=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,f)for(;l.n.l&&pt(u,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!f||pt(u,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Ra(i){var l,u,f,h=(((h=i.r)==null?void 0:h.d)||0)-(((h=i.l)==null?void 0:h.d)||0),h=1<h?"r":h<-1?"l":"";h&&(l=h=="r"?"l":"r",u=r({},i),f=i[h],i.from=f.from,i.to=f.to,i[h]=f[h],u[h]=f[l],(i[l]=u).d=Ma(u)),i.d=Ma(i)}function Ma(u){var l=u.r,u=u.l;return(l?u?Math.max(l.d,u.d):l.d:u?u.d:0)+1}function wi(i,l){return o(l).forEach(function(u){i[u]?Jr(i[u],l[u]):i[u]=function f(h){var _,w,E={};for(_ in h)b(h,_)&&(w=h[_],E[_]=!w||typeof w!="object"||ve.has(w.constructor)?w:f(w));return E}(l[u])}),i}function $i(i,l){return i.all||l.all||Object.keys(i).some(function(u){return l[u]&&La(l[u],i[u])})}D(gn.prototype,((Le={add:function(i){return Jr(this,i),this},addKey:function(i){return Qr(this,i,i),this},addKeys:function(i){var l=this;return i.forEach(function(u){return Qr(l,u,u)}),this},hasKey:function(i){var l=yi(this).next(i).value;return l&&pt(l.from,i)<=0&&0<=pt(l.to,i)}})[ye]=function(){return yi(this)},Le));var Er={},ea={},ta=!1;function ki(i){wi(ea,i),ta||(ta=!0,setTimeout(function(){ta=!1,na(ea,!(ea={}))},0))}function na(i,l){l===void 0&&(l=!1);var u=new Set;if(i.all)for(var f=0,h=Object.values(Er);f<h.length;f++)Na(E=h[f],i,u,l);else for(var _ in i){var w,E,_=/^idb\:\/\/(.*)\/(.*)\//.exec(_);_&&(w=_[1],_=_[2],E=Er["idb://".concat(w,"/").concat(_)])&&Na(E,i,u,l)}u.forEach(function(N){return N()})}function Na(i,l,u,f){for(var h=[],_=0,w=Object.entries(i.queries.query);_<w.length;_++){for(var E=w[_],N=E[0],G=[],B=0,R=E[1];B<R.length;B++){var z=R[B];$i(l,z.obsSet)?z.subscribers.forEach(function(X){return u.add(X)}):f&&G.push(z)}f&&h.push([N,G])}if(f)for(var K=0,F=h;K<F.length;K++){var M=F[K],N=M[0],G=M[1];i.queries.query[N]=G}}function qo(i){var l=i._state,u=i._deps.indexedDB;if(l.isBeingOpened||i.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Lt(l.dbOpenError):i});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var f=l.openCanceller,h=Math.round(10*i.verno),_=!1;function w(){if(l.openCanceller!==f)throw new he.DatabaseClosed("db.open() was cancelled")}function E(){return new we(function(z,K){if(w(),!u)throw new he.MissingAPI;var F=i.name,M=l.autoSchema||!h?u.open(F):u.open(F,h);if(!M)throw new he.MissingAPI;M.onerror=Kn(K),M.onblocked=Ue(i._fireOnBlocked),M.onupgradeneeded=Ue(function(X){var te;B=M.transaction,l.autoSchema&&!i._options.allowEmptyDB?(M.onerror=rr,B.abort(),M.result.close(),(te=u.deleteDatabase(F)).onsuccess=te.onerror=Ue(function(){K(new he.NoSuchDatabase("Database ".concat(F," doesnt exist")))})):(B.onerror=Kn(K),te=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,R=te<1,i.idbdb=M.result,_&&In(i,B),xt(i,te/10,B,K))},K),M.onsuccess=Ue(function(){B=null;var X,te,U,_e,Ee,Te,Ae=i.idbdb=M.result,De=V(Ae.objectStoreNames);if(0<De.length)try{var je=Ae.transaction((Ee=De).length===1?Ee[0]:Ee,"readonly");if(l.autoSchema)Te=Ae,_e=je,(U=i).verno=Te.version/10,_e=U._dbSchema=vi(0,Te,_e),U._storeNames=V(Te.objectStoreNames,0),ke(U,[U._allTables],o(_e),_e);else if(bi(i,i._dbSchema,je),te=je,((te=mn(vi(0,(X=i).idbdb,te),X._dbSchema)).add.length||te.change.some(function(Pe){return Pe.add.length||Pe.change.length}))&&!_)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ae.close(),h=Ae.version+1,_=!0,z(E());k(i,je)}catch{}tr.push(i),Ae.onversionchange=Ue(function(Pe){l.vcFired=!0,i.on("versionchange").fire(Pe)}),Ae.onclose=Ue(function(){i.close({disableAutoOpen:!1})}),R&&(De=i._deps,Ee=F,Qi(Te=De.indexedDB)||Ee===Cn||Zi(Te,De.IDBKeyRange).put({name:Ee}).catch(qe)),z()},K)}).catch(function(z){switch(z==null?void 0:z.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),E();break;case"VersionError":if(0<h)return h=0,E()}return we.reject(z)})}var N,G=l.dbReadyResolve,B=null,R=!1;return we.race([f,(typeof navigator>"u"?we.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function K(){return indexedDB.databases().finally(z)}N=setInterval(K,100),K()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(E)]).then(function(){return w(),l.onReadyBeingFired=[],we.resolve(Ji(function(){return i.on.ready.fire(i.vip)})).then(function z(){var K;if(0<l.onReadyBeingFired.length)return K=l.onReadyBeingFired.reduce(Et,qe),l.onReadyBeingFired=[],we.resolve(Ji(function(){return K(i.vip)})).then(z)})}).finally(function(){l.openCanceller===f&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(z){l.dbOpenError=z;try{B&&B.abort()}catch{}return f===l.openCanceller&&i._close(),Lt(z)}).finally(function(){l.openComplete=!0,G()}).then(function(){var z;return R&&(z={},i.tables.forEach(function(K){K.schema.indexes.forEach(function(F){F.name&&(z["idb://".concat(i.name,"/").concat(K.name,"/").concat(F.name)]=new gn(-1/0,[[[]]]))}),z["idb://".concat(i.name,"/").concat(K.name,"/")]=z["idb://".concat(i.name,"/").concat(K.name,"/:dels")]=new gn(-1/0,[[[]]])}),Jn(br).fire(z),na(z,!0)),i})}function ra(i){function l(_){return i.next(_)}var u=h(l),f=h(function(_){return i.throw(_)});function h(_){return function(E){var E=_(E),N=E.value;return E.done?N:N&&typeof N.then=="function"?N.then(u,f):c(N)?Promise.all(N).then(u,f):u(N)}}return h(l)()}function Ei(i,l,u){for(var f=c(i)?i.slice():[i],h=0;h<u;++h)f.push(l);return f}var Ho={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(f){var u=i.table(f),f=u.schema,h={},_=[];function w(z,K,F){var U=kr(z),M=h[U]=h[U]||[],X=z==null?0:typeof z=="string"?1:z.length,te=0<K,U=r(r({},F),{name:te?"".concat(U,"(virtual-from:").concat(F.name,")"):F.name,lowLevelIndex:F,isVirtual:te,keyTail:K,keyLength:X,extractKey:Zr(z),unique:!te&&F.unique});return M.push(U),U.isPrimaryKey||_.push(U),1<X&&w(X===2?z[0]:z.slice(0,X-1),K+1,F),M.sort(function(_e,Ee){return _e.keyTail-Ee.keyTail}),U}var E=w(f.primaryKey.keyPath,0,f.primaryKey);h[":id"]=[E];for(var N=0,G=f.indexes;N<G.length;N++){var B=G[N];w(B.keyPath,0,B)}function R(z){var K,F=z.query.index;return F.isVirtual?r(r({},z),{query:{index:F.lowLevelIndex,range:(K=z.query.range,F=F.keyTail,{type:K.type===1?2:K.type,lower:Ei(K.lower,K.lowerOpen?i.MAX_KEY:i.MIN_KEY,F),lowerOpen:!0,upper:Ei(K.upper,K.upperOpen?i.MIN_KEY:i.MAX_KEY,F),upperOpen:!0})}}):z}return r(r({},u),{schema:r(r({},f),{primaryKey:E,indexes:_,getIndexByKeyPath:function(z){return(z=h[kr(z)])&&z[0]}}),count:function(z){return u.count(R(z))},query:function(z){return u.query(R(z))},openCursor:function(z){var K=z.query.index,F=K.keyTail,M=K.keyLength;return K.isVirtual?u.openCursor(R(z)).then(function(te){return te&&X(te)}):u.openCursor(z);function X(te){return Object.create(te,{continue:{value:function(U){U!=null?te.continue(Ei(U,z.reverse?i.MAX_KEY:i.MIN_KEY,F)):z.unique?te.continue(te.key.slice(0,M).concat(z.reverse?i.MIN_KEY:i.MAX_KEY,F)):te.continue()}},continuePrimaryKey:{value:function(U,_e){te.continuePrimaryKey(Ei(U,i.MAX_KEY,F),_e)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var U=te.key;return M===1?U[0]:U.slice(0,M)}},value:{get:function(){return te.value}}})}}})}})}};function ia(i,l,u,f){return u=u||{},f=f||"",o(i).forEach(function(h){var _,w,E;b(l,h)?(_=i[h],w=l[h],typeof _=="object"&&typeof w=="object"&&_&&w?(E=ge(_))!==ge(w)?u[f+h]=l[h]:E==="Object"?ia(_,w,u,f+h+"."):_!==w&&(u[f+h]=l[h]):_!==w&&(u[f+h]=l[h])):u[f+h]=void 0}),o(l).forEach(function(h){b(i,h)||(u[f+h]=l[h])}),u}function aa(i,l){return l.type==="delete"?l.keys:l.keys||l.values.map(i.extractKey)}var Vo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(l){var u=i.table(l),f=u.schema.primaryKey;return r(r({},u),{mutate:function(h){var _=Re.trans,w=_.table(l).hook,E=w.deleting,N=w.creating,G=w.updating;switch(h.type){case"add":if(N.fire===qe)break;return _._promise("readwrite",function(){return B(h)},!0);case"put":if(N.fire===qe&&G.fire===qe)break;return _._promise("readwrite",function(){return B(h)},!0);case"delete":if(E.fire===qe)break;return _._promise("readwrite",function(){return B(h)},!0);case"deleteRange":if(E.fire===qe)break;return _._promise("readwrite",function(){return function R(z,K,F){return u.query({trans:z,values:!1,query:{index:f,range:K},limit:F}).then(function(M){var X=M.result;return B({type:"delete",keys:X,trans:z}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):X.length<F?{failures:[],numFailures:0,lastResult:void 0}:R(z,r(r({},K),{lower:X[X.length-1],lowerOpen:!0}),F)})})}(h.trans,h.range,1e4)},!0)}return u.mutate(h);function B(R){var z,K,F,M=Re.trans,X=R.keys||aa(f,R);if(X)return(R=R.type==="add"||R.type==="put"?r(r({},R),{keys:X}):r({},R)).type!=="delete"&&(R.values=a([],R.values)),R.keys&&(R.keys=a([],R.keys)),z=u,F=X,((K=R).type==="add"?Promise.resolve([]):z.getMany({trans:K.trans,keys:F,cache:"immutable"})).then(function(te){var U=X.map(function(_e,Ee){var Te,Ae,De,je=te[Ee],Pe={onerror:null,onsuccess:null};return R.type==="delete"?E.fire.call(Pe,_e,je,M):R.type==="add"||je===void 0?(Te=N.fire.call(Pe,_e,R.values[Ee],M),_e==null&&Te!=null&&(R.keys[Ee]=_e=Te,f.outbound||Z(R.values[Ee],f.keyPath,_e))):(Te=ia(je,R.values[Ee]),(Ae=G.fire.call(Pe,Te,_e,je,M))&&(De=R.values[Ee],Object.keys(Ae).forEach(function(Ie){b(De,Ie)?De[Ie]=Ae[Ie]:Z(De,Ie,Ae[Ie])}))),Pe});return u.mutate(R).then(function(_e){for(var Ee=_e.failures,Te=_e.results,Ae=_e.numFailures,_e=_e.lastResult,De=0;De<X.length;++De){var je=(Te||X)[De],Pe=U[De];je==null?Pe.onerror&&Pe.onerror(Ee[De]):Pe.onsuccess&&Pe.onsuccess(R.type==="put"&&te[De]?R.values[De]:je)}return{failures:Ee,results:Te,numFailures:Ae,lastResult:_e}}).catch(function(_e){return U.forEach(function(Ee){return Ee.onerror&&Ee.onerror(_e)}),Promise.reject(_e)})});throw new Error("Keys missing")}}})}})}};function Ba(i,l,u){try{if(!l||l.keys.length<i.length)return null;for(var f=[],h=0,_=0;h<l.keys.length&&_<i.length;++h)pt(l.keys[h],i[_])===0&&(f.push(u?ue(l.values[h]):l.values[h]),++_);return f.length===i.length?f:null}catch{return null}}var Uo={stack:"dbcore",level:-1,create:function(i){return{table:function(l){var u=i.table(l);return r(r({},u),{getMany:function(f){var h;return f.cache?(h=Ba(f.keys,f.trans._cache,f.cache==="clone"))?we.resolve(h):u.getMany(f).then(function(_){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?ue(_):_},_}):u.getMany(f)},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),u.mutate(f)}})}}}};function Fa(i,l){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function za(i,l){switch(i){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Go={stack:"dbcore",level:0,name:"Observability",create:function(i){var l=i.schema.name,u=new gn(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(f,h,_){if(Re.subscr&&h!=="readonly")throw new he.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return i.transaction(f,h,_)},table:function(f){function h(X){var M,X=X.query;return[M=X.index,new gn((M=(X=X.range).lower)!=null?M:i.MIN_KEY,(M=X.upper)!=null?M:i.MAX_KEY)]}var _=i.table(f),w=_.schema,E=w.primaryKey,N=w.indexes,G=E.extractKey,B=E.outbound,R=E.autoIncrement&&N.filter(function(F){return F.compound&&F.keyPath.includes(E.keyPath)}),z=r(r({},_),{mutate:function(F){function M(He){return He="idb://".concat(l,"/").concat(f,"/").concat(He),Ee[He]||(Ee[He]=new gn)}var X,te,U,_e=F.trans,Ee=F.mutatedParts||(F.mutatedParts={}),Te=M(""),Ae=M(":dels"),De=F.type,Pe=F.type==="deleteRange"?[F.range]:F.type==="delete"?[F.keys]:F.values.length<50?[aa(E,F).filter(function(He){return He}),F.values]:[],je=Pe[0],Pe=Pe[1],Ie=F.trans._cache;return c(je)?(Te.addKeys(je),(De=De==="delete"||je.length===Pe.length?Ba(je,Ie):null)||Ae.addKeys(je),(De||Pe)&&(X=M,te=De,U=Pe,w.indexes.forEach(function(He){var wt=X(He.name||"");function Dt(ft){return ft!=null?He.extractKey(ft):null}function Qe(ft){He.multiEntry&&c(ft)?ft.forEach(function(Yt){return wt.addKey(Yt)}):wt.addKey(ft)}(te||U).forEach(function(ft,Xt){var qn=te&&Dt(te[Xt]),Xt=U&&Dt(U[Xt]);pt(qn,Xt)!==0&&(qn!=null&&Qe(qn),Xt!=null)&&Qe(Xt)})}))):je?(Pe={from:(Ie=je.lower)!=null?Ie:i.MIN_KEY,to:(De=je.upper)!=null?De:i.MAX_KEY},Ae.add(Pe),Te.add(Pe)):(Te.add(u),Ae.add(u),w.indexes.forEach(function(He){return M(He.name).add(u)})),_.mutate(F).then(function(He){return!je||F.type!=="add"&&F.type!=="put"||(Te.addKeys(He.results),R&&R.forEach(function(wt){for(var Dt=F.values.map(function(qn){return wt.extractKey(qn)}),Qe=wt.keyPath.findIndex(function(qn){return qn===E.keyPath}),ft=0,Yt=He.results.length;ft<Yt;++ft)Dt[ft][Qe]=He.results[ft];M(wt.name).addKeys(Dt)})),_e.mutatedParts=wi(_e.mutatedParts||{},Ee),He})}}),K={get:function(F){return[E,new gn(F.key)]},getMany:function(F){return[E,new gn().addKeys(F.keys)]},count:h,query:h,openCursor:h};return o(K).forEach(function(F){z[F]=function(M){var X=Re.subscr,te=!!X,U=Fa(Re,_)&&za(F,M)?M.obsSet={}:X;if(te){var _e,X=function(Pe){return Pe="idb://".concat(l,"/").concat(f,"/").concat(Pe),U[Pe]||(U[Pe]=new gn)},Ee=X(""),Te=X(":dels"),te=K[F](M),Ae=te[0],te=te[1];if((F==="query"&&Ae.isPrimaryKey&&!M.values?Te:X(Ae.name||"")).add(te),!Ae.isPrimaryKey){if(F!=="count")return _e=F==="query"&&B&&M.values&&_.query(r(r({},M),{values:!1})),_[F].apply(this,arguments).then(function(Pe){if(F==="query"){if(B&&M.values)return _e.then(function(Dt){return Dt=Dt.result,Ee.addKeys(Dt),Pe});var Ie=M.values?Pe.result.map(G):Pe.result;(M.values?Ee:Te).addKeys(Ie)}else{var He,wt;if(F==="openCursor")return wt=M.values,(He=Pe)&&Object.create(He,{key:{get:function(){return Te.addKey(He.primaryKey),He.key}},primaryKey:{get:function(){var Dt=He.primaryKey;return Te.addKey(Dt),Dt}},value:{get:function(){return wt&&Ee.addKey(He.primaryKey),He.value}}})}return Pe});Te.add(u)}}return _[F].apply(this,arguments)}}),z}})}};function Ka(i,l,u){var f;return u.numFailures===0?l:l.type==="deleteRange"||(f=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1,u.numFailures===f)?null:(f=r({},l),c(f.keys)&&(f.keys=f.keys.filter(function(h,_){return!(_ in u.failures)})),"values"in f&&c(f.values)&&(f.values=f.values.filter(function(h,_){return!(_ in u.failures)})),f)}function la(i,l){return u=i,((f=l).lower===void 0||(f.lowerOpen?0<pt(u,f.lower):0<=pt(u,f.lower)))&&(u=i,(f=l).upper===void 0||(f.upperOpen?pt(u,f.upper)<0:pt(u,f.upper)<=0));var u,f}function ja(i,l,u,f,h,_){var w,E,N,G,B,R;return!u||u.length===0||(w=l.query.index,E=w.multiEntry,N=l.query.range,G=f.schema.primaryKey.extractKey,B=w.extractKey,R=(w.lowLevelIndex||w).extractKey,(f=u.reduce(function(z,K){var F=z,M=[];if(K.type==="add"||K.type==="put")for(var X=new gn,te=K.values.length-1;0<=te;--te){var U,_e=K.values[te],Ee=G(_e);!X.hasKey(Ee)&&(U=B(_e),E&&c(U)?U.some(function(Pe){return la(Pe,N)}):la(U,N))&&(X.addKey(Ee),M.push(_e))}switch(K.type){case"add":var Te=new gn().addKeys(l.values?z.map(function(Ie){return G(Ie)}):z),F=z.concat(l.values?M.filter(function(Ie){return Ie=G(Ie),!Te.hasKey(Ie)&&(Te.addKey(Ie),!0)}):M.map(function(Ie){return G(Ie)}).filter(function(Ie){return!Te.hasKey(Ie)&&(Te.addKey(Ie),!0)}));break;case"put":var Ae=new gn().addKeys(K.values.map(function(Ie){return G(Ie)}));F=z.filter(function(Ie){return!Ae.hasKey(l.values?G(Ie):Ie)}).concat(l.values?M:M.map(function(Ie){return G(Ie)}));break;case"delete":var De=new gn().addKeys(K.keys);F=z.filter(function(Ie){return!De.hasKey(l.values?G(Ie):Ie)});break;case"deleteRange":var je=K.range;F=z.filter(function(Ie){return!la(G(Ie),je)})}return F},i))===i)?i:(f.sort(function(z,K){return pt(R(z),R(K))||pt(G(z),G(K))}),l.limit&&l.limit<1/0&&(f.length>l.limit?f.length=l.limit:i.length===l.limit&&f.length<l.limit&&(h.dirty=!0)),_?Object.freeze(f):f)}function qa(i,l){return pt(i.lower,l.lower)===0&&pt(i.upper,l.upper)===0&&!!i.lowerOpen==!!l.lowerOpen&&!!i.upperOpen==!!l.upperOpen}function xo(i,l){return((u,f,h,_)=>{if(u===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((u=pt(u,f))===0){if(h&&_)return 0;if(h)return 1;if(_)return-1}return u})(i.lower,l.lower,i.lowerOpen,l.lowerOpen)<=0&&0<=((u,f,h,_)=>{if(u===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((u=pt(u,f))===0){if(h&&_)return 0;if(h)return-1;if(_)return 1}return u})(i.upper,l.upper,i.upperOpen,l.upperOpen)}function Wo(i,l,u,f){i.subscribers.add(u),f.addEventListener("abort",function(){var h,_;i.subscribers.delete(u),i.subscribers.size===0&&(h=i,_=l,setTimeout(function(){h.subscribers.size===0&&ae(_,h)},3e3))})}var Yo={stack:"dbcore",level:0,name:"Cache",create:function(i){var l=i.schema.name;return r(r({},i),{transaction:function(u,f,h){var _,w,E=i.transaction(u,f,h);return f==="readwrite"&&(h=(_=new AbortController).signal,E.addEventListener("abort",(w=function(N){return function(){if(_.abort(),f==="readwrite"){for(var G=new Set,B=0,R=u;B<R.length;B++){var z=R[B],K=Er["idb://".concat(l,"/").concat(z)];if(K){var F=i.table(z),M=K.optimisticOps.filter(function(He){return He.trans===E});if(E._explicit&&N&&E.mutatedParts)for(var X=0,te=Object.values(K.queries.query);X<te.length;X++)for(var U=0,_e=(Ae=te[X]).slice();U<_e.length;U++)$i((De=_e[U]).obsSet,E.mutatedParts)&&(ae(Ae,De),De.subscribers.forEach(function(He){return G.add(He)}));else if(0<M.length){K.optimisticOps=K.optimisticOps.filter(function(He){return He.trans!==E});for(var Ee=0,Te=Object.values(K.queries.query);Ee<Te.length;Ee++)for(var Ae,De,je,Pe=0,Ie=(Ae=Te[Ee]).slice();Pe<Ie.length;Pe++)(De=Ie[Pe]).res!=null&&E.mutatedParts&&(N&&!De.dirty?(je=Object.isFrozen(De.res),je=ja(De.res,De.req,M,F,De,je),De.dirty?(ae(Ae,De),De.subscribers.forEach(function(He){return G.add(He)})):je!==De.res&&(De.res=je,De.promise=we.resolve({result:je}))):(De.dirty&&ae(Ae,De),De.subscribers.forEach(function(He){return G.add(He)})))}}}G.forEach(function(He){return He()})}}})(!1),{signal:h}),E.addEventListener("error",w(!1),{signal:h}),E.addEventListener("complete",w(!0),{signal:h})),E},table:function(u){var f=i.table(u),h=f.schema.primaryKey;return r(r({},f),{mutate:function(_){var w,E=Re.trans;return!h.outbound&&E.db._options.cache!=="disabled"&&!E.explicit&&E.idbtrans.mode==="readwrite"&&(w=Er["idb://".concat(l,"/").concat(u)])?(E=f.mutate(_),_.type!=="add"&&_.type!=="put"||!(50<=_.values.length||aa(h,_).some(function(N){return N==null}))?(w.optimisticOps.push(_),_.mutatedParts&&ki(_.mutatedParts),E.then(function(N){0<N.numFailures&&(ae(w.optimisticOps,_),(N=Ka(0,_,N))&&w.optimisticOps.push(N),_.mutatedParts)&&ki(_.mutatedParts)}),E.catch(function(){ae(w.optimisticOps,_),_.mutatedParts&&ki(_.mutatedParts)})):E.then(function(N){var G=Ka(0,r(r({},_),{values:_.values.map(function(B,R){var z;return N.failures[R]?B:(Z(z=(z=h.keyPath)!=null&&z.includes(".")?ue(B):r({},B),h.keyPath,N.results[R]),z)})}),N);w.optimisticOps.push(G),queueMicrotask(function(){return _.mutatedParts&&ki(_.mutatedParts)})}),E):f.mutate(_)},query:function(_){var w,E,N,G,B,R,z;return Fa(Re,f)&&za("query",_)?(w=((N=Re.trans)==null?void 0:N.db._options.cache)==="immutable",E=(N=Re).requery,N=N.signal,R=((K,F,M,X)=>{var te=Er["idb://".concat(K,"/").concat(F)];if(!te)return[];if(!(K=te.queries[M]))return[null,!1,te,null];var U=K[(X.query?X.query.index.name:null)||""];if(!U)return[null,!1,te,null];switch(M){case"query":var _e=U.find(function(Ee){return Ee.req.limit===X.limit&&Ee.req.values===X.values&&qa(Ee.req.query.range,X.query.range)});return _e?[_e,!0,te,U]:[U.find(function(Ee){return("limit"in Ee.req?Ee.req.limit:1/0)>=X.limit&&(!X.values||Ee.req.values)&&xo(Ee.req.query.range,X.query.range)}),!1,te,U];case"count":return _e=U.find(function(Ee){return qa(Ee.req.query.range,X.query.range)}),[_e,!!_e,te,U]}})(l,u,"query",_),z=R[0],G=R[2],B=R[3],z&&R[1]?z.obsSet=_.obsSet:(R=f.query(_).then(function(K){var F=K.result;if(z&&(z.res=F),w){for(var M=0,X=F.length;M<X;++M)Object.freeze(F[M]);Object.freeze(F)}else K.result=ue(F);return K}).catch(function(K){return B&&z&&ae(B,z),Promise.reject(K)}),z={obsSet:_.obsSet,promise:R,subscribers:new Set,type:"query",req:_,dirty:!1},B?B.push(z):(B=[z],(G=G||(Er["idb://".concat(l,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_.query.index.name||""]=B)),Wo(z,B,E,N),z.promise.then(function(K){return{result:ja(K.result,_,G==null?void 0:G.optimisticOps,f,z,w)}})):f.query(_)}})}})}};function Si(i,l){return new Proxy(i,{get:function(u,f,h){return f==="db"?l:Reflect.get(u,f,h)}})}tn.prototype.version=function(i){if(isNaN(i)||i<.1)throw new he.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new he.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var l=this._versions,u=l.filter(function(f){return f._cfg.version===i})[0];return u||(u=new this.Version(i),l.push(u),l.sort(Xe),u.stores({}),this._state.autoSchema=!1),u},tn.prototype._whenReady=function(i){var l=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?i():new we(function(u,f){if(l._state.openComplete)return f(new he.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void f(new he.DatabaseClosed);l.open().catch(qe)}l._state.dbReadyPromise.then(u,f)}).then(i)},tn.prototype.use=function(h){var l=h.stack,u=h.create,f=h.level,h=h.name,_=(h&&this.unuse({stack:l,name:h}),this._middlewares[l]||(this._middlewares[l]=[]));return _.push({stack:l,create:u,level:f??10,name:h}),_.sort(function(w,E){return w.level-E.level}),this},tn.prototype.unuse=function(i){var l=i.stack,u=i.name,f=i.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return f?h.create!==f:!!u&&h.name!==u})),this},tn.prototype.open=function(){var i=this;return pn(Mt,function(){return qo(i)})},tn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,l=tr.indexOf(this);if(0<=l&&tr.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new we(function(u){i.dbReadyResolve=u}),i.openCanceller=new we(function(u,f){i.cancelOpen=f}))},tn.prototype.close=function(l){var l=(l===void 0?{disableAutoOpen:!0}:l).disableAutoOpen,u=this._state;l?(u.isBeingOpened&&u.cancelOpen(new he.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new he.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},tn.prototype.delete=function(i){var l=this,u=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),f=this._state;return new we(function(h,_){function w(){l.close(i);var E=l._deps.indexedDB.deleteDatabase(l.name);E.onsuccess=Ue(function(){var N,G,B;N=l._deps,G=l.name,Qi(B=N.indexedDB)||G===Cn||Zi(B,N.IDBKeyRange).delete(G).catch(qe),h()}),E.onerror=Kn(_),E.onblocked=l._fireOnBlocked}if(u)throw new he.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(w):w()})},tn.prototype.backendDB=function(){return this.idbdb},tn.prototype.isOpen=function(){return this.idbdb!==null},tn.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},tn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},tn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(tn.prototype,"tables",{get:function(){var i=this;return o(this._allTables).map(function(l){return i._allTables[l]})},enumerable:!1,configurable:!0}),tn.prototype.transaction=function(){var i=(function(l,u,f){var h=arguments.length;if(h<2)throw new he.InvalidArgument("Too few arguments");for(var _=new Array(h-1);--h;)_[h-1]=arguments[h];return f=_.pop(),[l,oe(_),f]}).apply(this,arguments);return this._transaction.apply(this,i)},tn.prototype._transaction=function(i,l,u){var f,h,_=this,w=Re.trans,E=(w&&w.db===this&&i.indexOf("!")===-1||(w=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(h=l.map(function(G){if(G=G instanceof _.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),i=="r"||i===Bt)f=Bt;else{if(i!="rw"&&i!=zn)throw new he.InvalidArgument("Invalid transaction mode: "+i);f=zn}if(w){if(w.mode===Bt&&f===zn){if(!E)throw new he.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&h.forEach(function(G){if(w&&w.storeNames.indexOf(G)===-1){if(!E)throw new he.SubTransaction("Table "+G+" not included in parent transaction.");w=null}}),E&&w&&!w.active&&(w=null)}}catch(G){return w?w._promise(null,function(B,R){R(G)}):Lt(G)}var N=(function G(B,R,z,K,F){return we.resolve().then(function(){var U=Re.transless||Re,M=B._createTransaction(R,z,B._dbSchema,K),U=(M.explicit=!0,{trans:M,transless:U});if(K)M.idbtrans=K.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(_e){return _e.name===Oe.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return G(B,R,z,null,F)})):Lt(_e)}var X,te=q(F),U=(te&&ln(),we.follow(function(){var _e;(X=F.call(M,M))&&(te?(_e=kn.bind(null,null),X.then(_e,_e)):typeof X.next=="function"&&typeof X.throw=="function"&&(X=ra(X)))},U));return(X&&typeof X.then=="function"?we.resolve(X).then(function(_e){return M.active?_e:Lt(new he.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):U.then(function(){return X})).then(function(_e){return K&&M._resolve(),M._completion.then(function(){return _e})}).catch(function(_e){return M._reject(_e),Lt(_e)})})}).bind(null,this,f,h,w,u);return w?w._promise(f,N,"lock"):Re.trans?pn(Re.transless,function(){return _._whenReady(N)}):this._whenReady(N)},tn.prototype.table=function(i){if(b(this._allTables,i))return this._allTables[i];throw new he.InvalidTable("Table ".concat(i," does not exist"))};var ir=tn;function tn(i,l){var u,f,h,_,w,E=this,N=(this._middlewares={},this.verno=0,tn.dependencies),N=(this._options=l=r({addons:tn.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},l.addons),G=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:qe,dbReadyPromise:null,cancelOpen:qe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen}),B=(G.dbReadyPromise=new we(function(R){G.dbReadyResolve=R}),G.openCanceller=new we(function(R,z){G.cancelOpen=z}),this._state=G,this.name=i,this.on=gr(this,"populate","blocked","versionchange","close",{ready:[Et,qe]}),this.once=function(R,z){var K=function(){for(var F=[],M=0;M<arguments.length;M++)F[M]=arguments[M];E.on(R).unsubscribe(K),z.apply(E,F)};return E.on(R,K)},this.on.ready.subscribe=Y(this.on.ready.subscribe,function(R){return function(z,K){tn.vip(function(){var F,M=E._state;M.openComplete?(M.dbOpenError||we.resolve().then(z),K&&R(z)):M.onReadyBeingFired?(M.onReadyBeingFired.push(z),K&&R(z)):(R(z),F=E,K||R(function X(){F.on.ready.unsubscribe(z),F.on.ready.unsubscribe(X)}))})}}),this.Collection=(u=this,Wn(Vi.prototype,function(X,M){this.db=u;var K=cr,F=null;if(M)try{K=M()}catch(U){F=U}var M=X._ctx,X=M.table,te=X.hook.reading.fire;this._ctx={table:X,index:M.index,isPrimKey:!M.index||X.schema.primKey.keyPath&&M.index===X.schema.primKey.name,range:K,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:F,or:M.or,valueMapper:te!==Je?te:null}})),this.Table=(f=this,Wn(hi.prototype,function(R,z,K){this.db=f,this._tx=K,this.name=R,this.schema=z,this.hook=f._allTables[R]?f._allTables[R].hook:gr(null,{creating:[vt,qe],reading:[ct,Je],updating:[mt,qe],deleting:[Kt,qe]})})),this.Transaction=(h=this,Wn(Yn.prototype,function(R,z,K,F,M){var X=this;R!=="readonly"&&z.forEach(function(te){te=(te=K[te])==null?void 0:te.yProps,te&&(z=z.concat(te.map(function(U){return U.updatesTable})))}),this.db=h,this.mode=R,this.storeNames=z,this.schema=K,this.chromeTransactionDurability=F,this.idbtrans=null,this.on=gr(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new we(function(te,U){X._resolve=te,X._reject=U}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(te){var U=X.active;return X.active=!1,X.on.error.fire(te),X.parent?X.parent._reject(te):U&&X.idbtrans&&X.idbtrans.abort(),Lt(te)})})),this.Version=(_=this,Wn(jo.prototype,function(R){this.db=_,this._cfg={version:R,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,Wn(Qn.prototype,function(R,z,K){if(this.db=w,this._ctx={table:R,index:z===":id"?null:z,or:K},this._cmp=this._ascending=pt,this._descending=function(F,M){return pt(M,F)},this._max=function(F,M){return 0<pt(F,M)?F:M},this._min=function(F,M){return pt(F,M)<0?F:M},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new he.MissingAPI})),this.on("versionchange",function(R){0<R.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(R){!R.newVersion||R.newVersion<R.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(R.oldVersion/10))}),this._maxKey=wr(l.IDBKeyRange),this._createTransaction=function(R,z,K,F){return new E.Transaction(R,z,K,E._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(R){E.on("blocked").fire(R),tr.filter(function(z){return z.name===E.name&&z!==E&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(R)})},this.use(Uo),this.use(Yo),this.use(Go),this.use(Ho),this.use(Vo),new Proxy(this,{get:function(R,z,K){var F;return z==="_vip"||(z==="table"?function(M){return Si(E.table(M),B)}:(F=Reflect.get(R,z,K))instanceof hi?Si(F,B):z==="tables"?F.map(function(M){return Si(M,B)}):z==="_createTransaction"?function(){return Si(F.apply(this,arguments),B)}:F)}}));this.vip=B,N.forEach(function(R){return R(E)})}var Ci,Kr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Zo=(oa.prototype.subscribe=function(i,l,u){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:l,complete:u})},oa.prototype[Kr]=function(){return this},oa);function oa(i){this._subscribe=i}try{Ci={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Ci={indexedDB:null,IDBKeyRange:null}}function Ha(i){var l,u=!1,f=new Zo(function(h){var _=q(i),w,E=!1,N={},G={},B={get closed(){return E},unsubscribe:function(){E||(E=!0,w&&w.abort(),R&&Jn.storagemutated.unsubscribe(K))}},R=(h.start&&h.start(B),!1),z=function(){return sr(F)},K=function(M){wi(N,M),$i(G,N)&&z()},F=function(){var M,X,te;!E&&Ci.indexedDB&&(N={},M={},w&&w.abort(),w=new AbortController,te=(U=>{var _e=Ze();try{_&&ln();var Ee=wn(i,U);return Ee=_?Ee.finally(kn):Ee}finally{_e&&et()}})(X={subscr:M,signal:w.signal,requery:z,querier:i,trans:null}),Promise.resolve(te).then(function(U){u=!0,l=U,E||X.signal.aborted||(N={},(_e=>{for(var Ee in _e)if(b(_e,Ee))return;return 1})(G=M)||R||(Jn(br,K),R=!0),sr(function(){return!E&&h.next&&h.next(U)}))},function(U){u=!1,["DatabaseClosedError","AbortError"].includes(U==null?void 0:U.name)||E||sr(function(){E||h.error&&h.error(U)})}))};return setTimeout(z,0),B});return f.hasValue=function(){return u},f.getValue=function(){return l},f}var Sr=ir;function sa(i){var l=mr;try{mr=!0,Jn.storagemutated.fire(i),na(i,!0)}finally{mr=l}}D(Sr,r(r({},me),{delete:function(i){return new Sr(i,{addons:[]}).delete()},exists:function(i){return new Sr(i,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return l=Sr.dependencies,u=l.indexedDB,l=l.IDBKeyRange,(Qi(u)?Promise.resolve(u.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==Cn})}):Zi(u,l).toCollection().primaryKeys()).then(i)}catch{return Lt(new he.MissingAPI)}var l,u},defineClass:function(){return function(i){d(this,i)}},ignoreTransaction:function(i){return Re.trans?pn(Re.transless,i):i()},vip:Ji,async:function(i){return function(){try{var l=ra(i.apply(this,arguments));return l&&typeof l.then=="function"?l:we.resolve(l)}catch(u){return Lt(u)}}},spawn:function(i,l,u){try{var f=ra(i.apply(u,l||[]));return f&&typeof f.then=="function"?f:we.resolve(f)}catch(h){return Lt(h)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(i,l){return i=we.resolve(typeof i=="function"?Sr.ignoreTransaction(i):i).timeout(l||6e4),Re.trans?Re.trans.waitFor(i):i},Promise:we,debug:{get:function(){return Tt},set:function(i){Ot(i)}},derive:C,extend:d,props:D,override:Y,Events:gr,on:Jn,liveQuery:Ha,extendObservabilitySet:wi,getByKeyPath:ie,setByKeyPath:Z,delByKeyPath:function(i,l){typeof l=="string"?Z(i,l,void 0):"length"in l&&[].map.call(l,function(u){Z(i,u,void 0)})},shallowClone:pe,deepClone:ue,getObjectDiff:ia,cmp:pt,asap:fe,minKey:-1/0,addons:[],connections:tr,errnames:Oe,dependencies:Ci,cache:Er,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,l,u){return i+l/Math.pow(10,2*u)})})),Sr.maxKey=wr(Sr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Jn(br,function(i){mr||(i=new CustomEvent(yr,{detail:i}),mr=!0,dispatchEvent(i),mr=!1)}),addEventListener(yr,function(i){i=i.detail,mr||sa(i)}));var jr,mr=!1,Va=function(){};return typeof BroadcastChannel<"u"&&((Va=function(){(jr=new BroadcastChannel(yr)).onmessage=function(i){return i.data&&sa(i.data)}})(),typeof jr.unref=="function"&&jr.unref(),Jn(br,function(i){mr||jr.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!ir.disableBfCache&&i.persisted){Tt&&console.debug("Dexie: handling persisted pagehide"),jr!=null&&jr.close();for(var l=0,u=tr;l<u.length;l++)u[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!ir.disableBfCache&&i.persisted&&(Tt&&console.debug("Dexie: handling persisted pageshow"),Va(),sa({all:new gn(-1/0,[[]])}))})),we.rejectionMapper=function(i,l){return!i||i instanceof Q||i instanceof TypeError||i instanceof SyntaxError||!i.name||!tt[i.name]?i:(l=new tt[i.name](l||i.message,i),"stack"in i&&S(l,"stack",{get:function(){return this.inner.stack}}),l)},Ot(Tt),r(ir,Object.freeze({__proto__:null,Dexie:ir,Entity:ci,PropModification:fr,RangeSet:gn,add:function(i){return new fr({add:i})},cmp:pt,default:ir,liveQuery:Ha,mergeRanges:Jr,rangesOverlap:La,remove:function(i){return new fr({remove:i})},replacePrefix:function(i,l){return new fr({replacePrefix:[i,l]})}}),{default:ir}),ir})})(To);var bs=To.exports;const va=Io(bs),Ya=Symbol.for("Dexie"),zi=globalThis[Ya]||(globalThis[Ya]=va);if(va.semVer!==zi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${va.semVer} and ${zi.semVer}`);const{liveQuery:oi,mergeRanges:Uf,rangesOverlap:Gf,RangeSet:xf,cmp:Wf,Entity:Yf,PropModification:Zf,replacePrefix:Qf,add:Jf,remove:Xf,DexieYProvider:$f}=zi;var ba=(n=>(n.Accomodation="Accomodation",n.Food="Food & Drink",n.Transport="Transport",n.Other="Other",n))(ba||{});const Za={Accomodation:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/></svg>',"Food & Drink":'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cup-hot-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"/><path d="m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"/></svg>',Transport:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16"> <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/></svg>',Other:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16"><path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"/><path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"/></svg>'},Vt=new zi("ExpensesDatabase");Vt.version(2).stores({trips:"++id, name, defaultCurrency, startDate, endDate",receipts:"++id, description, total, receiptDate, receiptType, currency, tripId, imageData"});Vt.version(3).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("trips").toCollection().modify(e=>{e.startDateString=e.startDate.toDateString(),e.endDateString=e.endDate.toDateString()}).then(function(){n.table("receipts").toCollection().modify(e=>{e.receiptDateString=e.receiptDate.toDateString()})}));Vt.version(4).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData"}).upgrade(n=>n.table("receipts").where("receiptType").equals("Food").modify(e=>{e.receiptType="Food & Drink"}));Vt.version(6).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"}).upgrade(n=>n.table("receipts").toCollection().modify(e=>{e.imageData=URL.createObjectURL(e.imageData)}));Vt.version(7).stores({trips:"++id, name, defaultCurrency, startDate, startDateString, endDate, endDateString, notes",receipts:"++id, description, total, receiptDate, receiptDateString, receiptType, currency, tripId, imageData, imageWidth, imageHeight"});function Da(n,e){const t=ii(e);return localStorage&&localStorage.getItem(n)&&t.set(JSON.parse(localStorage.getItem(n)!=null?localStorage.getItem(n):e)),t.subscribe(r=>{if(localStorage)try{r!==void 0?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)}catch(a){console.warn(a)}}),t}const an={AED:{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"Ø¯.Ø¥.â",decimal_digits:2,rounding:0,code:"AED",name_plural:"UAE dirhams"},AFN:{symbol:"Af",name:"Afghan Afghani",symbol_native:"Ø",decimal_digits:0,rounding:0,code:"AFN",name_plural:"Afghan Afghanis"},ALL:{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL",name_plural:"Albanian lekÃ«"},AMD:{symbol:"AMD",name:"Armenian Dram",symbol_native:"Õ¤Ö.",decimal_digits:0,rounding:0,code:"AMD",name_plural:"Armenian drams"},ARS:{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS",name_plural:"Argentine pesos"},AUD:{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD",name_plural:"Australian dollars"},AZN:{symbol:"man.",name:"Azerbaijani Manat",symbol_native:"Ð¼Ð°Ð½.",decimal_digits:2,rounding:0,code:"AZN",name_plural:"Azerbaijani manats"},BAM:{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM",name_plural:"Bosnia-Herzegovina convertible marks"},BDT:{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"à§³",decimal_digits:2,rounding:0,code:"BDT",use_indian_numbering_system:!0,name_plural:"Bangladeshi takas"},BGN:{symbol:"BGN",name:"Bulgarian Lev",symbol_native:"Ð»Ð².",decimal_digits:2,rounding:0,code:"BGN",name_plural:"Bulgarian leva"},BHD:{symbol:"BD",name:"Bahraini Dinar",symbol_native:"Ø¯.Ø¨.â",decimal_digits:3,rounding:0,code:"BHD",name_plural:"Bahraini dinars"},BIF:{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF",name_plural:"Burundian francs"},BND:{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND",name_plural:"Brunei dollars"},BOB:{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB",name_plural:"Bolivian bolivianos"},BRL:{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL",name_plural:"Brazilian reals"},BWP:{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP",name_plural:"Botswanan pulas"},BYN:{symbol:"Br",name:"Belarusian Ruble",symbol_native:"ÑÑÐ±.",decimal_digits:2,rounding:0,code:"BYN",name_plural:"Belarusian rubles"},BZD:{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD",name_plural:"Belize dollars"},CAD:{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD",name_plural:"Canadian dollars"},CDF:{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF",name_plural:"Congolese francs"},CHF:{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF",name_plural:"Swiss francs"},CLP:{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP",name_plural:"Chilean pesos"},CNY:{symbol:"CNÂ¥",name:"Chinese Yuan",symbol_native:"CNÂ¥",decimal_digits:2,rounding:0,code:"CNY",name_plural:"Chinese yuan"},COP:{symbol:"CO$",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP",name_plural:"Colombian pesos"},CRC:{symbol:"â¡",name:"Costa Rican ColÃ³n",symbol_native:"â¡",decimal_digits:0,rounding:0,code:"CRC",name_plural:"Costa Rican colÃ³ns"},CVE:{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE",name_plural:"Cape Verdean escudos"},CZK:{symbol:"KÄ",name:"Czech Republic Koruna",symbol_native:"KÄ",decimal_digits:2,rounding:0,code:"CZK",name_plural:"Czech Republic korunas"},DJF:{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF",name_plural:"Djiboutian francs"},DKK:{symbol:"Dkr",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK",name_plural:"Danish kroner"},DOP:{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP",name_plural:"Dominican pesos"},DZD:{symbol:"DA",name:"Algerian Dinar",symbol_native:"Ø¯.Ø¬.â",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",symbol_native:"Ø¬.Ù.â",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},EUR:{symbol:"â¬",name:"Euro",symbol_native:"â¬",decimal_digits:2,rounding:0,code:"EUR",name_plural:"euros"},GBP:{symbol:"Â£",name:"British Pound Sterling",symbol_native:"Â£",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},GEL:{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GHâµ",name:"Ghanaian Cedi",symbol_native:"GHâµ",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"âª",name:"Israeli New Sheqel",symbol_native:"âª",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",name:"Indian Rupee",symbol_native:"à¦à¦à¦¾",decimal_digits:2,rounding:0,code:"INR",use_indian_numbering_system:!0,name_plural:"Indian rupees"},IQD:{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"Ø¯.Ø¹.â",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",name:"Iranian Rial",symbol_native:"ï·¼",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",name:"Icelandic KrÃ³na",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krÃ³nur"},JMD:{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",name:"Jordanian Dinar",symbol_native:"Ø¯.Ø£.â",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"Â¥",name:"Japanese Yen",symbol_native:"ï¿¥",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",name:"Cambodian Riel",symbol_native:"á",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"â©",name:"South Korean Won",symbol_native:"â©",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:"ÑÒ£Ð³.",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"L.L.",name:"Lebanese Pound",symbol_native:"Ù.Ù.â",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",name:"Libyan Dinar",symbol_native:"Ø¯.Ù.â",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"Ø¯.Ù.â",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"â¦",name:"Nigerian Naira",symbol_native:"â¦",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",name:"Nicaraguan CÃ³rdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan cÃ³rdobas"},NOK:{symbol:"Nkr",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"à¤¨à¥à¤°à¥",decimal_digits:2,rounding:0,code:"NPR",use_indian_numbering_system:!0,name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",name:"Omani Rial",symbol_native:"Ø±.Ø¹.â",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"â±",name:"Philippine Peso",symbol_native:"â±",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"â¨",decimal_digits:0,rounding:0,code:"PKR",use_indian_numbering_system:!0,name_plural:"Pakistani rupees"},PLN:{symbol:"zÅ",name:"Polish Zloty",symbol_native:"zÅ",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"â²",name:"Paraguayan Guarani",symbol_native:"â²",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",name:"Qatari Rial",symbol_native:"Ø±.Ù.â",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",name:"Serbian Dinar",symbol_native:"Ð´Ð¸Ð½.",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",name:"Russian Ruble",symbol_native:"â½.",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",name:"Saudi Riyal",symbol_native:"Ø±.Ø³.â",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SYÂ£",name:"Syrian Pound",symbol_native:"Ù.Ø³.â",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"à¸¿",name:"Thai Baht",symbol_native:"à¸¿",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",name:"Tunisian Dinar",symbol_native:"Ø¯.Øª.â",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",name:"Tongan PaÊ»anga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paÊ»anga"},TRY:{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"â´",name:"Ukrainian Hryvnia",symbol_native:"â´",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},USD:{symbol:"$",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD",name_plural:"US dollars"},UYU:{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",name:"Venezuelan BolÃ­var",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolÃ­vars"},VND:{symbol:"â«",name:"Vietnamese Dong",symbol_native:"â«",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",name:"Yemeni Rial",symbol_native:"Ø±.Ù.â",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"},ZWL:{symbol:"ZWL$",name:"Zimbabwean Dollar",symbol_native:"ZWL$",decimal_digits:0,rounding:0,code:"ZWL",name_plural:"Zimbabwean Dollar"}},Ri=Da("defaultCurrency","GBP"),si=Da("favCurrencies",["GBP","USD","EUR"]),ei=Da("theme","auto");function Ia(n){let e=[],t=[];for(let r of Object.keys(an))e.push({value:r,text:`${r} (${an[r].symbol})`});for(let r of n)t.push({value:r,text:`${r} (${an[r].symbol})`});return[{groupHeader:"Favourite Currencies",items:t},{groupHeader:"All Currencies",items:e}]}function ys(n){n==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",n)}var Pr=function(n,e){this.items=n,this.settings=e||{diacritics:!0}};Pr.prototype.tokenize=function(n,e,t){if(n=ks(String(n||"").toLowerCase()),!n||!n.length)return[];var r,a,s,o,c=[],d=n.split(/ +/);for(r=0,a=d.length;r<a;r++){if(s=Es(d[r]),this.settings.diacritics)for(o in Ir)Ir.hasOwnProperty(o)&&(s=s.replace(new RegExp(o,"g"),Ir[o]));e?s="\\b"+s:t&&(s="\\b^"+s),c.push({string:d[r],regex:new RegExp(s,"i")})}return c};Pr.prototype.iterator=function(n,e){var t;Array.isArray(n)?t=Array.prototype.forEach||function(r){for(var a=0,s=this.length;a<s;a++)r(this[a],a,this)}:t=function(r){for(var a in this)this.hasOwnProperty(a)&&r(this[a],a,this)},t.apply(n,[e])};Pr.prototype.getScoreFunction=function(n,e){var t,r,a,s,o;t=this,n=t.prepareSearch(n,e),a=n.tokens,r=n.options.fields,s=a.length,o=n.options.nesting;var c=function(m,g){var b,D;return!m||(m=String(m||""),D=m.search(g.regex),D===-1)?0:(b=g.string.length/m.length,D===0&&(b+=.5),b)},d=function(){var m=r.length;return m?m===1?function(g,b){return c(ya(b,r[0],o),g)}:function(g,b){for(var D=0,P=0;D<m;D++)P+=c(ya(b,r[D],o),g);return P/m}:function(){return 0}}();return s?s===1?function(m){return d(a[0],m)}:n.options.conjunction==="and"?function(m){for(var g,b=0,D=0;b<s;b++){if(g=d(a[b],m),g<=0)return 0;D+=g}return D/s}:function(m){for(var g=0,b=0;g<s;g++)b+=d(a[g],m);return b/s}:function(){return 0}};Pr.prototype.getSortFunction=function(n,e){var t,r,a,s,o,c,d,m,g,b,D;if(a=this,n=a.prepareSearch(n,e),D=!n.query&&e.sort_empty||e.sort,g=function(P,S){return P==="$score"?S.score:ya(a.items[S.id],P,e.nesting)},o=[],D)for(t=0,r=D.length;t<r;t++)(n.query||D[t].field!=="$score")&&o.push(D[t]);if(n.query){for(b=!0,t=0,r=o.length;t<r;t++)if(o[t].field==="$score"){b=!1;break}b&&o.unshift({field:"$score",direction:"desc"})}else for(t=0,r=o.length;t<r;t++)if(o[t].field==="$score"){o.splice(t,1);break}for(m=[],t=0,r=o.length;t<r;t++)m.push(o[t].direction==="desc"?-1:1);return c=o.length,c?c===1?(s=o[0].field,d=m[0],function(P,S){return d*Qa(g(s,P),g(s,S))}):function(P,S){var C,L,x;for(C=0;C<c;C++)if(x=o[C].field,L=m[C]*Qa(g(x,P),g(x,S)),L)return L;return 0}:null};Pr.prototype.prepareSearch=function(n,e){if(typeof n=="object")return n;e=ws({},e);var t=e.fields,r=e.sort,a=e.sort_empty;return t&&!Array.isArray(t)&&(e.fields=[t]),r&&!Array.isArray(r)&&(e.sort=[r]),a&&!Array.isArray(a)&&(e.sort_empty=[a]),{options:e,query:String(n||"").toLowerCase(),tokens:this.tokenize(n,e.wordsOnly,e.startOnly),total:0,items:[]}};Pr.prototype.search=function(n,e){var t=this,r,a,s,o;return a=this.prepareSearch(n,e),e=a.options,n=a.query,o=e.score||t.getScoreFunction(a),n.length?t.iterator(t.items,function(c,d){r=o(c),(e.filter===!1||r>0)&&a.items.push({score:r,id:d})}):t.iterator(t.items,function(c,d){a.items.push({score:1,id:d})}),s=t.getSortFunction(a,e),s&&a.items.sort(s),a.total=a.items.length,typeof e.limit=="number"&&(a.items=a.items.slice(0,e.limit)),a};var Qa=function(n,e){return typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=Ki(String(n||"")),e=Ki(String(e||"")),n>e?1:e>n?-1:0)},ws=function(n,e){var t,r,a,s;for(t=1,r=arguments.length;t<r;t++)if(s=arguments[t],!!s)for(a in s)s.hasOwnProperty(a)&&(n[a]=s[a]);return n},ya=function(n,e,t){if(!(!n||!e)){if(!t)return n[e];for(var r=e.split(".");r.length&&(n=n[r.shift()]););return n}},ks=function(n){return(n+"").replace(/^\s+|\s+$|/g,"")},Es=function(n){return(n+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Ir={a:"[aá¸á¸ÄÄÃÃ¢ÇÇÈºâ±¥È¦È§áº áº¡ÃÃ¤ÃÃ ÃÃ¡ÄÄÃÃ£ÃÃ¥ÄÄÃÄÄ]",b:"[bâ¢Î²ÎBà¸¿ðá]",c:"[cÄÄÄÄÄÄÄÄCÌcÌÃÃ§á¸á¸È»È¼ÆÆÉá´ï¼£ï½]",d:"[dÄÄá¸á¸á¸á¸á¸á¸á¸á¸á¸á¸ÄÄDÌ¦dÌ¦ÆÉÆÉÆÆáµ­á¶á¶È¡á´ï¼¤ï½Ã°]",e:"[eÃÃ©ÃÃ¨ÃÃªá¸á¸ÄÄÄÄáº¼áº½á¸á¸áººáº»ÄÄÃÃ«ÄÄÈ¨È©ÄÄá¶ÉÉÈÈáº¾áº¿á»á»á»á»á»á»á¸á¸á¸á¸á¸á¸ÈÈáº¸áº¹á»á»â±¸á´ï¼¥ï½ÉÇÆÆÎµ]",f:"[fÆÆá¸á¸]",g:"[gÉ¢â²Ç¤Ç¥ÄÄÄÄÄ¢Ä£ÆÉ Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áºáºá¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ]",i:"[iÃÃ­ÃÃ¬Ä¬Ä­ÃÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»á»ÈÈÈÈá»á»á¸¬á¸­ÆÉ¨É¨Ìáµ»á¶Ä°iIÄ±Éªï¼©ï½]",j:"[jÈ·Ä´ÄµÉÉÊÉÊ²]",k:"[kÆÆêêá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â­]",l:"[lÅÅÄ½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿ÅÈ½Æâ± â±¡â±¢É«É¬á¶É­È´Êï¼¬ï½]",n:"[nÅÅÇ¸Ç¹ÅÅÃÃ±á¹á¹ÅÅá¹á¹á¹á¹á¹á¹NÌnÌÆÉ²È Æáµ°á¶É³ÈµÉ´ï¼®ï½ÅÅ]",o:"[oÃÃ¸ÃÃ¶ÃÃ³ÃÃ²ÃÃ´ÇÇÅÅÅÅÈ®È¯á»á»ÆÉµÆ Æ¡á»á»ÅÅÃÃµÇªÇ«ÈÈÕÖ]",p:"[pá¹á¹á¹á¹â±£áµ½Æ¤Æ¥áµ±]",q:"[qêêÊ ÉÉêêqÌ]",r:"[rÅÅÉÉÅÅÅÅá¹á¹ÈÈÈÈá¹á¹â±¤É½]",s:"[sÅÅá¹ á¹¡á¹¢á¹£ê¨ê©ÅÅÅ Å¡ÅÅÈÈSÌsÌ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊÈÈá¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­ÉÊá»¤á»¥ÃÃ¼ÃÃºÃÃ¹ÃÃ»ÇÇÅ°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³ÈÈâª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Êêêâ±±Ê]",w:"[wáºáºáºáºÅ´Åµáºáºáºáºáºáº]",x:"[xáºáºáºáºÏ]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºáºá»´á»µÉÉÆ³Æ´]",z:"[zÅ¹ÅºáºáºÅ½Å¾Å»Å¼áºáºáºáºÆµÆ¶]"};const Ki=function(){var n,e,t,r,a="",s={};for(t in Ir)if(Ir.hasOwnProperty(t))for(r=Ir[t].substring(2,Ir[t].length-1),a+=r,n=0,e=r.length;n<e;n++)s[r.charAt(n)]=t;var o=new RegExp("["+a+"]","g");return function(c){return c.replace(o,function(d){return s[d]}).toLowerCase()}}();let Xr;function ji(n,e,t,r,a){const s=r(n,e,t);if(t==""||n.isSelected||a)return s;Xr||(Xr=document.createElement("div")),Xr.innerHTML=s;const o=Ki(t);return(o.includes("|")?o.split("|").map(c=>c.trim()):o.split(" ")).filter(c=>c).forEach(c=>{Ao(Xr,c)}),Xr.innerHTML}function Ao(n,e){let t=0;if(n.nodeType===3){const a=Ki(n.data);let s=a.indexOf(e);if(s-=a.substr(0,s).toUpperCase().length-a.substr(0,s).length,s>=0){const o=document.createElement("span");o.className="highlight";const c=n.splitText(s);c.splitText(e.length);const d=c.cloneNode(!0);o.appendChild(d),c.parentNode.replaceChild(o,c),t=1}}else if(n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN"))for(var r=0;r<n.childNodes.length;++r)r+=Ao(n.childNodes[r],e);return t}function Ss(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ja(){return navigator.userAgent.toLowerCase().includes("android")}function ca(n){return(n||"").replace(/\t/g," ").trim().split(" ").filter(e=>e).join(" ")}function Cs(n){return`${n}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ds(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(this,r)},e)}}function Is(n,{url:e,parentValue:t,initial:r},a){t&&(e=e.replace("[parent]",encodeURIComponent(t))),n&&(e=e.replace("[query]",encodeURIComponent(n))),Array.isArray(r)&&r.length===0&&(r=null),r&&(e=e.replace("[query]","init"));const s=e[0]==="/"?new URL(e,window.location.origin):new URL(e);if(r){const d=Array.isArray(r)?r:[r];s.searchParams.append("init",d.join(","))}const o=new AbortController,c=Object.assign({},a,{signal:o.signal});return{request:new Request(s,c),controller:o}}const kt={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{aria_label:"",aria_describedby:"",aria_selected:n=>n.length?`Option${n.length>1?"s":""} ${n.join(", ")} selected.`:"",aria_listActive:(n,e,t)=>`You are currently focused on option ${n[e]}. ${t} result${t>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",empty:"No options",nomatch:"No matching options",max:n=>`Maximum items ${n} selected`,fetchBefore:"Type to start searching",fetchQuery:(n,e)=>`Type at least ${n} character${n>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:n=>`${n} selected`,createRowLabel:n=>`Add '${n}'`,emptyCreatable:"Add new by typing"},requestFactory:null};function Ts(n){const e=n-1;return e*e*e+1}function As(n,{from:e,to:t},r={}){const a=getComputedStyle(n),s=a.transform==="none"?"":a.transform,[o,c]=a.transformOrigin.split(" ").map(parseFloat),d=e.left+e.width*o/t.width-(t.left+o),m=e.top+e.height*c/t.height-(t.top+c),{delay:g=0,duration:b=P=>Math.sqrt(P)*120,easing:D=Ts}=r;return{delay:g,duration:Or(b)?b(Math.sqrt(d*d+m*m)):b,easing:D,css:(P,S)=>{const C=S*d,L=S*m,x=P+S*e.width/t.width,V=P+S*e.height/t.height;return`transform: ${s} translate(${C}px, ${L}px) scale(${x}, ${V});`}}}const Di={START:"start",CENTER:"center",END:"end"},lr={HORIZONTAL:"horizontal",VERTICAL:"vertical"},$r={OBSERVED:0,REQUESTED:1},Os={[lr.VERTICAL]:"top",[lr.HORIZONTAL]:"left"},Xa={[lr.VERTICAL]:"scrollTop",[lr.HORIZONTAL]:"scrollLeft"};class Ps{constructor({itemSize:e,itemCount:t,estimatedItemSize:r}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:r}){t!=null&&(this.itemCount=t),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const r=this.getSize(t),a=e;e+=r,this.itemSizeAndPositionData[t]={offset:a,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let r=t.offset+t.size;for(let a=this.lastMeasuredIndex+1;a<=e;a++){const s=this.getSize(a);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${a} of value ${s}`);this.itemSizeAndPositionData[a]={offset:r,size:s},r+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Di.START,containerSize:t,currentOffset:r,targetIndex:a}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(a),o=s.offset,c=o-t+s.size;let d;switch(e){case Di.END:d=c;break;case Di.CENTER:d=o-(t-s.size)/2;break;case Di.START:d=o;break;default:d=Math.max(c,Math.min(o,r))}const m=this.getTotalSize();return Math.max(0,Math.min(m-t,d))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:r}){if(this.getTotalSize()===0)return{};const s=t+e;let o=this.findNearestItem(t);if(o===void 0)throw Error(`Invalid offset ${t} specified`);const c=this.getSizeAndPositionForIndex(o);t=c.offset+c.size;let d=o;for(;t<s&&d<this.itemCount-1;)d++,t+=this.getSizeAndPositionForIndex(d).size;return r&&(o=Math.max(0,o-r),d=Math.min(d+r,this.itemCount-1)),{start:o,stop:d}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:t,offset:r}){let a=0,s=0;for(;e<=t;){if(a=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(a).offset,s===r)return a;s<r?e=a+1:s>r&&(t=a-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const Ls=n=>({}),$a=n=>({});function el(n,e,t){const r=n.slice();return r[37]=e[t],r}const Rs=n=>({style:n[0]&4,index:n[0]&4}),tl=n=>({style:n[37].style,index:n[37].index}),Ms=n=>({}),nl=n=>({});function rl(n,e){let t,r;const a=e[21].item,s=On(a,e,e[20],tl);return{key:n,first:null,c(){t=Rt(),s&&s.c(),this.h()},l(o){t=Rt(),s&&s.l(o),this.h()},h(){this.first=t},m(o,c){re(o,t,c),s&&s.m(o,c),r=!0},p(o,c){e=o,s&&s.p&&(!r||c[0]&1048580)&&Pn(s,a,e,e[20],r?Rn(a,e[20],c,Rs):Ln(e[20]),tl)},i(o){r||(Ne(s,o),r=!0)},o(o){xe(s,o),r=!1},d(o){o&&y(t),s&&s.d(o)}}}function Ns(n){let e,t,r,a=[],s=new Map,o,c;const d=n[21].header,m=On(d,n,n[20],nl);let g=Nt(n[2]);const b=S=>S[0]?S[0](S[37].index):S[37].index;for(let S=0;S<g.length;S+=1){let C=el(n,g,S),L=b(C);s.set(L,a[S]=rl(L,C))}const D=n[21].footer,P=On(D,n,n[20],$a);return{c(){e=A("div"),m&&m.c(),t=ee(),r=A("div");for(let S=0;S<a.length;S+=1)a[S].c();o=ee(),P&&P.c(),this.h()},l(S){e=T(S,"DIV",{class:!0,style:!0});var C=j(e);m&&m.l(C),t=$(C),r=T(C,"DIV",{class:!0,style:!0});var L=j(r);for(let x=0;x<a.length;x+=1)a[x].l(L);L.forEach(y),o=$(C),P&&P.l(C),C.forEach(y),this.h()},h(){p(r,"class","virtual-list-inner svelte-dwpad5"),p(r,"style",n[4]),p(e,"class","virtual-list-wrapper svelte-dwpad5"),p(e,"style",n[3])},m(S,C){re(S,e,C),m&&m.m(e,null),v(e,t),v(e,r);for(let L=0;L<a.length;L+=1)a[L]&&a[L].m(r,null);v(e,o),P&&P.m(e,null),n[22](e),c=!0},p(S,C){m&&m.p&&(!c||C[0]&1048576)&&Pn(m,d,S,S[20],c?Rn(d,S[20],C,Ms):Ln(S[20]),nl),C[0]&1048581&&(g=Nt(S[2]),fn(),a=Ar(a,C,b,1,S,g,s,r,_s,rl,null,el),dn()),(!c||C[0]&16)&&p(r,"style",S[4]),P&&P.p&&(!c||C[0]&1048576)&&Pn(P,D,S,S[20],c?Rn(D,S[20],C,Ls):Ln(S[20]),$a),(!c||C[0]&8)&&p(e,"style",S[3])},i(S){if(!c){Ne(m,S);for(let C=0;C<g.length;C+=1)Ne(a[C]);Ne(P,S),c=!0}},o(S){xe(m,S);for(let C=0;C<a.length;C+=1)xe(a[C]);xe(P,S),c=!1},d(S){S&&y(e),m&&m.d(S);for(let C=0;C<a.length;C+=1)a[C].d();P&&P.d(S),n[22](null)}}}const Bs=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();function Fs(n,e,t){let{$$slots:r={},$$scope:a}=e,{height:s}=e,{width:o="100%"}=e,{itemCount:c}=e,{itemSize:d}=e,{estimatedItemSize:m=null}=e,{stickyIndices:g=null}=e,{getKey:b=null}=e,{scrollDirection:D=lr.VERTICAL}=e,{scrollOffset:P=null}=e,{scrollToIndex:S=null}=e,{scrollToAlignment:C=null}=e,{scrollToBehaviour:L="instant"}=e,{overscanCount:x=3}=e;const V=Eo(),Y=new Ps({itemCount:c,itemSize:d,estimatedItemSize:q()});let H=!1,fe,ie=[],Z={offset:P||S!=null&&ie.length&&ae(S)||0,scrollChangeReason:$r.REQUESTED},pe=Z,ne={scrollToIndex:S,scrollToAlignment:C,scrollOffset:P,itemCount:c,itemSize:d,estimatedItemSize:m},oe={},ve="",be="";ge(),Ea(()=>{t(18,H=!0),fe.addEventListener("scroll",I,Bs),P!=null?ye(P):S!=null&&ye(ae(S))}),$o(()=>{H&&fe.removeEventListener("scroll",I)});function ue(){if(!H)return;const Q=ne.scrollToIndex!==S||ne.scrollToAlignment!==C,J=ne.itemCount!==c||ne.itemSize!==d||ne.estimatedItemSize!==m;J&&(Y.updateConfig({itemSize:d,itemCount:c,estimatedItemSize:q()}),ce()),ne.scrollOffset!==P?t(19,Z={offset:P||0,scrollChangeReason:$r.REQUESTED}):typeof S=="number"&&(Q||J)&&t(19,Z={offset:ae(S,C,c),scrollChangeReason:$r.REQUESTED}),ne={scrollToIndex:S,scrollToAlignment:C,scrollOffset:P,itemCount:c,itemSize:d,estimatedItemSize:m}}function le(){if(!H)return;const{offset:Q,scrollChangeReason:J}=Z;(pe.offset!==Q||pe.scrollChangeReason!==J)&&ge(),pe.offset!==Q&&J===$r.REQUESTED&&ye(Q),pe=Z}function ge(){const{offset:Q}=Z,{start:J,stop:W}=Y.getVisibleRange({containerSize:D===lr.VERTICAL?s:o,offset:Q,overscanCount:x});let se=[];const Oe=Y.getTotalSize();D===lr.VERTICAL?(t(3,ve=`height:${s}${typeof s=="number"?"px":""};width:${o};`),t(4,be=`flex-direction:column;height:${Oe}px;`)):(t(3,ve=`height:${s};width:${o}${typeof o=="number"?"px":""}`),t(4,be=`min-height:100%;width:${Oe}px;`));const Se=g!=null&&g.length!==0;if(Se)for(let he=0;he<g.length;he++){const tt=g[he];se.push({index:tt,style:me(tt,!0)})}if(J!==void 0&&W!==void 0){for(let he=J;he<=W;he++)Se&&g.includes(he)||se.push({index:he,style:me(he,!1)});V("itemsUpdated",{start:J,end:W})}t(2,ie=se)}function ye(Q){"scroll"in fe?fe.scroll({[Os[D]]:Q,behavior:L}):t(1,fe[Xa[D]]=Q,fe)}function ce(Q=0){oe={},Y.resetItem(Q),ge()}function ae(Q,J=C,W=c){return(Q<0||Q>=W)&&(Q=0),Y.getUpdatedOffsetForIndex({align:J,containerSize:D===lr.VERTICAL?s:o,currentOffset:Z.offset||0,targetIndex:Q})}function I(Q){const J=O();J<0||Z.offset===J||Q.target!==fe||(t(19,Z={offset:J,scrollChangeReason:$r.OBSERVED}),V("afterScroll",{offset:J,event:Q}))}function O(){return fe[Xa[D]]}function q(){return m||typeof d=="number"&&d||50}function me(Q,J){if(oe[Q])return oe[Q];const{size:W,offset:se}=Y.getSizeAndPositionForIndex(Q);let Oe;return D===lr.VERTICAL?(Oe=`left:0;width:100%;height:${W}px;`,J?Oe+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${se}px;margin-bottom:${-(se+W)}px;`:Oe+=`position:absolute;top:${se}px;`):(Oe=`top:0;width:${W}px;`,J?Oe+=`position:sticky;z-index:1;left:0;margin-left:${se}px;margin-right:${-(se+W)}px;`:Oe+=`position:absolute;height:100%;left:${se}px;`),oe[Q]=Oe}function de(Q){An[Q?"unshift":"push"](()=>{fe=Q,t(1,fe)})}return n.$$set=Q=>{"height"in Q&&t(5,s=Q.height),"width"in Q&&t(6,o=Q.width),"itemCount"in Q&&t(7,c=Q.itemCount),"itemSize"in Q&&t(8,d=Q.itemSize),"estimatedItemSize"in Q&&t(9,m=Q.estimatedItemSize),"stickyIndices"in Q&&t(10,g=Q.stickyIndices),"getKey"in Q&&t(0,b=Q.getKey),"scrollDirection"in Q&&t(11,D=Q.scrollDirection),"scrollOffset"in Q&&t(12,P=Q.scrollOffset),"scrollToIndex"in Q&&t(13,S=Q.scrollToIndex),"scrollToAlignment"in Q&&t(14,C=Q.scrollToAlignment),"scrollToBehaviour"in Q&&t(15,L=Q.scrollToBehaviour),"overscanCount"in Q&&t(16,x=Q.overscanCount),"$$scope"in Q&&t(20,a=Q.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&29568&&ue(),n.$$.dirty[0]&524288&&le(),n.$$.dirty[0]&263264&&H&&ce(0)},[b,fe,ie,ve,be,s,o,c,d,m,g,D,P,S,C,L,x,ce,H,Z,a,r,de]}class zs extends Un{constructor(e){super(),Gn(this,e,Fs,Ns,Mn,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get height(){return this.$$.ctx[5]}set height(e){this.$$set({height:e}),Tn()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),Tn()}get itemCount(){return this.$$.ctx[7]}set itemCount(e){this.$$set({itemCount:e}),Tn()}get itemSize(){return this.$$.ctx[8]}set itemSize(e){this.$$set({itemSize:e}),Tn()}get estimatedItemSize(){return this.$$.ctx[9]}set estimatedItemSize(e){this.$$set({estimatedItemSize:e}),Tn()}get stickyIndices(){return this.$$.ctx[10]}set stickyIndices(e){this.$$set({stickyIndices:e}),Tn()}get getKey(){return this.$$.ctx[0]}set getKey(e){this.$$set({getKey:e}),Tn()}get scrollDirection(){return this.$$.ctx[11]}set scrollDirection(e){this.$$set({scrollDirection:e}),Tn()}get scrollOffset(){return this.$$.ctx[12]}set scrollOffset(e){this.$$set({scrollOffset:e}),Tn()}get scrollToIndex(){return this.$$.ctx[13]}set scrollToIndex(e){this.$$set({scrollToIndex:e}),Tn()}get scrollToAlignment(){return this.$$.ctx[14]}set scrollToAlignment(e){this.$$set({scrollToAlignment:e}),Tn()}get scrollToBehaviour(){return this.$$.ctx[15]}set scrollToBehaviour(e){this.$$set({scrollToBehaviour:e}),Tn()}get overscanCount(){return this.$$.ctx[16]}set overscanCount(e){this.$$set({overscanCount:e}),Tn()}get recomputeSizes(){return this.$$.ctx[17]}}function fa(n,e){const t=window.getComputedStyle(n);let{groups:{value:r,unit:a}}=t[e].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),s=parseFloat(r);if(a!=="px"){const o=a==="rem"?document.documentElement:n.parentElement.parentElement;s=parseFloat(window.getComputedStyle(o).fontSize.match(/\d+/).shift())*s}return s}function Ks(n){const e=n.parentElement.parentElement.getBoundingClientRect(),t=n.getBoundingClientRect(),r={};return r.top=e.top<0,r.left=e.left<0,r.bottom=e.bottom+t.height>(window.innerHeight||document.documentElement.clientHeight)&&e.top>t.height&&(window.innerHeight||document.documentElement.clientHeight)>t.height+50,r.right=e.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function da(n,e,t){if(!e||!t)return;const r=Ks(e);r.bottom&&!r.top?e.parentElement.style.bottom=e.parentElement.parentElement.clientHeight+1+"px":(!n||r.top||e.parentElement.style.bottom!=="")&&(e.parentElement.style.bottom="")}function js(n,e,t){let r;const a=fa(e,"maxHeight")-fa(e,"paddingTop")-fa(e,"paddingBottom");e.parentElement.style.cssText="opacity: 0; display: block";const s=n.$$.ctx[1].firstElementChild.firstElementChild;if(s){s.style="";const o=s.getBoundingClientRect().height,c=n.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let d;if(c&&(c.style="",d=c.getBoundingClientRect().height),d&&o!==d){const m=t[0].$isGroupHeader?o:d,g=t[0].$isGroupHeader?d:o;r=t.map(b=>b.$isGroupHeader?m:g)}else r=o}return e.parentElement.style.cssText="",{size:r,height:a}}function Ii({container:n,scrollContainer:e,virtualList:t,center:r},a){if(t||!n)return;const s=n.querySelector(`[data-pos="${a}"]`);if(!s)return;const o=s.getBoundingClientRect(),c=e.getBoundingClientRect(),d=s.offsetHeight/3,m=0;switch(!0){case s.offsetTop<e.scrollTop:e.scrollTop=s.offsetTop-d+m;break;case s.offsetTop+o.height>e.scrollTop+c.height:e.scrollTop=s.offsetTop+o.height-e.offsetHeight+d+m;break}}function qs(n,e,t,r){return{optionProps:[],optionsWithGroups:!1,valueField:n,labelField:e,optLabel:t,optItems:r}}function Hs(n,e,t,r,a){if(t)return Array.isArray(e)?e:[e];const s=Array.isArray(e)?e:[e];return n.reduce((c,d,m)=>{const g=d[r]&&Array.isArray(d)?d[r]:null;if(g){const b=g.reduce((D,P)=>(s.includes(P[a])&&D.push(P),D),[]);if(b.length)return c.push(...b),c}return c},[]).sort((c,d)=>s.indexOf(c[a])<s.indexOf(d[a])?-1:1)}function il(n,e,t,r){return r?n:typeof n[0]=="object"?n.map(a=>({...a})):n.map(a=>({[e||"value"]:a,[t||"text"]:a}))}function Vs(n,e){const t=n.reduce((r,a,s)=>a[e.optItems]?(a[e.optItems].length===0||(e.optionsWithGroups=!0,r.push({label:a[e.optLabel],$isGroupHeader:!0}),r.push(...a[e.optItems].map(o=>(o.$isGroupItem=!0,o)))),r):(r.push(a),r),[]);return Us(t,e),t}function Us(n,e){n.some(t=>t.$isGroupHeader?!1:(e.optionProps=Gs(t),!0))}function Gs(n){const e=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(n).filter(t=>!e.includes(t))}function xs(n,e,t,r,a){if(t&&(n=n.filter(m=>!t.has(m[r.valueField])).filter((m,g,b)=>!(m.$isGroupHeader&&(b[g+1]&&b[g+1].$isGroupHeader||b.length<=1||b.length-1===g)))),a.disabled||!e)return n;const s=new Pr(n);(r.optionsWithGroups||a.skipSort)&&(s.getSortFunction=()=>null);let o="and";e.includes("|")&&(o="or",e=e.split("|").map(m=>m.trim()).join(" "));const c=s.search(e,{fields:a.fields||r.optionProps,sort:a.sort||Ws(r.labelField),conjunction:a.conjunction||o,nesting:a.nesting||!1,wordsOnly:a.wordsOnly||!1,startOnly:a.startOnly||!1});return r.optionsWithGroups?c.items.reduce((m,g)=>{const b=n[g.id];if(t&&b.isSelected)return m;const D=m.push(b);if(b.$isGroupItem){const P=n.slice(0,g.id);let S=null;do S=P.pop(),S&&S.$isGroupHeader&&!m.includes(S)&&m.splice(D-1,0,S);while(S&&!S.$isGroupHeader)}return m},[]):c.items.map(m=>n[m.id])}function Ws(n){return[{field:n,direction:"asc"}]}function Ti(n,e,t){const r=n==="value";let a=r?"value":"text";if(e&&e.length){const s=e[0][t]?e[0][t][0]:e[0];if(!s||typeof s=="string")return a;const o=r?0:1,c=r?["id","value","ID"]:["name","title","label"];a=Object.keys(s).filter(d=>c.includes(d)).concat([Object.keys(s)[o]]).shift()}return a}function Oo(n,e){return n.bound_item=e,{destroy:()=>{}}}const Ys=n=>({isCreating:n[1]&16,inputValue:n[0]&8388608,i18n:n[0]&16777216}),al=n=>({isCreating:n[35],inputValue:n[23],i18n:n[24]});function ll(n,e,t){const r=n.slice();return r[164]=e[t],r[166]=t,r}const Zs=n=>({item:n[0]&33554432,inputValue:n[0]&8388608}),ol=n=>({item:n[164],inputValue:n[23]});function sl(n){const e=n[25][n[163]];n[164]=e}const Qs=n=>({item:n[0]&33554432|n[5]&256,inputValue:n[0]&8388608}),ul=n=>({item:n[164],inputValue:n[23]}),Js=n=>({}),cl=n=>({}),Xs=n=>({}),fl=n=>({}),$s=n=>({isOpen:n[0]&1048576}),dl=n=>({isOpen:n[20]}),eu=n=>({selectedOptions:n[0]&524288,inputValue:n[0]&8388608}),hl=n=>({selectedOptions:n[19],inputValue:n[23]});function pl(n,e,t){const r=n.slice();return r[164]=e[t],r}const tu=n=>({selectedOptions:n[0]&524288}),ml=n=>({selectedOptions:n[19],bindItem:Oo}),nu=n=>({selectedOptions:n[0]&524288,i18n:n[0]&16777216}),gl=n=>({selectedOptions:n[19],i18n:n[24]}),ru=n=>({}),_l=n=>({});function vl(n,e,t){const r=n.slice();return r[164]=e[t],r}function bl(n){let e,t,r,a,s;return{c(){e=A("span"),t=ze(n[46]),r=ee(),a=A("span"),s=ze(n[45]),this.h()},l(o){e=T(o,"SPAN",{id:!0});var c=j(e);t=Fe(c,n[46]),c.forEach(y),r=$(o),a=T(o,"SPAN",{id:!0});var d=j(a);s=Fe(d,n[45]),d.forEach(y),this.h()},h(){p(e,"id","aria-selection"),p(a,"id","aria-context")},m(o,c){re(o,e,c),v(e,t),re(o,r,c),re(o,a,c),v(a,s)},p(o,c){c[1]&32768&&it(t,o[46]),c[1]&16384&&it(s,o[45])},d(o){o&&(y(e),y(r),y(a))}}}function yl(n){let e,t=[],r=new Map,a,s,o,c=Nt(n[19]);const d=m=>m[164][m[27]];for(let m=0;m<c.length;m+=1){let g=vl(n,c,m),b=d(g);r.set(b,t[m]=wl(b,g))}return{c(){e=A("select");for(let m=0;m<t.length;m+=1)t[m].c();this.h()},l(m){e=T(m,"SELECT",{name:!0,size:!0,class:!0,id:!0,tabindex:!0,"aria-hidden":!0});var g=j(e);for(let b=0;b<t.length;b+=1)t[b].l(g);g.forEach(y),this.h()},h(){p(e,"name",n[4]),e.required=n[5],e.multiple=n[0],e.disabled=n[3],p(e,"size","1"),p(e,"class","sv-hidden-element"),p(e,"id",n[50]),p(e,"tabindex","-1"),p(e,"aria-hidden","true")},m(m,g){re(m,e,g);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);n[112](e),s||(o=ai(a=n[60].call(null,e,n[13])),s=!0)},p(m,g){g[0]&134742016&&(c=Nt(m[19]),t=Ar(t,g,d,1,m,c,r,e,Gr,wl,null,vl)),g[0]&16&&p(e,"name",m[4]),g[0]&32&&(e.required=m[5]),g[0]&1&&(e.multiple=m[0]),g[0]&8&&(e.disabled=m[3]),a&&Or(a.update)&&g[0]&8192&&a.update.call(null,m[13])},d(m){m&&y(e);for(let g=0;g<t.length;g+=1)t[g].d();n[112](null),s=!1,o()}}}function wl(n,e){let t,r;return{key:n,first:null,c(){t=A("option"),this.h()},l(a){t=T(a,"OPTION",{}),j(t).forEach(y),this.h()},h(){t.__value=r=e[164][e[27]],Zt(t,t.__value),t.selected=!0,this.first=t},m(a,s){re(a,t,s)},p(a,s){e=a,s[0]&134742016&&r!==(r=e[164][e[27]])&&(t.__value=r,Zt(t,t.__value))},d(a){a&&y(t)}}}function kl(n){let e,t,r,a;const s=[au,iu],o=[];function c(d,m){return d[0]&&d[33]?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Rt()},l(d){t.l(d),r=Rt()},m(d,m){o[e].m(d,m),re(d,r,m),a=!0},p(d,m){let g=e;e=c(d),e===g?o[e].p(d,m):(fn(),xe(o[g],1,1,()=>{o[g]=null}),dn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Ne(t,1),t.m(r.parentNode,r))},i(d){a||(Ne(t),a=!0)},o(d){xe(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function iu(n){let e;const t=n[109].selection,r=On(t,n,n[118],ml),a=r||lu(n);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,o){a&&a.m(s,o),e=!0},p(s,o){r?r.p&&(!e||o[0]&524288|o[3]&33554432)&&Pn(r,t,s,s[118],e?Rn(t,s[118],o,tu):Ln(s[118]),ml):a&&a.p&&(!e||o[0]&524289|o[1]&8192)&&a.p(s,e?o:[-1,-1,-1,-1,-1,-1])},i(s){e||(Ne(a,s),e=!0)},o(s){xe(a,s),e=!1},d(s){a&&a.d(s)}}}function au(n){let e;const t=n[109].collapsedSelection,r=On(t,n,n[118],gl),a=r||ou(n);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,o){a&&a.m(s,o),e=!0},p(s,o){r?r.p&&(!e||o[0]&17301504|o[3]&33554432)&&Pn(r,t,s,s[118],e?Rn(t,s[118],o,nu):Ln(s[118]),gl):a&&a.p&&(!e||o[0]&17301504)&&a.p(s,e?o:[-1,-1,-1,-1,-1,-1])},i(s){e||(Ne(a,s),e=!0)},o(s){xe(a,s),e=!1},d(s){a&&a.d(s)}}}function El(n){let e,t='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',r,a,s;return{c(){e=A("button"),e.innerHTML=t,this.h()},l(o){e=T(o,"BUTTON",{class:!0,tabindex:!0,type:!0,"data-action":!0,"data-svelte-h":!0}),Ve(e)!=="svelte-179wtvk"&&(e.innerHTML=t),this.h()},h(){p(e,"class","sv-item--btn"),p(e,"tabindex","-1"),p(e,"type","button"),p(e,"data-action","deselect")},m(o,c){re(o,e,c),a||(s=ai(r=Oo.call(null,e,n[164])),a=!0)},p(o,c){n=o,r&&Or(r.update)&&c[0]&524288&&r.update.call(null,n[164])},d(o){o&&y(e),a=!1,s()}}}function Sl(n,e){let t,r,a,s,o=e[44](e[164],!0)+"",c,d,m,g=It,b,D,P=e[0]&&El(e);return{key:n,first:null,c(){t=A("div"),r=A("div"),a=A("div"),s=new Hi(!1),c=ee(),P&&P.c(),d=ee(),this.h()},l(S){t=T(S,"DIV",{class:!0});var C=j(t);r=T(C,"DIV",{class:!0});var L=j(r);a=T(L,"DIV",{class:!0});var x=j(a);s=qi(x,!1),x.forEach(y),L.forEach(y),c=$(C),P&&P.l(C),d=$(C),C.forEach(y),this.h()},h(){s.a=null,p(a,"class","sv-item--content"),p(r,"class","sv-item--wrap"),Me(r,"is-multi",e[0]),p(t,"class","sv-item--container svelte-11q5y3b"),this.first=t},m(S,C){re(S,t,C),v(t,r),v(r,a),s.m(o,a),v(t,c),P&&P.m(t,null),v(t,d),b||(D=nt(t,"mousedown",_a(e[111])),b=!0)},p(S,C){e=S,C[0]&524288|C[1]&8192&&o!==(o=e[44](e[164],!0)+"")&&s.p(o),C[0]&1&&Me(r,"is-multi",e[0]),e[0]?P?P.p(e,C):(P=El(e),P.c(),P.m(t,d)):P&&(P.d(1),P=null)},r(){m=t.getBoundingClientRect()},f(){ms(t),g()},a(){g(),g=ps(t,m,As,{duration:e[36]})},d(S){S&&y(t),P&&P.d(),b=!1,D()}}}function lu(n){let e=[],t=new Map,r,a=Nt(n[19]);const s=o=>o[164][o[27]];for(let o=0;o<a.length;o+=1){let c=pl(n,a,o),d=s(c);t.set(d,e[o]=Sl(d,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Rt()},l(o){for(let c=0;c<e.length;c+=1)e[c].l(o);r=Rt()},m(o,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(o,c);re(o,r,c)},p(o,c){if(c[0]&134742017|c[1]&8192){a=Nt(o[19]);for(let d=0;d<e.length;d+=1)e[d].r();e=Ar(e,c,s,1,o,a,t,r.parentNode,vs,Sl,r,pl);for(let d=0;d<e.length;d+=1)e[d].a()}},d(o){o&&y(r);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function ou(n){let e=n[24].collapsedSelection(n[19].length)+"",t;return{c(){t=ze(e)},l(r){t=Fe(r,e)},m(r,a){re(r,t,a)},p(r,a){a[0]&17301504&&e!==(e=r[24].collapsedSelection(r[19].length)+"")&&it(t,e)},d(r){r&&y(t)}}}function Cl(n){let e,t;const r=n[109]["clear-icon"],a=On(r,n,n[118],hl),s=a||su(n);return{c(){e=A("button"),s&&s.c(),this.h()},l(o){e=T(o,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var c=j(e);s&&s.l(c),c.forEach(y),this.h()},h(){p(e,"type","button"),p(e,"class","sv-btn-indicator svelte-11q5y3b"),p(e,"data-action","deselect"),p(e,"tabindex","-1"),Me(e,"sv-has-selection",n[19].length)},m(o,c){re(o,e,c),s&&s.m(e,null),t=!0},p(o,c){a?a.p&&(!t||c[0]&8912896|c[3]&33554432)&&Pn(a,r,o,o[118],t?Rn(r,o[118],c,eu):Ln(o[118]),hl):s&&s.p&&(!t||c[0]&524288)&&s.p(o,t?c:[-1,-1,-1,-1,-1,-1]),(!t||c[0]&524288)&&Me(e,"sv-has-selection",o[19].length)},i(o){t||(Ne(s,o),t=!0)},o(o){xe(s,o),t=!1},d(o){o&&y(e),s&&s.d(o)}}}function Dl(n){let e,t;return{c(){e=zt("svg"),t=zt("path"),this.h()},l(r){e=Ft(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var a=j(e);t=Ft(a,"path",{d:!0}),j(t).forEach(y),a.forEach(y),this.h()},h(){p(t,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),p(e,"class","indicator-icon svelte-11q5y3b"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,a){re(r,e,a),v(e,t)},d(r){r&&y(e)}}}function su(n){let e,t=n[19].length&&Dl();return{c(){t&&t.c(),e=Rt()},l(r){t&&t.l(r),e=Rt()},m(r,a){t&&t.m(r,a),re(r,e,a)},p(r,a){r[19].length?t||(t=Dl(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&y(e),t&&t.d(r)}}}function Il(n){let e;return{c(){e=A("span"),this.h()},l(t){e=T(t,"SPAN",{class:!0}),j(e).forEach(y),this.h()},h(){p(e,"class","sv-btn-separator svelte-11q5y3b")},m(t,r){re(t,e,r)},d(t){t&&y(e)}}}function uu(n){let e,t;return{c(){e=zt("svg"),t=zt("path"),this.h()},l(r){e=Ft(r,"svg",{class:!0,viewBox:!0,"aria-hidden":!0,focusable:!0});var a=j(e);t=Ft(a,"path",{d:!0}),j(t).forEach(y),a.forEach(y),this.h()},h(){p(t,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),p(e,"class","indicator-icon svelte-11q5y3b"),p(e,"viewBox","0 0 20 20"),p(e,"aria-hidden","true"),p(e,"focusable","false")},m(r,a){re(r,e,a),v(e,t)},p:It,d(r){r&&y(e)}}}function Tl(n){let e,t,r,a,s,o,c,d;const m=n[109]["list-header"],g=On(m,n,n[118],cl),b=[fu,cu],D=[];function P(C,L){return C[25].length?0:C[25].length===0&&(!C[14]||!C[23])||C[26]?1:-1}~(a=P(n))&&(s=D[a]=b[a](n));let S=n[14]&&n[23]&&!n[26]&&Ol(n);return{c(){g&&g.c(),e=ee(),t=A("div"),r=A("div"),s&&s.c(),o=ee(),S&&S.c(),c=Rt(),this.h()},l(C){g&&g.l(C),e=$(C),t=T(C,"DIV",{class:!0,tabindex:!0});var L=j(t);r=T(L,"DIV",{class:!0});var x=j(r);s&&s.l(x),x.forEach(y),L.forEach(y),o=$(C),S&&S.l(C),c=Rt(),this.h()},h(){p(r,"class","sv-dropdown-content"),Me(r,"max-reached",n[26]),p(t,"class","sv-dropdown-scroll svelte-11q5y3b"),p(t,"tabindex","-1"),Me(t,"has-items",n[25].length>0),Me(t,"is-virtual",n[15])},m(C,L){g&&g.m(C,L),re(C,e,L),re(C,t,L),v(t,r),~a&&D[a].m(r,null),n[116](r),n[117](t),re(C,o,L),S&&S.m(C,L),re(C,c,L),d=!0},p(C,L){g&&g.p&&(!d||L[3]&33554432)&&Pn(g,m,C,C[118],d?Rn(m,C[118],L,Js):Ln(C[118]),cl);let x=a;a=P(C),a===x?~a&&D[a].p(C,L):(s&&(fn(),xe(D[x],1,1,()=>{D[x]=null}),dn()),~a?(s=D[a],s?s.p(C,L):(s=D[a]=b[a](C),s.c()),Ne(s,1),s.m(r,null)):s=null),(!d||L[0]&67108864)&&Me(r,"max-reached",C[26]),(!d||L[0]&33554432)&&Me(t,"has-items",C[25].length>0),(!d||L[0]&32768)&&Me(t,"is-virtual",C[15]),C[14]&&C[23]&&!C[26]?S?(S.p(C,L),L[0]&75513856&&Ne(S,1)):(S=Ol(C),S.c(),Ne(S,1),S.m(c.parentNode,c)):S&&(fn(),xe(S,1,1,()=>{S=null}),dn())},i(C){d||(Ne(g,C),Ne(s),Ne(S),d=!0)},o(C){xe(g,C),xe(s),xe(S),d=!1},d(C){C&&(y(e),y(t),y(o),y(c)),g&&g.d(C),~a&&D[a].d(),n[116](null),n[117](null),S&&S.d(C)}}}function cu(n){let e,t,r,a;return{c(){e=A("div"),t=A("div"),r=A("div"),a=ze(n[42]),this.h()},l(s){e=T(s,"DIV",{class:!0});var o=j(e);t=T(o,"DIV",{class:!0});var c=j(t);r=T(c,"DIV",{class:!0});var d=j(r);a=Fe(d,n[42]),d.forEach(y),c.forEach(y),o.forEach(y),this.h()},h(){p(r,"class","sv-item--content"),p(t,"class","sv-item--wrap"),p(e,"class","is-dropdown-row svelte-11q5y3b")},m(s,o){re(s,e,o),v(e,t),v(t,r),v(r,a)},p(s,o){o[1]&2048&&it(a,s[42])},i:It,o:It,d(s){s&&y(e)}}}function fu(n){let e,t,r,a;const s=[hu,du],o=[];function c(d,m){return d[15]?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Rt()},l(d){t.l(d),r=Rt()},m(d,m){o[e].m(d,m),re(d,r,m),a=!0},p(d,m){let g=e;e=c(d),e===g?o[e].p(d,m):(fn(),xe(o[g],1,1,()=>{o[g]=null}),dn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Ne(t,1),t.m(r.parentNode,r))},i(d){a||(Ne(t),a=!0)},o(d){xe(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function du(n){let e,t,r=Nt(n[25]),a=[];for(let o=0;o<r.length;o+=1)a[o]=Al(ll(n,r,o));const s=o=>xe(a[o],1,1,()=>{a[o]=null});return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=Rt()},l(o){for(let c=0;c<a.length;c+=1)a[c].l(o);e=Rt()},m(o,c){for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,c);re(o,e,c),t=!0},p(o,c){if(c[0]&44041344|c[1]&8192|c[3]&33554432){r=Nt(o[25]);let d;for(d=0;d<r.length;d+=1){const m=ll(o,r,d);a[d]?(a[d].p(m,c),Ne(a[d],1)):(a[d]=Al(m),a[d].c(),Ne(a[d],1),a[d].m(e.parentNode,e))}for(fn(),d=r.length;d<a.length;d+=1)s(d);dn()}},i(o){if(!t){for(let c=0;c<r.length;c+=1)Ne(a[c]);t=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)xe(a[c]);t=!1},d(o){o&&y(e),Tr(a,o)}}}function hu(n){let e,t,r={width:"100%",height:n[49],itemCount:n[25].length,itemSize:n[22],scrollToAlignment:"auto",scrollToIndex:n[21],$$slots:{item:[yu,({style:a,index:s})=>({162:a,163:s}),({style:a,index:s})=>[0,0,0,0,0,(a?128:0)|(s?256:0)]]},$$scope:{ctx:n}};return e=new zs({props:r}),n[115](e),{c(){yn(e.$$.fragment)},l(a){bn(e.$$.fragment,a)},m(a,s){vn(e,a,s),t=!0},p(a,s){const o={};s[1]&262144&&(o.height=a[49]),s[0]&33554432&&(o.itemCount=a[25].length),s[0]&4194304&&(o.itemSize=a[22]),s[0]&2097152&&(o.scrollToIndex=a[21]),s[0]&44041344|s[1]&8192|s[3]&33554432|s[5]&384&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(Ne(e.$$.fragment,a),t=!0)},o(a){xe(e.$$.fragment,a),t=!1},d(a){n[115](null),_n(e,a)}}}function pu(n){let e,t,r;const a=n[109].option,s=On(a,n,n[118],ol),o=s||gu(n);return{c(){e=A("div"),o&&o.c(),t=ee(),this.h()},l(c){e=T(c,"DIV",{"data-pos":!0,class:!0});var d=j(e);o&&o.l(d),t=$(d),d.forEach(y),this.h()},h(){p(e,"data-pos",n[166]),p(e,"class","sv-item--wrap in-dropdown svelte-11q5y3b"),Me(e,"sv-dd-item-active",n[21]===n[166]),Me(e,"is-selected",n[164].$selected),Me(e,"is-disabled",n[164][n[7]])},m(c,d){re(c,e,d),o&&o.m(e,null),v(e,t),r=!0},p(c,d){s?s.p&&(!r||d[0]&41943040|d[3]&33554432)&&Pn(s,a,c,c[118],r?Rn(a,c[118],d,Zs):Ln(c[118]),ol):o&&o.p&&(!r||d[0]&41944064|d[1]&8192)&&o.p(c,r?d:[-1,-1,-1,-1,-1,-1]),(!r||d[0]&2097152)&&Me(e,"sv-dd-item-active",c[21]===c[166]),(!r||d[0]&33554432)&&Me(e,"is-selected",c[164].$selected),(!r||d[0]&33554560)&&Me(e,"is-disabled",c[164][c[7]])},i(c){r||(Ne(o,c),r=!0)},o(c){xe(o,c),r=!1},d(c){c&&y(e),o&&o.d(c)}}}function mu(n){let e,t,r=n[164].label+"",a;return{c(){e=A("div"),t=A("b"),a=ze(r),this.h()},l(s){e=T(s,"DIV",{class:!0});var o=j(e);t=T(o,"B",{});var c=j(t);a=Fe(c,r),c.forEach(y),o.forEach(y),this.h()},h(){p(e,"class","sv-optgroup-header")},m(s,o){re(s,e,o),v(e,t),v(t,a)},p(s,o){o[0]&33554432&&r!==(r=s[164].label+"")&&it(a,r)},i:It,o:It,d(s){s&&y(e)}}}function gu(n){let e,t,r=ji(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Hi(!1),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=j(e);t=qi(s,!1),s.forEach(y),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(a,s){re(a,e,s),t.m(r,e)},p(a,s){s[0]&41944064|s[1]&8192&&r!==(r=ji(a[164],!1,a[23],a[44],a[10])+"")&&t.p(r)},d(a){a&&y(e)}}}function Al(n){let e,t,r,a;const s=[mu,pu],o=[];function c(d,m){return d[164].$isGroupHeader?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Rt()},l(d){t.l(d),r=Rt()},m(d,m){o[e].m(d,m),re(d,r,m),a=!0},p(d,m){let g=e;e=c(d),e===g?o[e].p(d,m):(fn(),xe(o[g],1,1,()=>{o[g]=null}),dn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Ne(t,1),t.m(r.parentNode,r))},i(d){a||(Ne(t),a=!0)},o(d){xe(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function _u(n){let e,t,r;const a=n[109].option,s=On(a,n,n[118],ul),o=s||bu(n);return{c(){e=A("div"),o&&o.c(),this.h()},l(c){e=T(c,"DIV",{"data-pos":!0,class:!0});var d=j(e);o&&o.l(d),d.forEach(y),this.h()},h(){p(e,"data-pos",t=n[163]),p(e,"class","sv-item--wrap in-dropdown svelte-11q5y3b"),Me(e,"sv-dd-item-active",n[21]===n[163]),Me(e,"is-selected",n[164].$selected),Me(e,"is-disabled",n[164][n[7]])},m(c,d){re(c,e,d),o&&o.m(e,null),r=!0},p(c,d){s?s.p&&(!r||d[0]&41943040|d[3]&33554432|d[5]&256)&&Pn(s,a,c,c[118],r?Rn(a,c[118],d,Qs):Ln(c[118]),ul):o&&o.p&&(!r||d[0]&41944064|d[1]&8192|d[5]&256)&&o.p(c,r?d:[-1,-1,-1,-1,-1,-1]),(!r||d[5]&256&&t!==(t=c[163]))&&p(e,"data-pos",t),(!r||d[0]&2097152|d[5]&256)&&Me(e,"sv-dd-item-active",c[21]===c[163]),(!r||d[0]&33554432|d[5]&256)&&Me(e,"is-selected",c[164].$selected),(!r||d[0]&33554560|d[5]&256)&&Me(e,"is-disabled",c[164][c[7]])},i(c){r||(Ne(o,c),r=!0)},o(c){xe(o,c),r=!1},d(c){c&&y(e),o&&o.d(c)}}}function vu(n){let e,t,r=n[164].label+"",a;return{c(){e=A("div"),t=A("b"),a=ze(r),this.h()},l(s){e=T(s,"DIV",{class:!0});var o=j(e);t=T(o,"B",{});var c=j(t);a=Fe(c,r),c.forEach(y),o.forEach(y),this.h()},h(){p(e,"class","sv-optgroup-header")},m(s,o){re(s,e,o),v(e,t),v(t,a)},p(s,o){o[0]&33554432|o[5]&256&&r!==(r=s[164].label+"")&&it(a,r)},i:It,o:It,d(s){s&&y(e)}}}function bu(n){let e,t,r=ji(n[164],!1,n[23],n[44],n[10])+"";return{c(){e=A("div"),t=new Hi(!1),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=j(e);t=qi(s,!1),s.forEach(y),this.h()},h(){t.a=null,p(e,"class","sv-item--content")},m(a,s){re(a,e,s),t.m(r,e)},p(a,s){s[0]&41944064|s[1]&8192|s[5]&256&&r!==(r=ji(a[164],!1,a[23],a[44],a[10])+"")&&t.p(r)},d(a){a&&y(e)}}}function yu(n){sl(n);let e,t,r,a,s;const o=[vu,_u],c=[];function d(m,g){return m[164].$isGroupHeader?0:1}return t=d(n),r=c[t]=o[t](n),{c(){e=A("div"),r.c(),this.h()},l(m){e=T(m,"DIV",{slot:!0,style:!0});var g=j(e);r.l(g),g.forEach(y),this.h()},h(){p(e,"slot","item"),p(e,"style",a=n[162])},m(m,g){re(m,e,g),c[t].m(e,null),s=!0},p(m,g){sl(m);let b=t;t=d(m),t===b?c[t].p(m,g):(fn(),xe(c[b],1,1,()=>{c[b]=null}),dn(),r=c[t],r?r.p(m,g):(r=c[t]=o[t](m),r.c()),Ne(r,1),r.m(e,null)),(!s||g[5]&128&&a!==(a=m[162]))&&p(e,"style",a)},i(m){s||(Ne(r),s=!0)},o(m){xe(r),s=!1},d(m){m&&y(e),c[t].d()}}}function Ol(n){let e,t,r,a,s,o;const c=n[109]["create-row"],d=On(c,n,n[118],al),m=d||wu(n);return{c(){e=A("div"),t=A("button"),m&&m.c(),this.h()},l(g){e=T(g,"DIV",{class:!0});var b=j(e);t=T(b,"BUTTON",{type:!0,class:!0});var D=j(t);m&&m.l(D),D.forEach(y),b.forEach(y),this.h()},h(){p(t,"type","button"),p(t,"class","creatable-row svelte-11q5y3b"),t.disabled=r=n[1](n[23]),Me(t,"active",(n[25].length?n[25].length:0)===n[21]),Me(t,"is-disabled",n[1](n[23])),p(e,"class","is-dropdown-row svelte-11q5y3b")},m(g,b){re(g,e,b),v(e,t),m&&m.m(t,null),a=!0,s||(o=[nt(t,"click",_a(n[51])),nt(t,"mousedown",_a(n[110]))],s=!0)},p(g,b){d?d.p&&(!a||b[0]&25165824|b[1]&16|b[3]&33554432)&&Pn(d,c,g,g[118],a?Rn(c,g[118],b,Ys):Ln(g[118]),al):m&&m.p&&(!a||b[0]&25165824|b[1]&18)&&m.p(g,a?b:[-1,-1,-1,-1,-1,-1]),(!a||b[0]&8388610&&r!==(r=g[1](g[23])))&&(t.disabled=r),(!a||b[0]&35651584)&&Me(t,"active",(g[25].length?g[25].length:0)===g[21]),(!a||b[0]&8388610)&&Me(t,"is-disabled",g[1](g[23]))},i(g){a||(Ne(m,g),a=!0)},o(g){xe(m,g),a=!1},d(g){g&&y(e),m&&m.d(g),s=!1,or(o)}}}function wu(n){let e,t=n[24].createRowLabel(n[23])+"",r,a,s,o,c,d,m,g="Enter";return{c(){e=A("span"),r=ze(t),a=ee(),s=A("span"),o=A("kbd"),c=ze(n[32]),d=ze("+"),m=A("kbd"),m.textContent=g,this.h()},l(b){e=T(b,"SPAN",{class:!0});var D=j(e);r=Fe(D,t),D.forEach(y),a=$(b),s=T(b,"SPAN",{class:!0});var P=j(s);o=T(P,"KBD",{class:!0});var S=j(o);c=Fe(S,n[32]),S.forEach(y),d=Fe(P,"+"),m=T(P,"KBD",{class:!0,"data-svelte-h":!0}),Ve(m)!=="svelte-eby1n8"&&(m.textContent=g),P.forEach(y),this.h()},h(){p(e,"class","svelte-11q5y3b"),Me(e,"is-loading",n[35]),p(o,"class","svelte-11q5y3b"),p(m,"class","svelte-11q5y3b"),p(s,"class","shortcut svelte-11q5y3b")},m(b,D){re(b,e,D),v(e,r),re(b,a,D),re(b,s,D),v(s,o),v(o,c),v(s,d),v(s,m)},p(b,D){D[0]&25165824&&t!==(t=b[24].createRowLabel(b[23])+"")&&it(r,t),D[1]&16&&Me(e,"is-loading",b[35]),D[1]&2&&it(c,b[32])},d(b){b&&(y(e),y(a),y(s))}}}function ku(n){let e,t,r,a,s,o,c,d,m,g,b,D,P,S,C,L,x,V,Y,H,fe,ie,Z,pe,ne,oe,ve,be,ue=n[28]&&bl(n),le=n[4]&&!n[6]&&yl(n);const ge=n[109].icon,ye=On(ge,n,n[118],_l);let ce=n[19].length&&kl(n),ae=n[9]&&!n[3]&&Cl(n),I=n[9]&&Il();const O=n[109]["dropdown-toggle"],q=On(O,n,n[118],dl),me=q||uu(),de=n[109]["control-end"],Q=On(de,n,n[118],fl);let J=n[18]&&n[31]&&Tl(n);return{c(){e=A("div"),t=A("span"),ue&&ue.c(),r=ee(),le&&le.c(),a=ee(),s=A("div"),ye&&ye.c(),o=ee(),c=A("div"),ce&&ce.c(),d=ee(),m=A("span"),g=A("input"),x=ee(),V=A("div"),ae&&ae.c(),Y=ee(),I&&I.c(),H=ee(),fe=A("button"),me&&me.c(),ie=ee(),Q&&Q.c(),Z=ee(),pe=A("div"),J&&J.c(),this.h()},l(W){e=T(W,"DIV",{class:!0,role:!0});var se=j(e);t=T(se,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Oe=j(t);ue&&ue.l(Oe),Oe.forEach(y),r=$(se),le&&le.l(se),a=$(se),s=T(se,"DIV",{class:!0});var Se=j(s);ye&&ye.l(Se),o=$(Se),c=T(Se,"DIV",{class:!0});var he=j(c);ce&&ce.l(he),d=$(he),m=T(he,"SPAN",{class:!0,"data-value":!0});var tt=j(m);g=T(tt,"INPUT",{type:!0,class:!0,size:!0,id:!0,placeholder:!0,inputmode:!0,enterkeyhint:!0,"aria-label":!0,"aria-describedby":!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,"aria-autocomplete":!0,tabindex:!0}),tt.forEach(y),he.forEach(y),x=$(Se),V=T(Se,"DIV",{class:!0});var qe=j(V);ae&&ae.l(qe),Y=$(qe),I&&I.l(qe),H=$(qe),fe=T(qe,"BUTTON",{type:!0,class:!0,"data-action":!0,tabindex:!0});var Je=j(fe);me&&me.l(Je),Je.forEach(y),qe.forEach(y),ie=$(Se),Q&&Q.l(Se),Se.forEach(y),Z=$(se),pe=T(se,"DIV",{class:!0});var ct=j(pe);J&&J.l(ct),ct.forEach(y),se.forEach(y),this.h()},h(){p(t,"aria-live","polite"),p(t,"aria-atomic","false"),p(t,"aria-relevant","additions text"),p(t,"class","a11y-text svelte-11q5y3b"),p(g,"type","text"),p(g,"class","sv-input--text svelte-11q5y3b"),p(g,"size","1"),p(g,"id",n[2]),p(g,"placeholder",b=n[23]?"":n[47]),p(g,"inputmode",n[48]),g.readOnly=D=!n[8],p(g,"enterkeyhint",n[43]),g.disabled=n[3],p(g,"aria-label",P=n[24].aria_label),p(g,"aria-describedby",S=n[24].aria_describedby),p(g,"autocapitalize","none"),p(g,"autocomplete","off"),p(g,"autocorrect","off"),p(g,"spellcheck","false"),p(g,"aria-autocomplete","list"),p(g,"tabindex","0"),Me(g,"keep-value",!n[11]),p(m,"class","sv-input--sizer svelte-11q5y3b"),p(m,"data-value",C=n[23]||n[47]),p(c,"class","sv-control--selection svelte-11q5y3b"),Me(c,"is-single",n[0]===!1),Me(c,"has-items",n[19].length>0),Me(c,"has-input",n[23].length),p(fe,"type","button"),p(fe,"class","sv-btn-indicator svelte-11q5y3b"),p(fe,"data-action","toggle"),p(fe,"tabindex","-1"),Me(fe,"sv-dropdown-opened",n[20]),p(V,"class","sv-buttons svelte-11q5y3b"),Me(V,"is-loading",n[34]),p(s,"class","sv-control svelte-11q5y3b"),p(pe,"class","sv_dropdown svelte-11q5y3b"),Me(pe,"is-open",n[30]),p(e,"class",ne=Ua(`svelecte ${n[16]}`)+" svelte-11q5y3b"),p(e,"role","none"),Me(e,"is-required",n[5]),Me(e,"is-empty",n[19].length===0),Me(e,"is-invalid",n[5]&&n[19].length===0),Me(e,"is-tainted",n[29]),Me(e,"is-valid",n[5]?n[19].length>0:!0),Me(e,"is-focused",n[28]),Me(e,"is-open",n[20]),Me(e,"is-disabled",n[3])},m(W,se){re(W,e,se),v(e,t),ue&&ue.m(t,null),v(e,r),le&&le.m(e,null),v(e,a),v(e,s),ye&&ye.m(s,null),v(s,o),v(s,c),ce&&ce.m(c,null),v(c,d),v(c,m),v(m,g),n[113](g),Zt(g,n[23]),v(s,x),v(s,V),ae&&ae.m(V,null),v(V,Y),I&&I.m(V,null),v(V,H),v(V,fe),me&&me.m(fe,null),v(s,ie),Q&&Q.m(s,null),v(e,Z),v(e,pe),J&&J.m(pe,null),oe=!0,ve||(be=[nt(g,"input",n[114]),nt(g,"focus",n[56]),nt(g,"keydown",n[53]),nt(g,"keyup",n[54]),nt(g,"input",n[55]),nt(g,"blur",n[57]),nt(g,"paste",n[58]),ai(L=n[12].call(null,c,{items:n[19],flipDurationMs:n[36],type:n[2],dragDisabled:n[33]})),nt(c,"consider",n[59]),nt(c,"finalize",n[59]),nt(s,"mousedown",Pl),nt(s,"click",n[52]),nt(pe,"mousedown",Pl),nt(pe,"click",n[52]),ai(n[17].call(null,pe))],ve=!0)},p(W,se){W[28]?ue?ue.p(W,se):(ue=bl(W),ue.c(),ue.m(t,null)):ue&&(ue.d(1),ue=null),W[4]&&!W[6]?le?le.p(W,se):(le=yl(W),le.c(),le.m(e,a)):le&&(le.d(1),le=null),ye&&ye.p&&(!oe||se[3]&33554432)&&Pn(ye,ge,W,W[118],oe?Rn(ge,W[118],se,ru):Ln(W[118]),_l),W[19].length?ce?(ce.p(W,se),se[0]&524288&&Ne(ce,1)):(ce=kl(W),ce.c(),Ne(ce,1),ce.m(c,d)):ce&&(fn(),xe(ce,1,1,()=>{ce=null}),dn()),(!oe||se[0]&4)&&p(g,"id",W[2]),(!oe||se[0]&8388608|se[1]&65536&&b!==(b=W[23]?"":W[47]))&&p(g,"placeholder",b),(!oe||se[1]&131072)&&p(g,"inputmode",W[48]),(!oe||se[0]&256&&D!==(D=!W[8]))&&(g.readOnly=D),(!oe||se[1]&4096)&&p(g,"enterkeyhint",W[43]),(!oe||se[0]&8)&&(g.disabled=W[3]),(!oe||se[0]&16777216&&P!==(P=W[24].aria_label))&&p(g,"aria-label",P),(!oe||se[0]&16777216&&S!==(S=W[24].aria_describedby))&&p(g,"aria-describedby",S),se[0]&8388608&&g.value!==W[23]&&Zt(g,W[23]),(!oe||se[0]&2048)&&Me(g,"keep-value",!W[11]),(!oe||se[0]&8388608|se[1]&65536&&C!==(C=W[23]||W[47]))&&p(m,"data-value",C),L&&Or(L.update)&&se[0]&524292|se[1]&36&&L.update.call(null,{items:W[19],flipDurationMs:W[36],type:W[2],dragDisabled:W[33]}),(!oe||se[0]&1)&&Me(c,"is-single",W[0]===!1),(!oe||se[0]&524288)&&Me(c,"has-items",W[19].length>0),(!oe||se[0]&8388608)&&Me(c,"has-input",W[23].length),W[9]&&!W[3]?ae?(ae.p(W,se),se[0]&520&&Ne(ae,1)):(ae=Cl(W),ae.c(),Ne(ae,1),ae.m(V,Y)):ae&&(fn(),xe(ae,1,1,()=>{ae=null}),dn()),W[9]?I||(I=Il(),I.c(),I.m(V,H)):I&&(I.d(1),I=null),q&&q.p&&(!oe||se[0]&1048576|se[3]&33554432)&&Pn(q,O,W,W[118],oe?Rn(O,W[118],se,$s):Ln(W[118]),dl),(!oe||se[0]&1048576)&&Me(fe,"sv-dropdown-opened",W[20]),(!oe||se[1]&8)&&Me(V,"is-loading",W[34]),Q&&Q.p&&(!oe||se[3]&33554432)&&Pn(Q,de,W,W[118],oe?Rn(de,W[118],se,Xs):Ln(W[118]),fl),W[18]&&W[31]?J?(J.p(W,se),se[0]&262144|se[1]&1&&Ne(J,1)):(J=Tl(W),J.c(),Ne(J,1),J.m(pe,null)):J&&(fn(),xe(J,1,1,()=>{J=null}),dn()),(!oe||se[0]&1073741824)&&Me(pe,"is-open",W[30]),(!oe||se[0]&65536&&ne!==(ne=Ua(`svelecte ${W[16]}`)+" svelte-11q5y3b"))&&p(e,"class",ne),(!oe||se[0]&65568)&&Me(e,"is-required",W[5]),(!oe||se[0]&589824)&&Me(e,"is-empty",W[19].length===0),(!oe||se[0]&589856)&&Me(e,"is-invalid",W[5]&&W[19].length===0),(!oe||se[0]&536936448)&&Me(e,"is-tainted",W[29]),(!oe||se[0]&589856)&&Me(e,"is-valid",W[5]?W[19].length>0:!0),(!oe||se[0]&268500992)&&Me(e,"is-focused",W[28]),(!oe||se[0]&1114112)&&Me(e,"is-open",W[20]),(!oe||se[0]&65544)&&Me(e,"is-disabled",W[3])},i(W){oe||(Ne(ye,W),Ne(ce),Ne(ae),Ne(me,W),Ne(Q,W),Ne(J),oe=!0)},o(W){xe(ye,W),xe(ce),xe(ae),xe(me,W),xe(Q,W),xe(J),oe=!1},d(W){W&&y(e),ue&&ue.d(),le&&le.d(),ye&&ye.d(W),ce&&ce.d(),n[113](null),ae&&ae.d(),I&&I.d(),me&&me.d(W),Q&&Q.d(W),J&&J.d(),ve=!1,or(be)}}}kt.requestFactory=Is;const Ai={default(n){return Cs(n[this.label])}},Oi=n=>({destroy:()=>{}}),Eu=kt;function Pl(n){n.preventDefault()}function Su(n,e,t){let r,a,s,o,c,d,m,g,b,D,{$$slots:P={},$$scope:S}=e,{name:C="svelecte"}=e,{inputId:L=""}=e,{required:x=!1}=e,{disabled:V=!1}=e,{anchor_element:Y=null}=e,{options:H=[]}=e,{optionResolver:fe=null}=e,{valueField:ie=kt.valueField}=e,{labelField:Z=kt.labelField}=e,{groupLabelField:pe=kt.groupLabelField}=e,{groupItemsField:ne=kt.groupItemsField}=e,{disabledField:oe=kt.disabledField}=e,{placeholder:ve=kt.placeholder}=e,{searchable:be=kt.searchable}=e,{clearable:ue=kt.clearable}=e,{renderer:le=null}=e,{disableHighlight:ge=!1}=e,{highlightFirstItem:ye=kt.highlightFirstItem}=e,{selectOnTab:ce=kt.selectOnTab}=e,{resetOnBlur:ae=kt.resetOnBlur}=e,{resetOnSelect:I=kt.resetOnSelect}=e,{closeAfterSelect:O=kt.closeAfterSelect}=e,{deselectMode:q="native"}=e,{dndzone:me=()=>({noop:!0,destroy:()=>{}})}=e,{validatorAction:de=[]}=e,{strictMode:Q=!0}=e,{multiple:J=kt.multiple}=e,{max:W=kt.max}=e,{collapseSelection:se=kt.collapseSelection}=e,{keepSelectionInList:Oe=kt.keepSelectionInList}=e,{creatable:Se=kt.creatable}=e,{creatablePrefix:he=kt.creatablePrefix}=e,{allowEditing:tt=kt.allowEditing}=e,{keepCreated:qe=kt.keepCreated}=e,{delimiter:Je=kt.delimiter}=e,{createFilter:ct=null}=e,{createHandler:Ke=null}=e,{fetch:vt=null}=e,{fetchProps:Kt=kt.fetchProps}=e,{fetchMode:mt="auto"}=e,{fetchCallback:nn=kt.fetchCallback}=e,{fetchResetOnBlur:Et=!0}=e,{fetchDebounceTime:Tt=kt.fetchDebounceTime}=e,{minQuery:Ot=kt.minQuery}=e,{lazyDropdown:bt=kt.lazyDropdown}=e,{virtualList:$e=kt.virtualList}=e,{vlHeight:Ge=kt.vlHeight}=e,{vlItemSize:Le=kt.vlItemSize}=e,{searchProps:dt=null}=e,{class:jt="svelecte-control"}=e,{i18n:Ut=null}=e,{readSelection:Pt=null}=e,{value:lt=null}=e,{valueAsObject:st=kt.valueAsObject}=e,{parentValue:Qt=void 0}=e,{positionResolver:$t=Oi}=e;function Mt(){Cn.focus()}function Re(k,ke){Lr(k),ke&&Ct()}function Gt(k){return k?lt:Pt}function At(k){vt&&(yr({init:!0,initValue:k,storedValue:Et}),t(64,Et=!1))}const qt=Eo(),we=`sv-${C}-select`;vt&&lt&&st&&(!H||H&&H.length===0)&&(H=Array.isArray(lt)?lt:[lt]),L||(L=`${we}-input`),J=C&&!J?C.endsWith("[]"):J;let Wt=!1,gt,St=fe?fe(H,new Set):il(H,ie,Z,$e&&!!vt),Ht,_t=ie||Ti("value",St,ne),Jt=Z||Ti("label",St,ne),ut=lt!==null?Hs(St,lt,st,ne,_t):[];const Ze=ut.reduce((k,ke)=>(k.add(ke[_t]),k),new Set);let et=ut.filter(k=>k.$created),Ce=!1,Ye=!1,Ue=!1,Be=!1,We=!1,at=ye?0:null,sn=!bt,hn=null,xn=$e&&Ge===null&&Le===null,wn=Ge,ln=Le,kn,ot="",Nn=!1,ht,un=mt==="init"||vt&&vt.includes("[query]")===!1,pn=un||vt&&H.length===0?lt:null,on=null,sr=se!==null,Lt=!1,Bn=!1,Fn=100,ur=!1,tr=!1,Cn,Bt,zn,en,cr;const cn=qs(_t,Jt,pe,ne);Wr(Ut,!0);function ci(k,ke){Wt&&(k&&_t!==k&&(t(107,cn.valueField=t(27,_t=k),cn),Ze.size>0&&hr()),ke&&(t(107,cn.labelField=t(104,Jt=ke),cn),(le===null||le==="default")&&t(44,o=Ai.default.bind({label:Jt}))))}function pt(k){if(Wt){if(St!==k){if(k=il(k,_t,Jt,$e&&!!vt),!ie){const ke=Ti("value",k||null,ne);!ie&&_t!==ke&&(t(107,cn.valueField=t(27,_t=ke),cn),Ze.size>0&&hr())}if(!Z){const ke=Ti("label",k||null,ne);!Z&&Jt!==ke&&(t(107,cn.labelField=ke,cn),t(104,Jt=ke),(le===null||le==="default")&&t(44,o=Ai.default.bind({label:Jt})))}}t(61,H=k),t(103,St=fe?fe(k,Ze):k)}}function Lr(k,ke){if(!(gt===k&&!(ke!=null&&ke.skipEqualityCheck))){if(hr(),k!==null){if((J&&!Array.isArray(k)||!J&&Array.isArray(k))&&console.warn(`Passed 'value' property should ${J?"be":"NOT be"} an array`),pn)return;const rt=Array.isArray(k)?k:[k],Xe=rt.reduce((In,mn)=>{if(st&&(!Q||Se&&mn.$created))return In.push(mn),In;const Sn=a.find(Zn=>st?Zn[_t]==mn[_t]:Zn[_t]==mn);return Sn?In.push(Sn):!Q&&In.push(Ke?Ke({inputValue:mn,valueField:_t,labelField:Jt,prefix:he}):{[_t]:mn,[Jt]:mn}),In},[]);if(!(Xe.every(_r)&&(J?rt.length===Xe.length:Xe.length>0))){console.warn('[Svelecte]: provided "value" property is invalid',k),t(63,lt=J?[]:null),t(65,Pt=lt),qt("invalidValue",k);return}t(65,Pt=Array.isArray(k)?Xe:Xe.shift())}gt=k}}function fi(k){if(ur)return;const ke=k.map(Xe=>{const{$disabled:xt,$isGroupItem:In,...mn}=Xe;return mn}),rt=J?ke:ke.length?ke[0]:null;st?gt=rt:gt=J?rt.map(Xe=>Xe[_t]):ut.length?rt[_t]:null,t(63,lt=gt),t(65,Pt=rt),W&&k.length===W&&t(42,Qn=ht.max(W))}function Rr(k){if(k!==void 0&&Ht!==k||k===void 0&&Ht!==k){const ke=k===void 0?!1:!k;hr(),gt=J?[]:null,t(3,V=ke)}Ht=k,tr=k!==void 0}function fr(k){!Wt||!sn||ar().then(()=>{if(!cr)return;const ke=js(cr,en,s);t(22,ln=ke.size),t(106,wn=ke.height)}).then(()=>$t===Oi&&da(Be,en,sn))}function di(k){Wt&&(k&&!Ye&&(Ye=!0),!sn&&k&&t(31,sn=!0),ar().then(()=>{xn&&fr()}).then(()=>{$t===Oi&&da(k,en,!0),k&&(ye&&(ut.length===0||J)&&Yn(0,{asc:!0}),!J&&ut.length&&t(21,at=a.findIndex(ke=>ke===ut[0])),Ii({container:zn,scrollContainer:en,virtualList:$e,center:!1},at)),ar().then(()=>t(30,We=k))}),hn||(hn=()=>$t===Oi&&da(k,en,!0)),document[k?"addEventListener":"removeEventListener"]("scroll",hn,{passive:!0}))}function Wr(k,ke=null){(Wt||ke)&&t(24,ht=Object.assign({},Eu.i18n,k||{}))}function hi(k,ke){if(!(vt&&!un)){if(k){t(42,Qn=ht.max(W));return}t(42,Qn=ke.length!==a.length&&ut.length!==a.length?Se?ht.emptyCreatable:ht.nomatch:Se?ht.emptyCreatable:ht.empty)}}function Ct(){ar().then(()=>{qt("change",Pt),Bt&&(Bt.dispatchEvent(new Event("input")),Bt.dispatchEvent(new Event("change")))})}function gr(k){qt("createoption",k)}function Wn(k,ke){if(ke=ke||k.detail,!(V||ke[oe]||ke.$isGroupHeader)){if(!ke||J&&r)return!1;if(Ze.has(ke[_t]))return!J&&q!=="toggle"?void 0:dr(null,ke);if(typeof ke=="string"){if(!Se||(ke=ca(ke),et.includes(ke)||Ze.has(ke)))return;t(35,Bn=!0),Promise.resolve().then(()=>Ke({inputValue:ke,valueField:_t,labelField:Jt,prefix:he})).then(rt=>{t(35,Bn=!1),!vt&&et.push(ke),rt.$created=!0,qe&&t(103,St=[...St,rt]),gr(rt),_r(rt),nr(),Ct()}).catch(rt=>{t(35,Bn=!1),qt("createFail",{input:ke,error:rt})});return}_r(ke),nr(),Ct()}}function nr(){(J&&I||!J)&&t(23,ot=""),(O===!0||O==="auto"&&!J)&&t(20,Be=!1),W&&ut.length==W&&t(21,at=0)}function _r(k){if(k.$selected=!0,J)ut.push(k),t(19,ut),Ze.add(k[_t]);else{const ke=ut.shift();ke&&(ke.$selected=!1),t(19,ut=[k]),Ze.clear(),Ze.add(k[_t]),ar().then(()=>{t(21,at=a.indexOf(k))})}return fe?(t(103,St=fe(H,Ze)),!0):(t(108,a),t(103,St),t(107,cn),!0)}function dr(k={},ke=null,rt){V||(ke=ke||k.detail,ke?(Mr(ke,rt),Oe!==!0&&ar().then(()=>Ii({scrollContainer:en,container:zn,virtualList:$e,center:!1},at))):hr(),Ct())}function Mr(k,ke){if(k.$created){if(et.splice(et.findIndex(Xe=>Xe===k[_t]),1),t(105,et),!qe){const Xe=St.findIndex(xt=>xt[_t]===k[_t]);Xe!==-1&&St.splice(Xe,1),t(103,St)}ke&&tt&&t(23,ot=k[Jt].replace(he,""))}k.$selected=!1;const rt=k[_t];if(Ze.delete(rt),ut.splice(ut.findIndex(Xe=>Xe[_t]==rt),1),t(19,ut),fe){t(103,St=fe(H,Ze));return}t(108,a=vt&&!un&&Et?[]:a)}function hr(){if(!(Ze.size===0||!J&&q==="none")){if(Ze.clear(),t(19,ut=ut.reduce((k,ke)=>(ke.$selected=!1,[]),[])),qe||t(105,et=[]),t(26,r=!1),ot&&t(23,ot=""),fe){t(103,St=fe(H,Ze));return}t(108,a=vt&&!un&&Et?[]:a)}}function Nr(k){et.includes(ot)||Wn(null,ot)}function pi(k){if(Se&&Je.indexOf(k.key)>-1){ot.length>0&&Wn(null,ot),k.preventDefault();return}const ke=ce&&Be&&!k.shiftKey?"Tab":"No-tab";let rt=on?k.metaKey:k.ctrlKey,Xe=["PageUp","PageDown"].includes(k.key),xt=!1,In=!1;switch(k.key){case"End":if(ot.length!==0)return;Yn(s.length,{desc:!0});case"PageDown":if(Xe){const[Zn,Xn]=Fr();t(21,at=Math.min(Math.ceil((Xn*at+Zn)/Xn),s.length))}case"ArrowUp":if(k.preventDefault(),!Be){t(20,Be=!0);return}Yn(at-1,{desc:!0}),ar().then(()=>Ii({scrollContainer:en,container:zn,virtualList:$e,center:!1},at));break;case"Home":if(In=!0,ot.length!==0||ot.length===0&&s.length===0)return;Yn(0,{asc:!0});case"PageUp":if(Xe){const[Zn,Xn]=Fr();t(21,at=Math.floor((Xn*at-Zn)/Xn))}case"ArrowDown":if(k.preventDefault(),!Be){t(20,Be=!0);return}!In&&Yn((at===null?-1:at)+1,{asc:!0}),ar().then(()=>Ii({scrollContainer:en,container:zn,virtualList:$e,center:!1},at));break;case"Escape":Be&&(k.preventDefault(),k.stopPropagation()),ot||t(20,Be=!1),t(23,ot="");break;case ke:case"Enter":if(!Be){k.key!==ke&&qt("enterKey",k);return}let Sn=rt?null:s[at];if(Se&&ot){const Zn=ct(ca(ot));Sn=!Sn||rt?ca(ot):Sn,rt=Zn}if(!rt&&Sn&&Wn(null,Sn),s.length<=at&&Yn(s.length-1),!Sn&&ut.length){t(20,Be=!1),k.key!==ke&&qt("enterKey",k);return}(k.key!==ke||k.key===ke&&ce!=="select-navigate")&&k.preventDefault();break;case" ":!vt&&!Be&&(t(20,Be=!0),k.preventDefault());break;case"Backspace":if(se==="always")return;xt=!0;case"Delete":if(ot===""&&ut.length){if(!J&&q==="none")return;rt?dr({}):dr(null,ut[ut.length-1],xt),k.preventDefault()}default:!rt&&!["Tab","Shift"].includes(k.key)&&!Be&&!Lt&&t(20,Be=!0)}}function Vi(k){if(V)return;const ke=k.target.closest("[data-action]");if(Ye||(Ye=!0),(ke==null?void 0:ke.dataset.action)==="default")return;k.preventDefault();const rt=k.target.closest("[data-pos]");if(!ke&&!rt)return jn(k.target);switch((ke==null?void 0:ke.dataset.action)||"select"){case"deselect":let xt=ke.bound_item;if(!xt){const mn=ke.dataset.id;xt=ut.filter(Sn=>Sn[_t]==mn).shift()}dr({},xt),xt&&!Ce&&Cn.focus();break;case"select":const In=parseInt(rt.dataset.pos);Wn(null,s[In]);break;case"toggle":t(20,Be=!Be);break}}function yt(k){if(Ja()&&!g&&k.key==="Enter")return!0;Nn=["Enter","Escape"].includes(k.key)&&Be,pi(k)}function mi(k){Nn&&(k.stopImmediatePropagation(),k.preventDefault()),Nn=!1}function Ui(){ut.length}function Gi(){t(28,Ce=!0),t(20,Be=Ye),Ue||t(29,Ue=!0),se==="blur"&&!ur&&setTimeout(()=>{t(33,sr=!1)},100),qt("focus",Cn)}function En(){t(28,Ce=!1),t(20,Be=!1),Ye=!1,ae?t(23,ot=""):Dn&&!un&&Dn.abort("blur"),se==="blur"&&!ur&&setTimeout(()=>{t(33,sr=!0)},100),qt("blur",Cn)}function pr(k){if(Se){k.preventDefault();const ke=new RegExp("([^"+Je+"\\n]+)","g"),rt=k.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),Xe=rt.match(ke);Xe.length===1&&rt.indexOf(",")===-1&&t(23,ot=Xe.pop().trim()),Xe.forEach(xt=>Wn(null,xt.trim()))}}function Br(k){ur=k.type==="consider",t(19,ut=k.detail.items),ur||(Ct(),se==="blur"&&setTimeout(()=>{t(33,sr=!0)},200))}let Dn,vr,Qn=vt?un?ht.fetchInit:Ot>1?ht.fetchQuery(Ot,0):ht.fetchBefore:Se?ht.emptyCreatable:ht.empty;function rn(k,ke){if(!k){vr=null;return}(un||pn)&&(t(34,Lt=!0),yr({init:!0})),vr=Ds(yr,Tt)}let Kn=ii({control:null});const rr=(k=null)=>Kn.update(ke=>{var rt;return(rt=ke.control)==null||rt.abort(),{control:k}});function br(k){un||r||vr&&(rr(),t(34,Lt=!0),ot.length<Ot&&t(34,Lt=!1),Et&&t(25,s=[]),t(30,We=!(k.length>=Ot)),t(42,Qn=Ot<=1?ht.fetchBefore:ht.fetchQuery(Ot,k.length)),vr())}function yr(k={}){if(rr(),k.init!==!0&&!ot.length||tr&&!Qt){t(34,Lt=!1),Et&&t(103,St=fe?fe(H,Ze):[]);return}if(ot&&ot.length<Ot){t(34,Lt=!1);return}un&&gt&&(!J||(gt==null?void 0:gt.length)>0)&&(pn=gt);const ke=pn||k.initValue;un&&t(42,Qn=ht.fetchInit);const rt=kt.requestFactory(ot,{parentValue:Qt,url:vt,initial:ke},Kt);Dn=rt.controller,rr(rt.controller),window.fetch(rt.request).then(Xe=>Xe.json()).then(Xe=>(!Array.isArray(Xe)&&(Xe!=null&&Xe.error)&&qt("fetchError",Xe.error),Promise.resolve(nn?nn(Xe):Xe.data||Xe.items||Xe.options||Xe).then(xt=>{Array.isArray(xt)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",xt),xt=[]),t(103,St=xt),qt("fetch",xt),ar().then(()=>{ke&&(pn=null,Lr(ke,{skipEqualityCheck:!0}),"storedValue"in k&&t(64,Et=k.storedValue))})}))).catch(Xe=>{if(Xe instanceof DOMException&&Xe.name==="AbortError")return!0;t(103,St=[]),qt("fetchError",Xe),console.warn("[Svelecte] Fetch Error:",Xe)}).then(Xe=>{Xe!==!0&&(t(42,Qn=un?ht.empty:ke?Ot>1?ht.fetchQuery(Ot,0):ht.fetchBefore:ht.fetchEmpty),Dn=null,t(34,Lt=!1),Ce&&t(20,Be=!0),Be&&!We&&t(30,We=!0))})}function Jn(k){return Oe?Oe===!0?k?Ze:null:k||J?Ze:null:Ze}function Yn(k,ke={},rt=0){var xt;const Xe=Se?s.length+1:s.length;if(!(rt>=2)){if(k<0&&(k=ke.desc?Xe-1:0),(at===null&&ye||k>=Xe)&&(k=0),(xt=s[k])!=null&&xt.$isGroupHeader){Yn(ke.asc?k+1:k-1,ke,++rt);return}t(21,at=k)}}function jn(k){if(!V){if(!Ce){Cn.focus();return}k.tagName==="INPUT"&&ot||t(20,Be=!Be)}}function Fr(){return $e?[en.offsetHeight,ln]:[en.offsetHeight,zn.firstElementChild.offsetHeight]}const gi=de.length?de.shift():()=>{};Ea(()=>{t(18,Wt=!0),Ja(),on=Ss(),t(32,kn=on?"â":"Ctrl"),Y?(t(38,Bt=document.getElementById(Y)),t(38,Bt.className="sv-hidden-element",Bt),t(38,Bt.innerHTML="",Bt),t(38,Bt.tabIndex=-1,Bt),t(38,Bt.disabled=V,Bt),t(38,Bt.required=x,Bt),t(38,Bt.multiple=J,Bt),!J&&Bt.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),Ze.forEach(k=>{Bt.insertAdjacentHTML("beforeend",`<option value=${k} selected>${k}</option>`)})):ut.length&&setTimeout(()=>{Bt&&Array.from(Bt.children).forEach(k=>{k.selected=!0})},200),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t(36,Fn=0)});function Yr(k){Ga.call(this,n,k)}function wr(k){Ga.call(this,n,k)}function Zr(k){An[k?"unshift":"push"](()=>{Bt=k,t(38,Bt),t(19,ut),t(27,_t)})}function _i(k){An[k?"unshift":"push"](()=>{Cn=k,t(37,Cn)})}function xi(){ot=this.value,t(23,ot)}function kr(k){An[k?"unshift":"push"](()=>{cr=k,t(41,cr)})}function Wi(k){An[k?"unshift":"push"](()=>{zn=k,t(39,zn)})}function Yi(k){An[k?"unshift":"push"](()=>{en=k,t(40,en)})}return n.$$set=k=>{"name"in k&&t(4,C=k.name),"inputId"in k&&t(2,L=k.inputId),"required"in k&&t(5,x=k.required),"disabled"in k&&t(3,V=k.disabled),"anchor_element"in k&&t(6,Y=k.anchor_element),"options"in k&&t(61,H=k.options),"optionResolver"in k&&t(66,fe=k.optionResolver),"valueField"in k&&t(67,ie=k.valueField),"labelField"in k&&t(68,Z=k.labelField),"groupLabelField"in k&&t(69,pe=k.groupLabelField),"groupItemsField"in k&&t(70,ne=k.groupItemsField),"disabledField"in k&&t(7,oe=k.disabledField),"placeholder"in k&&t(71,ve=k.placeholder),"searchable"in k&&t(8,be=k.searchable),"clearable"in k&&t(9,ue=k.clearable),"renderer"in k&&t(72,le=k.renderer),"disableHighlight"in k&&t(10,ge=k.disableHighlight),"highlightFirstItem"in k&&t(73,ye=k.highlightFirstItem),"selectOnTab"in k&&t(74,ce=k.selectOnTab),"resetOnBlur"in k&&t(11,ae=k.resetOnBlur),"resetOnSelect"in k&&t(75,I=k.resetOnSelect),"closeAfterSelect"in k&&t(76,O=k.closeAfterSelect),"deselectMode"in k&&t(77,q=k.deselectMode),"dndzone"in k&&t(12,me=k.dndzone),"validatorAction"in k&&t(13,de=k.validatorAction),"strictMode"in k&&t(78,Q=k.strictMode),"multiple"in k&&t(0,J=k.multiple),"max"in k&&t(79,W=k.max),"collapseSelection"in k&&t(80,se=k.collapseSelection),"keepSelectionInList"in k&&t(81,Oe=k.keepSelectionInList),"creatable"in k&&t(14,Se=k.creatable),"creatablePrefix"in k&&t(82,he=k.creatablePrefix),"allowEditing"in k&&t(83,tt=k.allowEditing),"keepCreated"in k&&t(84,qe=k.keepCreated),"delimiter"in k&&t(85,Je=k.delimiter),"createFilter"in k&&t(1,ct=k.createFilter),"createHandler"in k&&t(62,Ke=k.createHandler),"fetch"in k&&t(86,vt=k.fetch),"fetchProps"in k&&t(87,Kt=k.fetchProps),"fetchMode"in k&&t(88,mt=k.fetchMode),"fetchCallback"in k&&t(89,nn=k.fetchCallback),"fetchResetOnBlur"in k&&t(64,Et=k.fetchResetOnBlur),"fetchDebounceTime"in k&&t(90,Tt=k.fetchDebounceTime),"minQuery"in k&&t(91,Ot=k.minQuery),"lazyDropdown"in k&&t(92,bt=k.lazyDropdown),"virtualList"in k&&t(15,$e=k.virtualList),"vlHeight"in k&&t(93,Ge=k.vlHeight),"vlItemSize"in k&&t(94,Le=k.vlItemSize),"searchProps"in k&&t(95,dt=k.searchProps),"class"in k&&t(16,jt=k.class),"i18n"in k&&t(96,Ut=k.i18n),"readSelection"in k&&t(65,Pt=k.readSelection),"value"in k&&t(63,lt=k.value),"valueAsObject"in k&&t(97,st=k.valueAsObject),"parentValue"in k&&t(98,Qt=k.parentValue),"positionResolver"in k&&t(17,$t=k.positionResolver),"$$scope"in k&&t(118,S=k.$$scope)},n.$$.update=()=>{n.$$.dirty[2]&96&&ci(ie,Z),n.$$.dirty[0]&524288|n.$$.dirty[2]&131072&&t(26,r=W!==0&&ut.length==W),n.$$.dirty[1]&1073741824&&pt(H),n.$$.dirty[3]&17408&&t(108,a=Vs(St,cn)),n.$$.dirty[2]&2&&Lr(lt),n.$$.dirty[0]&75497472|n.$$.dirty[3]&49156&&t(25,s=r?[]:xs(a,ot,Jn(ot),cn,dt||{})),n.$$.dirty[2]&2048&&ye&&Yn(0,{asc:!0}),n.$$.dirty[0]&35667968&&s.length<=at&&Yn(0,{asc:!Se,desc:Se}),n.$$.dirty[0]&2|n.$$.dirty[3]&4096&&(ct||t(1,ct=k=>et.includes(k))),n.$$.dirty[2]&1&&(Ke||t(62,Ke=({inputValue:k,labelField:ke,valueField:rt,prefix:Xe})=>({[rt]:k,[ke]:`${Xe}${k}`}))),n.$$.dirty[3]&8&&Wr(Ut),n.$$.dirty[3]&32&&Rr(Qt),n.$$.dirty[0]&524288&&fi(ut),n.$$.dirty[2]&1024|n.$$.dirty[3]&2048&&t(44,o=typeof le=="function"?le:Ai[le]||Ai.default.bind({label:Jt})),n.$$.dirty[0]&37748736|n.$$.dirty[3]&8192&&t(49,c=Math.min(wn,Array.isArray(ln)?ln.reduce((k,ke)=>(k+=ke,k),0):s.length*ln)),n.$$.dirty[0]&33554432&&xn&&fr(),n.$$.dirty[0]&1048576&&di(Be),n.$$.dirty[0]&256&&t(48,d=be?"text":"none"),n.$$.dirty[0]&524288|n.$$.dirty[2]&512&&t(47,m=ut.length?"":ve),n.$$.dirty[0]&524289&&t(43,g=ut.length>0&&J===!1?null:"enter"),n.$$.dirty[0]&17301504|n.$$.dirty[3]&2048&&t(46,b=ht.aria_selected(ut.map(k=>k[Jt]))),n.$$.dirty[0]&61865984|n.$$.dirty[3]&2048&&t(45,D=s.length&&at>0?Be?ht.aria_listActive(s[at],Jt,s.length):ht.aria_inputFocused():ot.length?ht.nomatch:ht.empty),n.$$.dirty[0]&8388608&&br(ot),n.$$.dirty[0]&262144|n.$$.dirty[2]&16777216|n.$$.dirty[3]&32&&Wt&&rn(vt),n.$$.dirty[0]&100663296&&hi(r,s)},[J,ct,L,V,C,x,Y,oe,be,ue,ge,ae,me,de,Se,$e,jt,$t,Wt,ut,Be,at,ln,ot,ht,s,r,_t,Ce,Ue,We,sn,kn,sr,Lt,Bn,Fn,Cn,Bt,zn,en,cr,Qn,g,o,D,b,m,d,c,we,Nr,Vi,yt,mi,Ui,Gi,En,pr,Br,gi,H,Ke,lt,Et,Pt,fe,ie,Z,pe,ne,ve,le,ye,ce,I,O,q,Q,W,se,Oe,he,tt,qe,Je,vt,Kt,mt,nn,Tt,Ot,bt,Ge,Le,dt,Ut,st,Qt,Mt,Re,Gt,At,St,Jt,et,wn,cn,a,P,Yr,wr,Zr,_i,xi,kr,Wi,Yi,S]}class ui extends Un{constructor(e){super(),Gn(this,e,Su,ku,Mn,{name:4,inputId:2,required:5,disabled:3,anchor_element:6,options:61,optionResolver:66,valueField:67,labelField:68,groupLabelField:69,groupItemsField:70,disabledField:7,placeholder:71,searchable:8,clearable:9,renderer:72,disableHighlight:10,highlightFirstItem:73,selectOnTab:74,resetOnBlur:11,resetOnSelect:75,closeAfterSelect:76,deselectMode:77,dndzone:12,validatorAction:13,strictMode:78,multiple:0,max:79,collapseSelection:80,keepSelectionInList:81,creatable:14,creatablePrefix:82,allowEditing:83,keepCreated:84,delimiter:85,createFilter:1,createHandler:62,fetch:86,fetchProps:87,fetchMode:88,fetchCallback:89,fetchResetOnBlur:64,fetchDebounceTime:90,minQuery:91,lazyDropdown:92,virtualList:15,vlHeight:93,vlItemSize:94,searchProps:95,class:16,i18n:96,readSelection:65,value:63,valueAsObject:97,parentValue:98,positionResolver:17,focus:99,setSelection:100,getSelection:101,refetchWith:102},null,[-1,-1,-1,-1,-1,-1])}get focus(){return this.$$.ctx[99]}get setSelection(){return this.$$.ctx[100]}get getSelection(){return this.$$.ctx[101]}get refetchWith(){return this.$$.ctx[102]}}function Cu(n){let e,t,r,a="Add New Trip",s,o,c,d="Trip Name",m,g,b,D,P,S="Trip Currency",C,L,x,V,Y,H,fe="Trip Start",ie,Z,pe,ne,oe,ve,be="Trip End",ue,le,ge,ye,ce,ae,I='<button class="btn btn-primary col-md-2" type="submit">Add Trip</button> <a href="#/" class="btn btn-outline-primary col-md-2">Cancel</a>',O,q,me;function de(J){n[8](J)}let Q={options:n[4],name:void 0,inputId:"tripCurrency",required:!0,groupLabelField:"groupHeader",groupItemsField:"items"};return n[1]!==void 0&&(Q.value=n[1]),L=new ui({props:Q}),An.push(()=>Ur(L,"value",de)),{c(){e=A("div"),t=A("form"),r=A("h1"),r.textContent=a,s=ee(),o=A("div"),c=A("label"),c.textContent=d,m=ee(),g=A("input"),b=ee(),D=A("div"),P=A("label"),P.textContent=S,C=ee(),yn(L.$$.fragment),V=ee(),Y=A("div"),H=A("label"),H.textContent=fe,ie=ee(),Z=A("input"),ne=ee(),oe=A("div"),ve=A("label"),ve.textContent=be,ue=ee(),le=A("input"),ce=ee(),ae=A("div"),ae.innerHTML=I,this.h()},l(J){e=T(J,"DIV",{class:!0});var W=j(e);t=T(W,"FORM",{});var se=j(t);r=T(se,"H1",{"data-svelte-h":!0}),Ve(r)!=="svelte-1x3twms"&&(r.textContent=a),s=$(se),o=T(se,"DIV",{class:!0});var Oe=j(o);c=T(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(c)!=="svelte-1y8z10u"&&(c.textContent=d),m=$(Oe),g=T(Oe,"INPUT",{id:!0,class:!0,type:!0,minlength:!0}),Oe.forEach(y),b=$(se),D=T(se,"DIV",{class:!0});var Se=j(D);P=T(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(P)!=="svelte-1fzihue"&&(P.textContent=S),C=$(Se),bn(L.$$.fragment,Se),Se.forEach(y),V=$(se),Y=T(se,"DIV",{class:!0});var he=j(Y);H=T(he,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(H)!=="svelte-4n7gli"&&(H.textContent=fe),ie=$(he),Z=T(he,"INPUT",{class:!0,type:!0,id:!0,onfocus:!0}),he.forEach(y),ne=$(se),oe=T(se,"DIV",{class:!0});var tt=j(oe);ve=T(tt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(ve)!=="svelte-1dn7717"&&(ve.textContent=be),ue=$(tt),le=T(tt,"INPUT",{class:!0,type:!0,id:!0,min:!0,onfocus:!0}),tt.forEach(y),ce=$(se),ae=T(se,"DIV",{class:!0,"data-svelte-h":!0}),Ve(ae)!=="svelte-kl2484"&&(ae.innerHTML=I),se.forEach(y),W.forEach(y),this.h()},h(){p(c,"for","tripName"),p(c,"class","form-label"),p(g,"id","tripName"),p(g,"class","form-control"),p(g,"type","text"),g.required=!0,p(g,"minlength","2"),p(o,"class","mb-3"),p(P,"for","tripCurrency"),p(P,"class","form-label"),p(D,"class","mb-3"),p(H,"for","tripStart"),p(H,"class","form-label"),p(Z,"class","form-control"),p(Z,"type","date"),p(Z,"id","tripStart"),Z.value=pe=n[2].toISOString().slice(0,10),p(Z,"onfocus","this.showPicker()"),Z.required=!0,p(Y,"class","mb-3"),p(ve,"for","tripStart"),p(ve,"class","form-label"),p(le,"class","form-control"),p(le,"type","date"),p(le,"id","tripEnd"),p(le,"min",ge=n[2].toISOString().slice(0,10)||""),le.value=ye=n[3].toISOString().slice(0,10),p(le,"onfocus","this.showPicker()"),le.required=!0,p(oe,"class","mb-3"),p(ae,"class","mt-4 gap-3 d-grid d-md-flex justify-content-md-center"),p(e,"class","w-100")},m(J,W){re(J,e,W),v(e,t),v(t,r),v(t,s),v(t,o),v(o,c),v(o,m),v(o,g),Zt(g,n[0]),v(t,b),v(t,D),v(D,P),v(D,C),vn(L,D,null),v(t,V),v(t,Y),v(Y,H),v(Y,ie),v(Y,Z),v(t,ne),v(t,oe),v(oe,ve),v(oe,ue),v(oe,le),v(t,ce),v(t,ae),O=!0,q||(me=[nt(g,"input",n[7]),nt(Z,"change",n[9]),nt(le,"change",n[10]),nt(t,"submit",n[5])],q=!0)},p(J,[W]){W&1&&g.value!==J[0]&&Zt(g,J[0]);const se={};W&16&&(se.options=J[4]),!x&&W&2&&(x=!0,se.value=J[1],Vr(()=>x=!1)),L.$set(se),(!O||W&4&&pe!==(pe=J[2].toISOString().slice(0,10)))&&(Z.value=pe),(!O||W&4&&ge!==(ge=J[2].toISOString().slice(0,10)||""))&&p(le,"min",ge),(!O||W&8&&ye!==(ye=J[3].toISOString().slice(0,10)))&&(le.value=ye)},i(J){O||(Ne(L.$$.fragment,J),O=!0)},o(J){xe(L.$$.fragment,J),O=!1},d(J){J&&y(e),_n(L),q=!1,or(me)}}}function Du(n,e,t){let r,a,s;Vn(n,si,C=>t(6,a=C)),Vn(n,Ri,C=>t(11,s=C));let o="My Trip",c=s,d=new Date,m=new Date;async function g(C){C.preventDefault();try{const L=await Vt.trips.add({name:o,defaultCurrency:c,startDate:d,startDateString:d.toDateString(),endDate:m,endDateString:m.toDateString(),notes:""});window.location.href="#/trip/"+L}catch{window.location.href="#/"}}function b(){o=this.value,t(0,o)}function D(C){c=C,t(1,c)}const P=C=>t(2,d=C.target.valueAsDate),S=C=>t(3,m=C.target.valueAsDate);return n.$$.update=()=>{n.$$.dirty&64&&t(4,r=Ia(a))},[o,c,d,m,r,g,a,b,D,P,S]}class Iu extends Un{constructor(e){super(),Gn(this,e,Du,Cu,Mn,{})}}/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function ti(n,e,t){const r=document.createElement(e);return n&&(r.className=n),t&&t.appendChild(r),r}function Tu(n,e,t){let r=`translate3d(${n}px,0px,0)`;return t!==void 0&&(r+=` scale3d(${t},${t},1)`),r}function wa(n,e,t){n.style.width=typeof e=="number"?`${e}px`:e,n.style.height=typeof t=="number"?`${t}px`:t}const Hn={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function Au(n){return"button"in n&&n.button===1||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey}function ni(n,e,t=document){let r=[];if(n instanceof Element)r=[n];else if(n instanceof NodeList||Array.isArray(n))r=Array.from(n);else{const a=typeof n=="string"?n:e;a&&(r=Array.from(t.querySelectorAll(a)))}return r}function Ou(n){return typeof n=="function"&&n.prototype&&n.prototype.goTo}function Ll(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class Pu{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class Lu{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,r=100){var a,s,o;this._filters[e]||(this._filters[e]=[]),(a=this._filters[e])===null||a===void 0||a.push({fn:t,priority:r}),(s=this._filters[e])===null||s===void 0||s.sort((c,d)=>c.priority-d.priority),(o=this.pswp)===null||o===void 0||o.addFilter(e,t,r)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(a=>{t[0]=a.fn.apply(this,t)}),t[0]}on(e,t){var r,a;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(t),(a=this.pswp)===null||a===void 0||a.on(e,t)}off(e,t){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(a=>t!==a)),(r=this.pswp)===null||r===void 0||r.off(e,t)}dispatch(e,t){var r;if(this.pswp)return this.pswp.dispatch(e,t);const a=new Pu(e,t);return(r=this._listeners[e])===null||r===void 0||r.forEach(s=>{s.call(this,a)}),a}}class Ru{constructor(e,t){if(this.element=ti("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(wa(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=Tu(0,0,e/250)):wa(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class Mu{constructor(e,t,r){this.instance=t,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Hn.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{const r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Ru(r,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=ti("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=ti("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const a=this.element;this.updateSrcsetSizes(),this.data.srcset&&(a.srcset=this.data.srcset),a.src=(t=this.data.src)!==null&&t!==void 0?t:"",a.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=Hn.LOADING,a.complete?this.onLoaded():(a.onload=()=>{this.onLoaded()},a.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Hn.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Hn.LOADED||this.state===Hn.ERROR)&&this.removePlaceholder())}onError(){this.state=Hn.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Hn.LOADING,this)}isError(){return this.state===Hn.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(wa(this.element,e,t),this.isImageContent()&&!this.isError()))){const r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Hn.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let r=ti("pswp__error-msg","div");r.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=ti("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Hn.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||Ll())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!Ll()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Hn.LOADED||this.state===Hn.ERROR)&&this.removePlaceholder()))}}function Nu(n,e){if(n.getViewportSizeFn){const t=n.getViewportSizeFn(n,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Pi(n,e,t,r,a){let s=0;if(e.paddingFn)s=e.paddingFn(t,r,a)[n];else if(e.padding)s=e.padding[n];else{const o="padding"+n[0].toUpperCase()+n.slice(1);e[o]&&(s=e[o])}return Number(s)||0}function Bu(n,e,t,r){return{x:e.x-Pi("left",n,e,t,r)-Pi("right",n,e,t,r),y:e.y-Pi("top",n,e,t,r)-Pi("bottom",n,e,t,r)}}const Rl=4e3;class Fu{constructor(e,t,r,a){this.pswp=a,this.options=e,this.itemData=t,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,r){const a={x:e,y:t};this.elementSize=a,this.panAreaSize=r;const s=r.x/a.x,o=r.y/a.y;this.fit=Math.min(1,s<o?s:o),this.fill=Math.min(1,s>o?s:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",r=this.options[t];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>Rl&&(e=Rl/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function Po(n,e,t){const r=e.createContentFromData(n,t);let a;const{options:s}=e;if(s){a=new Fu(s,n,-1);let o;e.pswp?o=e.pswp.viewportSize:o=Nu(s,e);const c=Bu(s,o,n,t);a.update(r.width,r.height,c)}return r.lazyLoad(),a&&r.setDisplayedSize(Math.ceil(r.width*a.initial),Math.ceil(r.height*a.initial)),r}function zu(n,e){const t=e.getItemData(n);if(!e.dispatch("lazyLoadSlide",{index:n,itemData:t}).defaultPrevented)return Po(t,e,n)}class Ku extends Lu{getNumItems(){var e;let t=0;const r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?t=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(t=r.items.length));const a=this.dispatch("numItems",{dataSource:r,numItems:t});return this.applyFilters("numItems",a.numItems,r)}createContentFromData(e,t){return new Mu(e,this,t)}getItemData(e){var t;const r=(t=this.options)===null||t===void 0?void 0:t.dataSource;let a={};Array.isArray(r)?a=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),a=r.items[e]);let s=a;s instanceof Element&&(s=this._domElementToItemData(s));const o=this.dispatch("itemData",{itemData:s||{},index:e});return this.applyFilters("itemData",o.itemData,e)}_getGalleryDOMElements(e){var t,r;return(t=this.options)!==null&&t!==void 0&&t.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?ni(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){t.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(t.srcset=r.dataset.pswpSrcset),t.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,t.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,r.dataset.pswpType&&(t.type=r.dataset.pswpType);const s=e.querySelector("img");if(s){var a;t.msrc=s.currentSrc||s.src,t.alt=(a=s.getAttribute("alt"))!==null&&a!==void 0?a:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,r)}lazyLoadData(e,t){return Po(e,this,t)}}class ju extends Ku{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){ni(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(Au(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);const a={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,a,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,a=ni(this.options.children,this.options.childSelector,e.currentTarget).findIndex(s=>s===t||s.contains(t));return a!==-1?a:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,r){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const a=ni(this.options.gallery);a[0]&&(t={gallery:a[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:r}=this;t&&(r.dataSource=t);const a=[],s=typeof r.pswpModule;if(Ou(r.pswpModule))a.push(Promise.resolve(r.pswpModule));else{if(s==="string")throw new Error("pswpModule as string is no longer supported");if(s==="function")a.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&a.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=zu(e,this));const o=++this._uid;Promise.all(a).then(c=>{if(this.shouldOpen){const d=c[0];this._openPhotoswipe(d,o)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(a=>{var s;(s=this._listeners[a])===null||s===void 0||s.forEach(o=>{r.on(a,o)})}),Object.keys(this._filters).forEach(a=>{var s;(s=this._filters[a])===null||s===void 0||s.forEach(o=>{r.addFilter(a,o.fn,o.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},ni(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}function qu(n){let e,t,r,a,s,o,c,d,m,g,b,D,P="Cancel",S,C;return{c(){e=A("dialog"),t=A("h4"),r=ze(n[1]),a=ee(),s=A("p"),o=ze(n[2]),c=ee(),d=A("div"),m=A("button"),g=ze(n[3]),b=ee(),D=A("button"),D.textContent=P,this.h()},l(L){e=T(L,"DIALOG",{class:!0});var x=j(e);t=T(x,"H4",{});var V=j(t);r=Fe(V,n[1]),V.forEach(y),a=$(x),s=T(x,"P",{class:!0});var Y=j(s);o=Fe(Y,n[2]),Y.forEach(y),c=$(x),d=T(x,"DIV",{class:!0});var H=j(d);m=T(H,"BUTTON",{class:!0});var fe=j(m);g=Fe(fe,n[3]),fe.forEach(y),b=$(H),D=T(H,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(D)!=="svelte-h8rc8b"&&(D.textContent=P),H.forEach(y),x.forEach(y),this.h()},h(){p(s,"class","mt-3 mb-4"),p(m,"class","btn btn-primary"),p(D,"class","btn btn-outline-primary"),p(d,"class","buttons d-flex justify-content-center gap-2"),p(e,"class","svelte-z50xoi")},m(L,x){re(L,e,x),v(e,t),v(t,r),v(e,a),v(e,s),v(s,o),v(e,c),v(e,d),v(d,m),v(m,g),v(d,b),v(d,D),n[7](e),S||(C=[nt(m,"click",n[4]),nt(D,"click",n[5])],S=!0)},p(L,[x]){x&2&&it(r,L[1]),x&4&&it(o,L[2]),x&8&&it(g,L[3])},i:It,o:It,d(L){L&&y(e),n[7](null),S=!1,or(C)}}}function Hu(n,e,t){let{dialogRef:r}=e,{title:a="Diaglog title"}=e,{body:s="Diaglog body"}=e,{confirmText:o="Confirm"}=e,{confirmCallback:c}=e;function d(){r==null||r.close("confirmed"),c()}function m(){r==null||r.close()}function g(b){An[b?"unshift":"push"](()=>{r=b,t(0,r)})}return n.$$set=b=>{"dialogRef"in b&&t(0,r=b.dialogRef),"title"in b&&t(1,a=b.title),"body"in b&&t(2,s=b.body),"confirmText"in b&&t(3,o=b.confirmText),"confirmCallback"in b&&t(6,c=b.confirmCallback)},[r,a,s,o,d,m,c,g]}class Vu extends Un{constructor(e){super(),Gn(this,e,Hu,qu,Mn,{dialogRef:0,title:1,body:2,confirmText:3,confirmCallback:6})}}function Ml(n,e,t){const r=n.slice();return r[21]=e[t],r}function Nl(n,e,t){const r=n.slice();return r[24]=e[t],r}function ha(n){const e=n.slice(),t=Array.from(new Set(e[8].map(r=>r.currency)));return e[20]=t,e}function Bl(n){let e,t,r=n[3].name+"",a,s,o,c,d,m,g,b,D,P,S='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',C,L,x=n[3].startDate.toDateString()+"",V,Y,H=n[3].endDate.toDateString()+"",fe,ie,Z,pe,ne=n[3].defaultCurrency+"",oe,ve,be=an[n[3].defaultCurrency].symbol+"",ue,le,ge,ye,ce,ae,I,O,q,me,de,Q,J,W,se,Oe,Se,he,tt="Notes:",qe,Je,ct,Ke,vt="Receipts:",Kt,mt,nn,Et;function Tt(Ge,Le){return Ge[6]?Uu:Gu}let Ot=Tt(n),bt=Ot(n),$e=n[8]&&Fl(ha(n));return{c(){e=A("h1"),t=A("span"),a=ze(r),s=ee(),o=A("span"),c=A("a"),d=zt("svg"),m=zt("path"),g=zt("path"),D=ee(),P=A("button"),P.innerHTML=S,C=ee(),L=A("h4"),V=ze(x),Y=ze(" - "),fe=ze(H),ie=ee(),Z=A("p"),pe=ze("Default currency: "),oe=ze(ne),ve=ze(" ("),ue=ze(be),le=ze(")"),ge=ee(),ye=A("a"),ce=ze("+ Add Receipt"),I=ee(),O=A("button"),bt.c(),q=ee(),me=A("a"),de=zt("svg"),Q=zt("path"),J=zt("path"),W=ze(`
        Export/Print`),Oe=ee(),Se=A("div"),he=A("h5"),he.textContent=tt,qe=ee(),Je=A("textarea"),ct=ee(),Ke=A("h5"),Ke.textContent=vt,Kt=ee(),$e&&$e.c(),mt=Rt(),this.h()},l(Ge){e=T(Ge,"H1",{class:!0});var Le=j(e);t=T(Le,"SPAN",{});var dt=j(t);a=Fe(dt,r),dt.forEach(y),s=$(Le),o=T(Le,"SPAN",{});var jt=j(o);c=T(jt,"A",{href:!0,class:!0,title:!0});var Ut=j(c);d=Ft(Ut,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Pt=j(d);m=Ft(Pt,"path",{d:!0}),j(m).forEach(y),g=Ft(Pt,"path",{"fill-rule":!0,d:!0}),j(g).forEach(y),Pt.forEach(y),Ut.forEach(y),D=$(jt),P=T(jt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Ve(P)!=="svelte-7al2bn"&&(P.innerHTML=S),jt.forEach(y),Le.forEach(y),C=$(Ge),L=T(Ge,"H4",{});var lt=j(L);V=Fe(lt,x),Y=Fe(lt," - "),fe=Fe(lt,H),lt.forEach(y),ie=$(Ge),Z=T(Ge,"P",{});var st=j(Z);pe=Fe(st,"Default currency: "),oe=Fe(st,ne),ve=Fe(st," ("),ue=Fe(st,be),le=Fe(st,")"),st.forEach(y),ge=$(Ge),ye=T(Ge,"A",{class:!0,href:!0});var Qt=j(ye);ce=Fe(Qt,"+ Add Receipt"),Qt.forEach(y),I=$(Ge),O=T(Ge,"BUTTON",{class:!0});var $t=j(O);bt.l($t),$t.forEach(y),q=$(Ge),me=T(Ge,"A",{href:!0,target:!0,class:!0});var Mt=j(me);de=Ft(Mt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Re=j(de);Q=Ft(Re,"path",{d:!0}),j(Q).forEach(y),J=Ft(Re,"path",{d:!0}),j(J).forEach(y),Re.forEach(y),W=Fe(Mt,`
        Export/Print`),Mt.forEach(y),Oe=$(Ge),Se=T(Ge,"DIV",{class:!0});var Gt=j(Se);he=T(Gt,"H5",{"data-svelte-h":!0}),Ve(he)!=="svelte-srqctx"&&(he.textContent=tt),qe=$(Gt),Je=T(Gt,"TEXTAREA",{style:!0,class:!0,placeholder:!0,id:!0}),j(Je).forEach(y),Gt.forEach(y),ct=$(Ge),Ke=T(Ge,"H5",{class:!0,"data-svelte-h":!0}),Ve(Ke)!=="svelte-7onek5"&&(Ke.textContent=vt),Kt=$(Ge),$e&&$e.l(Ge),mt=Rt(),this.h()},h(){p(m,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(g,"fill-rule","evenodd"),p(g,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(d,"xmlns","http://www.w3.org/2000/svg"),p(d,"width","16"),p(d,"height","16"),p(d,"fill","currentColor"),p(d,"class","bi bi-pencil-square"),p(d,"viewBox","0 0 16 16"),p(c,"href",b="#/update/"+n[3].id),p(c,"class","btn btn-outline-secondary no-outline"),p(c,"title","Update Trip"),p(P,"class","btn btn-outline-secondary no-outline hover-red"),p(P,"title","Delete Trip"),p(e,"class","d-flex justify-content-between"),p(ye,"class","btn btn-primary"),p(ye,"href",ae="#/addreceipt/"+n[3].id),p(O,"class","btn"),Me(O,"btn-outline-primary",!n[6]),Me(O,"btn-secondary",n[6]),p(Q,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(J,"d","M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"),p(de,"xmlns","http://www.w3.org/2000/svg"),p(de,"width","16"),p(de,"height","16"),p(de,"fill","currentColor"),p(de,"class","bi bi-download"),p(de,"viewBox","0 0 16 16"),p(me,"href",se="#/print/"+n[3].id),p(me,"target","_blank"),p(me,"class","btn btn-outline-primary"),li(Je,"height","50vh"),p(Je,"class","form-control d-block"),p(Je,"placeholder","A space for notes about your trip"),p(Je,"id","tripNotes"),p(Se,"class","hide mt-3 flex-column"),Me(Se,"show",n[6]),p(Ke,"class","mt-3")},m(Ge,Le){re(Ge,e,Le),v(e,t),v(t,a),v(e,s),v(e,o),v(o,c),v(c,d),v(d,m),v(d,g),v(o,D),v(o,P),re(Ge,C,Le),re(Ge,L,Le),v(L,V),v(L,Y),v(L,fe),re(Ge,ie,Le),re(Ge,Z,Le),v(Z,pe),v(Z,oe),v(Z,ve),v(Z,ue),v(Z,le),re(Ge,ge,Le),re(Ge,ye,Le),v(ye,ce),re(Ge,I,Le),re(Ge,O,Le),bt.m(O,null),re(Ge,q,Le),re(Ge,me,Le),v(me,de),v(de,Q),v(de,J),v(me,W),re(Ge,Oe,Le),re(Ge,Se,Le),v(Se,he),v(Se,qe),v(Se,Je),Zt(Je,n[7]),re(Ge,ct,Le),re(Ge,Ke,Le),re(Ge,Kt,Le),$e&&$e.m(Ge,Le),re(Ge,mt,Le),nn||(Et=[nt(P,"click",function(){Or(n[9](n[3]))&&n[9](n[3]).apply(this,arguments)}),nt(O,"click",n[12]),nt(Je,"input",n[16]),nt(Je,"input",n[11])],nn=!0)},p(Ge,Le){n=Ge,Le&8&&r!==(r=n[3].name+"")&&it(a,r),Le&8&&b!==(b="#/update/"+n[3].id)&&p(c,"href",b),Le&8&&x!==(x=n[3].startDate.toDateString()+"")&&it(V,x),Le&8&&H!==(H=n[3].endDate.toDateString()+"")&&it(fe,H),Le&8&&ne!==(ne=n[3].defaultCurrency+"")&&it(oe,ne),Le&8&&be!==(be=an[n[3].defaultCurrency].symbol+"")&&it(ue,be),Le&8&&ae!==(ae="#/addreceipt/"+n[3].id)&&p(ye,"href",ae),Ot!==(Ot=Tt(n))&&(bt.d(1),bt=Ot(n),bt&&(bt.c(),bt.m(O,null))),Le&64&&Me(O,"btn-outline-primary",!n[6]),Le&64&&Me(O,"btn-secondary",n[6]),Le&8&&se!==(se="#/print/"+n[3].id)&&p(me,"href",se),Le&128&&Zt(Je,n[7]),Le&64&&Me(Se,"show",n[6]),n[8]?$e?$e.p(ha(n),Le):($e=Fl(ha(n)),$e.c(),$e.m(mt.parentNode,mt)):$e&&($e.d(1),$e=null)},d(Ge){Ge&&(y(e),y(C),y(L),y(ie),y(Z),y(ge),y(ye),y(I),y(O),y(q),y(me),y(Oe),y(Se),y(ct),y(Ke),y(Kt),y(mt)),bt.d(),$e&&$e.d(Ge),nn=!1,or(Et)}}}function Uu(n){let e,t,r,a,s;return{c(){e=zt("svg"),t=zt("path"),r=zt("path"),a=zt("path"),s=ze(`
          Hide`),this.h()},l(o){e=Ft(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var c=j(e);t=Ft(c,"path",{d:!0}),j(t).forEach(y),r=Ft(c,"path",{d:!0}),j(r).forEach(y),a=Ft(c,"path",{d:!0}),j(a).forEach(y),c.forEach(y),s=Fe(o,`
          Hide`),this.h()},h(){p(t,"d","M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"),p(r,"d","M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"),p(a,"d","M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-eye-slash"),p(e,"viewBox","0 0 16 16")},m(o,c){re(o,e,c),v(e,t),v(e,r),v(e,a),re(o,s,c)},d(o){o&&(y(e),y(s))}}}function Gu(n){let e,t,r,a,s;return{c(){e=zt("svg"),t=zt("path"),r=zt("path"),a=zt("path"),s=ze(`
          Notes`),this.h()},l(o){e=Ft(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var c=j(e);t=Ft(c,"path",{d:!0}),j(t).forEach(y),r=Ft(c,"path",{d:!0}),j(r).forEach(y),a=Ft(c,"path",{d:!0}),j(a).forEach(y),c.forEach(y),s=Fe(o,`
          Notes`),this.h()},h(){p(t,"d","M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"),p(r,"d","M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"),p(a,"d","M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","16"),p(e,"height","16"),p(e,"fill","currentColor"),p(e,"class","bi bi-journal-text"),p(e,"viewBox","0 0 16 16")},m(o,c){re(o,e,c),v(e,t),v(e,r),v(e,a),re(o,s,c)},d(o){o&&(y(e),y(s))}}}function Fl(n){let e,t,r,a="<tr><th>Description</th> <th>Date</th> <th>Type</th> <th>Total</th> <th></th></tr>",s,o,c=[],d=new Map,m,g,b,D,P,S,C,L,x="<strong>Total</strong>",V,Y,H,fe,ie,Z,pe=Nt(n[8]);const ne=be=>be[24].id;for(let be=0;be<pe.length;be+=1){let ue=Nl(n,pe,be),le=ne(ue);d.set(le,c[be]=zl(le,ue))}let oe=Nt(n[20]),ve=[];for(let be=0;be<oe.length;be+=1)ve[be]=Kl(Ml(n,oe,be));return{c(){e=A("div"),t=A("table"),r=A("thead"),r.innerHTML=a,s=ee(),o=A("tbody");for(let be=0;be<c.length;be+=1)c[be].c();m=ee(),g=A("tfoot"),b=A("tr"),D=A("td"),P=ee(),S=A("td"),C=ee(),L=A("td"),L.innerHTML=x,V=ee(),Y=A("td");for(let be=0;be<ve.length;be+=1)ve[be].c();H=ee(),fe=A("td"),this.h()},l(be){e=T(be,"DIV",{class:!0});var ue=j(e);t=T(ue,"TABLE",{class:!0});var le=j(t);r=T(le,"THEAD",{"data-svelte-h":!0}),Ve(r)!=="svelte-1vpbmbw"&&(r.innerHTML=a),s=$(le),o=T(le,"TBODY",{});var ge=j(o);for(let I=0;I<c.length;I+=1)c[I].l(ge);ge.forEach(y),m=$(le),g=T(le,"TFOOT",{class:!0});var ye=j(g);b=T(ye,"TR",{});var ce=j(b);D=T(ce,"TD",{}),j(D).forEach(y),P=$(ce),S=T(ce,"TD",{}),j(S).forEach(y),C=$(ce),L=T(ce,"TD",{class:!0,"data-svelte-h":!0}),Ve(L)!=="svelte-14afisz"&&(L.innerHTML=x),V=$(ce),Y=T(ce,"TD",{});var ae=j(Y);for(let I=0;I<ve.length;I+=1)ve[I].l(ae);ae.forEach(y),H=$(ce),fe=T(ce,"TD",{}),j(fe).forEach(y),ce.forEach(y),ye.forEach(y),le.forEach(y),ue.forEach(y),this.h()},h(){p(L,"class","text-end"),p(g,"class","table-group-divider"),p(t,"class","table table-striped table-hover"),p(e,"class","table-responsive")},m(be,ue){re(be,e,ue),v(e,t),v(t,r),v(t,s),v(t,o);for(let le=0;le<c.length;le+=1)c[le]&&c[le].m(o,null);v(t,m),v(t,g),v(g,b),v(b,D),v(b,P),v(b,S),v(b,C),v(b,L),v(b,V),v(b,Y);for(let le=0;le<ve.length;le+=1)ve[le]&&ve[le].m(Y,null);v(b,H),v(b,fe),ie||(Z=ai(n[13].call(null,o)),ie=!0)},p(be,ue){if(ue&1280&&(pe=Nt(be[8]),c=Ar(c,ue,ne,1,be,pe,d,o,Gr,zl,null,Nl)),ue&256){oe=Nt(be[20]);let le;for(le=0;le<oe.length;le+=1){const ge=Ml(be,oe,le);ve[le]?ve[le].p(ge,ue):(ve[le]=Kl(ge),ve[le].c(),ve[le].m(Y,null))}for(;le<ve.length;le+=1)ve[le].d(1);ve.length=oe.length}},d(be){be&&y(e);for(let ue=0;ue<c.length;ue+=1)c[ue].d();Tr(ve,be),ie=!1,Z()}}}function zl(n,e){let t,r,a,s,o,c,d,m,g,b,D,P,S,C=e[24].description+"",L,x,V,Y=e[24].receiptDateString+"",H,fe,ie,Z,pe,ne=Za[e[24].receiptType]+"",oe,ve,be=e[24].receiptType+"",ue,le,ge,ye=an[e[24].currency].symbol+"",ce,ae,I=e[24].total.toFixed(2)+"",O,q,me,de,Q,J,W,se,Oe,Se,he='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16"><path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path></svg>',tt,qe,Je;return{key:n,first:null,c(){t=A("tr"),r=A("td"),a=A("div"),s=A("span"),o=A("a"),c=zt("svg"),d=zt("path"),m=zt("path"),P=ee(),S=A("span"),L=ze(C),x=ee(),V=A("td"),H=ze(Y),fe=ee(),ie=A("td"),Z=A("abbr"),pe=new Hi(!1),ve=A("span"),ue=ze(be),le=ee(),ge=A("td"),ce=ze(ye),ae=ee(),O=ze(I),q=ee(),me=A("td"),de=A("a"),Q=zt("svg"),J=zt("path"),W=zt("path"),Oe=ee(),Se=A("button"),Se.innerHTML=he,tt=ee(),this.h()},l(ct){t=T(ct,"TR",{});var Ke=j(t);r=T(Ke,"TD",{});var vt=j(r);a=T(vt,"DIV",{class:!0});var Kt=j(a);s=T(Kt,"SPAN",{});var mt=j(s);o=T(mt,"A",{class:!0,href:!0,"data-pswp-width":!0,"data-pswp-height":!0,target:!0,rel:!0,title:!0,style:!0});var nn=j(o);c=Ft(nn,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Et=j(c);d=Ft(Et,"path",{d:!0}),j(d).forEach(y),m=Ft(Et,"path",{d:!0}),j(m).forEach(y),Et.forEach(y),nn.forEach(y),mt.forEach(y),P=$(Kt),S=T(Kt,"SPAN",{});var Tt=j(S);L=Fe(Tt,C),Tt.forEach(y),Kt.forEach(y),vt.forEach(y),x=$(Ke),V=T(Ke,"TD",{});var Ot=j(V);H=Fe(Ot,Y),Ot.forEach(y),fe=$(Ke),ie=T(Ke,"TD",{});var bt=j(ie);Z=T(bt,"ABBR",{class:!0,title:!0});var $e=j(Z);pe=qi($e,!1),$e.forEach(y),ve=T(bt,"SPAN",{class:!0});var Ge=j(ve);ue=Fe(Ge,be),Ge.forEach(y),bt.forEach(y),le=$(Ke),ge=T(Ke,"TD",{class:!0});var Le=j(ge);ce=Fe(Le,ye),ae=$(Le),O=Fe(Le,I),Le.forEach(y),q=$(Ke),me=T(Ke,"TD",{});var dt=j(me);de=T(dt,"A",{class:!0,href:!0,title:!0});var jt=j(de);Q=Ft(jt,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ut=j(Q);J=Ft(Ut,"path",{d:!0}),j(J).forEach(y),W=Ft(Ut,"path",{"fill-rule":!0,d:!0}),j(W).forEach(y),Ut.forEach(y),jt.forEach(y),Oe=$(dt),Se=T(dt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Ve(Se)!=="svelte-j31sw3"&&(Se.innerHTML=he),dt.forEach(y),tt=$(Ke),Ke.forEach(y),this.h()},h(){p(d,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"),p(m,"d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"),p(c,"xmlns","http://www.w3.org/2000/svg"),p(c,"width","16"),p(c,"height","16"),p(c,"fill","currentColor"),p(c,"class","bi bi-image"),p(c,"viewBox","0 0 16 16"),p(o,"class","btn btn-outline-primary btn-sm rImages"),p(o,"href",g=e[24].imageData),p(o,"data-pswp-width",b=e[24].imageWidth),p(o,"data-pswp-height",D=e[24].imageHeight),p(o,"target","_blank"),p(o,"rel","noreferrer"),p(o,"title","View Image"),li(o,"border","none"),p(a,"class","receiptDesc"),pe.a=null,p(Z,"class","me-2 typeIcon"),p(Z,"title",oe=e[24].receiptType),p(ve,"class","typeText"),p(ge,"class","text-nowrap"),p(J,"d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"),p(W,"fill-rule","evenodd"),p(W,"d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"),p(Q,"xmlns","http://www.w3.org/2000/svg"),p(Q,"width","16"),p(Q,"height","16"),p(Q,"fill","currentColor"),p(Q,"class","bi bi-pencil-square"),p(Q,"viewBox","0 0 16 16"),p(de,"class","btn btn-outline-secondary no-outline btn-sm"),p(de,"href",se="#/editreceipt/"+e[24].id),p(de,"title","Edit Receipt"),p(Se,"class","btn btn-outline-secondary no-outline btn-sm hover-red"),p(Se,"title","Delete Receipt"),this.first=t},m(ct,Ke){re(ct,t,Ke),v(t,r),v(r,a),v(a,s),v(s,o),v(o,c),v(c,d),v(c,m),v(a,P),v(a,S),v(S,L),v(t,x),v(t,V),v(V,H),v(t,fe),v(t,ie),v(ie,Z),pe.m(ne,Z),v(ie,ve),v(ve,ue),v(t,le),v(t,ge),v(ge,ce),v(ge,ae),v(ge,O),v(t,q),v(t,me),v(me,de),v(de,Q),v(Q,J),v(Q,W),v(me,Oe),v(me,Se),v(t,tt),qe||(Je=nt(Se,"click",function(){Or(e[10](e[24]))&&e[10](e[24]).apply(this,arguments)}),qe=!0)},p(ct,Ke){e=ct,Ke&256&&g!==(g=e[24].imageData)&&p(o,"href",g),Ke&256&&b!==(b=e[24].imageWidth)&&p(o,"data-pswp-width",b),Ke&256&&D!==(D=e[24].imageHeight)&&p(o,"data-pswp-height",D),Ke&256&&C!==(C=e[24].description+"")&&it(L,C),Ke&256&&Y!==(Y=e[24].receiptDateString+"")&&it(H,Y),Ke&256&&ne!==(ne=Za[e[24].receiptType]+"")&&pe.p(ne),Ke&256&&oe!==(oe=e[24].receiptType)&&p(Z,"title",oe),Ke&256&&be!==(be=e[24].receiptType+"")&&it(ue,be),Ke&256&&ye!==(ye=an[e[24].currency].symbol+"")&&it(ce,ye),Ke&256&&I!==(I=e[24].total.toFixed(2)+"")&&it(O,I),Ke&256&&se!==(se="#/editreceipt/"+e[24].id)&&p(de,"href",se)},d(ct){ct&&y(t),qe=!1,Je()}}}function Kl(n){let e=an[n[21]].symbol+"",t,r,a=n[8].filter(d).reduce(jl,0).toFixed(2)+"",s,o,c;function d(...m){return n[17](n[21],...m)}return{c(){t=ze(e),r=ee(),s=ze(a),o=ee(),c=A("br")},l(m){t=Fe(m,e),r=$(m),s=Fe(m,a),o=$(m),c=T(m,"BR",{})},m(m,g){re(m,t,g),re(m,r,g),re(m,s,g),re(m,o,g),re(m,c,g)},p(m,g){n=m,g&256&&e!==(e=an[n[21]].symbol+"")&&it(t,e),g&256&&a!==(a=n[8].filter(d).reduce(jl,0).toFixed(2)+"")&&it(s,a)},d(m){m&&(y(t),y(r),y(s),y(o),y(c))}}}function xu(n){let e,t,r,a,s;function o(m){n[15](m)}let c={title:n[0],body:n[1],confirmText:"Delete",confirmCallback:n[2]};n[4]!==void 0&&(c.dialogRef=n[4]),t=new Vu({props:c}),An.push(()=>Ur(t,"dialogRef",o));let d=n[3]&&Bl(n);return{c(){e=A("div"),yn(t.$$.fragment),a=ee(),d&&d.c(),this.h()},l(m){e=T(m,"DIV",{class:!0});var g=j(e);bn(t.$$.fragment,g),a=$(g),d&&d.l(g),g.forEach(y),this.h()},h(){p(e,"class","w-100")},m(m,g){re(m,e,g),vn(t,e,null),v(e,a),d&&d.m(e,null),s=!0},p(m,[g]){const b={};g&1&&(b.title=m[0]),g&2&&(b.body=m[1]),g&4&&(b.confirmCallback=m[2]),!r&&g&16&&(r=!0,b.dialogRef=m[4],Vr(()=>r=!1)),t.$set(b),m[3]?d?d.p(m,g):(d=Bl(m),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(m){s||(Ne(t.$$.fragment,m),s=!0)},o(m){xe(t.$$.fragment,m),s=!1},d(m){m&&y(e),_n(t),d&&d.d()}}}const Wu=2e3,jl=(n,e)=>n+e.total;function Yu(n,e,t){let r,a=It,s=()=>(a(),a=ri(D,ne=>t(8,r=ne)),D);n.$$.on_destroy.push(()=>a());let o="",c="",d=()=>{},{tripId:m}=e,g,b,D,P=!1,S="",C;m>-1&&Vt.trips.get(m).then(ne=>{t(3,g=ne),t(7,S=g==null?void 0:g.notes),s(t(5,D=oi(async()=>await Vt.receipts.where({tripId:m}).reverse().sortBy("receiptDate"))))});async function L(ne){t(0,o="Delete Trip"),t(1,c=`Are you sure you want to delete trip "${ne.name}"? It will also delete all receipts for this trip`),t(2,d=async()=>{let oe=await Vt.trips.where("id").equals(ne.id).delete();console.log(`Deleted ${oe} trip(s)`),oe=await Vt.receipts.where("tripId").equals(ne.id).delete(),console.log(`Deleted ${oe} receipts(s)`),window.location.href="#/"}),b==null||b.showModal()}async function x(ne){t(0,o="Delete Receipt"),t(1,c=`Are you sure you want to delete receipt for "${ne.description}"?`),t(2,d=async()=>{await Vt.receipts.where("id").equals(ne.id).delete()}),b==null||b.showModal()}async function V(){C&&clearTimeout(C),C=setTimeout(Y,Wu)}async function Y(){if(g)try{const ne=await Vt.trips.update(g.id,{notes:S})}catch(ne){console.error(ne)}}function H(){t(6,P=!P)}function fe(ne){new ju({gallery:".rImages",pswpModule:()=>Sa(()=>import("./D2Nf-uDI.js"),[],import.meta.url)}).init()}function ie(ne){b=ne,t(4,b)}function Z(){S=this.value,t(7,S)}const pe=(ne,oe)=>oe.currency==ne;return n.$$set=ne=>{"tripId"in ne&&t(14,m=ne.tripId)},[o,c,d,g,b,D,P,S,r,L,x,V,H,fe,m,ie,Z,pe]}class Zu extends Un{constructor(e){super(),Gn(this,e,Yu,xu,Mn,{tripId:14})}}function Lo(){let n=document.getElementById("tripToggle");n==null||n.classList.toggle("show")}function ql(n,e,t){const r=n.slice();return r[8]=e[t],r}function Hl(n,e,t){const r=n.slice();return r[12]=e[t],r}function pa(n){const e=n.slice(),t=Array.from(new Set(e[2].filter(function(...a){return n[5](e[8],...a)}).map(r=>r.currency)));return e[11]=t,e}function Qu(n){let e,t="You have no trips";return{c(){e=A("i"),e.textContent=t,this.h()},l(r){e=T(r,"I",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1hu6yjc"&&(e.textContent=t),this.h()},h(){p(e,"class","text-center d-block")},m(r,a){re(r,e,a)},p:It,d(r){r&&y(e)}}}function Ju(n){let e=[],t=new Map,r,a=Nt(n[1]);const s=o=>o[8].id;for(let o=0;o<a.length;o+=1){let c=ql(n,a,o),d=s(c);t.set(d,e[o]=Gl(d,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Rt()},l(o){for(let c=0;c<e.length;c+=1)e[c].l(o);r=Rt()},m(o,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(o,c);re(o,r,c)},p(o,c){c&7&&(a=Nt(o[1]),e=Ar(e,c,s,1,o,a,t,r.parentNode,Gr,Gl,r,ql))},d(o){o&&y(r);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function Vl(n){let e,t=Nt(n[11]),r=[];for(let a=0;a<t.length;a+=1)r[a]=Ul(Hl(n,t,a));return{c(){e=A("small");for(let a=0;a<r.length;a+=1)r[a].c()},l(a){e=T(a,"SMALL",{});var s=j(e);for(let o=0;o<r.length;o+=1)r[o].l(s);s.forEach(y)},m(a,s){re(a,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(a,s){if(s&6){t=Nt(a[11]);let o;for(o=0;o<t.length;o+=1){const c=Hl(a,t,o);r[o]?r[o].p(c,s):(r[o]=Ul(c),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(a){a&&y(e),Tr(r,a)}}}function Ul(n){let e=an[n[12]].symbol+"",t,r,a=n[2].filter(d).filter(m).reduce(xl,0).toFixed(2)+"",s,o,c;function d(...g){return n[6](n[8],...g)}function m(...g){return n[7](n[12],...g)}return{c(){t=ze(e),r=ee(),s=ze(a),o=ee(),c=A("br")},l(g){t=Fe(g,e),r=$(g),s=Fe(g,a),o=$(g),c=T(g,"BR",{})},m(g,b){re(g,t,b),re(g,r,b),re(g,s,b),re(g,o,b),re(g,c,b)},p(g,b){n=g,b&6&&e!==(e=an[n[12]].symbol+"")&&it(t,e),b&6&&a!==(a=n[2].filter(d).filter(m).reduce(xl,0).toFixed(2)+"")&&it(s,a)},d(g){g&&(y(t),y(r),y(s),y(o),y(c))}}}function Gl(n,e){let t,r,a,s=e[8].name+"",o,c,d,m,g=e[8].startDateString+"",b,D,P=e[8].endDateString+"",S,C,L,x,V,Y,H=e[2]&&Vl(pa(e));return{key:n,first:null,c(){t=A("a"),r=A("div"),a=A("strong"),o=ze(s),c=ee(),H&&H.c(),d=ee(),m=A("div"),b=ze(g),D=ze(" - "),S=ze(P),C=ee(),this.h()},l(fe){t=T(fe,"A",{href:!0,class:!0,"aria-current":!0,"data-trip-id":!0});var ie=j(t);r=T(ie,"DIV",{class:!0});var Z=j(r);a=T(Z,"STRONG",{class:!0});var pe=j(a);o=Fe(pe,s),pe.forEach(y),c=$(Z),H&&H.l(Z),Z.forEach(y),d=$(ie),m=T(ie,"DIV",{class:!0});var ne=j(m);b=Fe(ne,g),D=Fe(ne," - "),S=Fe(ne,P),ne.forEach(y),C=$(ie),ie.forEach(y),this.h()},h(){p(a,"class","mb-1"),p(r,"class","d-flex w-100 align-items-center justify-content-between"),p(m,"class","col-10 mb-1 small"),p(t,"href",L="#/trip/"+e[8].id),p(t,"class","list-group-item list-group-item-action py-3 lh-sm m-2"),p(t,"aria-current","false"),p(t,"data-trip-id",x=e[8].id),Me(t,"active",e[0]==e[8].id),this.first=t},m(fe,ie){re(fe,t,ie),v(t,r),v(r,a),v(a,o),v(r,c),H&&H.m(r,null),v(t,d),v(t,m),v(m,b),v(m,D),v(m,S),v(t,C),V||(Y=nt(t,"click",Lo),V=!0)},p(fe,ie){e=fe,ie&2&&s!==(s=e[8].name+"")&&it(o,s),e[2]?H?H.p(pa(e),ie):(H=Vl(pa(e)),H.c(),H.m(r,null)):H&&(H.d(1),H=null),ie&2&&g!==(g=e[8].startDateString+"")&&it(b,g),ie&2&&P!==(P=e[8].endDateString+"")&&it(S,P),ie&2&&L!==(L="#/trip/"+e[8].id)&&p(t,"href",L),ie&2&&x!==(x=e[8].id)&&p(t,"data-trip-id",x),ie&3&&Me(t,"active",e[0]==e[8].id)},d(fe){fe&&y(t),H&&H.d(),V=!1,Y()}}}function Xu(n){let e;function t(s,o){return s[1]&&s[1].length>0?Ju:Qu}let r=t(n),a=r(n);return{c(){a.c(),e=Rt()},l(s){a.l(s),e=Rt()},m(s,o){a.m(s,o),re(s,e,o)},p(s,[o]){r===(r=t(s))&&a?a.p(s,o):(a.d(1),a=r(s),a&&(a.c(),a.m(e.parentNode,e)))},i:It,o:It,d(s){s&&y(e),a.d(s)}}}const xl=(n,e)=>n+e.total;function $u(n,e,t){let r,a,{tripId:s}=e,o=oi(()=>Vt.trips.toCollection().reverse().sortBy("endDate"));Vn(n,o,b=>t(1,r=b));let c=oi(()=>Vt.receipts.toArray());Vn(n,c,b=>t(2,a=b));const d=(b,D)=>D.tripId==b.id,m=(b,D)=>D.tripId==b.id,g=(b,D)=>D.currency==b;return n.$$set=b=>{"tripId"in b&&t(0,s=b.tripId)},[s,r,a,o,c,d,m,g]}class ec extends Un{constructor(e){super(),Gn(this,e,$u,Xu,Mn,{tripId:0})}}function Wl(n){let e,t,r="Update Trip",a,s,o,c="Trip Name",d,m,g,b,D,P="Trip Currency",S,C,L,x,V,Y,H="Trip Start",fe,ie,Z,pe,ne,oe,ve="Trip End",be,ue,le,ge,ye,ce,ae,I="Update Trip",O,q,me,de,Q,J,W;function se(Se){n[8](Se)}let Oe={options:n[3],name:"tripCurrency",inputId:"tripCurrency",groupLabelField:"groupHeader",groupItemsField:"items",required:!0};return n[0].defaultCurrency!==void 0&&(Oe.value=n[0].defaultCurrency),C=new ui({props:Oe}),An.push(()=>Ur(C,"value",se)),{c(){e=A("form"),t=A("h1"),t.textContent=r,a=ee(),s=A("div"),o=A("label"),o.textContent=c,d=ee(),m=A("input"),g=ee(),b=A("div"),D=A("label"),D.textContent=P,S=ee(),yn(C.$$.fragment),x=ee(),V=A("div"),Y=A("label"),Y.textContent=H,fe=ee(),ie=A("input"),pe=ee(),ne=A("div"),oe=A("label"),oe.textContent=ve,be=ee(),ue=A("input"),ye=ee(),ce=A("div"),ae=A("button"),ae.textContent=I,O=ee(),q=A("a"),me=ze("Cancel"),this.h()},l(Se){e=T(Se,"FORM",{});var he=j(e);t=T(he,"H1",{"data-svelte-h":!0}),Ve(t)!=="svelte-9352dq"&&(t.textContent=r),a=$(he),s=T(he,"DIV",{class:!0});var tt=j(s);o=T(tt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(o)!=="svelte-1y8z10u"&&(o.textContent=c),d=$(tt),m=T(tt,"INPUT",{id:!0,class:!0,type:!0,minlength:!0}),tt.forEach(y),g=$(he),b=T(he,"DIV",{class:!0});var qe=j(b);D=T(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(D)!=="svelte-1fzihue"&&(D.textContent=P),S=$(qe),bn(C.$$.fragment,qe),qe.forEach(y),x=$(he),V=T(he,"DIV",{class:!0});var Je=j(V);Y=T(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(Y)!=="svelte-4n7gli"&&(Y.textContent=H),fe=$(Je),ie=T(Je,"INPUT",{class:!0,type:!0,id:!0,onfocus:!0}),Je.forEach(y),pe=$(he),ne=T(he,"DIV",{class:!0});var ct=j(ne);oe=T(ct,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(oe)!=="svelte-1dn7717"&&(oe.textContent=ve),be=$(ct),ue=T(ct,"INPUT",{class:!0,type:!0,id:!0,min:!0,onfocus:!0}),ct.forEach(y),ye=$(he),ce=T(he,"DIV",{class:!0});var Ke=j(ce);ae=T(Ke,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(ae)!=="svelte-1kd8st2"&&(ae.textContent=I),O=$(Ke),q=T(Ke,"A",{href:!0,class:!0});var vt=j(q);me=Fe(vt,"Cancel"),vt.forEach(y),Ke.forEach(y),he.forEach(y),this.h()},h(){p(o,"for","tripName"),p(o,"class","form-label"),p(m,"id","tripName"),p(m,"class","form-control"),p(m,"type","text"),m.required=!0,p(m,"minlength","2"),p(s,"class","mb-3"),p(D,"for","tripCurrency"),p(D,"class","form-label"),p(b,"class","mb-3"),p(Y,"for","tripStart"),p(Y,"class","form-label"),p(ie,"class","form-control"),p(ie,"type","date"),p(ie,"id","tripStart"),ie.value=Z=n[1].toISOString().slice(0,10),p(ie,"onfocus","this.showPicker()"),ie.required=!0,p(V,"class","mb-3"),p(oe,"for","tripStart"),p(oe,"class","form-label"),p(ue,"class","form-control"),p(ue,"type","date"),p(ue,"id","tripEnd"),p(ue,"min",le=n[1].toISOString().slice(0,10)||""),ue.value=ge=n[2].toISOString().slice(0,10),p(ue,"onfocus","this.showPicker()"),ue.required=!0,p(ne,"class","mb-3"),p(ae,"class","btn btn-primary col-md-2"),p(ae,"type","submit"),p(q,"href",de="#/trip/"+n[0].id),p(q,"class","btn btn-outline-primary col-md-2"),p(ce,"class","mt-4 gap-3 d-grid d-md-flex justify-content-md-center")},m(Se,he){re(Se,e,he),v(e,t),v(e,a),v(e,s),v(s,o),v(s,d),v(s,m),Zt(m,n[0].name),v(e,g),v(e,b),v(b,D),v(b,S),vn(C,b,null),v(e,x),v(e,V),v(V,Y),v(V,fe),v(V,ie),v(e,pe),v(e,ne),v(ne,oe),v(ne,be),v(ne,ue),v(e,ye),v(e,ce),v(ce,ae),v(ce,O),v(ce,q),v(q,me),Q=!0,J||(W=[nt(m,"input",n[7]),nt(ie,"change",n[9]),nt(ue,"change",n[10]),nt(e,"submit",n[4])],J=!0)},p(Se,he){he&1&&m.value!==Se[0].name&&Zt(m,Se[0].name);const tt={};he&8&&(tt.options=Se[3]),!L&&he&1&&(L=!0,tt.value=Se[0].defaultCurrency,Vr(()=>L=!1)),C.$set(tt),(!Q||he&2&&Z!==(Z=Se[1].toISOString().slice(0,10)))&&(ie.value=Z),(!Q||he&2&&le!==(le=Se[1].toISOString().slice(0,10)||""))&&p(ue,"min",le),(!Q||he&4&&ge!==(ge=Se[2].toISOString().slice(0,10)))&&(ue.value=ge),(!Q||he&1&&de!==(de="#/trip/"+Se[0].id))&&p(q,"href",de)},i(Se){Q||(Ne(C.$$.fragment,Se),Q=!0)},o(Se){xe(C.$$.fragment,Se),Q=!1},d(Se){Se&&y(e),_n(C),J=!1,or(W)}}}function tc(n){let e,t,r=n[0]&&Wl(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=j(e);r&&r.l(s),s.forEach(y),this.h()},h(){p(e,"class","w-100")},m(a,s){re(a,e,s),r&&r.m(e,null),t=!0},p(a,[s]){a[0]?r?(r.p(a,s),s&1&&Ne(r,1)):(r=Wl(a),r.c(),Ne(r,1),r.m(e,null)):r&&(fn(),xe(r,1,1,()=>{r=null}),dn())},i(a){t||(Ne(r),t=!0)},o(a){xe(r),t=!1},d(a){a&&y(e),r&&r.d()}}}function nc(n,e,t){let r,a;Vn(n,si,S=>t(6,a=S));let{tripId:s}=e,o,c,d;s>-1&&Vt.trips.get(s).then(S=>{t(0,o=S),t(1,c=new Date(o.startDateString)),t(2,d=new Date(o.endDateString))});async function m(S){S.preventDefault();try{const C=await Vt.trips.update(o.id,{name:o.name,defaultCurrency:o.defaultCurrency,startDate:c,endDate:d,startDateString:c.toDateString(),endDateString:d.toDateString()});window.location.href="#/trip/"+o.id}catch{window.location.href="#/"}}function g(){o.name=this.value,t(0,o)}function b(S){n.$$.not_equal(o.defaultCurrency,S)&&(o.defaultCurrency=S,t(0,o))}const D=S=>t(1,c=S.target.valueAsDate),P=S=>t(2,d=S.target.valueAsDate);return n.$$set=S=>{"tripId"in S&&t(5,s=S.tripId)},n.$$.update=()=>{n.$$.dirty&64&&t(3,r=Ia(a))},[o,c,d,r,m,s,a,g,b,D,P]}class rc extends Un{constructor(e){super(),Gn(this,e,nc,tc,Mn,{tripId:5})}}/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var ic={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:sc,fromCents:!1},Ro=function(e){return Math.round(e)},Ta=function(e){return Math.pow(10,e)},ac=function(e,t){return Ro(e/t)*t},lc=/(\d)(?=(\d{3})+\b)/g,oc=/(\d)(?=(\d\d)+\d\b)/g;function er(n,e){var t=this;if(!(t instanceof er))return new er(n,e);var r=Object.assign({},ic,e),a=Ta(r.precision),s=Mi(n,r);t.intValue=s,t.value=s/a,r.increment=r.increment||1/a,r.useVedic?r.groups=oc:r.groups=lc,this.s=r,this.p=a}function Mi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,a=e.decimal,s=e.errorOnInvalid,o=e.precision,c=e.fromCents,d=Ta(o),m=typeof n=="number",g=n instanceof er;if(g&&c)return n.intValue;if(m||g)r=g?n.value:n;else if(typeof n=="string"){var b=new RegExp("[^-\\d"+a+"]","g"),D=new RegExp("\\"+a,"g");r=n.replace(/\((.*)\)/,"-$1").replace(b,"").replace(D,"."),r=r||0}else{if(s)throw Error("Invalid Input");r=0}return c||(r*=d,r=r.toFixed(4)),t?Ro(r):r}function sc(n,e){var t=e.pattern,r=e.negativePattern,a=e.symbol,s=e.separator,o=e.decimal,c=e.groups,d=(""+n).replace(/^-/,"").split("."),m=d[0],g=d[1];return(n.value>=0?t:r).replace("!",a).replace("#",m.replace(c,"$1"+s)+(g?o+g:""))}er.prototype={add:function(e){var t=this.intValue,r=this.s,a=this.p;return er((t+=Mi(e,r))/(r.fromCents?1:a),r)},subtract:function(e){var t=this.intValue,r=this.s,a=this.p;return er((t-=Mi(e,r))/(r.fromCents?1:a),r)},multiply:function(e){var t=this.intValue,r=this.s;return er((t*=e)/(r.fromCents?1:Ta(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return er(t/=Mi(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,a=this.s,s=[],o=Math[t>=0?"floor":"ceil"](t/e),c=Math.abs(t-o*e),d=a.fromCents?1:r;e!==0;e--){var m=er(o/d,a);c-- >0&&(m=m[t>=0?"add":"subtract"](1/d)),s.push(m)}return s},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return ac(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var uc={exports:{}};(function(n){var e=function(t){var r=Object.prototype,a=r.hasOwnProperty,s=Object.defineProperty||function(I,O,q){I[O]=q.value},o,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",m=c.asyncIterator||"@@asyncIterator",g=c.toStringTag||"@@toStringTag";function b(I,O,q){return Object.defineProperty(I,O,{value:q,enumerable:!0,configurable:!0,writable:!0}),I[O]}try{b({},"")}catch{b=function(O,q,me){return O[q]=me}}function D(I,O,q,me){var de=O&&O.prototype instanceof Y?O:Y,Q=Object.create(de.prototype),J=new ye(me||[]);return s(Q,"_invoke",{value:be(I,q,J)}),Q}t.wrap=D;function P(I,O,q){try{return{type:"normal",arg:I.call(O,q)}}catch(me){return{type:"throw",arg:me}}}var S="suspendedStart",C="suspendedYield",L="executing",x="completed",V={};function Y(){}function H(){}function fe(){}var ie={};b(ie,d,function(){return this});var Z=Object.getPrototypeOf,pe=Z&&Z(Z(ce([])));pe&&pe!==r&&a.call(pe,d)&&(ie=pe);var ne=fe.prototype=Y.prototype=Object.create(ie);H.prototype=fe,s(ne,"constructor",{value:fe,configurable:!0}),s(fe,"constructor",{value:H,configurable:!0}),H.displayName=b(fe,g,"GeneratorFunction");function oe(I){["next","throw","return"].forEach(function(O){b(I,O,function(q){return this._invoke(O,q)})})}t.isGeneratorFunction=function(I){var O=typeof I=="function"&&I.constructor;return O?O===H||(O.displayName||O.name)==="GeneratorFunction":!1},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,fe):(I.__proto__=fe,b(I,g,"GeneratorFunction")),I.prototype=Object.create(ne),I},t.awrap=function(I){return{__await:I}};function ve(I,O){function q(Q,J,W,se){var Oe=P(I[Q],I,J);if(Oe.type==="throw")se(Oe.arg);else{var Se=Oe.arg,he=Se.value;return he&&typeof he=="object"&&a.call(he,"__await")?O.resolve(he.__await).then(function(tt){q("next",tt,W,se)},function(tt){q("throw",tt,W,se)}):O.resolve(he).then(function(tt){Se.value=tt,W(Se)},function(tt){return q("throw",tt,W,se)})}}var me;function de(Q,J){function W(){return new O(function(se,Oe){q(Q,J,se,Oe)})}return me=me?me.then(W,W):W()}s(this,"_invoke",{value:de})}oe(ve.prototype),b(ve.prototype,m,function(){return this}),t.AsyncIterator=ve,t.async=function(I,O,q,me,de){de===void 0&&(de=Promise);var Q=new ve(D(I,O,q,me),de);return t.isGeneratorFunction(O)?Q:Q.next().then(function(J){return J.done?J.value:Q.next()})};function be(I,O,q){var me=S;return function(Q,J){if(me===L)throw new Error("Generator is already running");if(me===x){if(Q==="throw")throw J;return ae()}for(q.method=Q,q.arg=J;;){var W=q.delegate;if(W){var se=ue(W,q);if(se){if(se===V)continue;return se}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(me===S)throw me=x,q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);me=L;var Oe=P(I,O,q);if(Oe.type==="normal"){if(me=q.done?x:C,Oe.arg===V)continue;return{value:Oe.arg,done:q.done}}else Oe.type==="throw"&&(me=x,q.method="throw",q.arg=Oe.arg)}}}function ue(I,O){var q=O.method,me=I.iterator[q];if(me===o)return O.delegate=null,q==="throw"&&I.iterator.return&&(O.method="return",O.arg=o,ue(I,O),O.method==="throw")||q!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+q+"' method")),V;var de=P(me,I.iterator,O.arg);if(de.type==="throw")return O.method="throw",O.arg=de.arg,O.delegate=null,V;var Q=de.arg;if(!Q)return O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,V;if(Q.done)O[I.resultName]=Q.value,O.next=I.nextLoc,O.method!=="return"&&(O.method="next",O.arg=o);else return Q;return O.delegate=null,V}oe(ne),b(ne,g,"Generator"),b(ne,d,function(){return this}),b(ne,"toString",function(){return"[object Generator]"});function le(I){var O={tryLoc:I[0]};1 in I&&(O.catchLoc=I[1]),2 in I&&(O.finallyLoc=I[2],O.afterLoc=I[3]),this.tryEntries.push(O)}function ge(I){var O=I.completion||{};O.type="normal",delete O.arg,I.completion=O}function ye(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(le,this),this.reset(!0)}t.keys=function(I){var O=Object(I),q=[];for(var me in O)q.push(me);return q.reverse(),function de(){for(;q.length;){var Q=q.pop();if(Q in O)return de.value=Q,de.done=!1,de}return de.done=!0,de}};function ce(I){if(I){var O=I[d];if(O)return O.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var q=-1,me=function de(){for(;++q<I.length;)if(a.call(I,q))return de.value=I[q],de.done=!1,de;return de.value=o,de.done=!0,de};return me.next=me}}return{next:ae}}t.values=ce;function ae(){return{value:o,done:!0}}return ye.prototype={constructor:ye,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(ge),!I)for(var O in this)O.charAt(0)==="t"&&a.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=o)},stop:function(){this.done=!0;var I=this.tryEntries[0],O=I.completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var O=this;function q(se,Oe){return Q.type="throw",Q.arg=I,O.next=se,Oe&&(O.method="next",O.arg=o),!!Oe}for(var me=this.tryEntries.length-1;me>=0;--me){var de=this.tryEntries[me],Q=de.completion;if(de.tryLoc==="root")return q("end");if(de.tryLoc<=this.prev){var J=a.call(de,"catchLoc"),W=a.call(de,"finallyLoc");if(J&&W){if(this.prev<de.catchLoc)return q(de.catchLoc,!0);if(this.prev<de.finallyLoc)return q(de.finallyLoc)}else if(J){if(this.prev<de.catchLoc)return q(de.catchLoc,!0)}else if(W){if(this.prev<de.finallyLoc)return q(de.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(I,O){for(var q=this.tryEntries.length-1;q>=0;--q){var me=this.tryEntries[q];if(me.tryLoc<=this.prev&&a.call(me,"finallyLoc")&&this.prev<me.finallyLoc){var de=me;break}}de&&(I==="break"||I==="continue")&&de.tryLoc<=O&&O<=de.finallyLoc&&(de=null);var Q=de?de.completion:{};return Q.type=I,Q.arg=O,de?(this.method="next",this.next=de.finallyLoc,V):this.complete(Q)},complete:function(I,O){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&O&&(this.next=O),V},finish:function(I){for(var O=this.tryEntries.length-1;O>=0;--O){var q=this.tryEntries[O];if(q.finallyLoc===I)return this.complete(q.completion,q.afterLoc),ge(q),V}},catch:function(I){for(var O=this.tryEntries.length-1;O>=0;--O){var q=this.tryEntries[O];if(q.tryLoc===I){var me=q.completion;if(me.type==="throw"){var de=me.arg;ge(q)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(I,O,q){return this.delegate={iterator:ce(I),resultName:O,nextLoc:q},this.method==="next"&&(this.arg=o),V}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(uc);var Aa=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`;const cc=Aa;let Yl=0;var Mo=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=cc("Job",Yl),Yl+=1),{id:r,action:e,payload:t}},xr={};let Oa=!1;xr.logging=Oa;xr.setLogging=n=>{Oa=n};xr.log=(...n)=>Oa?console.log.apply(void 0,n):null;const fc=Mo,{log:Li}=xr,dc=Aa;let Zl=0;var hc=()=>{const n=dc("Scheduler",Zl),e={},t={};let r=[];Zl+=1;const a=()=>r.length,s=()=>Object.keys(e).length,o=()=>{if(r.length!==0){const b=Object.keys(e);for(let D=0;D<b.length;D+=1)if(typeof t[b[D]]>"u"){r[0](e[b[D]]);break}}},c=(b,D)=>new Promise((P,S)=>{const C=fc({action:b,payload:D});r.push(async L=>{r.shift(),t[L.id]=C;try{P(await L[b].apply(void 0,[...D,C.id]))}catch(x){S(x)}finally{delete t[L.id],o()}}),Li(`[${n}]: Add ${C.id} to JobQueue`),Li(`[${n}]: JobQueue length=${r.length}`),o()});return{addWorker:b=>(e[b.id]=b,Li(`[${n}]: Add ${b.id}`),Li(`[${n}]: Number of workers=${s()}`),o(),b.id),addJob:async(b,...D)=>{if(s()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return c(b,D)},terminate:async()=>{Object.keys(e).forEach(async b=>{await e[b].terminate()}),r=[]},getQueueLen:a,getNumWorkers:s}};function pc(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mc=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof pc=="function"&&(e.type="node"),typeof n>"u"?e:e[n]};const gc=mc("type")==="browser",_c=gc?n=>new URL(n,window.location.href).href:n=>n;var vc=n=>{const e={...n};return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=_c(e[t]))}),e},No={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const bc="7.0.0",yc={version:bc};var wc={workerBlobURL:!0,logger:()=>{}};const kc=yc.version,Ec=wc;var Sc={...Ec,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${kc}/dist/worker.min.js`},Cc=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t},Dc=n=>{n.terminate()},Ic=(n,e)=>{n.onmessage=({data:t})=>{e(t)}},Tc=async(n,e)=>{n.postMessage(e)};const ma=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:a}}})=>{t(Error(`File could not be read! Code=${a}`))},r.readAsArrayBuffer(n)}),ka=async n=>{let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=await ka(n.src)),n.tagName==="VIDEO"&&(e=await ka(n.poster)),n.tagName==="CANVAS"&&await new Promise(t=>{n.toBlob(async r=>{e=await ma(r),t()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const t=await n.convertToBlob();e=await ma(t)}else(n instanceof File||n instanceof Blob)&&(e=await ma(n));return new Uint8Array(e)};var Ac=ka;const Oc=Sc,Pc=Cc,Lc=Dc,Rc=Ic,Mc=Tc,Nc=Ac;var Bc={defaultOptions:Oc,spawnWorker:Pc,terminateWorker:Lc,onMessage:Rc,send:Mc,loadImage:Nc};const Fc=vc,$n=Mo,{log:Ql}=xr,zc=Aa,Dr=No,{defaultOptions:Kc,spawnWorker:jc,terminateWorker:qc,onMessage:Hc,loadImage:Jl,send:Vc}=Bc;let Xl=0;var Bo=async(n="eng",e=Dr.LSTM_ONLY,t={},r={})=>{const a=zc("Worker",Xl),{logger:s,errorHandler:o,...c}=Fc({...Kc,...t}),d={},m=typeof n=="string"?n.split("+"):n;let g=e,b=r;const D=[Dr.DEFAULT,Dr.LSTM_ONLY].includes(e)&&!c.legacyCore;let P,S;const C=new Promise((ce,ae)=>{S=ce,P=ae}),L=ce=>{P(ce.message)};let x=jc(c);x.onerror=L,Xl+=1;const V=({id:ce,action:ae,payload:I})=>new Promise((O,q)=>{Ql(`[${a}]: Start ${ce}, action=${ae}`);const me=`${ae}-${ce}`;d[me]={resolve:O,reject:q},Vc(x,{workerId:a,jobId:ce,action:ae,payload:I})}),Y=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),H=ce=>V($n({id:ce,action:"load",payload:{options:{lstmOnly:D,corePath:c.corePath,logging:c.logging}}})),fe=(ce,ae,I)=>V($n({id:I,action:"FS",payload:{method:"writeFile",args:[ce,ae]}})),ie=(ce,ae)=>V($n({id:ae,action:"FS",payload:{method:"readFile",args:[ce,{encoding:"utf8"}]}})),Z=(ce,ae)=>V($n({id:ae,action:"FS",payload:{method:"unlink",args:[ce]}})),pe=(ce,ae,I)=>V($n({id:I,action:"FS",payload:{method:ce,args:ae}})),ne=(ce,ae)=>V($n({id:ae,action:"loadLanguage",payload:{langs:ce,options:{langPath:c.langPath,dataPath:c.dataPath,cachePath:c.cachePath,cacheMethod:c.cacheMethod,gzip:c.gzip,lstmOnly:[Dr.DEFAULT,Dr.LSTM_ONLY].includes(g)&&!c.legacyLang}}})),oe=(ce,ae,I,O)=>V($n({id:O,action:"initialize",payload:{langs:ce,oem:ae,config:I}})),ve=(ce="eng",ae,I,O)=>{if(D&&[Dr.TESSERACT_ONLY,Dr.TESSERACT_LSTM_COMBINED].includes(ae))throw Error("Legacy model requested but code missing.");const q=ae||g;g=q;const me=I||b;b=me;const Q=(typeof ce=="string"?ce.split("+"):ce).filter(J=>!m.includes(J));return m.push(...Q),Q.length>0?ne(Q,O).then(()=>oe(ce,q,me,O)):oe(ce,q,me,O)},be=(ce={},ae)=>V($n({id:ae,action:"setParameters",payload:{params:ce}})),ue=async(ce,ae={},I={text:!0},O)=>V($n({id:O,action:"recognize",payload:{image:await Jl(ce),options:ae,output:I}})),le=async(ce,ae)=>{if(D)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return V($n({id:ae,action:"detect",payload:{image:await Jl(ce)}}))},ge=async()=>(x!==null&&(qc(x),x=null),Promise.resolve());Hc(x,({workerId:ce,jobId:ae,status:I,action:O,data:q})=>{const me=`${O}-${ae}`;if(I==="resolve")Ql(`[${ce}]: Complete ${ae}`),d[me].resolve({jobId:ae,data:q}),delete d[me];else if(I==="reject")if(d[me].reject(q),delete d[me],O==="load"&&P(q),o)o(q);else throw Error(q);else I==="progress"&&s({...q,userJobId:ae})});const ye={id:a,worker:x,load:Y,writeText:fe,readText:ie,removeFile:Z,FS:pe,reinitialize:ve,setParameters:be,recognize:ue,detect:le,terminate:ge};return H().then(()=>ne(n)).then(()=>oe(n,e,r)).then(()=>S(ye)).catch(()=>{}),C};const Fo=Bo,Uc=async(n,e,t)=>{const r=await Fo(e,1,t);return r.recognize(n).finally(async()=>{await r.terminate()})},Gc=async(n,e)=>{const t=await Fo("osd",0,e);return t.detect(n).finally(async()=>{await t.terminate()})};var xc={recognize:Uc,detect:Gc},Wc={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Yc={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Zc=hc,Qc=Bo,Jc=xc,Xc=Wc,$c=No,ef=Yc,{setLogging:tf}=xr;var nf={languages:Xc,OEM:$c,PSM:ef,createScheduler:Zc,createWorker:Qc,setLogging:tf,...Jc};const $l=Io(nf);var wo,ko;(ko=(wo=globalThis.process)==null?void 0:wo.versions)!=null&&ko.webcontainer;Sa(()=>import("./BIHI7g3E.js"),[],import.meta.url).then(n=>new n.AsyncLocalStorage).catch(()=>{});const rf={"&":"&amp;",'"':"&quot;"},af={"&":"&amp;","<":"&lt;"},zo="[\\ud800-\\udbff](?![\\udc00-\\udfff])|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\udc00-\\udfff]";new RegExp(`[${Object.keys(rf).join("")}]|`+zo,"g");new RegExp(`[${Object.keys(af).join("")}]|`+zo,"g");function eo(n,e,t){const r=n.slice();return r[32]=e[t],r}function to(n,e,t){const r=n.slice();return r[35]=e[t],r}function no(n,e,t){const r=n.slice();return r[38]=e[t],r}function ro(n){let e,t,r,a,s,o,c,d,m,g,b,D="Receipt description",P,S,C,L,x,V,Y,H="Receipt Date",fe,ie,Z,pe,ne,oe,ve="Receipt value:",be,ue,le,ge,ye,ce,ae,I="Receipt Type",O,q,me,de="--Please choose type--",Q,J,W,se="Receipt Currency",Oe,Se,he,tt,qe,Je,ct,Ke="Scanning image...",vt,Kt,mt,nn,Et,Tt="Stop scan and enter manually",Ot,bt,$e,Ge,Le,dt,jt,Ut;function Pt(Ce,Ye){return Ce[1]?of:lf}let lt=Pt(n),st=lt(n);function Qt(Ce,Ye){return Ce[9]?uf:sf}let $t=Qt(n),Mt=$t(n);function Re(Ce,Ye){return Ce[1]?ff:cf}let Gt=Re(n),At=Gt(n),qt=Nt(n[2]),we=[];for(let Ce=0;Ce<qt.length;Ce+=1)we[Ce]=io(no(n,qt,Ce));let Wt=Nt(n[3]),gt=[];for(let Ce=0;Ce<Wt.length;Ce+=1)gt[Ce]=ao(to(n,Wt,Ce));let St=Nt(Object.values(ba)),Ht=[];for(let Ce=0;Ce<St.length;Ce+=1)Ht[Ce]=lo(eo(n,St,Ce));function _t(Ce){n[24](Ce)}let Jt={options:n[12],name:void 0,inputId:"rCurrency",groupLabelField:"groupHeader",groupItemsField:"items",required:!0};n[5]!==void 0&&(Jt.value=n[5]),Se=new ui({props:Jt}),An.push(()=>Ur(Se,"value",_t));function ut(Ce,Ye){return Ce[1]?hf:df}let Ze=ut(n),et=Ze(n);return{c(){st.c(),e=ee(),Mt.c(),t=ee(),r=A("div"),a=A("input"),s=ee(),o=A("div"),c=A("div"),At.c(),d=ee(),m=A("form"),g=A("div"),b=A("label"),b.textContent=D,P=ee(),S=A("input"),C=ee(),L=A("datalist");for(let Ce=0;Ce<we.length;Ce+=1)we[Ce].c();x=ee(),V=A("div"),Y=A("label"),Y.textContent=H,fe=ee(),ie=A("input"),pe=ee(),ne=A("div"),oe=A("label"),oe.textContent=ve,be=ee(),ue=A("input"),le=ee(),ge=A("datalist");for(let Ce=0;Ce<gt.length;Ce+=1)gt[Ce].c();ye=ee(),ce=A("div"),ae=A("label"),ae.textContent=I,O=ee(),q=A("select"),me=A("option"),me.textContent=de;for(let Ce=0;Ce<Ht.length;Ce+=1)Ht[Ce].c();Q=ee(),J=A("div"),W=A("label"),W.textContent=se,Oe=ee(),yn(Se.$$.fragment),tt=ee(),et.c(),qe=ee(),Je=A("div"),ct=A("h4"),ct.textContent=Ke,vt=ee(),Kt=A("div"),mt=A("div"),nn=ee(),Et=A("button"),Et.textContent=Tt,Ot=ee(),bt=A("div"),$e=A("a"),Ge=ze("Cancel"),this.h()},l(Ce){st.l(Ce),e=$(Ce),Mt.l(Ce),t=$(Ce),r=T(Ce,"DIV",{class:!0});var Ye=j(r);a=T(Ye,"INPUT",{id:!0,type:!0,accept:!0}),Ye.forEach(y),s=$(Ce),o=T(Ce,"DIV",{id:!0});var Ue=j(o);c=T(Ue,"DIV",{class:!0});var Be=j(c);At.l(Be),Be.forEach(y),d=$(Ue),m=T(Ue,"FORM",{class:!0});var We=j(m);g=T(We,"DIV",{class:!0});var at=j(g);b=T(at,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(b)!=="svelte-1glg0dd"&&(b.textContent=D),P=$(at),S=T(at,"INPUT",{class:!0,list:!0,id:!0,name:!0,placeholder:!0,minlength:!0}),C=$(at),L=T(at,"DATALIST",{id:!0});var sn=j(L);for(let on=0;on<we.length;on+=1)we[on].l(sn);sn.forEach(y),at.forEach(y),x=$(We),V=T(We,"DIV",{class:!0});var hn=j(V);Y=T(hn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(Y)!=="svelte-cn0bms"&&(Y.textContent=H),fe=$(hn),ie=T(hn,"INPUT",{class:!0,type:!0,id:!0,onfocus:!0}),hn.forEach(y),pe=$(We),ne=T(We,"DIV",{class:!0});var xn=j(ne);oe=T(xn,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(oe)!=="svelte-1y6fy9c"&&(oe.textContent=ve),be=$(xn),ue=T(xn,"INPUT",{class:!0,list:!0,id:!0,name:!0,type:!0,step:!0,placeholder:!0,minlength:!0}),le=$(xn),ge=T(xn,"DATALIST",{id:!0});var wn=j(ge);for(let on=0;on<gt.length;on+=1)gt[on].l(wn);wn.forEach(y),xn.forEach(y),ye=$(We),ce=T(We,"DIV",{class:!0});var ln=j(ce);ae=T(ln,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(ae)!=="svelte-1vxf1l8"&&(ae.textContent=I),O=$(ln),q=T(ln,"SELECT",{id:!0,class:!0});var kn=j(q);me=T(kn,"OPTION",{"data-svelte-h":!0}),Ve(me)!=="svelte-ua8958"&&(me.textContent=de);for(let on=0;on<Ht.length;on+=1)Ht[on].l(kn);kn.forEach(y),ln.forEach(y),Q=$(We),J=T(We,"DIV",{class:!0});var ot=j(J);W=T(ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(W)!=="svelte-15s44q2"&&(W.textContent=se),Oe=$(ot),bn(Se.$$.fragment,ot),ot.forEach(y),tt=$(We),et.l(We),We.forEach(y),Ue.forEach(y),qe=$(Ce),Je=T(Ce,"DIV",{class:!0});var Nn=j(Je);ct=T(Nn,"H4",{"data-svelte-h":!0}),Ve(ct)!=="svelte-7jxjwi"&&(ct.textContent=Ke),vt=$(Nn),Kt=T(Nn,"DIV",{class:!0});var ht=j(Kt);mt=T(ht,"DIV",{class:!0,style:!0,role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0}),j(mt).forEach(y),ht.forEach(y),nn=$(Nn),Et=T(Nn,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(Et)!=="svelte-1741erf"&&(Et.textContent=Tt),Nn.forEach(y),Ot=$(Ce),bt=T(Ce,"DIV",{class:!0});var un=j(bt);$e=T(un,"A",{href:!0,class:!0});var pn=j($e);Ge=Fe(pn,"Cancel"),pn.forEach(y),un.forEach(y),this.h()},h(){var Ce;p(a,"id","imageInput"),p(a,"type","file"),p(a,"accept","image/*;capture=camera"),p(r,"class","mb-3"),p(c,"class","img-scan d-flex col-md-6 col-12"),p(b,"for","rDesc"),p(b,"class","form-label"),p(S,"class","form-control"),p(S,"list","descOptions"),p(S,"id","rDesc"),p(S,"name","rDesc"),p(S,"placeholder","Double-click for suggestions"),S.required=!0,p(S,"minlength","2"),p(L,"id","descOptions"),p(g,"class","mb-3"),p(Y,"for","rDate"),p(Y,"class","form-label"),p(ie,"class","form-control"),p(ie,"type","date"),p(ie,"id","tripStart"),ie.value=Z=(Ce=n[4])==null?void 0:Ce.toISOString().slice(0,10),p(ie,"onfocus","this.showPicker()"),ie.required=!0,p(V,"class","mb-3"),p(oe,"for","rVal"),p(oe,"class","form-label"),p(ue,"class","form-control"),p(ue,"list","valOptions"),p(ue,"id","rVal"),p(ue,"name","rVal"),p(ue,"type","number"),p(ue,"step","0.01"),p(ue,"placeholder","Double-click for suggestions"),ue.required=!0,p(ue,"minlength","1"),p(ge,"id","valOptions"),p(ne,"class","mb-3"),p(ae,"for","rType"),p(ae,"class","form-label"),me.selected=!0,me.__value="--Please choose type--",Zt(me,me.__value),p(q,"id","rType"),p(q,"class","form-control"),q.required=!0,n[8]===void 0&&es(()=>n[23].call(q)),p(ce,"class","mb-3"),p(W,"for","rCurrency"),p(W,"class","form-label"),p(J,"class","mb-3"),p(m,"class","d-flex flex-column col-md-6 col-12"),p(o,"id","receiptEntry"),Me(o,"show",n[10]),p(mt,"class","progress-bar"),li(mt,"width",n[11]+"%"),p(mt,"role","progressbar"),p(mt,"aria-valuenow",n[11]),p(mt,"aria-valuemin","0"),p(mt,"aria-valuemax","100"),p(Kt,"class","progress"),p(Et,"class","d-block mt-3 btn btn-outline-primary"),p(Je,"class","flex-column hide"),Me(Je,"show",!n[10]&&n[9]),p($e,"href",Le="#/trip/"+n[0].id),p($e,"class","mt-4 btn btn-outline-primary col-md-2"),p(bt,"class","mt-3 d-grid d-md-flex justify-content-md-center")},m(Ce,Ye){st.m(Ce,Ye),re(Ce,e,Ye),Mt.m(Ce,Ye),re(Ce,t,Ye),re(Ce,r,Ye),v(r,a),re(Ce,s,Ye),re(Ce,o,Ye),v(o,c),At.m(c,null),v(o,d),v(o,m),v(m,g),v(g,b),v(g,P),v(g,S),Zt(S,n[6]),v(g,C),v(g,L);for(let Ue=0;Ue<we.length;Ue+=1)we[Ue]&&we[Ue].m(L,null);v(m,x),v(m,V),v(V,Y),v(V,fe),v(V,ie),v(m,pe),v(m,ne),v(ne,oe),v(ne,be),v(ne,ue),Zt(ue,n[7]),v(ne,le),v(ne,ge);for(let Ue=0;Ue<gt.length;Ue+=1)gt[Ue]&&gt[Ue].m(ge,null);v(m,ye),v(m,ce),v(ce,ae),v(ce,O),v(ce,q),v(q,me);for(let Ue=0;Ue<Ht.length;Ue+=1)Ht[Ue]&&Ht[Ue].m(q,null);xa(q,n[8],!0),v(m,Q),v(m,J),v(J,W),v(J,Oe),vn(Se,J,null),v(m,tt),et.m(m,null),re(Ce,qe,Ye),re(Ce,Je,Ye),v(Je,ct),v(Je,vt),v(Je,Kt),v(Kt,mt),v(Je,nn),v(Je,Et),re(Ce,Ot,Ye),re(Ce,bt,Ye),v(bt,$e),v($e,Ge),dt=!0,jt||(Ut=[nt(a,"change",n[16]),nt(S,"input",n[20]),nt(ie,"change",n[21]),nt(ue,"input",n[22]),nt(q,"change",n[23]),nt(m,"submit",function(){Or(n[1]?n[14]:n[13])&&(n[1]?n[14]:n[13]).apply(this,arguments)}),nt(Et,"click",n[25])],jt=!0)},p(Ce,Ye){var Be;if(n=Ce,lt===(lt=Pt(n))&&st?st.p(n,Ye):(st.d(1),st=lt(n),st&&(st.c(),st.m(e.parentNode,e))),$t!==($t=Qt(n))&&(Mt.d(1),Mt=$t(n),Mt&&(Mt.c(),Mt.m(t.parentNode,t))),Gt===(Gt=Re(n))&&At?At.p(n,Ye):(At.d(1),At=Gt(n),At&&(At.c(),At.m(c,null))),Ye[0]&64&&S.value!==n[6]&&Zt(S,n[6]),Ye[0]&4){qt=Nt(n[2]);let We;for(We=0;We<qt.length;We+=1){const at=no(n,qt,We);we[We]?we[We].p(at,Ye):(we[We]=io(at),we[We].c(),we[We].m(L,null))}for(;We<we.length;We+=1)we[We].d(1);we.length=qt.length}if((!dt||Ye[0]&16&&Z!==(Z=(Be=n[4])==null?void 0:Be.toISOString().slice(0,10)))&&(ie.value=Z),Ye[0]&128&&So(ue.value)!==n[7]&&Zt(ue,n[7]),Ye[0]&8){Wt=Nt(n[3]);let We;for(We=0;We<Wt.length;We+=1){const at=to(n,Wt,We);gt[We]?gt[We].p(at,Ye):(gt[We]=ao(at),gt[We].c(),gt[We].m(ge,null))}for(;We<gt.length;We+=1)gt[We].d(1);gt.length=Wt.length}if(Ye&0){St=Nt(Object.values(ba));let We;for(We=0;We<St.length;We+=1){const at=eo(n,St,We);Ht[We]?Ht[We].p(at,Ye):(Ht[We]=lo(at),Ht[We].c(),Ht[We].m(q,null))}for(;We<Ht.length;We+=1)Ht[We].d(1);Ht.length=St.length}Ye[0]&256&&xa(q,n[8]);const Ue={};Ye[0]&4096&&(Ue.options=n[12]),!he&&Ye[0]&32&&(he=!0,Ue.value=n[5],Vr(()=>he=!1)),Se.$set(Ue),Ze!==(Ze=ut(n))&&(et.d(1),et=Ze(n),et&&(et.c(),et.m(m,null))),(!dt||Ye[0]&1024)&&Me(o,"show",n[10]),(!dt||Ye[0]&2048)&&li(mt,"width",n[11]+"%"),(!dt||Ye[0]&2048)&&p(mt,"aria-valuenow",n[11]),(!dt||Ye[0]&1536)&&Me(Je,"show",!n[10]&&n[9]),(!dt||Ye[0]&1&&Le!==(Le="#/trip/"+n[0].id))&&p($e,"href",Le)},i(Ce){dt||(Ne(Se.$$.fragment,Ce),dt=!0)},o(Ce){xe(Se.$$.fragment,Ce),dt=!1},d(Ce){Ce&&(y(e),y(t),y(r),y(s),y(o),y(qe),y(Je),y(Ot),y(bt)),st.d(Ce),Mt.d(Ce),At.d(),Tr(we,Ce),Tr(gt,Ce),Tr(Ht,Ce),_n(Se),et.d(),jt=!1,or(Ut)}}}function lf(n){let e,t,r=n[0].name+"",a,s;return{c(){e=A("h1"),t=ze('Add Receipt to "'),a=ze(r),s=ze('"')},l(o){e=T(o,"H1",{});var c=j(e);t=Fe(c,'Add Receipt to "'),a=Fe(c,r),s=Fe(c,'"'),c.forEach(y)},m(o,c){re(o,e,c),v(e,t),v(e,a),v(e,s)},p(o,c){c[0]&1&&r!==(r=o[0].name+"")&&it(a,r)},d(o){o&&y(e)}}}function of(n){let e,t,r=n[1].description+"",a,s;return{c(){e=A("h1"),t=ze('Update Receipt for "'),a=ze(r),s=ze('"')},l(o){e=T(o,"H1",{});var c=j(e);t=Fe(c,'Update Receipt for "'),a=Fe(c,r),s=Fe(c,'"'),c.forEach(y)},m(o,c){re(o,e,c),v(e,t),v(e,a),v(e,s)},p(o,c){c[0]&2&&r!==(r=o[1].description+"")&&it(a,r)},d(o){o&&y(e)}}}function sf(n){let e,t="Choose image to begin";return{c(){e=A("p"),e.textContent=t},l(r){e=T(r,"P",{"data-svelte-h":!0}),Ve(e)!=="svelte-1rdbglw"&&(e.textContent=t)},m(r,a){re(r,e,a)},d(r){r&&y(e)}}}function uf(n){let e,t="Click 'Browse' to start again";return{c(){e=A("p"),e.textContent=t},l(r){e=T(r,"P",{"data-svelte-h":!0}),Ve(e)!=="svelte-1raiglx"&&(e.textContent=t)},m(r,a){re(r,e,a)},d(r){r&&y(e)}}}function cf(n){let e;return{c(){e=A("img"),this.h()},l(t){e=T(t,"IMG",{id:!0,class:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),p(e,"alt","Your chosen receipt")},m(t,r){re(t,e,r)},p:It,d(t){t&&y(e)}}}function ff(n){let e,t;return{c(){e=A("img"),this.h()},l(r){e=T(r,"IMG",{id:!0,class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"id","imgChosen"),p(e,"class","img-fluid"),Ni(e.src,t=n[9])||p(e,"src",t),p(e,"alt","Your chosen receipt")},m(r,a){re(r,e,a)},p(r,a){a[0]&512&&!Ni(e.src,t=r[9])&&p(e,"src",t)},d(r){r&&y(e)}}}function io(n){let e,t;return{c(){e=A("option"),this.h()},l(r){e=T(r,"OPTION",{}),j(e).forEach(y),this.h()},h(){e.__value=t=n[38],Zt(e,e.__value)},m(r,a){re(r,e,a)},p(r,a){a[0]&4&&t!==(t=r[38])&&(e.__value=t,Zt(e,e.__value))},d(r){r&&y(e)}}}function ao(n){let e,t=n[35]+"",r,a;return{c(){e=A("option"),r=ze(t),this.h()},l(s){e=T(s,"OPTION",{});var o=j(e);r=Fe(o,t),o.forEach(y),this.h()},h(){e.__value=a=n[35],Zt(e,e.__value)},m(s,o){re(s,e,o),v(e,r)},p(s,o){o[0]&8&&t!==(t=s[35]+"")&&it(r,t),o[0]&8&&a!==(a=s[35])&&(e.__value=a,Zt(e,e.__value))},d(s){s&&y(e)}}}function lo(n){let e,t=n[32]+"",r;return{c(){e=A("option"),r=ze(t),this.h()},l(a){e=T(a,"OPTION",{});var s=j(e);r=Fe(s,t),s.forEach(y),this.h()},h(){e.__value=n[32],Zt(e,e.__value)},m(a,s){re(a,e,s),v(e,r)},p:It,d(a){a&&y(e)}}}function df(n){let e,t="Add Receipt";return{c(){e=A("button"),e.textContent=t,this.h()},l(r){e=T(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-5c9o6y"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-primary"),p(e,"type","submit")},m(r,a){re(r,e,a)},d(r){r&&y(e)}}}function hf(n){let e,t="Update Receipt";return{c(){e=A("button"),e.textContent=t,this.h()},l(r){e=T(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-yau6ga"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-primary"),p(e,"type","submit")},m(r,a){re(r,e,a)},d(r){r&&y(e)}}}function pf(n){let e,t,r=n[0]&&ro(n);return{c(){e=A("div"),r&&r.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=j(e);r&&r.l(s),s.forEach(y),this.h()},h(){p(e,"class","w-100")},m(a,s){re(a,e,s),r&&r.m(e,null),t=!0},p(a,s){a[0]?r?(r.p(a,s),s[0]&1&&Ne(r,1)):(r=ro(a),r.c(),Ne(r,1),r.m(e,null)):r&&(fn(),xe(r,1,1,()=>{r=null}),dn())},i(a){t||(Ne(r),t=!0)},o(a){xe(r),t=!1},d(a){a&&y(e),r&&r.d()}}}function mf(n){return/,\d{2}$/.test(n)}function oo(n,e){if(n.src.startsWith("data:image/jpeg;base64"))return n.src;const t=document.createElement("canvas"),r=t.getContext("2d");return t.width=n.naturalWidth,t.height=n.naturalHeight,r.drawImage(n,0,0,n.naturalWidth,n.naturalHeight),t.toDataURL("image/jpeg",e)}function gf(n,e,t){let r,a;Vn(n,si,I=>t(19,a=I));const{createWorker:s}=$l;let{tripId:o}=e,{receiptId:c}=e,d,m,g=[],b=[],D=new Date,P,S,C,L,x,V,Y,H=!1,fe=0,ie;o>-1&&Vt.trips.get(o).then(I=>{t(0,d=I),c<0&&t(5,P=d.defaultCurrency)}),c>-1&&Vt.receipts.get(c).then(I=>{t(1,m=I),t(4,D=new Date(m.receiptDateString)),t(5,P=m.currency),t(6,S=m.description),t(7,C=m.total),t(8,L=m.receiptType),t(9,x=m.imageData),t(10,H=!0)});async function Z(I){I.preventDefault();const O=document.getElementById("imgChosen");Y=O.naturalWidth,V=O.naturalHeight,t(9,x=oo(O,.7)),await Vt.receipts.add({description:S,currency:P,receiptDate:D,receiptDateString:D.toDateString(),receiptType:L,total:C,tripId:o,imageData:x,imageHeight:V,imageWidth:Y}),window.location.href="#/trip/"+o}async function pe(I){I.preventDefault();const O=document.getElementById("imgChosen");Y=O.naturalWidth,V=O.naturalHeight,t(9,x=oo(O,.7)),await Vt.receipts.update(m.id,{description:S,currency:P,receiptDate:D,receiptDateString:D.toDateString(),receiptType:L,total:C,tripId:m.tripId,imageData:x,imageHeight:V,imageWidth:Y}),window.location.href="#/trip/"+m.tripId}function ne(I){I.status=="recognizing text"&&t(11,fe=Math.floor(I.progress*100))}async function oe(I){ie=await s("eng",1,{logger:q=>ne(q)}),await ie.setParameters({tessedit_pageseg_mode:$l.PSM.SPARSE_TEXT});var O=await ie.recognize(I,{},{blocks:!0});return O.data.blocks?O.data.blocks:[]}async function ve(I){t(11,fe=0),!H&&ie&&await ie.terminate(),I&&t(10,H=!0)}async function be(I){t(2,g=[]),t(3,b=[]),t(10,H=!1),await ve(!1);var O=I.target.files[0],q=URL.createObjectURL(O);const me=document.getElementById("imgChosen");me.src=q,t(9,x=q);var de=await oe(q);for(let Q of de){if(Q.confidence<40)continue;let J=Q.text.trim();g.push(J);let W=er(J,{decimal:mf(J)?",":"."});W.value>0&&b.push(W.format({symbol:"",separator:"",decimal:"."}))}t(2,g),t(3,b=b.reverse()),t(10,H=!0)}as(()=>{ve(!1)});function ue(){S=this.value,t(6,S)}const le=I=>t(4,D=I.target.valueAsDate);function ge(){C=So(this.value),t(7,C)}function ye(){L=ts(this),t(8,L)}function ce(I){P=I,t(5,P)}const ae=()=>ve(!0);return n.$$set=I=>{"tripId"in I&&t(17,o=I.tripId),"receiptId"in I&&t(18,c=I.receiptId)},n.$$.update=()=>{n.$$.dirty[0]&524288&&t(12,r=Ia(a))},[d,m,g,b,D,P,S,C,L,x,H,fe,r,Z,pe,ve,be,o,c,a,ue,le,ge,ye,ce,ae]}class Ko extends Un{constructor(e){super(),Gn(this,e,gf,pf,Mn,{tripId:17,receiptId:18},null,[-1,-1])}}function _f(n){let e,t,r="Preferences",a,s,o,c="Default Currency",d,m,g,b,D,P="The currency that each trip will default to",S,C,L,x="Favourite Currencies",V,Y,H,fe,ie,Z="These currencies will always appear at the top of the currency list",pe,ne,oe="Colour Theme",ve,be,ue,le,ge,ye=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"></path></svg>
                    Auto`,ce,ae,I,O,q=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun" viewBox="0 0 16 16"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"></path></svg>
                    Light`,me,de,Q,J,W=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"></path></svg>
                   Dark`,se,Oe,Se,he="Export Data",tt,qe,Je="Allows you to backup your data",ct,Ke,vt=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"></path><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"></path></svg>
                    Export Data`,Kt,mt,nn="Import Data",Et,Tt,Ot="Allows you to restore your data from a backup",bt,$e,Ge="<p><strong>Warning!</strong> Importing will overwrite your current data</p>",Le,dt,jt,Ut,Pt,lt,st,Qt,$t,Mt,Re,Gt,At,qt="Done",we,Wt,gt,St;function Ht(Ze){n[13](Ze)}let _t={options:n[7],inputId:"defCurrency"};n[2]!==void 0&&(_t.value=n[2]),m=new ui({props:_t}),An.push(()=>Ur(m,"value",Ht)),m.$on("change",n[12]);function Jt(Ze){n[14](Ze)}let ut={options:n[7],name:void 0,inputId:"favCurrency",multiple:!0,placeholder:"Choose currencies"};return n[4]!==void 0&&(ut.value=n[4]),Y=new ui({props:ut}),An.push(()=>Ur(Y,"value",Jt)),Wt=ns(n[16][0]),{c(){e=A("div"),t=A("h1"),t.textContent=r,a=ee(),s=A("div"),o=A("label"),o.textContent=c,d=ee(),yn(m.$$.fragment),b=ee(),D=A("div"),D.textContent=P,S=ee(),C=A("div"),L=A("label"),L.textContent=x,V=ee(),yn(Y.$$.fragment),fe=ee(),ie=A("div"),ie.textContent=Z,pe=ee(),ne=A("span"),ne.textContent=oe,ve=ee(),be=A("div"),ue=A("input"),le=ee(),ge=A("label"),ge.innerHTML=ye,ce=ee(),ae=A("input"),I=ee(),O=A("label"),O.innerHTML=q,me=ee(),de=A("input"),Q=ee(),J=A("label"),J.innerHTML=W,se=ee(),Oe=A("div"),Se=A("h4"),Se.textContent=he,tt=ee(),qe=A("div"),qe.textContent=Je,ct=ee(),Ke=A("button"),Ke.innerHTML=vt,Kt=ee(),mt=A("h4"),mt.textContent=nn,Et=ee(),Tt=A("span"),Tt.textContent=Ot,bt=ee(),$e=A("div"),$e.innerHTML=Ge,Le=ee(),dt=A("div"),jt=A("input"),Ut=ee(),Pt=A("button"),lt=zt("svg"),st=zt("path"),Qt=zt("path"),$t=ze(`
                    Import Data`),Re=ee(),Gt=A("div"),At=A("button"),At.textContent=qt,this.h()},l(Ze){e=T(Ze,"DIV",{class:!0});var et=j(e);t=T(et,"H1",{"data-svelte-h":!0}),Ve(t)!=="svelte-nxbse8"&&(t.textContent=r),a=$(et),s=T(et,"DIV",{class:!0});var Ce=j(s);o=T(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(o)!=="svelte-it9jnu"&&(o.textContent=c),d=$(Ce),bn(m.$$.fragment,Ce),b=$(Ce),D=T(Ce,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Ve(D)!=="svelte-2gnq35"&&(D.textContent=P),Ce.forEach(y),S=$(et),C=T(et,"DIV",{class:!0});var Ye=j(C);L=T(Ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ve(L)!=="svelte-18qx5ce"&&(L.textContent=x),V=$(Ye),bn(Y.$$.fragment,Ye),fe=$(Ye),ie=T(Ye,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Ve(ie)!=="svelte-13r3flk"&&(ie.textContent=Z),Ye.forEach(y),pe=$(et),ne=T(et,"SPAN",{class:!0,"data-svelte-h":!0}),Ve(ne)!=="svelte-u79m7h"&&(ne.textContent=oe),ve=$(et),be=T(et,"DIV",{class:!0,role:!0,"aria-label":!0});var Ue=j(be);ue=T(Ue,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),le=$(Ue),ge=T(Ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ve(ge)!=="svelte-annllc"&&(ge.innerHTML=ye),ce=$(Ue),ae=T(Ue,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),I=$(Ue),O=T(Ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ve(O)!=="svelte-llbehq"&&(O.innerHTML=q),me=$(Ue),de=T(Ue,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),Q=$(Ue),J=T(Ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ve(J)!=="svelte-u2uuxq"&&(J.innerHTML=W),Ue.forEach(y),se=$(et),Oe=T(et,"DIV",{class:!0});var Be=j(Oe);Se=T(Be,"H4",{class:!0,"data-svelte-h":!0}),Ve(Se)!=="svelte-54jtfj"&&(Se.textContent=he),tt=$(Be),qe=T(Be,"DIV",{class:!0,"data-svelte-h":!0}),Ve(qe)!=="svelte-fiho8j"&&(qe.textContent=Je),ct=$(Be),Ke=T(Be,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(Ke)!=="svelte-14j3op3"&&(Ke.innerHTML=vt),Kt=$(Be),mt=T(Be,"H4",{class:!0,"data-svelte-h":!0}),Ve(mt)!=="svelte-16c5uey"&&(mt.textContent=nn),Et=$(Be),Tt=T(Be,"SPAN",{class:!0,"data-svelte-h":!0}),Ve(Tt)!=="svelte-v7gjsw"&&(Tt.textContent=Ot),bt=$(Be),$e=T(Be,"DIV",{class:!0,"data-svelte-h":!0}),Ve($e)!=="svelte-wmieih"&&($e.innerHTML=Ge),Le=$(Be),dt=T(Be,"DIV",{class:!0});var We=j(dt);jt=T(We,"INPUT",{id:!0,type:!0,accept:!0}),We.forEach(y),Ut=$(Be),Pt=T(Be,"BUTTON",{class:!0,type:!0});var at=j(Pt);lt=Ft(at,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var sn=j(lt);st=Ft(sn,"path",{d:!0}),j(st).forEach(y),Qt=Ft(sn,"path",{d:!0}),j(Qt).forEach(y),sn.forEach(y),$t=Fe(at,`
                    Import Data`),at.forEach(y),Be.forEach(y),Re=$(et),Gt=T(et,"DIV",{class:!0});var hn=j(Gt);At=T(hn,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(At)!=="svelte-1hckcap"&&(At.textContent=qt),hn.forEach(y),et.forEach(y),this.h()},h(){p(o,"for","defCurrency"),p(o,"class","form-label"),p(D,"id","defCurrencyHelp"),p(D,"class","form-text"),p(s,"class","mb-3"),p(L,"for","favCurrency"),p(L,"class","form-label"),p(ie,"id","favCurrencyHelp"),p(ie,"class","form-text"),p(C,"class","mb-3"),p(ne,"class","form-label mt-2"),p(ue,"type","radio"),p(ue,"class","btn-check btn-outline-secondary"),p(ue,"name","options-color"),p(ue,"id","optionAuto"),ue.__value="auto",Zt(ue,ue.__value),p(ue,"autocomplete","off"),p(ge,"class","btn btn-outline-secondary"),p(ge,"for","optionAuto"),p(ae,"type","radio"),p(ae,"class","btn-check btn-outline-secondary"),p(ae,"name","options-color"),p(ae,"id","optionLight"),ae.__value="light",Zt(ae,ae.__value),p(ae,"autocomplete","off"),p(O,"class","btn btn-outline-secondary"),p(O,"for","optionLight"),p(de,"type","radio"),p(de,"class","btn-check btn-outline-secondary"),p(de,"name","options-color"),p(de,"id","optionDark"),de.__value="dark",Zt(de,de.__value),p(de,"autocomplete","off"),p(J,"class","btn btn-outline-secondary"),p(J,"for","optionDark"),p(be,"class","btn-group mb-3"),p(be,"role","group"),p(be,"aria-label","Colour Theme Picker"),p(Se,"class","mt-4"),p(qe,"class","form-label"),p(Ke,"class","btn btn-outline-primary col-md-2"),p(Ke,"type","button"),p(mt,"class","mt-4"),p(Tt,"class","form-label"),p($e,"class","bd-callout bd-callout-warning"),p(jt,"id","importInput"),p(jt,"type","file"),p(jt,"accept","application/json"),p(dt,"class","mb-3"),p(st,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"),p(Qt,"d","M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"),p(lt,"xmlns","http://www.w3.org/2000/svg"),p(lt,"width","16"),p(lt,"height","16"),p(lt,"fill","currentColor"),p(lt,"class","bi bi-upload"),p(lt,"viewBox","0 0 16 16"),p(Pt,"class","btn btn-outline-primary col-md-2"),p(Pt,"type","button"),Pt.disabled=Mt=!n[1],p(Oe,"class","d-block"),p(At,"class","mt-4 btn btn-primary"),p(At,"type","button"),p(Gt,"class","d-grid mt-4 col-md-4 mx-auto"),p(e,"class","row"),Wt.p(ue,ae,de)},m(Ze,et){re(Ze,e,et),v(e,t),v(e,a),v(e,s),v(s,o),v(s,d),vn(m,s,null),v(s,b),v(s,D),v(e,S),v(e,C),v(C,L),v(C,V),vn(Y,C,null),v(C,fe),v(C,ie),v(e,pe),v(e,ne),v(e,ve),v(e,be),v(be,ue),ue.checked=ue.__value===n[5],v(be,le),v(be,ge),v(be,ce),v(be,ae),ae.checked=ae.__value===n[5],v(be,I),v(be,O),v(be,me),v(be,de),de.checked=de.__value===n[5],v(be,Q),v(be,J),v(e,se),v(e,Oe),v(Oe,Se),v(Oe,tt),v(Oe,qe),v(Oe,ct),v(Oe,Ke),v(Oe,Kt),v(Oe,mt),v(Oe,Et),v(Oe,Tt),v(Oe,bt),v(Oe,$e),v(Oe,Le),v(Oe,dt),v(dt,jt),v(Oe,Ut),v(Oe,Pt),v(Pt,lt),v(lt,st),v(lt,Qt),v(Pt,$t),v(e,Re),v(e,Gt),v(Gt,At),we=!0,gt||(St=[nt(ue,"change",n[15]),nt(ae,"change",n[17]),nt(de,"change",n[18]),nt(Ke,"click",n[9]),nt(jt,"change",n[11]),nt(Pt,"click",n[10]),nt(At,"click",n[8])],gt=!0)},p(Ze,et){const Ce={};!g&&et&4&&(g=!0,Ce.value=Ze[2],Vr(()=>g=!1)),m.$set(Ce);const Ye={};!H&&et&16&&(H=!0,Ye.value=Ze[4],Vr(()=>H=!1)),Y.$set(Ye),et&32&&(ue.checked=ue.__value===Ze[5]),et&32&&(ae.checked=ae.__value===Ze[5]),et&32&&(de.checked=de.__value===Ze[5]),(!we||et&2&&Mt!==(Mt=!Ze[1]))&&(Pt.disabled=Mt)},i(Ze){we||(Ne(m.$$.fragment,Ze),Ne(Y.$$.fragment,Ze),we=!0)},o(Ze){xe(m.$$.fragment,Ze),xe(Y.$$.fragment,Ze),we=!1},d(Ze){Ze&&y(e),_n(m),_n(Y),Wt.r(),gt=!1,or(St)}}}function vf(n){let e,t,r="Welcome!",a,s,o,c='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"></path><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"></path></svg>',d,m,g="Create a trip using the button at the top",b,D,P="Or add receipts by selecting a trip",S,C,L,x,V=n[3]&&so(n);return{c(){e=A("h1"),t=A("span"),t.textContent=r,a=ee(),s=A("span"),o=A("button"),o.innerHTML=c,d=ee(),m=A("p"),m.textContent=g,b=ee(),D=A("p"),D.textContent=P,S=ee(),V&&V.c(),C=Rt(),this.h()},l(Y){e=T(Y,"H1",{class:!0});var H=j(e);t=T(H,"SPAN",{"data-svelte-h":!0}),Ve(t)!=="svelte-d14puh"&&(t.textContent=r),a=$(H),s=T(H,"SPAN",{});var fe=j(s);o=T(fe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Ve(o)!=="svelte-1g2ob46"&&(o.innerHTML=c),fe.forEach(y),H.forEach(y),d=$(Y),m=T(Y,"P",{"data-svelte-h":!0}),Ve(m)!=="svelte-xbo4ew"&&(m.textContent=g),b=$(Y),D=T(Y,"P",{"data-svelte-h":!0}),Ve(D)!=="svelte-1g1vmu2"&&(D.textContent=P),S=$(Y),V&&V.l(Y),C=Rt(),this.h()},h(){p(o,"class","btn btn-outline-secondary no-outline"),p(o,"title","Preferences"),p(e,"class","d-flex justify-content-between")},m(Y,H){re(Y,e,H),v(e,t),v(e,a),v(e,s),v(s,o),re(Y,d,H),re(Y,m,H),re(Y,b,H),re(Y,D,H),re(Y,S,H),V&&V.m(Y,H),re(Y,C,H),L||(x=nt(o,"click",n[8]),L=!0)},p(Y,H){Y[3]?V?V.p(Y,H):(V=so(Y),V.c(),V.m(C.parentNode,C)):V&&(V.d(1),V=null)},i:It,o:It,d(Y){Y&&(y(e),y(d),y(m),y(b),y(D),y(S),y(C)),V&&V.d(Y),L=!1,x()}}}function so(n){let e,t,r="Your most recent trip:",a,s,o,c,d,m=n[3].name+"",g,b,D,P=n[3].startDateString+"",S,C,L=n[3].endDateString+"",x,V;return{c(){e=A("div"),t=A("h4"),t.textContent=r,a=ee(),s=A("div"),o=A("a"),c=A("div"),d=A("strong"),g=ze(m),b=ee(),D=A("div"),S=ze(P),C=ze(" - "),x=ze(L),this.h()},l(Y){e=T(Y,"DIV",{class:!0});var H=j(e);t=T(H,"H4",{"data-svelte-h":!0}),Ve(t)!=="svelte-1dpo13w"&&(t.textContent=r),a=$(H),s=T(H,"DIV",{class:!0});var fe=j(s);o=T(fe,"A",{href:!0,class:!0});var ie=j(o);c=T(ie,"DIV",{class:!0});var Z=j(c);d=T(Z,"STRONG",{class:!0});var pe=j(d);g=Fe(pe,m),pe.forEach(y),b=$(Z),D=T(Z,"DIV",{class:!0});var ne=j(D);S=Fe(ne,P),C=Fe(ne," - "),x=Fe(ne,L),ne.forEach(y),Z.forEach(y),ie.forEach(y),fe.forEach(y),H.forEach(y),this.h()},h(){p(d,"class","mb-1"),p(D,"class","col-10 mb-1 text-center"),p(c,"class","d-flex w-100 align-items-center justify-content-between flex-column"),p(o,"href",V="#/trip/"+n[3].id),p(o,"class","py-3 lh-sm m-2 list-group-item list-group-item-action"),p(s,"class","col-lg-6 col-md-12 list-group"),p(e,"class","row mb-4")},m(Y,H){re(Y,e,H),v(e,t),v(e,a),v(e,s),v(s,o),v(o,c),v(c,d),v(d,g),v(c,b),v(c,D),v(D,S),v(D,C),v(D,x)},p(Y,H){H&8&&m!==(m=Y[3].name+"")&&it(g,m),H&8&&P!==(P=Y[3].startDateString+"")&&it(S,P),H&8&&L!==(L=Y[3].endDateString+"")&&it(x,L),H&8&&V!==(V="#/trip/"+Y[3].id)&&p(o,"href",V)},d(Y){Y&&y(e)}}}function bf(n){let e,t,r,a,s,o='<div id="importSuccess" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">Import success!</div> <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button></div></div> <div id="importFailed" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">Import failed!</div> <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button></div></div>',c;const d=[vf,_f],m=[];function g(b,D){return b[0]?b[0]?1:-1:0}return~(t=g(n))&&(r=m[t]=d[t](n)),{c(){e=A("div"),r&&r.c(),a=ee(),s=A("div"),s.innerHTML=o,this.h()},l(b){e=T(b,"DIV",{class:!0});var D=j(e);r&&r.l(D),a=$(D),s=T(D,"DIV",{class:!0,"data-svelte-h":!0}),Ve(s)!=="svelte-1dgnvby"&&(s.innerHTML=o),D.forEach(y),this.h()},h(){p(s,"class","toast-container position-fixed top-0 end-0 p-3"),p(e,"class","col-12")},m(b,D){re(b,e,D),~t&&m[t].m(e,null),v(e,a),v(e,s),c=!0},p(b,[D]){let P=t;t=g(b),t===P?~t&&m[t].p(b,D):(r&&(fn(),xe(m[P],1,1,()=>{m[P]=null}),dn()),~t?(r=m[t],r?r.p(b,D):(r=m[t]=d[t](b),r.c()),Ne(r,1),r.m(e,a)):r=null)},i(b){c||(Ne(r),c=!0)},o(b){xe(r),c=!1},d(b){b&&y(e),~t&&m[t].d()}}}function yf(n,e){const t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=e,r.click(),URL.revokeObjectURL(t)}function wf(n){return n.done?(bootstrap.Toast.getOrCreateInstance(document.getElementById("importSuccess")).show(),!0):!1}function kf(n,e,t){let r,a,s,o;Vn(n,Ri,pe=>t(2,r=pe)),Vn(n,si,pe=>t(4,s=pe)),Vn(n,ei,pe=>t(5,o=pe));let c=oi(()=>Vt.trips.orderBy("endDate").reverse().first());Vn(n,c,pe=>t(3,a=pe));let d=[],m=!1,g=!1,b=null;for(let pe of Object.keys(an))d.push({value:pe,text:`${pe} (${an[pe].symbol})`});function D(){t(0,m=!m)}Ea(async()=>{await Sa(()=>import("./BrTDYl9X.js"),[],import.meta.url)});async function P(){try{const pe=await Vt.export({prettyJson:!0});yf(pe,"trippin-data-export.json")}catch(pe){console.error(+pe)}}function S(){if(b)try{Vt.import(b,{overwriteValues:!0,progressCallback:wf})}catch(pe){console.error(pe),bootstrap.Toast.getOrCreateInstance(document.getElementById("importFailed")).show()}}function C(pe){var ne=pe.target.files[0];ne&&(t(1,g=!0),b=ne)}let L=r;function x(pe){pe.detail?L=r:qr(Ri,r=L,r)}const V=[[]];function Y(pe){r=pe,Ri.set(r)}function H(pe){s=pe,si.set(s)}function fe(){o=this.__value,ei.set(o)}function ie(){o=this.__value,ei.set(o)}function Z(){o=this.__value,ei.set(o)}return[m,g,r,a,s,o,c,d,D,P,S,C,x,Y,H,fe,V,ie,Z]}class Ef extends Un{constructor(e){super(),Gn(this,e,kf,bf,Mn,{})}}function uo(n,e,t){const r=n.slice();return r[8]=e[t],r}function co(n,e,t){const r=n.slice();return r[11]=e[t],r}function fo(n,e,t){const r=n.slice();return r[8]=e[t],r}function ga(n){const e=n.slice(),t=Array.from(new Set(e[3].map(r=>r.currency)));return e[7]=t,e}function ho(n){let e,t,r="After clicking 'Export/Print', you should be able to print/save to PDF",a,s,o,c,d,m,g,b="Export/Print",D,P,S=n[0].name+"",C,L,x,V=n[0].startDateString+"",Y,H,fe=n[0].endDateString+"",ie,Z,pe,ne="Receipt Summary",oe,ve,be,ue,le=n[3]&&po(ga(n));return{c(){e=A("div"),t=A("p"),t.textContent=r,a=ee(),s=A("p"),o=A("label"),c=A("input"),d=ze(`
            Include notes`),m=ee(),g=A("button"),g.textContent=b,D=ee(),P=A("h1"),C=ze(S),L=ee(),x=A("h4"),Y=ze(V),H=ze(" - "),ie=ze(fe),Z=ee(),pe=A("h5"),pe.textContent=ne,oe=ee(),le&&le.c(),ve=Rt(),this.h()},l(ge){e=T(ge,"DIV",{class:!0,id:!0});var ye=j(e);t=T(ye,"P",{"data-svelte-h":!0}),Ve(t)!=="svelte-drk65c"&&(t.textContent=r),a=$(ye),s=T(ye,"P",{});var ce=j(s);o=T(ce,"LABEL",{});var ae=j(o);c=T(ae,"INPUT",{type:!0}),d=Fe(ae,`
            Include notes`),ae.forEach(y),ce.forEach(y),m=$(ye),g=T(ye,"BUTTON",{class:!0,onclick:!0,"data-svelte-h":!0}),Ve(g)!=="svelte-1fkvb7c"&&(g.textContent=b),ye.forEach(y),D=$(ge),P=T(ge,"H1",{});var I=j(P);C=Fe(I,S),I.forEach(y),L=$(ge),x=T(ge,"H4",{});var O=j(x);Y=Fe(O,V),H=Fe(O," - "),ie=Fe(O,fe),O.forEach(y),Z=$(ge),pe=T(ge,"H5",{"data-svelte-h":!0}),Ve(pe)!=="svelte-1hbjnf6"&&(pe.textContent=ne),oe=$(ge),le&&le.l(ge),ve=Rt(),this.h()},h(){p(c,"type","checkbox"),p(g,"class","btn btn-primary"),p(g,"onclick","window.print()"),p(e,"class","no-print mt-3 hide"),p(e,"id","printMessage")},m(ge,ye){re(ge,e,ye),v(e,t),v(e,a),v(e,s),v(s,o),v(o,c),c.checked=n[2],v(o,d),v(e,m),v(e,g),re(ge,D,ye),re(ge,P,ye),v(P,C),re(ge,L,ye),re(ge,x,ye),v(x,Y),v(x,H),v(x,ie),re(ge,Z,ye),re(ge,pe,ye),re(ge,oe,ye),le&&le.m(ge,ye),re(ge,ve,ye),be||(ue=nt(c,"change",n[5]),be=!0)},p(ge,ye){ye&4&&(c.checked=ge[2]),ye&1&&S!==(S=ge[0].name+"")&&it(C,S),ye&1&&V!==(V=ge[0].startDateString+"")&&it(Y,V),ye&1&&fe!==(fe=ge[0].endDateString+"")&&it(ie,fe),ge[3]?le?le.p(ga(ge),ye):(le=po(ga(ge)),le.c(),le.m(ve.parentNode,ve)):le&&(le.d(1),le=null)},d(ge){ge&&(y(e),y(D),y(P),y(L),y(x),y(Z),y(pe),y(oe),y(ve)),le&&le.d(ge),be=!1,ue()}}}function po(n){let e,t,r="<tr><th>Receipt Description</th> <th>Receipt Date</th> <th>Receipt Type</th> <th>Receipt Total</th></tr>",a,s,o=[],c=new Map,d,m,g,b,D,P,S,C,L="<strong>Total</strong>",x,V,Y,H,fe,ie,Z=[],pe=new Map,ne,oe,ve=`// Wait for images to render before printing
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
              incrementCounter();
            else
              img.addEventListener( 'load', incrementCounter, false );
        } );

        function printDiaglog() {
          window.print()
        }
        function incrementCounter() {
            counter++;
            if ( counter === len ) {
              document.getElementById("printMessage").classList.remove("hide");
            }
        }`,be=Nt(n[3]);const ue=I=>I[8].id;for(let I=0;I<be.length;I+=1){let O=fo(n,be,I),q=ue(O);c.set(q,o[I]=mo(q,O))}let le=Nt(n[7]),ge=[];for(let I=0;I<le.length;I+=1)ge[I]=go(co(n,le,I));let ye=n[2]&&_o(n),ce=Nt(n[3]);const ae=I=>I[8].id;for(let I=0;I<ce.length;I+=1){let O=uo(n,ce,I),q=ae(O);pe.set(q,Z[I]=vo(q,O))}return{c(){e=A("table"),t=A("thead"),t.innerHTML=r,a=ee(),s=A("tbody");for(let I=0;I<o.length;I+=1)o[I].c();d=ee(),m=A("tfoot"),g=A("tr"),b=A("td"),D=ee(),P=A("td"),S=ee(),C=A("td"),C.innerHTML=L,x=ee(),V=A("td");for(let I=0;I<ge.length;I+=1)ge[I].c();Y=ee(),H=A("td"),fe=ee(),ye&&ye.c(),ie=ee();for(let I=0;I<Z.length;I+=1)Z[I].c();ne=ee(),oe=A("script"),oe.textContent=ve,this.h()},l(I){e=T(I,"TABLE",{class:!0});var O=j(e);t=T(O,"THEAD",{"data-svelte-h":!0}),Ve(t)!=="svelte-1yqevk1"&&(t.innerHTML=r),a=$(O),s=T(O,"TBODY",{});var q=j(s);for(let J=0;J<o.length;J+=1)o[J].l(q);q.forEach(y),d=$(O),m=T(O,"TFOOT",{class:!0});var me=j(m);g=T(me,"TR",{});var de=j(g);b=T(de,"TD",{}),j(b).forEach(y),D=$(de),P=T(de,"TD",{}),j(P).forEach(y),S=$(de),C=T(de,"TD",{class:!0,"data-svelte-h":!0}),Ve(C)!=="svelte-14afisz"&&(C.innerHTML=L),x=$(de),V=T(de,"TD",{});var Q=j(V);for(let J=0;J<ge.length;J+=1)ge[J].l(Q);Q.forEach(y),Y=$(de),H=T(de,"TD",{}),j(H).forEach(y),de.forEach(y),me.forEach(y),O.forEach(y),fe=$(I),ye&&ye.l(I),ie=$(I);for(let J=0;J<Z.length;J+=1)Z[J].l(I);ne=$(I),oe=T(I,"SCRIPT",{"data-svelte-h":!0}),Ve(oe)!=="svelte-wsa5ae"&&(oe.textContent=ve),this.h()},h(){p(C,"class","text-end"),p(m,"class","table-group-divider"),p(e,"class","table table-striped table-hover")},m(I,O){re(I,e,O),v(e,t),v(e,a),v(e,s);for(let q=0;q<o.length;q+=1)o[q]&&o[q].m(s,null);v(e,d),v(e,m),v(m,g),v(g,b),v(g,D),v(g,P),v(g,S),v(g,C),v(g,x),v(g,V);for(let q=0;q<ge.length;q+=1)ge[q]&&ge[q].m(V,null);v(g,Y),v(g,H),re(I,fe,O),ye&&ye.m(I,O),re(I,ie,O);for(let q=0;q<Z.length;q+=1)Z[q]&&Z[q].m(I,O);re(I,ne,O),re(I,oe,O)},p(I,O){if(O&8&&(be=Nt(I[3]),o=Ar(o,O,ue,1,I,be,c,s,Gr,mo,null,fo)),O&8){le=Nt(I[7]);let q;for(q=0;q<le.length;q+=1){const me=co(I,le,q);ge[q]?ge[q].p(me,O):(ge[q]=go(me),ge[q].c(),ge[q].m(V,null))}for(;q<ge.length;q+=1)ge[q].d(1);ge.length=le.length}I[2]?ye?ye.p(I,O):(ye=_o(I),ye.c(),ye.m(ie.parentNode,ie)):ye&&(ye.d(1),ye=null),O&8&&(ce=Nt(I[3]),Z=Ar(Z,O,ae,1,I,ce,pe,ne.parentNode,Gr,vo,ne,uo))},d(I){I&&(y(e),y(fe),y(ie),y(ne),y(oe));for(let O=0;O<o.length;O+=1)o[O].d();Tr(ge,I),ye&&ye.d(I);for(let O=0;O<Z.length;O+=1)Z[O].d(I)}}}function mo(n,e){let t,r,a=e[8].description+"",s,o,c,d=e[8].receiptDateString+"",m,g,b,D=e[8].receiptType+"",P,S,C,L=an[e[8].currency].symbol+"",x,V,Y=e[8].total.toFixed(2)+"",H,fe;return{key:n,first:null,c(){t=A("tr"),r=A("td"),s=ze(a),o=ee(),c=A("td"),m=ze(d),g=ee(),b=A("td"),P=ze(D),S=ee(),C=A("td"),x=ze(L),V=ee(),H=ze(Y),fe=ee(),this.h()},l(ie){t=T(ie,"TR",{});var Z=j(t);r=T(Z,"TD",{});var pe=j(r);s=Fe(pe,a),pe.forEach(y),o=$(Z),c=T(Z,"TD",{});var ne=j(c);m=Fe(ne,d),ne.forEach(y),g=$(Z),b=T(Z,"TD",{});var oe=j(b);P=Fe(oe,D),oe.forEach(y),S=$(Z),C=T(Z,"TD",{});var ve=j(C);x=Fe(ve,L),V=$(ve),H=Fe(ve,Y),ve.forEach(y),fe=$(Z),Z.forEach(y),this.h()},h(){this.first=t},m(ie,Z){re(ie,t,Z),v(t,r),v(r,s),v(t,o),v(t,c),v(c,m),v(t,g),v(t,b),v(b,P),v(t,S),v(t,C),v(C,x),v(C,V),v(C,H),v(t,fe)},p(ie,Z){e=ie,Z&8&&a!==(a=e[8].description+"")&&it(s,a),Z&8&&d!==(d=e[8].receiptDateString+"")&&it(m,d),Z&8&&D!==(D=e[8].receiptType+"")&&it(P,D),Z&8&&L!==(L=an[e[8].currency].symbol+"")&&it(x,L),Z&8&&Y!==(Y=e[8].total.toFixed(2)+"")&&it(H,Y)},d(ie){ie&&y(t)}}}function go(n){let e=an[n[11]].symbol+"",t,r,a=n[3].filter(d).reduce(bo,0).toFixed(2)+"",s,o,c;function d(...m){return n[6](n[11],...m)}return{c(){t=ze(e),r=ee(),s=ze(a),o=ee(),c=A("br")},l(m){t=Fe(m,e),r=$(m),s=Fe(m,a),o=$(m),c=T(m,"BR",{})},m(m,g){re(m,t,g),re(m,r,g),re(m,s,g),re(m,o,g),re(m,c,g)},p(m,g){n=m,g&8&&e!==(e=an[n[11]].symbol+"")&&it(t,e),g&8&&a!==(a=n[3].filter(d).reduce(bo,0).toFixed(2)+"")&&it(s,a)},d(m){m&&(y(t),y(r),y(s),y(o),y(c))}}}function _o(n){let e,t="Notes:",r,a,s=n[0].notes+"",o;return{c(){e=A("h5"),e.textContent=t,r=ee(),a=A("p"),o=ze(s),this.h()},l(c){e=T(c,"H5",{"data-svelte-h":!0}),Ve(e)!=="svelte-srqctx"&&(e.textContent=t),r=$(c),a=T(c,"P",{style:!0});var d=j(a);o=Fe(d,s),d.forEach(y),this.h()},h(){li(a,"white-space","pre-wrap")},m(c,d){re(c,e,d),re(c,r,d),re(c,a,d),v(a,o)},p(c,d){d&1&&s!==(s=c[0].notes+"")&&it(o,s)},d(c){c&&(y(e),y(r),y(a))}}}function vo(n,e){let t,r=e[8].description+"",a,s,o,c=an[e[8].currency].symbol+"",d,m,g=e[8].total.toFixed(2)+"",b,D,P,S,C;return{key:n,first:null,c(){t=A("div"),a=ze(r),s=ee(),o=A("strong"),d=ze(c),m=ee(),b=ze(g),D=ee(),P=A("img"),this.h()},l(L){t=T(L,"DIV",{class:!0});var x=j(t);a=Fe(x,r),s=$(x),o=T(x,"STRONG",{});var V=j(o);d=Fe(V,c),m=$(V),b=Fe(V,g),V.forEach(y),x.forEach(y),D=$(L),P=T(L,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){p(t,"class","page-print mb-2"),p(P,"class","img-print"),p(P,"alt",S="receipt with description '"+e[8].description+"'"),Ni(P.src,C=e[8].imageData)||p(P,"src",C),this.first=t},m(L,x){re(L,t,x),v(t,a),v(t,s),v(t,o),v(o,d),v(o,m),v(o,b),re(L,D,x),re(L,P,x)},p(L,x){e=L,x&8&&r!==(r=e[8].description+"")&&it(a,r),x&8&&c!==(c=an[e[8].currency].symbol+"")&&it(d,c),x&8&&g!==(g=e[8].total.toFixed(2)+"")&&it(b,g),x&8&&S!==(S="receipt with description '"+e[8].description+"'")&&p(P,"alt",S),x&8&&!Ni(P.src,C=e[8].imageData)&&p(P,"src",C)},d(L){L&&(y(t),y(D),y(P))}}}function Sf(n){let e,t=n[0]&&ho(n);return{c(){e=A("div"),t&&t.c()},l(r){e=T(r,"DIV",{});var a=j(e);t&&t.l(a),a.forEach(y)},m(r,a){re(r,e,a),t&&t.m(e,null)},p(r,[a]){r[0]?t?t.p(r,a):(t=ho(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:It,o:It,d(r){r&&y(e),t&&t.d()}}}const bo=(n,e)=>n+e.total;function Cf(n,e,t){let r,a=It,s=()=>(a(),a=ri(d,D=>t(3,r=D)),d);n.$$.on_destroy.push(()=>a());let{tripId:o=-1}=e,c,d,m=!1;o>-1&&Vt.trips.get(o).then(D=>{t(0,c=D),s(t(1,d=oi(()=>Vt.receipts.where({tripId:o}).reverse().sortBy("receiptDate")))),document.title=c==null?void 0:c.name});function g(){m=this.checked,t(2,m)}const b=(D,P)=>P.currency==D;return n.$$set=D=>{"tripId"in D&&t(4,o=D.tripId)},[c,d,m,r,o,g,b]}class Df extends Un{constructor(e){super(),Gn(this,e,Cf,Sf,Mn,{tripId:4})}}function If(n){let e,t,r,a=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="38" viewBox="0 0 375.91 152.28" style="enable-background:new 0 0 375.91 152.28;" xml:space="preserve"><style type="text/css">.st0{fill:currentColor;}
		   </style><g id="Layer_1"><g><path class="st0" d="M0,19.62h59.19V36.2H0V19.62z M20.94,27.62h17.24v88.06H20.94V27.62z" fill="currentColor"></path><path class="st0" d="M60.18,47.1h17.84v68.58H60.18V47.1z M93.28,63.69c-1.01-0.22-2.14-0.33-3.37-0.33
					   c-3.74,0-6.66,1.17-8.75,3.5c-2.09,2.33-3.14,5.57-3.14,9.71l-1.39-17.51c1.94-4.1,4.44-7.3,7.5-9.61
					   c3.06-2.31,6.42-3.47,10.08-3.47c1.41,0,2.7,0.23,3.87,0.69c1.17,0.46,2.17,1.13,3.01,2.01l-5.22,16.05
					   C95.15,64.26,94.29,63.91,93.28,63.69z"></path><path class="st0" d="M109,19.62h17.24v17.11H109V19.62z M109,47.1h17.24v68.58H109V47.1z"></path><path class="st0" d="M140.58,47.1h17.18v96.46h-17.18V47.1z M162.68,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C168.4,116.67,165.3,115.65,162.68,113.6z"></path><path class="st0" d="M204.6,47.1h17.18v96.46H204.6V47.1z M226.7,113.6c-2.62-2.05-4.57-4.94-5.85-8.69l0.92-12.62
					   c0,1.85,0.3,3.41,0.89,4.69c0.59,1.28,1.47,2.25,2.64,2.91c1.17,0.66,2.59,0.99,4.26,0.99c2.51,0,4.45-0.86,5.81-2.58
					   s2.05-4.14,2.05-7.27V71.61c0-3.08-0.68-5.49-2.05-7.23c-1.37-1.74-3.3-2.61-5.81-2.61c-1.67,0-3.09,0.33-4.26,0.99
					   c-1.17,0.66-2.05,1.64-2.64,2.94c-0.59,1.3-0.89,2.85-0.89,4.66l-1.39-11.83c1.72-3.96,3.94-7.05,6.67-9.25
					   c2.73-2.2,5.75-3.3,9.05-3.3c3.88,0,7.19,0.95,9.94,2.84c2.75,1.89,4.84,4.67,6.28,8.32c1.43,3.66,2.15,8.08,2.15,13.28v21.8
					   c0,5.2-0.73,9.61-2.18,13.25c-1.45,3.63-3.57,6.41-6.34,8.32c-2.77,1.92-6.1,2.87-9.98,2.87
					   C232.42,116.67,229.32,115.65,226.7,113.6z"></path><path class="st0" d="M267.43,19.62h17.24v17.11h-17.24V19.62z M267.43,47.1h17.24v68.58h-17.24V47.1z"></path><path class="st0" d="M299.01,47.1h17.24v68.58h-17.24V47.1z M332.31,70.62c0-2.73-0.72-4.83-2.15-6.31
					   c-1.43-1.48-3.45-2.21-6.04-2.21c-2.51,0-4.45,0.74-5.81,2.21c-1.37,1.48-2.05,3.6-2.05,6.38l-1.39-11.63
					   c1.72-4.27,3.96-7.52,6.74-9.74c2.77-2.22,6.05-3.34,9.84-3.34c5.72,0,10.16,1.98,13.31,5.95c3.15,3.96,4.72,9.54,4.72,16.71
					   v47.04h-17.18V70.62z"></path><path class="st0" d="M356.55,19.62h17.24v23.65l-17.24,16.91V19.62z"></path></g></g></svg>`,s,o,c,d='<li class="nav-item"><a class="btn btn-outline-light" href="#/add">+ Add Trip</a></li>',m,g,b=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg>
				Trips`,D,P,S,C,L,x,V,Y,H,fe,ie,Z;L=new ec({props:{tripId:n[3]}});const pe=[Mf,Rf,Lf,Pf,Of,Af],ne=[];function oe(ve,be){return ve[4]==="add"?0:ve[4]==="trip"&&ve[3]>-1?1:ve[4]==="update"&&ve[3]>-1?2:ve[4]==="addreceipt"&&ve[3]>-1?3:ve[4]==="editreceipt"&&ve[3]>-1?4:5}return Y=oe(n),H=ne[Y]=pe[Y](n),{c(){e=A("nav"),t=A("div"),r=A("a"),r.innerHTML=a,s=ee(),o=A("div"),c=A("ul"),c.innerHTML=d,m=ee(),g=A("button"),g.innerHTML=b,D=ee(),P=A("main"),S=A("div"),C=A("div"),yn(L.$$.fragment),x=ee(),V=A("div"),H.c(),this.h()},l(ve){e=T(ve,"NAV",{class:!0,"aria-label":!0});var be=j(e);t=T(be,"DIV",{class:!0});var ue=j(t);r=T(ue,"A",{"aria-current":!0,class:!0,href:!0,"data-svelte-h":!0}),Ve(r)!=="svelte-184qgqe"&&(r.innerHTML=a),s=$(ue),o=T(ue,"DIV",{class:!0});var le=j(o);c=T(le,"UL",{class:!0,"data-svelte-h":!0}),Ve(c)!=="svelte-d6xdjk"&&(c.innerHTML=d),m=$(le),g=T(le,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ve(g)!=="svelte-d1pynv"&&(g.innerHTML=b),le.forEach(y),ue.forEach(y),be.forEach(y),D=$(ve),P=T(ve,"MAIN",{class:!0});var ge=j(P);S=T(ge,"DIV",{class:!0});var ye=j(S);C=T(ye,"DIV",{class:!0,id:!0});var ce=j(C);bn(L.$$.fragment,ce),ce.forEach(y),ye.forEach(y),x=$(ge),V=T(ge,"DIV",{class:!0,id:!0});var ae=j(V);H.l(ae),ae.forEach(y),ge.forEach(y),this.h()},h(){p(r,"aria-current","page"),p(r,"class","navbar-brand text-light"),p(r,"href","#"),p(c,"class","navbar-nav me-auto"),p(g,"class","listTitleSmall btn btn-outline-light me-2"),p(g,"type","button"),p(o,"class","collapse navbar-collapse"),p(t,"class","container-fluid"),p(e,"class","navbar navbar-expand navbar-dark bg-dark"),p(e,"aria-label","Second navbar example"),p(C,"class","list-group scrollarea d-none pt-4"),p(C,"id","tripToggle"),p(S,"class","tripList d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary"),p(V,"class","d-flex p-3 w-100"),p(V,"id","mainPane"),p(P,"class","d-flex flex-nowrap")},m(ve,be){re(ve,e,be),v(e,t),v(t,r),v(t,s),v(t,o),v(o,c),v(o,m),v(o,g),re(ve,D,be),re(ve,P,be),v(P,S),v(S,C),vn(L,C,null),v(P,x),v(P,V),ne[Y].m(V,null),fe=!0,ie||(Z=nt(g,"click",Lo),ie=!0)},p(ve,be){const ue={};be&8&&(ue.tripId=ve[3]),L.$set(ue);let le=Y;Y=oe(ve),Y===le?ne[Y].p(ve,be):(fn(),xe(ne[le],1,1,()=>{ne[le]=null}),dn(),H=ne[Y],H?H.p(ve,be):(H=ne[Y]=pe[Y](ve),H.c()),Ne(H,1),H.m(V,null))},i(ve){fe||(Ne(L.$$.fragment,ve),Ne(H),fe=!0)},o(ve){xe(L.$$.fragment,ve),xe(H),fe=!1},d(ve){ve&&(y(e),y(D),y(P)),_n(L),ne[Y].d(),ie=!1,Z()}}}function Tf(n){let e,t;return e=new Df({props:{tripId:n[3]}}),{c(){yn(e.$$.fragment)},l(r){bn(e.$$.fragment,r)},m(r,a){vn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Ne(e.$$.fragment,r),t=!0)},o(r){xe(e.$$.fragment,r),t=!1},d(r){_n(e,r)}}}function Af(n){let e,t;return e=new Ef({}),{c(){yn(e.$$.fragment)},l(r){bn(e.$$.fragment,r)},m(r,a){vn(e,r,a),t=!0},p:It,i(r){t||(Ne(e.$$.fragment,r),t=!0)},o(r){xe(e.$$.fragment,r),t=!1},d(r){_n(e,r)}}}function Of(n){let e,t;return e=new Ko({props:{tripId:n[3],receiptId:n[5]}}),{c(){yn(e.$$.fragment)},l(r){bn(e.$$.fragment,r)},m(r,a){vn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),a&32&&(s.receiptId=r[5]),e.$set(s)},i(r){t||(Ne(e.$$.fragment,r),t=!0)},o(r){xe(e.$$.fragment,r),t=!1},d(r){_n(e,r)}}}function Pf(n){let e,t;return e=new Ko({props:{tripId:n[3],receiptId:-1}}),{c(){yn(e.$$.fragment)},l(r){bn(e.$$.fragment,r)},m(r,a){vn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Ne(e.$$.fragment,r),t=!0)},o(r){xe(e.$$.fragment,r),t=!1},d(r){_n(e,r)}}}function Lf(n){let e,t;return e=new rc({props:{tripId:n[3]}}),{c(){yn(e.$$.fragment)},l(r){bn(e.$$.fragment,r)},m(r,a){vn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Ne(e.$$.fragment,r),t=!0)},o(r){xe(e.$$.fragment,r),t=!1},d(r){_n(e,r)}}}function Rf(n){let e=n[3],t,r,a=yo(n);return{c(){a.c(),t=Rt()},l(s){a.l(s),t=Rt()},m(s,o){a.m(s,o),re(s,t,o),r=!0},p(s,o){o&8&&Mn(e,e=s[3])?(fn(),xe(a,1,1,It),dn(),a=yo(s),a.c(),Ne(a,1),a.m(t.parentNode,t)):a.p(s,o)},i(s){r||(Ne(a),r=!0)},o(s){xe(a),r=!1},d(s){s&&y(t),a.d(s)}}}function Mf(n){let e,t;return e=new Iu({}),{c(){yn(e.$$.fragment)},l(r){bn(e.$$.fragment,r)},m(r,a){vn(e,r,a),t=!0},p:It,i(r){t||(Ne(e.$$.fragment,r),t=!0)},o(r){xe(e.$$.fragment,r),t=!1},d(r){_n(e,r)}}}function yo(n){let e,t;return e=new Zu({props:{tripId:n[3]}}),{c(){yn(e.$$.fragment)},l(r){bn(e.$$.fragment,r)},m(r,a){vn(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.tripId=r[3]),e.$set(s)},i(r){t||(Ne(e.$$.fragment,r),t=!0)},o(r){xe(e.$$.fragment,r),t=!1},d(r){_n(e,r)}}}function Nf(n){let e,t,r,a;const s=[Tf,If],o=[];function c(d,m){return d[4]==="print"&&d[3]>-1?0:1}return e=c(n),t=o[e]=s[e](n),{c(){t.c(),r=Rt()},l(d){t.l(d),r=Rt()},m(d,m){o[e].m(d,m),re(d,r,m),a=!0},p(d,[m]){let g=e;e=c(d),e===g?o[e].p(d,m):(fn(),xe(o[g],1,1,()=>{o[g]=null}),dn(),t=o[e],t?t.p(d,m):(t=o[e]=s[e](d),t.c()),Ne(t,1),t.m(r.parentNode,r))},i(d){a||(Ne(t),a=!0)},o(d){xe(t),a=!1},d(d){d&&y(r),o[e].d(d)}}}function Bf(n,e,t){let r,a,s,o,c,d,m=It,g=()=>(m(),m=ri(r,H=>t(3,d=H)),r),b,D=It,P=()=>(D(),D=ri(s,H=>t(4,b=H)),s),S,C=It,L=()=>(C(),C=ri(a,H=>t(5,S=H)),a),x;Vn(n,ei,H=>t(8,c=H)),Vn(n,ls,H=>t(6,x=H)),n.$$.on_destroy.push(()=>m()),n.$$.on_destroy.push(()=>D()),n.$$.on_destroy.push(()=>C());const V=new RegExp("#/(?<route>[a-z]+)(?<tripId>/[0-9]+|$)");function Y(){var H;(H=document.getElementById("tripToggle"))==null||H.classList.remove("show"),o?(qr(s,b=o.groups.route||"",b),b=="editreceipt"?qr(a,S=parseInt(o.groups.tripId.replace("/","")||"-1"),S):qr(r,d=parseInt(o.groups.tripId.replace("/","")||"-1"),d)):(qr(s,b="",b),qr(r,d=-1,d))}return rs(()=>{ys(c),Y()}),n.$$.update=()=>{n.$$.dirty&64&&(o=V.exec(x.url.hash))},g(t(2,r=ii(-1))),L(t(1,a=ii(-1))),P(t(0,s=ii(""))),[s,a,r,d,b,S,x]}class Ff extends Un{constructor(e){super(),Gn(this,e,Bf,Nf,Mn,{})}}function zf(n){let e,t,r;return t=new Ff({}),{c(){e=ee(),yn(t.$$.fragment),this.h()},l(a){is("svelte-1mxz4jk",document.head).forEach(y),e=$(a),bn(t.$$.fragment,a),this.h()},h(){document.title="Trippin'"},m(a,s){re(a,e,s),vn(t,a,s),r=!0},p:It,i(a){r||(Ne(t.$$.fragment,a),r=!0)},o(a){xe(t.$$.fragment,a),r=!1},d(a){a&&y(e),_n(t,a)}}}class ed extends Un{constructor(e){super(),Gn(this,e,null,zf,Mn,{})}}export{zi as D,ed as P};
